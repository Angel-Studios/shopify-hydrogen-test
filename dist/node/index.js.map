{"version":3,"file":"node.js","sources":["../../node_modules/webidl-conversions/lib/index.js","../../node_modules/whatwg-url/lib/utils.js","../../node_modules/punycode/punycode.es6.js","../../node_modules/tr46/index.js","../../node_modules/whatwg-url/lib/url-state-machine.js","../../node_modules/whatwg-url/lib/URL-impl.js","../../node_modules/whatwg-url/lib/URL.js","../../node_modules/whatwg-url/lib/public-api.js","../../node_modules/@shopify/hydrogen/node_modules/node-fetch/lib/index.mjs","../../node_modules/event-target-shim/dist/event-target-shim.mjs","../../node_modules/abort-controller/dist/abort-controller.mjs","../../node_modules/web-streams-polyfill/dist/ponyfill.mjs","../../node_modules/@shopify/hydrogen/dist/esnext/utilities/web-api-polyfill.js","../../node_modules/kolorist/dist/module/index.js","../../node_modules/@shopify/hydrogen/dist/esnext/utilities/timing.js","../../node_modules/@shopify/hydrogen/dist/esnext/utilities/log/utils.js","../../node_modules/@shopify/hydrogen/dist/esnext/utilities/log/log.js","../../node_modules/@shopify/hydrogen/dist/esnext/constants.js","../../node_modules/@shopify/hydrogen/dist/esnext/utilities/hash.js","../../node_modules/@shopify/hydrogen/dist/esnext/utilities/log/log-cache-header.js","../../node_modules/@shopify/hydrogen/dist/esnext/utilities/log/log-cache-api-status.js","../../node_modules/@shopify/hydrogen/dist/esnext/utilities/log/log-query-timeline.js","../../node_modules/@shopify/hydrogen/dist/esnext/utilities/error.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Html/Html.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Cache/strategies/index.js","../../node_modules/@shopify/hydrogen/vendor/react-server-dom-vite/esm/react-server-dom-vite-client-proxy.js","../../node_modules/history/index.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/ServerRequestProvider/ServerRequestProvider.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/ServerPropsProvider/ServerPropsProvider.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/useServerProps/use-server-props.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Router/BrowserRouter.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Router/BrowserRouter.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/useRouteParams/RouteParamsProvider.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/useRouteParams/RouteParamsProvider.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/useNavigate/useNavigate.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Redirect/Redirect.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Redirect/Redirect.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/HydrogenResponse/HydrogenResponse.server.js","../../node_modules/@shopify/hydrogen/dist/esnext/utilities/parse.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/HydrogenRequest/HydrogenRequest.server.js","../../node_modules/path-to-regexp/dist.es2015/index.js","../../node_modules/@shopify/hydrogen/dist/esnext/utilities/matchPath.js","../../node_modules/@shopify/hydrogen/dist/esnext/version.js","../../node_modules/@shopify/hydrogen/dist/esnext/utilities/fetch.js","../../node_modules/@shopify/hydrogen/dist/esnext/utilities/storefrontApi.js","../../node_modules/@shopify/hydrogen/dist/esnext/utilities/suspense.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/session/session.js","../../node_modules/@shopify/hydrogen/dist/esnext/utilities/apiRoutes.js","../../node_modules/@shopify/hydrogen/dist/esnext/utilities/bot-ua.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/runtime.js","../../node_modules/@shopify/hydrogen/vendor/react-server-dom-vite/esm/react-server-dom-vite-writer.browser.server.js","../../node_modules/@shopify/hydrogen/vendor/react-server-dom-vite/esm/react-server-dom-vite.js","../../node_modules/@shopify/hydrogen/dist/esnext/streaming.server.js","../../node_modules/@shopify/hydrogen/dist/esnext/utilities/template.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Analytics/const.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Analytics/utils.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Analytics/hook.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Analytics/ClientAnalytics.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Analytics/Analytics.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Analytics/Analytics.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/AnalyticsErrorBoundary.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/AnalyticsErrorBoundary.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/utilities/image_size.js","../../node_modules/@shopify/hydrogen/dist/esnext/utilities/video_parameters.js","../../node_modules/@shopify/hydrogen/dist/esnext/utilities/load_script.js","../../node_modules/@shopify/hydrogen/dist/esnext/utilities/flattenConnection/flattenConnection.js","../../node_modules/@shopify/hydrogen/dist/esnext/utilities/isBrowser/isBrowser.js","../../node_modules/@shopify/hydrogen/dist/esnext/utilities/html-encoding.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Analytics/Analytics.server.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/DevTools/components/icons.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/DevTools/components/Interface.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/DevTools/components/Interface.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/DevTools/components/Heading.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/DevTools/components/Performance.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/DevTools/components/Performance.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/DevTools/components/Table.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/DevTools/components/Settings.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/DevTools/components/Settings.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/DevTools/components/Panels.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/DevTools/DevTools.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/DevTools/DevTools.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/utilities/locale/locale.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/DevTools/DevTools.server.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Cache/cache.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Analytics/ServerAnalyticsRoute.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/BuiltInRoutes/healthCheck.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/BuiltInRoutes/BuiltInRoutes.js","../../node_modules/@shopify/hydrogen/dist/esnext/entry-server.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/Link/Link.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/components/Link/Link.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/Image/Image.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/Video/Video.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/ExternalVideo/ExternalVideo.js","../../node_modules/@shopify/hydrogen/dist/esnext/hooks/useLoadScript/useLoadScript.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/hooks/useLoadScript/useLoadScript.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/ModelViewer/ModelViewer.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/components/ModelViewer/ModelViewer.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/MediaFile/MediaFile.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/CartProvider/cart-queries.js","../../node_modules/@shopify/hydrogen/dist/esnext/storefront-api-types.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/ShopifyProvider/ShopifyProvider.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/ShopifyProvider/ShopifyProvider.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/useShop/use-shop.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/useUrl/useUrl.js","../../node_modules/worktop/cookie/index.mjs","../../node_modules/@shopify/hydrogen/dist/esnext/components/CartProvider/hooks.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/components/CartProvider/hooks.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/CartProvider/context.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/CartProvider/constants.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/CartProvider/CartProvider.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/components/CartProvider/CartProvider.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/hooks/useCart/useCart.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/ProductOptionsProvider/context.js","../../node_modules/@shopify/hydrogen/dist/esnext/hooks/useProductOptions/useProductOptions.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/hooks/useProductOptions/useProductOptions.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/BaseButton/BaseButton.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/components/BaseButton/BaseButton.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/AddToCartButton/AddToCartButton.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/components/AddToCartButton/AddToCartButton.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/hooks/useLocalization/useLocalization.js","../../node_modules/@shopify/hydrogen/dist/esnext/hooks/useMoney/hooks.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/Money/Money.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/components/Money/Money.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/CartLineProvider/context.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/CartLineProvider/CartLineProvider.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/components/CartLineProvider/CartLineProvider.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/hooks/useCartLine/useCartLine.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/CartLinePrice/CartLinePrice.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/components/CartLinePrice/CartLinePrice.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/CartLineQuantity/CartLineQuantity.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/components/CartLineQuantity/CartLineQuantity.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/CartLineQuantityAdjustButton/CartLineQuantityAdjustButton.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/ShopPayButton/ShopPayButton.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/components/ShopPayButton/ShopPayButton.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/CartShopPayButton/CartShopPayButton.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/components/CartShopPayButton/CartShopPayButton.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/hooks/useProductOptions/helpers.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/ProductOptionsProvider/ProductOptionsProvider.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/components/ProductOptionsProvider/ProductOptionsProvider.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Head/Head.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Head/Head.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/Seo/TitleSeo.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/components/Seo/TitleSeo.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/Seo/DescriptionSeo.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/components/Seo/DescriptionSeo.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/Seo/TwitterSeo.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/components/Seo/TwitterSeo.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/Seo/DefaultPageSeo.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/components/Seo/DefaultPageSeo.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/Seo/HomePageSeo.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/components/Seo/HomePageSeo.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/Seo/ImageSeo.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/components/Seo/ImageSeo.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/Seo/ProductSeo.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/components/Seo/ProductSeo.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/Seo/CollectionSeo.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/components/Seo/CollectionSeo.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/Seo/PageSeo.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/components/Seo/PageSeo.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/Seo/NoIndexSeo.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/components/Seo/NoIndexSeo.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/components/Seo/Seo.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/components/Seo/Seo.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/utilities/graphql-tag.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/useRouteParams/useRouteParams.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/fetchSync/ResponseSync.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Analytics/connectors/PerformanceMetrics/PerformanceMetrics.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Analytics/connectors/PerformanceMetrics/PerformanceMetrics.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Cache/cache-sub-request.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/useQuery/hooks.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/fetchSync/server/fetchSync.js","../../node_modules/@shopify/hydrogen/dist/esnext/hooks/useShopQuery/hooks.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/FileRoutes/FileRoutes.server.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Route/Route.server.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Router/Router.server.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/constants.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/ShopifyProvider/ShopifyProvider.server.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Analytics/connectors/Shopify/utils.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Analytics/connectors/Shopify/ShopifyAnalytics.client.js?no-proxy","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Analytics/connectors/Shopify/ShopifyAnalytics.client.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Analytics/connectors/Shopify/ShopifyAnalytics.server.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Analytics/connectors/Shopify/const.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/useSession/useSession.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Cookie/Cookie.js","../../src/lib/styleUtils.jsx","../../src/components/account/AccountActivateForm.client.jsx?no-proxy","../../src/components/account/AccountActivateForm.client.jsx","../../src/components/elements/Icon.jsx","../../src/lib/utils.js","../../src/components/elements/Button.jsx","../../src/components/elements/Grid.jsx","../../src/components/elements/Heading.jsx","../../src/components/elements/Input.jsx","../../src/components/elements/LogoutButton.client.jsx?no-proxy","../../src/components/elements/LogoutButton.client.jsx","../../src/components/elements/Section.jsx","../../src/components/elements/Skeleton.jsx","../../src/components/elements/Text.jsx","../../src/components/account/AccountAddressBook.client.jsx?no-proxy","../../src/components/account/AccountAddressBook.client.jsx","../../src/components/account/AccountAddressEdit.client.jsx?no-proxy","../../src/components/account/AccountAddressEdit.client.jsx","../../src/components/account/AccountLoginForm.client.jsx?no-proxy","../../src/components/account/AccountLoginForm.client.jsx","../../src/components/account/AccountCreateForm.client.jsx?no-proxy","../../src/components/account/AccountCreateForm.client.jsx","../../src/components/account/AccountDeleteAddress.client.jsx?no-proxy","../../src/components/account/AccountDeleteAddress.client.jsx","../../src/components/account/AccountDetailsEdit.client.jsx?no-proxy","../../src/components/account/AccountDetailsEdit.client.jsx","../../src/components/account/AccountDetails.client.jsx?no-proxy","../../src/components/account/AccountDetails.client.jsx","../../src/components/account/AccountOrderHistory.client.jsx?no-proxy","../../src/components/account/AccountOrderHistory.client.jsx","../../src/components/account/AccountPasswordResetForm.client.jsx?no-proxy","../../src/components/account/AccountPasswordResetForm.client.jsx","../../src/components/account/AccountRecoverForm.client.jsx?no-proxy","../../src/components/account/AccountRecoverForm.client.jsx","../../src/components/cards/ArticleCard.jsx","../../src/components/cards/OrderCard.client.jsx?no-proxy","../../src/components/cards/OrderCard.client.jsx","../../src/lib/placeholders.js","../../src/components/cards/ProductCard.client.jsx?no-proxy","../../src/components/cards/ProductCard.client.jsx","../../src/components/cart/CartDetails.client.jsx?no-proxy","../../src/components/cart/CartDetails.client.jsx","../../src/components/cart/CartEmpty.client.jsx?no-proxy","../../src/components/cart/CartEmpty.client.jsx","../../src/components/cart/CartLineItem.client.jsx?no-proxy","../../src/components/cart/CartLineItem.client.jsx","../../src/components/global/Drawer.client.jsx?no-proxy","../../src/components/global/Drawer.client.jsx","../../src/components/global/FooterMenu.client.jsx?no-proxy","../../src/components/global/FooterMenu.client.jsx","../../src/components/global/CartDrawer.client.jsx?no-proxy","../../src/components/global/CartDrawer.client.jsx","../../src/components/global/MenuDrawer.client.jsx?no-proxy","../../src/components/global/MenuDrawer.client.jsx","../../src/components/global/Header.client.jsx?no-proxy","../../src/components/global/Header.client.jsx","../../src/components/global/Modal.client.jsx?no-proxy","../../src/components/global/Modal.client.jsx","../../src/components/global/PageHeader.jsx","../../src/components/product/ProductForm.client.jsx?no-proxy","../../src/components/product/ProductForm.client.jsx","../../src/lib/const.js","../../src/components/product/ProductGallery.client.jsx?no-proxy","../../src/components/product/ProductGallery.client.jsx","../../src/components/product/ProductGrid.client.jsx?no-proxy","../../src/components/product/ProductGrid.client.jsx","../../src/components/product/ProductDetail.client.jsx?no-proxy","../../src/components/product/ProductDetail.client.jsx","../../src/components/product/ProductOptions.client.jsx?no-proxy","../../src/components/product/ProductOptions.client.jsx","../../src/components/sections/FeaturedCollections.jsx","../../src/components/sections/Hero.jsx","../../src/components/CountrySelector.client.jsx?no-proxy","../../src/components/CountrySelector.client.jsx","../../src/components/CustomFont.client.jsx?no-proxy","../../src/components/CustomFont.client.jsx","../../src/components/HeaderFallback.jsx","../../src/components/EventsListener.client.jsx?no-proxy","../../src/components/EventsListener.client.jsx","../../src/components/cards/CollectionCard.server.jsx","../../src/components/global/Footer.server.jsx","../../src/components/global/Layout.server.jsx","../../src/lib/fragments.js","../../src/components/global/NotFound.server.jsx","../../src/components/sections/ProductSwimlane.server.jsx","../../src/components/search/NoResultRecommendations.server.jsx","../../src/components/search/SearchPage.server.jsx","../../src/components/DefaultSeo.server.jsx","../../src/App.server.jsx","../client/index.html?raw","../../node_modules/@shopify/hydrogen/dist/esnext/platforms/virtual.js","../../node_modules/@shopify/hydrogen/dist/esnext/framework/middleware.js","../../node_modules/encodeurl/index.js","../../node_modules/escape-html/index.js","../../node_modules/parseurl/index.js","../../node_modules/depd/index.js","../../node_modules/setprototypeof/index.js","../../node_modules/http-errors/node_modules/statuses/index.js","../../node_modules/inherits/inherits_browser.js","../../node_modules/inherits/inherits.js","../../node_modules/toidentifier/index.js","../../node_modules/http-errors/index.js","../../node_modules/send/node_modules/debug/node_modules/ms/index.js","../../node_modules/send/node_modules/debug/src/debug.js","../../node_modules/send/node_modules/debug/src/browser.js","../../node_modules/send/node_modules/debug/src/node.js","../../node_modules/send/node_modules/debug/src/index.js","../../node_modules/events/events.js","../../node_modules/destroy/index.js","../../node_modules/etag/index.js","../../node_modules/fresh/index.js","../../node_modules/send/node_modules/mime/mime.js","../../node_modules/send/node_modules/ms/index.js","../../node_modules/ee-first/index.js","../../node_modules/on-finished/index.js","../../node_modules/range-parser/index.js","../../node_modules/send/node_modules/statuses/index.js","../../node_modules/send/index.js","../../node_modules/serve-static/index.js","../../node_modules/negotiator/lib/charset.js","../../node_modules/negotiator/lib/encoding.js","../../node_modules/negotiator/lib/language.js","../../node_modules/negotiator/lib/mediaType.js","../../node_modules/negotiator/index.js","../../node_modules/mime-db/index.js","../../node_modules/mime-types/index.js","../../node_modules/accepts/index.js","../../node_modules/base64-js/index.js","../../node_modules/ieee754/index.js","../../node_modules/buffer/index.js","../../node_modules/safe-buffer/index.js","../../node_modules/compression/node_modules/bytes/index.js","../../node_modules/compressible/index.js","../../node_modules/compression/node_modules/ms/index.js","../../node_modules/compression/node_modules/debug/src/debug.js","../../node_modules/compression/node_modules/debug/src/browser.js","../../node_modules/compression/node_modules/debug/src/node.js","../../node_modules/compression/node_modules/debug/src/index.js","../../node_modules/on-headers/index.js","../../node_modules/vary/index.js","../../node_modules/compression/index.js","../../node_modules/bytes/index.js","../../node_modules/content-type/index.js","../../node_modules/body-parser/node_modules/ms/index.js","../../node_modules/body-parser/node_modules/debug/src/debug.js","../../node_modules/body-parser/node_modules/debug/src/browser.js","../../node_modules/body-parser/node_modules/debug/src/node.js","../../node_modules/body-parser/node_modules/debug/src/index.js","../../node_modules/safer-buffer/safer.js","../../node_modules/iconv-lite/lib/bom-handling.js","../../node_modules/string_decoder/node_modules/safe-buffer/index.js","../../node_modules/string_decoder/lib/string_decoder.js","../../node_modules/iconv-lite/encodings/internal.js","../../node_modules/iconv-lite/encodings/utf16.js","../../node_modules/iconv-lite/encodings/utf7.js","../../node_modules/iconv-lite/encodings/sbcs-codec.js","../../node_modules/iconv-lite/encodings/sbcs-data.js","../../node_modules/iconv-lite/encodings/sbcs-data-generated.js","../../node_modules/iconv-lite/encodings/dbcs-codec.js","../../node_modules/iconv-lite/encodings/dbcs-data.js","../../node_modules/iconv-lite/encodings/index.js","../../node_modules/iconv-lite/lib/streams.js","../../node_modules/iconv-lite/lib/extend-node.js","../../node_modules/iconv-lite/lib/index.js","../../node_modules/unpipe/index.js","../../node_modules/raw-body/index.js","../../node_modules/body-parser/lib/read.js","../../node_modules/media-typer/index.js","../../node_modules/type-is/index.js","../../node_modules/body-parser/lib/types/json.js","../../node_modules/body-parser/lib/types/raw.js","../../node_modules/body-parser/lib/types/text.js","../../node_modules/has-symbols/shams.js","../../node_modules/has-symbols/index.js","../../node_modules/function-bind/implementation.js","../../node_modules/function-bind/index.js","../../node_modules/has/src/index.js","../../node_modules/get-intrinsic/index.js","../../node_modules/call-bind/index.js","../../node_modules/call-bind/callBound.js","../../node_modules/object-inspect/util.inspect.js","../../node_modules/object-inspect/index.js","../../node_modules/side-channel/index.js","../../node_modules/qs/lib/formats.js","../../node_modules/qs/lib/utils.js","../../node_modules/qs/lib/stringify.js","../../node_modules/qs/lib/parse.js","../../node_modules/qs/lib/index.js","../../node_modules/body-parser/lib/types/urlencoded.js","../../node_modules/body-parser/index.js","../../node_modules/connect/node_modules/ms/index.js","../../node_modules/connect/node_modules/debug/src/debug.js","../../node_modules/connect/node_modules/debug/src/browser.js","../../node_modules/connect/node_modules/debug/src/node.js","../../node_modules/connect/node_modules/debug/src/index.js","../../node_modules/finalhandler/node_modules/ms/index.js","../../node_modules/finalhandler/node_modules/debug/src/debug.js","../../node_modules/finalhandler/node_modules/debug/src/browser.js","../../node_modules/finalhandler/node_modules/debug/src/node.js","../../node_modules/finalhandler/node_modules/debug/src/index.js","../../node_modules/finalhandler/node_modules/on-finished/index.js","../../node_modules/statuses/index.js","../../node_modules/finalhandler/index.js","../../node_modules/utils-merge/index.js","../../node_modules/connect/index.js","../../node_modules/@shopify/hydrogen/dist/esnext/framework/cache/in-memory.js","../../node_modules/@shopify/hydrogen/dist/esnext/platforms/node.js","../../node_modules/@shopify/hydrogen/dist/esnext/foundation/CookieSessionStorage/CookieSessionStorage.js","../../node_modules/@shopify/hydrogen/dist/esnext/config.js","../../hydrogen.config.js","../../src/routes/admin.server.jsx","../../src/routes/cart.server.jsx","../../src/routes/index.server.jsx","../../src/routes/robots.txt.server.js","../../src/routes/search.server.jsx","../../src/routes/sitemap.xml.server.js","../../src/routes/account/index.server.jsx","../../src/routes/account/login.server.jsx","../../src/routes/account/logout.server.js","../../src/routes/account/recover.server.jsx","../../src/routes/account/register.server.jsx","../../src/routes/api/bestSellers.server.js","../../src/routes/api/countries.server.js","../../src/routes/collections/[handle].server.jsx","../../src/routes/collections/all.server.jsx","../../src/routes/collections/index.server.jsx","../../src/routes/journal/[handle].server.jsx","../../src/routes/journal/index.server.jsx","../../src/routes/pages/[handle].server.jsx","../../src/routes/policies/[handle].server.jsx","../../src/routes/policies/index.server.jsx","../../src/routes/products/[handle].server.jsx","../../src/routes/products/index.server.jsx","../../src/routes/account/activate/index.server.js","../../src/routes/account/address/[addressId].server.js","../../src/routes/account/address/index.server.js","../../src/routes/account/orders/[id].server.jsx","../../src/routes/account/reset/index.server.js","../../src/routes/account/activate/[id]/[activationToken].server.jsx","../../src/routes/account/reset/[id]/[resetToken].server.jsx"],"sourcesContent":["\"use strict\";\n\nvar conversions = {};\nmodule.exports = conversions;\n\nfunction sign(x) {\n    return x < 0 ? -1 : 1;\n}\n\nfunction evenRound(x) {\n    // Round x to the nearest integer, choosing the even integer if it lies halfway between two.\n    if ((x % 1) === 0.5 && (x & 1) === 0) { // [even number].5; round down (i.e. floor)\n        return Math.floor(x);\n    } else {\n        return Math.round(x);\n    }\n}\n\nfunction createNumberConversion(bitLength, typeOpts) {\n    if (!typeOpts.unsigned) {\n        --bitLength;\n    }\n    const lowerBound = typeOpts.unsigned ? 0 : -Math.pow(2, bitLength);\n    const upperBound = Math.pow(2, bitLength) - 1;\n\n    const moduloVal = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength) : Math.pow(2, bitLength);\n    const moduloBound = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength - 1) : Math.pow(2, bitLength - 1);\n\n    return function(V, opts) {\n        if (!opts) opts = {};\n\n        let x = +V;\n\n        if (opts.enforceRange) {\n            if (!Number.isFinite(x)) {\n                throw new TypeError(\"Argument is not a finite number\");\n            }\n\n            x = sign(x) * Math.floor(Math.abs(x));\n            if (x < lowerBound || x > upperBound) {\n                throw new TypeError(\"Argument is not in byte range\");\n            }\n\n            return x;\n        }\n\n        if (!isNaN(x) && opts.clamp) {\n            x = evenRound(x);\n\n            if (x < lowerBound) x = lowerBound;\n            if (x > upperBound) x = upperBound;\n            return x;\n        }\n\n        if (!Number.isFinite(x) || x === 0) {\n            return 0;\n        }\n\n        x = sign(x) * Math.floor(Math.abs(x));\n        x = x % moduloVal;\n\n        if (!typeOpts.unsigned && x >= moduloBound) {\n            return x - moduloVal;\n        } else if (typeOpts.unsigned) {\n            if (x < 0) {\n              x += moduloVal;\n            } else if (x === -0) { // don't return negative zero\n              return 0;\n            }\n        }\n\n        return x;\n    }\n}\n\nconversions[\"void\"] = function () {\n    return undefined;\n};\n\nconversions[\"boolean\"] = function (val) {\n    return !!val;\n};\n\nconversions[\"byte\"] = createNumberConversion(8, { unsigned: false });\nconversions[\"octet\"] = createNumberConversion(8, { unsigned: true });\n\nconversions[\"short\"] = createNumberConversion(16, { unsigned: false });\nconversions[\"unsigned short\"] = createNumberConversion(16, { unsigned: true });\n\nconversions[\"long\"] = createNumberConversion(32, { unsigned: false });\nconversions[\"unsigned long\"] = createNumberConversion(32, { unsigned: true });\n\nconversions[\"long long\"] = createNumberConversion(32, { unsigned: false, moduloBitLength: 64 });\nconversions[\"unsigned long long\"] = createNumberConversion(32, { unsigned: true, moduloBitLength: 64 });\n\nconversions[\"double\"] = function (V) {\n    const x = +V;\n\n    if (!Number.isFinite(x)) {\n        throw new TypeError(\"Argument is not a finite floating-point value\");\n    }\n\n    return x;\n};\n\nconversions[\"unrestricted double\"] = function (V) {\n    const x = +V;\n\n    if (isNaN(x)) {\n        throw new TypeError(\"Argument is NaN\");\n    }\n\n    return x;\n};\n\n// not quite valid, but good enough for JS\nconversions[\"float\"] = conversions[\"double\"];\nconversions[\"unrestricted float\"] = conversions[\"unrestricted double\"];\n\nconversions[\"DOMString\"] = function (V, opts) {\n    if (!opts) opts = {};\n\n    if (opts.treatNullAsEmptyString && V === null) {\n        return \"\";\n    }\n\n    return String(V);\n};\n\nconversions[\"ByteString\"] = function (V, opts) {\n    const x = String(V);\n    let c = undefined;\n    for (let i = 0; (c = x.codePointAt(i)) !== undefined; ++i) {\n        if (c > 255) {\n            throw new TypeError(\"Argument is not a valid bytestring\");\n        }\n    }\n\n    return x;\n};\n\nconversions[\"USVString\"] = function (V) {\n    const S = String(V);\n    const n = S.length;\n    const U = [];\n    for (let i = 0; i < n; ++i) {\n        const c = S.charCodeAt(i);\n        if (c < 0xD800 || c > 0xDFFF) {\n            U.push(String.fromCodePoint(c));\n        } else if (0xDC00 <= c && c <= 0xDFFF) {\n            U.push(String.fromCodePoint(0xFFFD));\n        } else {\n            if (i === n - 1) {\n                U.push(String.fromCodePoint(0xFFFD));\n            } else {\n                const d = S.charCodeAt(i + 1);\n                if (0xDC00 <= d && d <= 0xDFFF) {\n                    const a = c & 0x3FF;\n                    const b = d & 0x3FF;\n                    U.push(String.fromCodePoint((2 << 15) + (2 << 9) * a + b));\n                    ++i;\n                } else {\n                    U.push(String.fromCodePoint(0xFFFD));\n                }\n            }\n        }\n    }\n\n    return U.join('');\n};\n\nconversions[\"Date\"] = function (V, opts) {\n    if (!(V instanceof Date)) {\n        throw new TypeError(\"Argument is not a Date object\");\n    }\n    if (isNaN(V)) {\n        return undefined;\n    }\n\n    return V;\n};\n\nconversions[\"RegExp\"] = function (V, opts) {\n    if (!(V instanceof RegExp)) {\n        V = new RegExp(V);\n    }\n\n    return V;\n};\n","\"use strict\";\n\nmodule.exports.mixin = function mixin(target, source) {\n  const keys = Object.getOwnPropertyNames(source);\n  for (let i = 0; i < keys.length; ++i) {\n    Object.defineProperty(target, keys[i], Object.getOwnPropertyDescriptor(source, keys[i]));\n  }\n};\n\nmodule.exports.wrapperSymbol = Symbol(\"wrapper\");\nmodule.exports.implSymbol = Symbol(\"impl\");\n\nmodule.exports.wrapperForImpl = function (impl) {\n  return impl[module.exports.wrapperSymbol];\n};\n\nmodule.exports.implForWrapper = function (wrapper) {\n  return wrapper[module.exports.implSymbol];\n};\n\n","'use strict';\n\n/** Highest positive signed 32-bit float value */\nconst maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nconst base = 36;\nconst tMin = 1;\nconst tMax = 26;\nconst skew = 38;\nconst damp = 700;\nconst initialBias = 72;\nconst initialN = 128; // 0x80\nconst delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nconst regexPunycode = /^xn--/;\nconst regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\nconst regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nconst errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nconst baseMinusTMin = base - tMin;\nconst floor = Math.floor;\nconst stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, fn) {\n\tconst result = [];\n\tlet length = array.length;\n\twhile (length--) {\n\t\tresult[length] = fn(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {Array} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(string, fn) {\n\tconst parts = string.split('@');\n\tlet result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tstring = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tstring = string.replace(regexSeparators, '\\x2E');\n\tconst labels = string.split('.');\n\tconst encoded = map(labels, fn).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tconst output = [];\n\tlet counter = 0;\n\tconst length = string.length;\n\twhile (counter < length) {\n\t\tconst value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tconst extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) { // Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nconst ucs2encode = array => String.fromCodePoint(...array);\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nconst basicToDigit = function(codePoint) {\n\tif (codePoint - 0x30 < 0x0A) {\n\t\treturn codePoint - 0x16;\n\t}\n\tif (codePoint - 0x41 < 0x1A) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint - 0x61 < 0x1A) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nconst digitToBasic = function(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nconst adapt = function(delta, numPoints, firstTime) {\n\tlet k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nconst decode = function(input) {\n\t// Don't use UCS-2.\n\tconst output = [];\n\tconst inputLength = input.length;\n\tlet i = 0;\n\tlet n = initialN;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tlet basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (let j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (let index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tlet oldi = i;\n\t\tfor (let w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror('invalid-input');\n\t\t\t}\n\n\t\t\tconst digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\n\t\t}\n\n\t\tconst out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\n\t}\n\n\treturn String.fromCodePoint(...output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nconst encode = function(input) {\n\tconst output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tlet inputLength = input.length;\n\n\t// Initialize the state.\n\tlet n = initialN;\n\tlet delta = 0;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points.\n\tfor (const currentValue of input) {\n\t\tif (currentValue < 0x80) {\n\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t}\n\t}\n\n\tlet basicLength = output.length;\n\tlet handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tlet m = maxInt;\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\tm = currentValue;\n\t\t\t}\n\t\t}\n\n\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t// but guard against overflow.\n\t\tconst handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\t\t\tif (currentValue == n) {\n\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\tlet q = delta;\n\t\t\t\tfor (let k = base; /* no condition */; k += base) {\n\t\t\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tconst qMinusT = q - t;\n\t\t\t\t\tconst baseMinusT = base - t;\n\t\t\t\t\toutput.push(\n\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t);\n\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t}\n\n\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\tdelta = 0;\n\t\t\t\t++handledCPCount;\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nconst toUnicode = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexPunycode.test(string)\n\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t: string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nconst toASCII = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexNonASCII.test(string)\n\t\t\t? 'xn--' + encode(string)\n\t\t\t: string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nconst punycode = {\n\t/**\n\t * A string representing the current Punycode.js version number.\n\t * @memberOf punycode\n\t * @type String\n\t */\n\t'version': '2.1.0',\n\t/**\n\t * An object of methods to convert from JavaScript's internal character\n\t * representation (UCS-2) to Unicode code points, and back.\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode\n\t * @type Object\n\t */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\nexport { ucs2decode, ucs2encode, decode, encode, toASCII, toUnicode };\nexport default punycode;\n","\"use strict\";\n\nvar punycode = require(\"punycode\");\nvar mappingTable = require(\"./lib/mappingTable.json\");\n\nvar PROCESSING_OPTIONS = {\n  TRANSITIONAL: 0,\n  NONTRANSITIONAL: 1\n};\n\nfunction normalize(str) { // fix bug in v8\n  return str.split('\\u0000').map(function (s) { return s.normalize('NFC'); }).join('\\u0000');\n}\n\nfunction findStatus(val) {\n  var start = 0;\n  var end = mappingTable.length - 1;\n\n  while (start <= end) {\n    var mid = Math.floor((start + end) / 2);\n\n    var target = mappingTable[mid];\n    if (target[0][0] <= val && target[0][1] >= val) {\n      return target;\n    } else if (target[0][0] > val) {\n      end = mid - 1;\n    } else {\n      start = mid + 1;\n    }\n  }\n\n  return null;\n}\n\nvar regexAstralSymbols = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n\nfunction countSymbols(string) {\n  return string\n    // replace every surrogate pair with a BMP symbol\n    .replace(regexAstralSymbols, '_')\n    // then get the length\n    .length;\n}\n\nfunction mapChars(domain_name, useSTD3, processing_option) {\n  var hasError = false;\n  var processed = \"\";\n\n  var len = countSymbols(domain_name);\n  for (var i = 0; i < len; ++i) {\n    var codePoint = domain_name.codePointAt(i);\n    var status = findStatus(codePoint);\n\n    switch (status[1]) {\n      case \"disallowed\":\n        hasError = true;\n        processed += String.fromCodePoint(codePoint);\n        break;\n      case \"ignored\":\n        break;\n      case \"mapped\":\n        processed += String.fromCodePoint.apply(String, status[2]);\n        break;\n      case \"deviation\":\n        if (processing_option === PROCESSING_OPTIONS.TRANSITIONAL) {\n          processed += String.fromCodePoint.apply(String, status[2]);\n        } else {\n          processed += String.fromCodePoint(codePoint);\n        }\n        break;\n      case \"valid\":\n        processed += String.fromCodePoint(codePoint);\n        break;\n      case \"disallowed_STD3_mapped\":\n        if (useSTD3) {\n          hasError = true;\n          processed += String.fromCodePoint(codePoint);\n        } else {\n          processed += String.fromCodePoint.apply(String, status[2]);\n        }\n        break;\n      case \"disallowed_STD3_valid\":\n        if (useSTD3) {\n          hasError = true;\n        }\n\n        processed += String.fromCodePoint(codePoint);\n        break;\n    }\n  }\n\n  return {\n    string: processed,\n    error: hasError\n  };\n}\n\nvar combiningMarksRegex = /[\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08E4-\\u0903\\u093A-\\u093C\\u093E-\\u094F\\u0951-\\u0957\\u0962\\u0963\\u0981-\\u0983\\u09BC\\u09BE-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CD\\u09D7\\u09E2\\u09E3\\u0A01-\\u0A03\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AE2\\u0AE3\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0C00-\\u0C03\\u0C3E-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81-\\u0C83\\u0CBC\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D01-\\u0D03\\u0D3E-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D82\\u0D83\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F3E\\u0F3F\\u0F71-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102B-\\u103E\\u1056-\\u1059\\u105E-\\u1060\\u1062-\\u1064\\u1067-\\u106D\\u1071-\\u1074\\u1082-\\u108D\\u108F\\u109A-\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u192B\\u1930-\\u193B\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A17-\\u1A1B\\u1A55-\\u1A5E\\u1A60-\\u1A7C\\u1A7F\\u1AB0-\\u1ABE\\u1B00-\\u1B04\\u1B34-\\u1B44\\u1B6B-\\u1B73\\u1B80-\\u1B82\\u1BA1-\\u1BAD\\u1BE6-\\u1BF3\\u1C24-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE8\\u1CED\\u1CF2-\\u1CF4\\u1CF8\\u1CF9\\u1DC0-\\u1DF5\\u1DFC-\\u1DFF\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA823-\\uA827\\uA880\\uA881\\uA8B4-\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA953\\uA980-\\uA983\\uA9B3-\\uA9C0\\uA9E5\\uAA29-\\uAA36\\uAA43\\uAA4C\\uAA4D\\uAA7B-\\uAA7D\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEB-\\uAAEF\\uAAF5\\uAAF6\\uABE3-\\uABEA\\uABEC\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2D]|\\uD800[\\uDDFD\\uDEE0\\uDF76-\\uDF7A]|\\uD802[\\uDE01-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE0F\\uDE38-\\uDE3A\\uDE3F\\uDEE5\\uDEE6]|\\uD804[\\uDC00-\\uDC02\\uDC38-\\uDC46\\uDC7F-\\uDC82\\uDCB0-\\uDCBA\\uDD00-\\uDD02\\uDD27-\\uDD34\\uDD73\\uDD80-\\uDD82\\uDDB3-\\uDDC0\\uDE2C-\\uDE37\\uDEDF-\\uDEEA\\uDF01-\\uDF03\\uDF3C\\uDF3E-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF57\\uDF62\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDCB0-\\uDCC3\\uDDAF-\\uDDB5\\uDDB8-\\uDDC0\\uDE30-\\uDE40\\uDEAB-\\uDEB7]|\\uD81A[\\uDEF0-\\uDEF4\\uDF30-\\uDF36]|\\uD81B[\\uDF51-\\uDF7E\\uDF8F-\\uDF92]|\\uD82F[\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD83A[\\uDCD0-\\uDCD6]|\\uDB40[\\uDD00-\\uDDEF]/;\n\nfunction validateLabel(label, processing_option) {\n  if (label.substr(0, 4) === \"xn--\") {\n    label = punycode.toUnicode(label);\n    processing_option = PROCESSING_OPTIONS.NONTRANSITIONAL;\n  }\n\n  var error = false;\n\n  if (normalize(label) !== label ||\n      (label[3] === \"-\" && label[4] === \"-\") ||\n      label[0] === \"-\" || label[label.length - 1] === \"-\" ||\n      label.indexOf(\".\") !== -1 ||\n      label.search(combiningMarksRegex) === 0) {\n    error = true;\n  }\n\n  var len = countSymbols(label);\n  for (var i = 0; i < len; ++i) {\n    var status = findStatus(label.codePointAt(i));\n    if ((processing === PROCESSING_OPTIONS.TRANSITIONAL && status[1] !== \"valid\") ||\n        (processing === PROCESSING_OPTIONS.NONTRANSITIONAL &&\n         status[1] !== \"valid\" && status[1] !== \"deviation\")) {\n      error = true;\n      break;\n    }\n  }\n\n  return {\n    label: label,\n    error: error\n  };\n}\n\nfunction processing(domain_name, useSTD3, processing_option) {\n  var result = mapChars(domain_name, useSTD3, processing_option);\n  result.string = normalize(result.string);\n\n  var labels = result.string.split(\".\");\n  for (var i = 0; i < labels.length; ++i) {\n    try {\n      var validation = validateLabel(labels[i]);\n      labels[i] = validation.label;\n      result.error = result.error || validation.error;\n    } catch(e) {\n      result.error = true;\n    }\n  }\n\n  return {\n    string: labels.join(\".\"),\n    error: result.error\n  };\n}\n\nmodule.exports.toASCII = function(domain_name, useSTD3, processing_option, verifyDnsLength) {\n  var result = processing(domain_name, useSTD3, processing_option);\n  var labels = result.string.split(\".\");\n  labels = labels.map(function(l) {\n    try {\n      return punycode.toASCII(l);\n    } catch(e) {\n      result.error = true;\n      return l;\n    }\n  });\n\n  if (verifyDnsLength) {\n    var total = labels.slice(0, labels.length - 1).join(\".\").length;\n    if (total.length > 253 || total.length === 0) {\n      result.error = true;\n    }\n\n    for (var i=0; i < labels.length; ++i) {\n      if (labels.length > 63 || labels.length === 0) {\n        result.error = true;\n        break;\n      }\n    }\n  }\n\n  if (result.error) return null;\n  return labels.join(\".\");\n};\n\nmodule.exports.toUnicode = function(domain_name, useSTD3) {\n  var result = processing(domain_name, useSTD3, PROCESSING_OPTIONS.NONTRANSITIONAL);\n\n  return {\n    domain: result.string,\n    error: result.error\n  };\n};\n\nmodule.exports.PROCESSING_OPTIONS = PROCESSING_OPTIONS;\n","\"use strict\";\r\nconst punycode = require(\"punycode\");\r\nconst tr46 = require(\"tr46\");\r\n\r\nconst specialSchemes = {\r\n  ftp: 21,\r\n  file: null,\r\n  gopher: 70,\r\n  http: 80,\r\n  https: 443,\r\n  ws: 80,\r\n  wss: 443\r\n};\r\n\r\nconst failure = Symbol(\"failure\");\r\n\r\nfunction countSymbols(str) {\r\n  return punycode.ucs2.decode(str).length;\r\n}\r\n\r\nfunction at(input, idx) {\r\n  const c = input[idx];\r\n  return isNaN(c) ? undefined : String.fromCodePoint(c);\r\n}\r\n\r\nfunction isASCIIDigit(c) {\r\n  return c >= 0x30 && c <= 0x39;\r\n}\r\n\r\nfunction isASCIIAlpha(c) {\r\n  return (c >= 0x41 && c <= 0x5A) || (c >= 0x61 && c <= 0x7A);\r\n}\r\n\r\nfunction isASCIIAlphanumeric(c) {\r\n  return isASCIIAlpha(c) || isASCIIDigit(c);\r\n}\r\n\r\nfunction isASCIIHex(c) {\r\n  return isASCIIDigit(c) || (c >= 0x41 && c <= 0x46) || (c >= 0x61 && c <= 0x66);\r\n}\r\n\r\nfunction isSingleDot(buffer) {\r\n  return buffer === \".\" || buffer.toLowerCase() === \"%2e\";\r\n}\r\n\r\nfunction isDoubleDot(buffer) {\r\n  buffer = buffer.toLowerCase();\r\n  return buffer === \"..\" || buffer === \"%2e.\" || buffer === \".%2e\" || buffer === \"%2e%2e\";\r\n}\r\n\r\nfunction isWindowsDriveLetterCodePoints(cp1, cp2) {\r\n  return isASCIIAlpha(cp1) && (cp2 === 58 || cp2 === 124);\r\n}\r\n\r\nfunction isWindowsDriveLetterString(string) {\r\n  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && (string[1] === \":\" || string[1] === \"|\");\r\n}\r\n\r\nfunction isNormalizedWindowsDriveLetterString(string) {\r\n  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && string[1] === \":\";\r\n}\r\n\r\nfunction containsForbiddenHostCodePoint(string) {\r\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|%|\\/|:|\\?|@|\\[|\\\\|\\]/) !== -1;\r\n}\r\n\r\nfunction containsForbiddenHostCodePointExcludingPercent(string) {\r\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|\\/|:|\\?|@|\\[|\\\\|\\]/) !== -1;\r\n}\r\n\r\nfunction isSpecialScheme(scheme) {\r\n  return specialSchemes[scheme] !== undefined;\r\n}\r\n\r\nfunction isSpecial(url) {\r\n  return isSpecialScheme(url.scheme);\r\n}\r\n\r\nfunction defaultPort(scheme) {\r\n  return specialSchemes[scheme];\r\n}\r\n\r\nfunction percentEncode(c) {\r\n  let hex = c.toString(16).toUpperCase();\r\n  if (hex.length === 1) {\r\n    hex = \"0\" + hex;\r\n  }\r\n\r\n  return \"%\" + hex;\r\n}\r\n\r\nfunction utf8PercentEncode(c) {\r\n  const buf = new Buffer(c);\r\n\r\n  let str = \"\";\r\n\r\n  for (let i = 0; i < buf.length; ++i) {\r\n    str += percentEncode(buf[i]);\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\nfunction utf8PercentDecode(str) {\r\n  const input = new Buffer(str);\r\n  const output = [];\r\n  for (let i = 0; i < input.length; ++i) {\r\n    if (input[i] !== 37) {\r\n      output.push(input[i]);\r\n    } else if (input[i] === 37 && isASCIIHex(input[i + 1]) && isASCIIHex(input[i + 2])) {\r\n      output.push(parseInt(input.slice(i + 1, i + 3).toString(), 16));\r\n      i += 2;\r\n    } else {\r\n      output.push(input[i]);\r\n    }\r\n  }\r\n  return new Buffer(output).toString();\r\n}\r\n\r\nfunction isC0ControlPercentEncode(c) {\r\n  return c <= 0x1F || c > 0x7E;\r\n}\r\n\r\nconst extraPathPercentEncodeSet = new Set([32, 34, 35, 60, 62, 63, 96, 123, 125]);\r\nfunction isPathPercentEncode(c) {\r\n  return isC0ControlPercentEncode(c) || extraPathPercentEncodeSet.has(c);\r\n}\r\n\r\nconst extraUserinfoPercentEncodeSet =\r\n  new Set([47, 58, 59, 61, 64, 91, 92, 93, 94, 124]);\r\nfunction isUserinfoPercentEncode(c) {\r\n  return isPathPercentEncode(c) || extraUserinfoPercentEncodeSet.has(c);\r\n}\r\n\r\nfunction percentEncodeChar(c, encodeSetPredicate) {\r\n  const cStr = String.fromCodePoint(c);\r\n\r\n  if (encodeSetPredicate(c)) {\r\n    return utf8PercentEncode(cStr);\r\n  }\r\n\r\n  return cStr;\r\n}\r\n\r\nfunction parseIPv4Number(input) {\r\n  let R = 10;\r\n\r\n  if (input.length >= 2 && input.charAt(0) === \"0\" && input.charAt(1).toLowerCase() === \"x\") {\r\n    input = input.substring(2);\r\n    R = 16;\r\n  } else if (input.length >= 2 && input.charAt(0) === \"0\") {\r\n    input = input.substring(1);\r\n    R = 8;\r\n  }\r\n\r\n  if (input === \"\") {\r\n    return 0;\r\n  }\r\n\r\n  const regex = R === 10 ? /[^0-9]/ : (R === 16 ? /[^0-9A-Fa-f]/ : /[^0-7]/);\r\n  if (regex.test(input)) {\r\n    return failure;\r\n  }\r\n\r\n  return parseInt(input, R);\r\n}\r\n\r\nfunction parseIPv4(input) {\r\n  const parts = input.split(\".\");\r\n  if (parts[parts.length - 1] === \"\") {\r\n    if (parts.length > 1) {\r\n      parts.pop();\r\n    }\r\n  }\r\n\r\n  if (parts.length > 4) {\r\n    return input;\r\n  }\r\n\r\n  const numbers = [];\r\n  for (const part of parts) {\r\n    if (part === \"\") {\r\n      return input;\r\n    }\r\n    const n = parseIPv4Number(part);\r\n    if (n === failure) {\r\n      return input;\r\n    }\r\n\r\n    numbers.push(n);\r\n  }\r\n\r\n  for (let i = 0; i < numbers.length - 1; ++i) {\r\n    if (numbers[i] > 255) {\r\n      return failure;\r\n    }\r\n  }\r\n  if (numbers[numbers.length - 1] >= Math.pow(256, 5 - numbers.length)) {\r\n    return failure;\r\n  }\r\n\r\n  let ipv4 = numbers.pop();\r\n  let counter = 0;\r\n\r\n  for (const n of numbers) {\r\n    ipv4 += n * Math.pow(256, 3 - counter);\r\n    ++counter;\r\n  }\r\n\r\n  return ipv4;\r\n}\r\n\r\nfunction serializeIPv4(address) {\r\n  let output = \"\";\r\n  let n = address;\r\n\r\n  for (let i = 1; i <= 4; ++i) {\r\n    output = String(n % 256) + output;\r\n    if (i !== 4) {\r\n      output = \".\" + output;\r\n    }\r\n    n = Math.floor(n / 256);\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction parseIPv6(input) {\r\n  const address = [0, 0, 0, 0, 0, 0, 0, 0];\r\n  let pieceIndex = 0;\r\n  let compress = null;\r\n  let pointer = 0;\r\n\r\n  input = punycode.ucs2.decode(input);\r\n\r\n  if (input[pointer] === 58) {\r\n    if (input[pointer + 1] !== 58) {\r\n      return failure;\r\n    }\r\n\r\n    pointer += 2;\r\n    ++pieceIndex;\r\n    compress = pieceIndex;\r\n  }\r\n\r\n  while (pointer < input.length) {\r\n    if (pieceIndex === 8) {\r\n      return failure;\r\n    }\r\n\r\n    if (input[pointer] === 58) {\r\n      if (compress !== null) {\r\n        return failure;\r\n      }\r\n      ++pointer;\r\n      ++pieceIndex;\r\n      compress = pieceIndex;\r\n      continue;\r\n    }\r\n\r\n    let value = 0;\r\n    let length = 0;\r\n\r\n    while (length < 4 && isASCIIHex(input[pointer])) {\r\n      value = value * 0x10 + parseInt(at(input, pointer), 16);\r\n      ++pointer;\r\n      ++length;\r\n    }\r\n\r\n    if (input[pointer] === 46) {\r\n      if (length === 0) {\r\n        return failure;\r\n      }\r\n\r\n      pointer -= length;\r\n\r\n      if (pieceIndex > 6) {\r\n        return failure;\r\n      }\r\n\r\n      let numbersSeen = 0;\r\n\r\n      while (input[pointer] !== undefined) {\r\n        let ipv4Piece = null;\r\n\r\n        if (numbersSeen > 0) {\r\n          if (input[pointer] === 46 && numbersSeen < 4) {\r\n            ++pointer;\r\n          } else {\r\n            return failure;\r\n          }\r\n        }\r\n\r\n        if (!isASCIIDigit(input[pointer])) {\r\n          return failure;\r\n        }\r\n\r\n        while (isASCIIDigit(input[pointer])) {\r\n          const number = parseInt(at(input, pointer));\r\n          if (ipv4Piece === null) {\r\n            ipv4Piece = number;\r\n          } else if (ipv4Piece === 0) {\r\n            return failure;\r\n          } else {\r\n            ipv4Piece = ipv4Piece * 10 + number;\r\n          }\r\n          if (ipv4Piece > 255) {\r\n            return failure;\r\n          }\r\n          ++pointer;\r\n        }\r\n\r\n        address[pieceIndex] = address[pieceIndex] * 0x100 + ipv4Piece;\r\n\r\n        ++numbersSeen;\r\n\r\n        if (numbersSeen === 2 || numbersSeen === 4) {\r\n          ++pieceIndex;\r\n        }\r\n      }\r\n\r\n      if (numbersSeen !== 4) {\r\n        return failure;\r\n      }\r\n\r\n      break;\r\n    } else if (input[pointer] === 58) {\r\n      ++pointer;\r\n      if (input[pointer] === undefined) {\r\n        return failure;\r\n      }\r\n    } else if (input[pointer] !== undefined) {\r\n      return failure;\r\n    }\r\n\r\n    address[pieceIndex] = value;\r\n    ++pieceIndex;\r\n  }\r\n\r\n  if (compress !== null) {\r\n    let swaps = pieceIndex - compress;\r\n    pieceIndex = 7;\r\n    while (pieceIndex !== 0 && swaps > 0) {\r\n      const temp = address[compress + swaps - 1];\r\n      address[compress + swaps - 1] = address[pieceIndex];\r\n      address[pieceIndex] = temp;\r\n      --pieceIndex;\r\n      --swaps;\r\n    }\r\n  } else if (compress === null && pieceIndex !== 8) {\r\n    return failure;\r\n  }\r\n\r\n  return address;\r\n}\r\n\r\nfunction serializeIPv6(address) {\r\n  let output = \"\";\r\n  const seqResult = findLongestZeroSequence(address);\r\n  const compress = seqResult.idx;\r\n  let ignore0 = false;\r\n\r\n  for (let pieceIndex = 0; pieceIndex <= 7; ++pieceIndex) {\r\n    if (ignore0 && address[pieceIndex] === 0) {\r\n      continue;\r\n    } else if (ignore0) {\r\n      ignore0 = false;\r\n    }\r\n\r\n    if (compress === pieceIndex) {\r\n      const separator = pieceIndex === 0 ? \"::\" : \":\";\r\n      output += separator;\r\n      ignore0 = true;\r\n      continue;\r\n    }\r\n\r\n    output += address[pieceIndex].toString(16);\r\n\r\n    if (pieceIndex !== 7) {\r\n      output += \":\";\r\n    }\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction parseHost(input, isSpecialArg) {\r\n  if (input[0] === \"[\") {\r\n    if (input[input.length - 1] !== \"]\") {\r\n      return failure;\r\n    }\r\n\r\n    return parseIPv6(input.substring(1, input.length - 1));\r\n  }\r\n\r\n  if (!isSpecialArg) {\r\n    return parseOpaqueHost(input);\r\n  }\r\n\r\n  const domain = utf8PercentDecode(input);\r\n  const asciiDomain = tr46.toASCII(domain, false, tr46.PROCESSING_OPTIONS.NONTRANSITIONAL, false);\r\n  if (asciiDomain === null) {\r\n    return failure;\r\n  }\r\n\r\n  if (containsForbiddenHostCodePoint(asciiDomain)) {\r\n    return failure;\r\n  }\r\n\r\n  const ipv4Host = parseIPv4(asciiDomain);\r\n  if (typeof ipv4Host === \"number\" || ipv4Host === failure) {\r\n    return ipv4Host;\r\n  }\r\n\r\n  return asciiDomain;\r\n}\r\n\r\nfunction parseOpaqueHost(input) {\r\n  if (containsForbiddenHostCodePointExcludingPercent(input)) {\r\n    return failure;\r\n  }\r\n\r\n  let output = \"\";\r\n  const decoded = punycode.ucs2.decode(input);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    output += percentEncodeChar(decoded[i], isC0ControlPercentEncode);\r\n  }\r\n  return output;\r\n}\r\n\r\nfunction findLongestZeroSequence(arr) {\r\n  let maxIdx = null;\r\n  let maxLen = 1; // only find elements > 1\r\n  let currStart = null;\r\n  let currLen = 0;\r\n\r\n  for (let i = 0; i < arr.length; ++i) {\r\n    if (arr[i] !== 0) {\r\n      if (currLen > maxLen) {\r\n        maxIdx = currStart;\r\n        maxLen = currLen;\r\n      }\r\n\r\n      currStart = null;\r\n      currLen = 0;\r\n    } else {\r\n      if (currStart === null) {\r\n        currStart = i;\r\n      }\r\n      ++currLen;\r\n    }\r\n  }\r\n\r\n  // if trailing zeros\r\n  if (currLen > maxLen) {\r\n    maxIdx = currStart;\r\n    maxLen = currLen;\r\n  }\r\n\r\n  return {\r\n    idx: maxIdx,\r\n    len: maxLen\r\n  };\r\n}\r\n\r\nfunction serializeHost(host) {\r\n  if (typeof host === \"number\") {\r\n    return serializeIPv4(host);\r\n  }\r\n\r\n  // IPv6 serializer\r\n  if (host instanceof Array) {\r\n    return \"[\" + serializeIPv6(host) + \"]\";\r\n  }\r\n\r\n  return host;\r\n}\r\n\r\nfunction trimControlChars(url) {\r\n  return url.replace(/^[\\u0000-\\u001F\\u0020]+|[\\u0000-\\u001F\\u0020]+$/g, \"\");\r\n}\r\n\r\nfunction trimTabAndNewline(url) {\r\n  return url.replace(/\\u0009|\\u000A|\\u000D/g, \"\");\r\n}\r\n\r\nfunction shortenPath(url) {\r\n  const path = url.path;\r\n  if (path.length === 0) {\r\n    return;\r\n  }\r\n  if (url.scheme === \"file\" && path.length === 1 && isNormalizedWindowsDriveLetter(path[0])) {\r\n    return;\r\n  }\r\n\r\n  path.pop();\r\n}\r\n\r\nfunction includesCredentials(url) {\r\n  return url.username !== \"\" || url.password !== \"\";\r\n}\r\n\r\nfunction cannotHaveAUsernamePasswordPort(url) {\r\n  return url.host === null || url.host === \"\" || url.cannotBeABaseURL || url.scheme === \"file\";\r\n}\r\n\r\nfunction isNormalizedWindowsDriveLetter(string) {\r\n  return /^[A-Za-z]:$/.test(string);\r\n}\r\n\r\nfunction URLStateMachine(input, base, encodingOverride, url, stateOverride) {\r\n  this.pointer = 0;\r\n  this.input = input;\r\n  this.base = base || null;\r\n  this.encodingOverride = encodingOverride || \"utf-8\";\r\n  this.stateOverride = stateOverride;\r\n  this.url = url;\r\n  this.failure = false;\r\n  this.parseError = false;\r\n\r\n  if (!this.url) {\r\n    this.url = {\r\n      scheme: \"\",\r\n      username: \"\",\r\n      password: \"\",\r\n      host: null,\r\n      port: null,\r\n      path: [],\r\n      query: null,\r\n      fragment: null,\r\n\r\n      cannotBeABaseURL: false\r\n    };\r\n\r\n    const res = trimControlChars(this.input);\r\n    if (res !== this.input) {\r\n      this.parseError = true;\r\n    }\r\n    this.input = res;\r\n  }\r\n\r\n  const res = trimTabAndNewline(this.input);\r\n  if (res !== this.input) {\r\n    this.parseError = true;\r\n  }\r\n  this.input = res;\r\n\r\n  this.state = stateOverride || \"scheme start\";\r\n\r\n  this.buffer = \"\";\r\n  this.atFlag = false;\r\n  this.arrFlag = false;\r\n  this.passwordTokenSeenFlag = false;\r\n\r\n  this.input = punycode.ucs2.decode(this.input);\r\n\r\n  for (; this.pointer <= this.input.length; ++this.pointer) {\r\n    const c = this.input[this.pointer];\r\n    const cStr = isNaN(c) ? undefined : String.fromCodePoint(c);\r\n\r\n    // exec state machine\r\n    const ret = this[\"parse \" + this.state](c, cStr);\r\n    if (!ret) {\r\n      break; // terminate algorithm\r\n    } else if (ret === failure) {\r\n      this.failure = true;\r\n      break;\r\n    }\r\n  }\r\n}\r\n\r\nURLStateMachine.prototype[\"parse scheme start\"] = function parseSchemeStart(c, cStr) {\r\n  if (isASCIIAlpha(c)) {\r\n    this.buffer += cStr.toLowerCase();\r\n    this.state = \"scheme\";\r\n  } else if (!this.stateOverride) {\r\n    this.state = \"no scheme\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse scheme\"] = function parseScheme(c, cStr) {\r\n  if (isASCIIAlphanumeric(c) || c === 43 || c === 45 || c === 46) {\r\n    this.buffer += cStr.toLowerCase();\r\n  } else if (c === 58) {\r\n    if (this.stateOverride) {\r\n      if (isSpecial(this.url) && !isSpecialScheme(this.buffer)) {\r\n        return false;\r\n      }\r\n\r\n      if (!isSpecial(this.url) && isSpecialScheme(this.buffer)) {\r\n        return false;\r\n      }\r\n\r\n      if ((includesCredentials(this.url) || this.url.port !== null) && this.buffer === \"file\") {\r\n        return false;\r\n      }\r\n\r\n      if (this.url.scheme === \"file\" && (this.url.host === \"\" || this.url.host === null)) {\r\n        return false;\r\n      }\r\n    }\r\n    this.url.scheme = this.buffer;\r\n    this.buffer = \"\";\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n    if (this.url.scheme === \"file\") {\r\n      if (this.input[this.pointer + 1] !== 47 || this.input[this.pointer + 2] !== 47) {\r\n        this.parseError = true;\r\n      }\r\n      this.state = \"file\";\r\n    } else if (isSpecial(this.url) && this.base !== null && this.base.scheme === this.url.scheme) {\r\n      this.state = \"special relative or authority\";\r\n    } else if (isSpecial(this.url)) {\r\n      this.state = \"special authority slashes\";\r\n    } else if (this.input[this.pointer + 1] === 47) {\r\n      this.state = \"path or authority\";\r\n      ++this.pointer;\r\n    } else {\r\n      this.url.cannotBeABaseURL = true;\r\n      this.url.path.push(\"\");\r\n      this.state = \"cannot-be-a-base-URL path\";\r\n    }\r\n  } else if (!this.stateOverride) {\r\n    this.buffer = \"\";\r\n    this.state = \"no scheme\";\r\n    this.pointer = -1;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse no scheme\"] = function parseNoScheme(c) {\r\n  if (this.base === null || (this.base.cannotBeABaseURL && c !== 35)) {\r\n    return failure;\r\n  } else if (this.base.cannotBeABaseURL && c === 35) {\r\n    this.url.scheme = this.base.scheme;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n    this.url.fragment = \"\";\r\n    this.url.cannotBeABaseURL = true;\r\n    this.state = \"fragment\";\r\n  } else if (this.base.scheme === \"file\") {\r\n    this.state = \"file\";\r\n    --this.pointer;\r\n  } else {\r\n    this.state = \"relative\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special relative or authority\"] = function parseSpecialRelativeOrAuthority(c) {\r\n  if (c === 47 && this.input[this.pointer + 1] === 47) {\r\n    this.state = \"special authority ignore slashes\";\r\n    ++this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    this.state = \"relative\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path or authority\"] = function parsePathOrAuthority(c) {\r\n  if (c === 47) {\r\n    this.state = \"authority\";\r\n  } else {\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse relative\"] = function parseRelative(c) {\r\n  this.url.scheme = this.base.scheme;\r\n  if (isNaN(c)) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n  } else if (c === 47) {\r\n    this.state = \"relative slash\";\r\n  } else if (c === 63) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (c === 35) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else if (isSpecial(this.url) && c === 92) {\r\n    this.parseError = true;\r\n    this.state = \"relative slash\";\r\n  } else {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice(0, this.base.path.length - 1);\r\n\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse relative slash\"] = function parseRelativeSlash(c) {\r\n  if (isSpecial(this.url) && (c === 47 || c === 92)) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"special authority ignore slashes\";\r\n  } else if (c === 47) {\r\n    this.state = \"authority\";\r\n  } else {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special authority slashes\"] = function parseSpecialAuthoritySlashes(c) {\r\n  if (c === 47 && this.input[this.pointer + 1] === 47) {\r\n    this.state = \"special authority ignore slashes\";\r\n    ++this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    this.state = \"special authority ignore slashes\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special authority ignore slashes\"] = function parseSpecialAuthorityIgnoreSlashes(c) {\r\n  if (c !== 47 && c !== 92) {\r\n    this.state = \"authority\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse authority\"] = function parseAuthority(c, cStr) {\r\n  if (c === 64) {\r\n    this.parseError = true;\r\n    if (this.atFlag) {\r\n      this.buffer = \"%40\" + this.buffer;\r\n    }\r\n    this.atFlag = true;\r\n\r\n    // careful, this is based on buffer and has its own pointer (this.pointer != pointer) and inner chars\r\n    const len = countSymbols(this.buffer);\r\n    for (let pointer = 0; pointer < len; ++pointer) {\r\n      const codePoint = this.buffer.codePointAt(pointer);\r\n\r\n      if (codePoint === 58 && !this.passwordTokenSeenFlag) {\r\n        this.passwordTokenSeenFlag = true;\r\n        continue;\r\n      }\r\n      const encodedCodePoints = percentEncodeChar(codePoint, isUserinfoPercentEncode);\r\n      if (this.passwordTokenSeenFlag) {\r\n        this.url.password += encodedCodePoints;\r\n      } else {\r\n        this.url.username += encodedCodePoints;\r\n      }\r\n    }\r\n    this.buffer = \"\";\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92)) {\r\n    if (this.atFlag && this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    }\r\n    this.pointer -= countSymbols(this.buffer) + 1;\r\n    this.buffer = \"\";\r\n    this.state = \"host\";\r\n  } else {\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse hostname\"] =\r\nURLStateMachine.prototype[\"parse host\"] = function parseHostName(c, cStr) {\r\n  if (this.stateOverride && this.url.scheme === \"file\") {\r\n    --this.pointer;\r\n    this.state = \"file host\";\r\n  } else if (c === 58 && !this.arrFlag) {\r\n    if (this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    }\r\n\r\n    const host = parseHost(this.buffer, isSpecial(this.url));\r\n    if (host === failure) {\r\n      return failure;\r\n    }\r\n\r\n    this.url.host = host;\r\n    this.buffer = \"\";\r\n    this.state = \"port\";\r\n    if (this.stateOverride === \"hostname\") {\r\n      return false;\r\n    }\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92)) {\r\n    --this.pointer;\r\n    if (isSpecial(this.url) && this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    } else if (this.stateOverride && this.buffer === \"\" &&\r\n               (includesCredentials(this.url) || this.url.port !== null)) {\r\n      this.parseError = true;\r\n      return false;\r\n    }\r\n\r\n    const host = parseHost(this.buffer, isSpecial(this.url));\r\n    if (host === failure) {\r\n      return failure;\r\n    }\r\n\r\n    this.url.host = host;\r\n    this.buffer = \"\";\r\n    this.state = \"path start\";\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n  } else {\r\n    if (c === 91) {\r\n      this.arrFlag = true;\r\n    } else if (c === 93) {\r\n      this.arrFlag = false;\r\n    }\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse port\"] = function parsePort(c, cStr) {\r\n  if (isASCIIDigit(c)) {\r\n    this.buffer += cStr;\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92) ||\r\n             this.stateOverride) {\r\n    if (this.buffer !== \"\") {\r\n      const port = parseInt(this.buffer);\r\n      if (port > Math.pow(2, 16) - 1) {\r\n        this.parseError = true;\r\n        return failure;\r\n      }\r\n      this.url.port = port === defaultPort(this.url.scheme) ? null : port;\r\n      this.buffer = \"\";\r\n    }\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n    this.state = \"path start\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nconst fileOtherwiseCodePoints = new Set([47, 92, 63, 35]);\r\n\r\nURLStateMachine.prototype[\"parse file\"] = function parseFile(c) {\r\n  this.url.scheme = \"file\";\r\n\r\n  if (c === 47 || c === 92) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"file slash\";\r\n  } else if (this.base !== null && this.base.scheme === \"file\") {\r\n    if (isNaN(c)) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = this.base.query;\r\n    } else if (c === 63) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = \"\";\r\n      this.state = \"query\";\r\n    } else if (c === 35) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = this.base.query;\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    } else {\r\n      if (this.input.length - this.pointer - 1 === 0 || // remaining consists of 0 code points\r\n          !isWindowsDriveLetterCodePoints(c, this.input[this.pointer + 1]) ||\r\n          (this.input.length - this.pointer - 1 >= 2 && // remaining has at least 2 code points\r\n           !fileOtherwiseCodePoints.has(this.input[this.pointer + 2]))) {\r\n        this.url.host = this.base.host;\r\n        this.url.path = this.base.path.slice();\r\n        shortenPath(this.url);\r\n      } else {\r\n        this.parseError = true;\r\n      }\r\n\r\n      this.state = \"path\";\r\n      --this.pointer;\r\n    }\r\n  } else {\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse file slash\"] = function parseFileSlash(c) {\r\n  if (c === 47 || c === 92) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"file host\";\r\n  } else {\r\n    if (this.base !== null && this.base.scheme === \"file\") {\r\n      if (isNormalizedWindowsDriveLetterString(this.base.path[0])) {\r\n        this.url.path.push(this.base.path[0]);\r\n      } else {\r\n        this.url.host = this.base.host;\r\n      }\r\n    }\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse file host\"] = function parseFileHost(c, cStr) {\r\n  if (isNaN(c) || c === 47 || c === 92 || c === 63 || c === 35) {\r\n    --this.pointer;\r\n    if (!this.stateOverride && isWindowsDriveLetterString(this.buffer)) {\r\n      this.parseError = true;\r\n      this.state = \"path\";\r\n    } else if (this.buffer === \"\") {\r\n      this.url.host = \"\";\r\n      if (this.stateOverride) {\r\n        return false;\r\n      }\r\n      this.state = \"path start\";\r\n    } else {\r\n      let host = parseHost(this.buffer, isSpecial(this.url));\r\n      if (host === failure) {\r\n        return failure;\r\n      }\r\n      if (host === \"localhost\") {\r\n        host = \"\";\r\n      }\r\n      this.url.host = host;\r\n\r\n      if (this.stateOverride) {\r\n        return false;\r\n      }\r\n\r\n      this.buffer = \"\";\r\n      this.state = \"path start\";\r\n    }\r\n  } else {\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path start\"] = function parsePathStart(c) {\r\n  if (isSpecial(this.url)) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"path\";\r\n\r\n    if (c !== 47 && c !== 92) {\r\n      --this.pointer;\r\n    }\r\n  } else if (!this.stateOverride && c === 63) {\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (!this.stateOverride && c === 35) {\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else if (c !== undefined) {\r\n    this.state = \"path\";\r\n    if (c !== 47) {\r\n      --this.pointer;\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path\"] = function parsePath(c) {\r\n  if (isNaN(c) || c === 47 || (isSpecial(this.url) && c === 92) ||\r\n      (!this.stateOverride && (c === 63 || c === 35))) {\r\n    if (isSpecial(this.url) && c === 92) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (isDoubleDot(this.buffer)) {\r\n      shortenPath(this.url);\r\n      if (c !== 47 && !(isSpecial(this.url) && c === 92)) {\r\n        this.url.path.push(\"\");\r\n      }\r\n    } else if (isSingleDot(this.buffer) && c !== 47 &&\r\n               !(isSpecial(this.url) && c === 92)) {\r\n      this.url.path.push(\"\");\r\n    } else if (!isSingleDot(this.buffer)) {\r\n      if (this.url.scheme === \"file\" && this.url.path.length === 0 && isWindowsDriveLetterString(this.buffer)) {\r\n        if (this.url.host !== \"\" && this.url.host !== null) {\r\n          this.parseError = true;\r\n          this.url.host = \"\";\r\n        }\r\n        this.buffer = this.buffer[0] + \":\";\r\n      }\r\n      this.url.path.push(this.buffer);\r\n    }\r\n    this.buffer = \"\";\r\n    if (this.url.scheme === \"file\" && (c === undefined || c === 63 || c === 35)) {\r\n      while (this.url.path.length > 1 && this.url.path[0] === \"\") {\r\n        this.parseError = true;\r\n        this.url.path.shift();\r\n      }\r\n    }\r\n    if (c === 63) {\r\n      this.url.query = \"\";\r\n      this.state = \"query\";\r\n    }\r\n    if (c === 35) {\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    }\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.buffer += percentEncodeChar(c, isPathPercentEncode);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse cannot-be-a-base-URL path\"] = function parseCannotBeABaseURLPath(c) {\r\n  if (c === 63) {\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (c === 35) {\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else {\r\n    // TODO: Add: not a URL code point\r\n    if (!isNaN(c) && c !== 37) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (c === 37 &&\r\n        (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n         !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (!isNaN(c)) {\r\n      this.url.path[0] = this.url.path[0] + percentEncodeChar(c, isC0ControlPercentEncode);\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse query\"] = function parseQuery(c, cStr) {\r\n  if (isNaN(c) || (!this.stateOverride && c === 35)) {\r\n    if (!isSpecial(this.url) || this.url.scheme === \"ws\" || this.url.scheme === \"wss\") {\r\n      this.encodingOverride = \"utf-8\";\r\n    }\r\n\r\n    const buffer = new Buffer(this.buffer); // TODO: Use encoding override instead\r\n    for (let i = 0; i < buffer.length; ++i) {\r\n      if (buffer[i] < 0x21 || buffer[i] > 0x7E || buffer[i] === 0x22 || buffer[i] === 0x23 ||\r\n          buffer[i] === 0x3C || buffer[i] === 0x3E) {\r\n        this.url.query += percentEncode(buffer[i]);\r\n      } else {\r\n        this.url.query += String.fromCodePoint(buffer[i]);\r\n      }\r\n    }\r\n\r\n    this.buffer = \"\";\r\n    if (c === 35) {\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    }\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse fragment\"] = function parseFragment(c) {\r\n  if (isNaN(c)) { // do nothing\r\n  } else if (c === 0x0) {\r\n    this.parseError = true;\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.url.fragment += percentEncodeChar(c, isC0ControlPercentEncode);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nfunction serializeURL(url, excludeFragment) {\r\n  let output = url.scheme + \":\";\r\n  if (url.host !== null) {\r\n    output += \"//\";\r\n\r\n    if (url.username !== \"\" || url.password !== \"\") {\r\n      output += url.username;\r\n      if (url.password !== \"\") {\r\n        output += \":\" + url.password;\r\n      }\r\n      output += \"@\";\r\n    }\r\n\r\n    output += serializeHost(url.host);\r\n\r\n    if (url.port !== null) {\r\n      output += \":\" + url.port;\r\n    }\r\n  } else if (url.host === null && url.scheme === \"file\") {\r\n    output += \"//\";\r\n  }\r\n\r\n  if (url.cannotBeABaseURL) {\r\n    output += url.path[0];\r\n  } else {\r\n    for (const string of url.path) {\r\n      output += \"/\" + string;\r\n    }\r\n  }\r\n\r\n  if (url.query !== null) {\r\n    output += \"?\" + url.query;\r\n  }\r\n\r\n  if (!excludeFragment && url.fragment !== null) {\r\n    output += \"#\" + url.fragment;\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction serializeOrigin(tuple) {\r\n  let result = tuple.scheme + \"://\";\r\n  result += serializeHost(tuple.host);\r\n\r\n  if (tuple.port !== null) {\r\n    result += \":\" + tuple.port;\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nmodule.exports.serializeURL = serializeURL;\r\n\r\nmodule.exports.serializeURLOrigin = function (url) {\r\n  // https://url.spec.whatwg.org/#concept-url-origin\r\n  switch (url.scheme) {\r\n    case \"blob\":\r\n      try {\r\n        return module.exports.serializeURLOrigin(module.exports.parseURL(url.path[0]));\r\n      } catch (e) {\r\n        // serializing an opaque origin returns \"null\"\r\n        return \"null\";\r\n      }\r\n    case \"ftp\":\r\n    case \"gopher\":\r\n    case \"http\":\r\n    case \"https\":\r\n    case \"ws\":\r\n    case \"wss\":\r\n      return serializeOrigin({\r\n        scheme: url.scheme,\r\n        host: url.host,\r\n        port: url.port\r\n      });\r\n    case \"file\":\r\n      // spec says \"exercise to the reader\", chrome says \"file://\"\r\n      return \"file://\";\r\n    default:\r\n      // serializing an opaque origin returns \"null\"\r\n      return \"null\";\r\n  }\r\n};\r\n\r\nmodule.exports.basicURLParse = function (input, options) {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n\r\n  const usm = new URLStateMachine(input, options.baseURL, options.encodingOverride, options.url, options.stateOverride);\r\n  if (usm.failure) {\r\n    return \"failure\";\r\n  }\r\n\r\n  return usm.url;\r\n};\r\n\r\nmodule.exports.setTheUsername = function (url, username) {\r\n  url.username = \"\";\r\n  const decoded = punycode.ucs2.decode(username);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    url.username += percentEncodeChar(decoded[i], isUserinfoPercentEncode);\r\n  }\r\n};\r\n\r\nmodule.exports.setThePassword = function (url, password) {\r\n  url.password = \"\";\r\n  const decoded = punycode.ucs2.decode(password);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    url.password += percentEncodeChar(decoded[i], isUserinfoPercentEncode);\r\n  }\r\n};\r\n\r\nmodule.exports.serializeHost = serializeHost;\r\n\r\nmodule.exports.cannotHaveAUsernamePasswordPort = cannotHaveAUsernamePasswordPort;\r\n\r\nmodule.exports.serializeInteger = function (integer) {\r\n  return String(integer);\r\n};\r\n\r\nmodule.exports.parseURL = function (input, options) {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n\r\n  // We don't handle blobs, so this just delegates:\r\n  return module.exports.basicURLParse(input, { baseURL: options.baseURL, encodingOverride: options.encodingOverride });\r\n};\r\n","\"use strict\";\nconst usm = require(\"./url-state-machine\");\n\nexports.implementation = class URLImpl {\n  constructor(constructorArgs) {\n    const url = constructorArgs[0];\n    const base = constructorArgs[1];\n\n    let parsedBase = null;\n    if (base !== undefined) {\n      parsedBase = usm.basicURLParse(base);\n      if (parsedBase === \"failure\") {\n        throw new TypeError(\"Invalid base URL\");\n      }\n    }\n\n    const parsedURL = usm.basicURLParse(url, { baseURL: parsedBase });\n    if (parsedURL === \"failure\") {\n      throw new TypeError(\"Invalid URL\");\n    }\n\n    this._url = parsedURL;\n\n    // TODO: query stuff\n  }\n\n  get href() {\n    return usm.serializeURL(this._url);\n  }\n\n  set href(v) {\n    const parsedURL = usm.basicURLParse(v);\n    if (parsedURL === \"failure\") {\n      throw new TypeError(\"Invalid URL\");\n    }\n\n    this._url = parsedURL;\n  }\n\n  get origin() {\n    return usm.serializeURLOrigin(this._url);\n  }\n\n  get protocol() {\n    return this._url.scheme + \":\";\n  }\n\n  set protocol(v) {\n    usm.basicURLParse(v + \":\", { url: this._url, stateOverride: \"scheme start\" });\n  }\n\n  get username() {\n    return this._url.username;\n  }\n\n  set username(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    usm.setTheUsername(this._url, v);\n  }\n\n  get password() {\n    return this._url.password;\n  }\n\n  set password(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    usm.setThePassword(this._url, v);\n  }\n\n  get host() {\n    const url = this._url;\n\n    if (url.host === null) {\n      return \"\";\n    }\n\n    if (url.port === null) {\n      return usm.serializeHost(url.host);\n    }\n\n    return usm.serializeHost(url.host) + \":\" + usm.serializeInteger(url.port);\n  }\n\n  set host(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"host\" });\n  }\n\n  get hostname() {\n    if (this._url.host === null) {\n      return \"\";\n    }\n\n    return usm.serializeHost(this._url.host);\n  }\n\n  set hostname(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"hostname\" });\n  }\n\n  get port() {\n    if (this._url.port === null) {\n      return \"\";\n    }\n\n    return usm.serializeInteger(this._url.port);\n  }\n\n  set port(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    if (v === \"\") {\n      this._url.port = null;\n    } else {\n      usm.basicURLParse(v, { url: this._url, stateOverride: \"port\" });\n    }\n  }\n\n  get pathname() {\n    if (this._url.cannotBeABaseURL) {\n      return this._url.path[0];\n    }\n\n    if (this._url.path.length === 0) {\n      return \"\";\n    }\n\n    return \"/\" + this._url.path.join(\"/\");\n  }\n\n  set pathname(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    this._url.path = [];\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"path start\" });\n  }\n\n  get search() {\n    if (this._url.query === null || this._url.query === \"\") {\n      return \"\";\n    }\n\n    return \"?\" + this._url.query;\n  }\n\n  set search(v) {\n    // TODO: query stuff\n\n    const url = this._url;\n\n    if (v === \"\") {\n      url.query = null;\n      return;\n    }\n\n    const input = v[0] === \"?\" ? v.substring(1) : v;\n    url.query = \"\";\n    usm.basicURLParse(input, { url, stateOverride: \"query\" });\n  }\n\n  get hash() {\n    if (this._url.fragment === null || this._url.fragment === \"\") {\n      return \"\";\n    }\n\n    return \"#\" + this._url.fragment;\n  }\n\n  set hash(v) {\n    if (v === \"\") {\n      this._url.fragment = null;\n      return;\n    }\n\n    const input = v[0] === \"#\" ? v.substring(1) : v;\n    this._url.fragment = \"\";\n    usm.basicURLParse(input, { url: this._url, stateOverride: \"fragment\" });\n  }\n\n  toJSON() {\n    return this.href;\n  }\n};\n","\"use strict\";\n\nconst conversions = require(\"webidl-conversions\");\nconst utils = require(\"./utils.js\");\nconst Impl = require(\".//URL-impl.js\");\n\nconst impl = utils.implSymbol;\n\nfunction URL(url) {\n  if (!this || this[impl] || !(this instanceof URL)) {\n    throw new TypeError(\"Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.\");\n  }\n  if (arguments.length < 1) {\n    throw new TypeError(\"Failed to construct 'URL': 1 argument required, but only \" + arguments.length + \" present.\");\n  }\n  const args = [];\n  for (let i = 0; i < arguments.length && i < 2; ++i) {\n    args[i] = arguments[i];\n  }\n  args[0] = conversions[\"USVString\"](args[0]);\n  if (args[1] !== undefined) {\n  args[1] = conversions[\"USVString\"](args[1]);\n  }\n\n  module.exports.setup(this, args);\n}\n\nURL.prototype.toJSON = function toJSON() {\n  if (!this || !module.exports.is(this)) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  const args = [];\n  for (let i = 0; i < arguments.length && i < 0; ++i) {\n    args[i] = arguments[i];\n  }\n  return this[impl].toJSON.apply(this[impl], args);\n};\nObject.defineProperty(URL.prototype, \"href\", {\n  get() {\n    return this[impl].href;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].href = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nURL.prototype.toString = function () {\n  if (!this || !module.exports.is(this)) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  return this.href;\n};\n\nObject.defineProperty(URL.prototype, \"origin\", {\n  get() {\n    return this[impl].origin;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"protocol\", {\n  get() {\n    return this[impl].protocol;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].protocol = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"username\", {\n  get() {\n    return this[impl].username;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].username = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"password\", {\n  get() {\n    return this[impl].password;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].password = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"host\", {\n  get() {\n    return this[impl].host;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].host = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"hostname\", {\n  get() {\n    return this[impl].hostname;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].hostname = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"port\", {\n  get() {\n    return this[impl].port;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].port = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"pathname\", {\n  get() {\n    return this[impl].pathname;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].pathname = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"search\", {\n  get() {\n    return this[impl].search;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].search = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"hash\", {\n  get() {\n    return this[impl].hash;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].hash = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\n\nmodule.exports = {\n  is(obj) {\n    return !!obj && obj[impl] instanceof Impl.implementation;\n  },\n  create(constructorArgs, privateData) {\n    let obj = Object.create(URL.prototype);\n    this.setup(obj, constructorArgs, privateData);\n    return obj;\n  },\n  setup(obj, constructorArgs, privateData) {\n    if (!privateData) privateData = {};\n    privateData.wrapper = obj;\n\n    obj[impl] = new Impl.implementation(constructorArgs, privateData);\n    obj[impl][utils.wrapperSymbol] = obj;\n  },\n  interface: URL,\n  expose: {\n    Window: { URL: URL },\n    Worker: { URL: URL }\n  }\n};\n\n","\"use strict\";\n\nexports.URL = require(\"./URL\").interface;\nexports.serializeURL = require(\"./url-state-machine\").serializeURL;\nexports.serializeURLOrigin = require(\"./url-state-machine\").serializeURLOrigin;\nexports.basicURLParse = require(\"./url-state-machine\").basicURLParse;\nexports.setTheUsername = require(\"./url-state-machine\").setTheUsername;\nexports.setThePassword = require(\"./url-state-machine\").setThePassword;\nexports.serializeHost = require(\"./url-state-machine\").serializeHost;\nexports.serializeInteger = require(\"./url-state-machine\").serializeInteger;\nexports.parseURL = require(\"./url-state-machine\").parseURL;\n","import Stream from 'stream';\nimport http from 'http';\nimport Url from 'url';\nimport whatwgUrl from 'whatwg-url';\nimport https from 'https';\nimport zlib from 'zlib';\n\n// Based on https://github.com/tmpvar/jsdom/blob/aa85b2abf07766ff7bf5c1f6daafb3726f2f2db5/lib/jsdom/living/blob.js\n\n// fix for \"Readable\" isn't a named export issue\nconst Readable = Stream.Readable;\n\nconst BUFFER = Symbol('buffer');\nconst TYPE = Symbol('type');\n\nclass Blob {\n\tconstructor() {\n\t\tthis[TYPE] = '';\n\n\t\tconst blobParts = arguments[0];\n\t\tconst options = arguments[1];\n\n\t\tconst buffers = [];\n\t\tlet size = 0;\n\n\t\tif (blobParts) {\n\t\t\tconst a = blobParts;\n\t\t\tconst length = Number(a.length);\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst element = a[i];\n\t\t\t\tlet buffer;\n\t\t\t\tif (element instanceof Buffer) {\n\t\t\t\t\tbuffer = element;\n\t\t\t\t} else if (ArrayBuffer.isView(element)) {\n\t\t\t\t\tbuffer = Buffer.from(element.buffer, element.byteOffset, element.byteLength);\n\t\t\t\t} else if (element instanceof ArrayBuffer) {\n\t\t\t\t\tbuffer = Buffer.from(element);\n\t\t\t\t} else if (element instanceof Blob) {\n\t\t\t\t\tbuffer = element[BUFFER];\n\t\t\t\t} else {\n\t\t\t\t\tbuffer = Buffer.from(typeof element === 'string' ? element : String(element));\n\t\t\t\t}\n\t\t\t\tsize += buffer.length;\n\t\t\t\tbuffers.push(buffer);\n\t\t\t}\n\t\t}\n\n\t\tthis[BUFFER] = Buffer.concat(buffers);\n\n\t\tlet type = options && options.type !== undefined && String(options.type).toLowerCase();\n\t\tif (type && !/[^\\u0020-\\u007E]/.test(type)) {\n\t\t\tthis[TYPE] = type;\n\t\t}\n\t}\n\tget size() {\n\t\treturn this[BUFFER].length;\n\t}\n\tget type() {\n\t\treturn this[TYPE];\n\t}\n\ttext() {\n\t\treturn Promise.resolve(this[BUFFER].toString());\n\t}\n\tarrayBuffer() {\n\t\tconst buf = this[BUFFER];\n\t\tconst ab = buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\treturn Promise.resolve(ab);\n\t}\n\tstream() {\n\t\tconst readable = new Readable();\n\t\treadable._read = function () {};\n\t\treadable.push(this[BUFFER]);\n\t\treadable.push(null);\n\t\treturn readable;\n\t}\n\ttoString() {\n\t\treturn '[object Blob]';\n\t}\n\tslice() {\n\t\tconst size = this.size;\n\n\t\tconst start = arguments[0];\n\t\tconst end = arguments[1];\n\t\tlet relativeStart, relativeEnd;\n\t\tif (start === undefined) {\n\t\t\trelativeStart = 0;\n\t\t} else if (start < 0) {\n\t\t\trelativeStart = Math.max(size + start, 0);\n\t\t} else {\n\t\t\trelativeStart = Math.min(start, size);\n\t\t}\n\t\tif (end === undefined) {\n\t\t\trelativeEnd = size;\n\t\t} else if (end < 0) {\n\t\t\trelativeEnd = Math.max(size + end, 0);\n\t\t} else {\n\t\t\trelativeEnd = Math.min(end, size);\n\t\t}\n\t\tconst span = Math.max(relativeEnd - relativeStart, 0);\n\n\t\tconst buffer = this[BUFFER];\n\t\tconst slicedBuffer = buffer.slice(relativeStart, relativeStart + span);\n\t\tconst blob = new Blob([], { type: arguments[2] });\n\t\tblob[BUFFER] = slicedBuffer;\n\t\treturn blob;\n\t}\n}\n\nObject.defineProperties(Blob.prototype, {\n\tsize: { enumerable: true },\n\ttype: { enumerable: true },\n\tslice: { enumerable: true }\n});\n\nObject.defineProperty(Blob.prototype, Symbol.toStringTag, {\n\tvalue: 'Blob',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * fetch-error.js\n *\n * FetchError interface for operational errors\n */\n\n/**\n * Create FetchError instance\n *\n * @param   String      message      Error message for human\n * @param   String      type         Error type for machine\n * @param   String      systemError  For Node.js system error\n * @return  FetchError\n */\nfunction FetchError(message, type, systemError) {\n  Error.call(this, message);\n\n  this.message = message;\n  this.type = type;\n\n  // when err.type is `system`, err.code contains system error code\n  if (systemError) {\n    this.code = this.errno = systemError.code;\n  }\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nFetchError.prototype = Object.create(Error.prototype);\nFetchError.prototype.constructor = FetchError;\nFetchError.prototype.name = 'FetchError';\n\nlet convert;\ntry {\n\tconvert = require('encoding').convert;\n} catch (e) {}\n\nconst INTERNALS = Symbol('Body internals');\n\n// fix an issue where \"PassThrough\" isn't a named export for node <10\nconst PassThrough = Stream.PassThrough;\n\n/**\n * Body mixin\n *\n * Ref: https://fetch.spec.whatwg.org/#body\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nfunction Body(body) {\n\tvar _this = this;\n\n\tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t    _ref$size = _ref.size;\n\n\tlet size = _ref$size === undefined ? 0 : _ref$size;\n\tvar _ref$timeout = _ref.timeout;\n\tlet timeout = _ref$timeout === undefined ? 0 : _ref$timeout;\n\n\tif (body == null) {\n\t\t// body is undefined or null\n\t\tbody = null;\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\tbody = Buffer.from(body.toString());\n\t} else if (isBlob(body)) ; else if (Buffer.isBuffer(body)) ; else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\tbody = Buffer.from(body);\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\tbody = Buffer.from(body.buffer, body.byteOffset, body.byteLength);\n\t} else if (body instanceof Stream) ; else {\n\t\t// none of the above\n\t\t// coerce to string then buffer\n\t\tbody = Buffer.from(String(body));\n\t}\n\tthis[INTERNALS] = {\n\t\tbody,\n\t\tdisturbed: false,\n\t\terror: null\n\t};\n\tthis.size = size;\n\tthis.timeout = timeout;\n\n\tif (body instanceof Stream) {\n\t\tbody.on('error', function (err) {\n\t\t\tconst error = err.name === 'AbortError' ? err : new FetchError(`Invalid response body while trying to fetch ${_this.url}: ${err.message}`, 'system', err);\n\t\t\t_this[INTERNALS].error = error;\n\t\t});\n\t}\n}\n\nBody.prototype = {\n\tget body() {\n\t\treturn this[INTERNALS].body;\n\t},\n\n\tget bodyUsed() {\n\t\treturn this[INTERNALS].disturbed;\n\t},\n\n\t/**\n  * Decode response as ArrayBuffer\n  *\n  * @return  Promise\n  */\n\tarrayBuffer() {\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\t});\n\t},\n\n\t/**\n  * Return raw response as Blob\n  *\n  * @return Promise\n  */\n\tblob() {\n\t\tlet ct = this.headers && this.headers.get('content-type') || '';\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn Object.assign(\n\t\t\t// Prevent copying\n\t\t\tnew Blob([], {\n\t\t\t\ttype: ct.toLowerCase()\n\t\t\t}), {\n\t\t\t\t[BUFFER]: buf\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n  * Decode response as json\n  *\n  * @return  Promise\n  */\n\tjson() {\n\t\tvar _this2 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(buffer.toString());\n\t\t\t} catch (err) {\n\t\t\t\treturn Body.Promise.reject(new FetchError(`invalid json response body at ${_this2.url} reason: ${err.message}`, 'invalid-json'));\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n  * Decode response as text\n  *\n  * @return  Promise\n  */\n\ttext() {\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn buffer.toString();\n\t\t});\n\t},\n\n\t/**\n  * Decode response as buffer (non-spec api)\n  *\n  * @return  Promise\n  */\n\tbuffer() {\n\t\treturn consumeBody.call(this);\n\t},\n\n\t/**\n  * Decode response as text, while automatically detecting the encoding and\n  * trying to decode to UTF-8 (non-spec api)\n  *\n  * @return  Promise\n  */\n\ttextConverted() {\n\t\tvar _this3 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn convertBody(buffer, _this3.headers);\n\t\t});\n\t}\n};\n\n// In browsers, all properties are enumerable.\nObject.defineProperties(Body.prototype, {\n\tbody: { enumerable: true },\n\tbodyUsed: { enumerable: true },\n\tarrayBuffer: { enumerable: true },\n\tblob: { enumerable: true },\n\tjson: { enumerable: true },\n\ttext: { enumerable: true }\n});\n\nBody.mixIn = function (proto) {\n\tfor (const name of Object.getOwnPropertyNames(Body.prototype)) {\n\t\t// istanbul ignore else: future proof\n\t\tif (!(name in proto)) {\n\t\t\tconst desc = Object.getOwnPropertyDescriptor(Body.prototype, name);\n\t\t\tObject.defineProperty(proto, name, desc);\n\t\t}\n\t}\n};\n\n/**\n * Consume and convert an entire Body to a Buffer.\n *\n * Ref: https://fetch.spec.whatwg.org/#concept-body-consume-body\n *\n * @return  Promise\n */\nfunction consumeBody() {\n\tvar _this4 = this;\n\n\tif (this[INTERNALS].disturbed) {\n\t\treturn Body.Promise.reject(new TypeError(`body used already for: ${this.url}`));\n\t}\n\n\tthis[INTERNALS].disturbed = true;\n\n\tif (this[INTERNALS].error) {\n\t\treturn Body.Promise.reject(this[INTERNALS].error);\n\t}\n\n\tlet body = this.body;\n\n\t// body is null\n\tif (body === null) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is blob\n\tif (isBlob(body)) {\n\t\tbody = body.stream();\n\t}\n\n\t// body is buffer\n\tif (Buffer.isBuffer(body)) {\n\t\treturn Body.Promise.resolve(body);\n\t}\n\n\t// istanbul ignore if: should never happen\n\tif (!(body instanceof Stream)) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is stream\n\t// get ready to actually consume the body\n\tlet accum = [];\n\tlet accumBytes = 0;\n\tlet abort = false;\n\n\treturn new Body.Promise(function (resolve, reject) {\n\t\tlet resTimeout;\n\n\t\t// allow timeout on slow response body\n\t\tif (_this4.timeout) {\n\t\t\tresTimeout = setTimeout(function () {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`Response timeout while trying to fetch ${_this4.url} (over ${_this4.timeout}ms)`, 'body-timeout'));\n\t\t\t}, _this4.timeout);\n\t\t}\n\n\t\t// handle stream errors\n\t\tbody.on('error', function (err) {\n\t\t\tif (err.name === 'AbortError') {\n\t\t\t\t// if the request was aborted, reject with this Error\n\t\t\t\tabort = true;\n\t\t\t\treject(err);\n\t\t\t} else {\n\t\t\t\t// other errors, such as incorrect content-encoding\n\t\t\t\treject(new FetchError(`Invalid response body while trying to fetch ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\n\t\tbody.on('data', function (chunk) {\n\t\t\tif (abort || chunk === null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (_this4.size && accumBytes + chunk.length > _this4.size) {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`content size at ${_this4.url} over limit: ${_this4.size}`, 'max-size'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\taccumBytes += chunk.length;\n\t\t\taccum.push(chunk);\n\t\t});\n\n\t\tbody.on('end', function () {\n\t\t\tif (abort) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearTimeout(resTimeout);\n\n\t\t\ttry {\n\t\t\t\tresolve(Buffer.concat(accum, accumBytes));\n\t\t\t} catch (err) {\n\t\t\t\t// handle streams that have accumulated too much data (issue #414)\n\t\t\t\treject(new FetchError(`Could not create Buffer from response body for ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Detect buffer encoding and convert to target encoding\n * ref: http://www.w3.org/TR/2011/WD-html5-20110113/parsing.html#determining-the-character-encoding\n *\n * @param   Buffer  buffer    Incoming buffer\n * @param   String  encoding  Target encoding\n * @return  String\n */\nfunction convertBody(buffer, headers) {\n\tif (typeof convert !== 'function') {\n\t\tthrow new Error('The package `encoding` must be installed to use the textConverted() function');\n\t}\n\n\tconst ct = headers.get('content-type');\n\tlet charset = 'utf-8';\n\tlet res, str;\n\n\t// header\n\tif (ct) {\n\t\tres = /charset=([^;]*)/i.exec(ct);\n\t}\n\n\t// no charset in content type, peek at response body for at most 1024 bytes\n\tstr = buffer.slice(0, 1024).toString();\n\n\t// html5\n\tif (!res && str) {\n\t\tres = /<meta.+?charset=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// html4\n\tif (!res && str) {\n\t\tres = /<meta[\\s]+?http-equiv=(['\"])content-type\\1[\\s]+?content=(['\"])(.+?)\\2/i.exec(str);\n\t\tif (!res) {\n\t\t\tres = /<meta[\\s]+?content=(['\"])(.+?)\\1[\\s]+?http-equiv=(['\"])content-type\\3/i.exec(str);\n\t\t\tif (res) {\n\t\t\t\tres.pop(); // drop last quote\n\t\t\t}\n\t\t}\n\n\t\tif (res) {\n\t\t\tres = /charset=(.*)/i.exec(res.pop());\n\t\t}\n\t}\n\n\t// xml\n\tif (!res && str) {\n\t\tres = /<\\?xml.+?encoding=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// found charset\n\tif (res) {\n\t\tcharset = res.pop();\n\n\t\t// prevent decode issues when sites use incorrect encoding\n\t\t// ref: https://hsivonen.fi/encoding-menu/\n\t\tif (charset === 'gb2312' || charset === 'gbk') {\n\t\t\tcharset = 'gb18030';\n\t\t}\n\t}\n\n\t// turn raw buffers into a single utf-8 buffer\n\treturn convert(buffer, 'UTF-8', charset).toString();\n}\n\n/**\n * Detect a URLSearchParams object\n * ref: https://github.com/bitinn/node-fetch/issues/296#issuecomment-307598143\n *\n * @param   Object  obj     Object to detect by type or brand\n * @return  String\n */\nfunction isURLSearchParams(obj) {\n\t// Duck-typing as a necessary condition.\n\tif (typeof obj !== 'object' || typeof obj.append !== 'function' || typeof obj.delete !== 'function' || typeof obj.get !== 'function' || typeof obj.getAll !== 'function' || typeof obj.has !== 'function' || typeof obj.set !== 'function') {\n\t\treturn false;\n\t}\n\n\t// Brand-checking and more duck-typing as optional condition.\n\treturn obj.constructor.name === 'URLSearchParams' || Object.prototype.toString.call(obj) === '[object URLSearchParams]' || typeof obj.sort === 'function';\n}\n\n/**\n * Check if `obj` is a W3C `Blob` object (which `File` inherits from)\n * @param  {*} obj\n * @return {boolean}\n */\nfunction isBlob(obj) {\n\treturn typeof obj === 'object' && typeof obj.arrayBuffer === 'function' && typeof obj.type === 'string' && typeof obj.stream === 'function' && typeof obj.constructor === 'function' && typeof obj.constructor.name === 'string' && /^(Blob|File)$/.test(obj.constructor.name) && /^(Blob|File)$/.test(obj[Symbol.toStringTag]);\n}\n\n/**\n * Clone body given Res/Req instance\n *\n * @param   Mixed  instance  Response or Request instance\n * @return  Mixed\n */\nfunction clone(instance) {\n\tlet p1, p2;\n\tlet body = instance.body;\n\n\t// don't allow cloning a used body\n\tif (instance.bodyUsed) {\n\t\tthrow new Error('cannot clone body after it is used');\n\t}\n\n\t// check that body is a stream and not form-data object\n\t// note: we can't clone the form-data object without having it as a dependency\n\tif (body instanceof Stream && typeof body.getBoundary !== 'function') {\n\t\t// tee instance body\n\t\tp1 = new PassThrough();\n\t\tp2 = new PassThrough();\n\t\tbody.pipe(p1);\n\t\tbody.pipe(p2);\n\t\t// set instance body to teed body and return the other teed body\n\t\tinstance[INTERNALS].body = p1;\n\t\tbody = p2;\n\t}\n\n\treturn body;\n}\n\n/**\n * Performs the operation \"extract a `Content-Type` value from |object|\" as\n * specified in the specification:\n * https://fetch.spec.whatwg.org/#concept-bodyinit-extract\n *\n * This function assumes that instance.body is present.\n *\n * @param   Mixed  instance  Any options.body input\n */\nfunction extractContentType(body) {\n\tif (body === null) {\n\t\t// body is null\n\t\treturn null;\n\t} else if (typeof body === 'string') {\n\t\t// body is string\n\t\treturn 'text/plain;charset=UTF-8';\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\treturn 'application/x-www-form-urlencoded;charset=UTF-8';\n\t} else if (isBlob(body)) {\n\t\t// body is blob\n\t\treturn body.type || null;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn null;\n\t} else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\treturn null;\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\treturn null;\n\t} else if (typeof body.getBoundary === 'function') {\n\t\t// detect form data input from form-data module\n\t\treturn `multipart/form-data;boundary=${body.getBoundary()}`;\n\t} else if (body instanceof Stream) {\n\t\t// body is stream\n\t\t// can't really do much about this\n\t\treturn null;\n\t} else {\n\t\t// Body constructor defaults other things to string\n\t\treturn 'text/plain;charset=UTF-8';\n\t}\n}\n\n/**\n * The Fetch Standard treats this as if \"total bytes\" is a property on the body.\n * For us, we have to explicitly get it with a function.\n *\n * ref: https://fetch.spec.whatwg.org/#concept-body-total-bytes\n *\n * @param   Body    instance   Instance of Body\n * @return  Number?            Number of bytes, or null if not possible\n */\nfunction getTotalBytes(instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\treturn 0;\n\t} else if (isBlob(body)) {\n\t\treturn body.size;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn body.length;\n\t} else if (body && typeof body.getLengthSync === 'function') {\n\t\t// detect form data input from form-data module\n\t\tif (body._lengthRetrievers && body._lengthRetrievers.length == 0 || // 1.x\n\t\tbody.hasKnownLength && body.hasKnownLength()) {\n\t\t\t// 2.x\n\t\t\treturn body.getLengthSync();\n\t\t}\n\t\treturn null;\n\t} else {\n\t\t// body is stream\n\t\treturn null;\n\t}\n}\n\n/**\n * Write a Body to a Node.js WritableStream (e.g. http.Request) object.\n *\n * @param   Body    instance   Instance of Body\n * @return  Void\n */\nfunction writeToStream(dest, instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\tdest.end();\n\t} else if (isBlob(body)) {\n\t\tbody.stream().pipe(dest);\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\tdest.write(body);\n\t\tdest.end();\n\t} else {\n\t\t// body is stream\n\t\tbody.pipe(dest);\n\t}\n}\n\n// expose Promise\nBody.Promise = global.Promise;\n\n/**\n * headers.js\n *\n * Headers class offers convenient helpers\n */\n\nconst invalidTokenRegex = /[^\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]/;\nconst invalidHeaderCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/;\n\nfunction validateName(name) {\n\tname = `${name}`;\n\tif (invalidTokenRegex.test(name) || name === '') {\n\t\tthrow new TypeError(`${name} is not a legal HTTP header name`);\n\t}\n}\n\nfunction validateValue(value) {\n\tvalue = `${value}`;\n\tif (invalidHeaderCharRegex.test(value)) {\n\t\tthrow new TypeError(`${value} is not a legal HTTP header value`);\n\t}\n}\n\n/**\n * Find the key in the map object given a header name.\n *\n * Returns undefined if not found.\n *\n * @param   String  name  Header name\n * @return  String|Undefined\n */\nfunction find(map, name) {\n\tname = name.toLowerCase();\n\tfor (const key in map) {\n\t\tif (key.toLowerCase() === name) {\n\t\t\treturn key;\n\t\t}\n\t}\n\treturn undefined;\n}\n\nconst MAP = Symbol('map');\nclass Headers {\n\t/**\n  * Headers class\n  *\n  * @param   Object  headers  Response headers\n  * @return  Void\n  */\n\tconstructor() {\n\t\tlet init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n\t\tthis[MAP] = Object.create(null);\n\n\t\tif (init instanceof Headers) {\n\t\t\tconst rawHeaders = init.raw();\n\t\t\tconst headerNames = Object.keys(rawHeaders);\n\n\t\t\tfor (const headerName of headerNames) {\n\t\t\t\tfor (const value of rawHeaders[headerName]) {\n\t\t\t\t\tthis.append(headerName, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// We don't worry about converting prop to ByteString here as append()\n\t\t// will handle it.\n\t\tif (init == null) ; else if (typeof init === 'object') {\n\t\t\tconst method = init[Symbol.iterator];\n\t\t\tif (method != null) {\n\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\tthrow new TypeError('Header pairs must be iterable');\n\t\t\t\t}\n\n\t\t\t\t// sequence<sequence<ByteString>>\n\t\t\t\t// Note: per spec we have to first exhaust the lists then process them\n\t\t\t\tconst pairs = [];\n\t\t\t\tfor (const pair of init) {\n\t\t\t\t\tif (typeof pair !== 'object' || typeof pair[Symbol.iterator] !== 'function') {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be iterable');\n\t\t\t\t\t}\n\t\t\t\t\tpairs.push(Array.from(pair));\n\t\t\t\t}\n\n\t\t\t\tfor (const pair of pairs) {\n\t\t\t\t\tif (pair.length !== 2) {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be a name/value tuple');\n\t\t\t\t\t}\n\t\t\t\t\tthis.append(pair[0], pair[1]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// record<ByteString, ByteString>\n\t\t\t\tfor (const key of Object.keys(init)) {\n\t\t\t\t\tconst value = init[key];\n\t\t\t\t\tthis.append(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new TypeError('Provided initializer must be an object');\n\t\t}\n\t}\n\n\t/**\n  * Return combined header value given name\n  *\n  * @param   String  name  Header name\n  * @return  Mixed\n  */\n\tget(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key === undefined) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this[MAP][key].join(', ');\n\t}\n\n\t/**\n  * Iterate over all headers\n  *\n  * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)\n  * @param   Boolean   thisArg   `this` context for callback function\n  * @return  Void\n  */\n\tforEach(callback) {\n\t\tlet thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n\t\tlet pairs = getHeaders(this);\n\t\tlet i = 0;\n\t\twhile (i < pairs.length) {\n\t\t\tvar _pairs$i = pairs[i];\n\t\t\tconst name = _pairs$i[0],\n\t\t\t      value = _pairs$i[1];\n\n\t\t\tcallback.call(thisArg, value, name, this);\n\t\t\tpairs = getHeaders(this);\n\t\t\ti++;\n\t\t}\n\t}\n\n\t/**\n  * Overwrite header values given name\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tset(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tthis[MAP][key !== undefined ? key : name] = [value];\n\t}\n\n\t/**\n  * Append a value onto existing header\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tappend(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tthis[MAP][key].push(value);\n\t\t} else {\n\t\t\tthis[MAP][name] = [value];\n\t\t}\n\t}\n\n\t/**\n  * Check for header name existence\n  *\n  * @param   String   name  Header name\n  * @return  Boolean\n  */\n\thas(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\treturn find(this[MAP], name) !== undefined;\n\t}\n\n\t/**\n  * Delete all header values given name\n  *\n  * @param   String  name  Header name\n  * @return  Void\n  */\n\tdelete(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tdelete this[MAP][key];\n\t\t}\n\t}\n\n\t/**\n  * Return raw headers (non-spec api)\n  *\n  * @return  Object\n  */\n\traw() {\n\t\treturn this[MAP];\n\t}\n\n\t/**\n  * Get an iterator on keys.\n  *\n  * @return  Iterator\n  */\n\tkeys() {\n\t\treturn createHeadersIterator(this, 'key');\n\t}\n\n\t/**\n  * Get an iterator on values.\n  *\n  * @return  Iterator\n  */\n\tvalues() {\n\t\treturn createHeadersIterator(this, 'value');\n\t}\n\n\t/**\n  * Get an iterator on entries.\n  *\n  * This is the default iterator of the Headers object.\n  *\n  * @return  Iterator\n  */\n\t[Symbol.iterator]() {\n\t\treturn createHeadersIterator(this, 'key+value');\n\t}\n}\nHeaders.prototype.entries = Headers.prototype[Symbol.iterator];\n\nObject.defineProperty(Headers.prototype, Symbol.toStringTag, {\n\tvalue: 'Headers',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Headers.prototype, {\n\tget: { enumerable: true },\n\tforEach: { enumerable: true },\n\tset: { enumerable: true },\n\tappend: { enumerable: true },\n\thas: { enumerable: true },\n\tdelete: { enumerable: true },\n\tkeys: { enumerable: true },\n\tvalues: { enumerable: true },\n\tentries: { enumerable: true }\n});\n\nfunction getHeaders(headers) {\n\tlet kind = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'key+value';\n\n\tconst keys = Object.keys(headers[MAP]).sort();\n\treturn keys.map(kind === 'key' ? function (k) {\n\t\treturn k.toLowerCase();\n\t} : kind === 'value' ? function (k) {\n\t\treturn headers[MAP][k].join(', ');\n\t} : function (k) {\n\t\treturn [k.toLowerCase(), headers[MAP][k].join(', ')];\n\t});\n}\n\nconst INTERNAL = Symbol('internal');\n\nfunction createHeadersIterator(target, kind) {\n\tconst iterator = Object.create(HeadersIteratorPrototype);\n\titerator[INTERNAL] = {\n\t\ttarget,\n\t\tkind,\n\t\tindex: 0\n\t};\n\treturn iterator;\n}\n\nconst HeadersIteratorPrototype = Object.setPrototypeOf({\n\tnext() {\n\t\t// istanbul ignore if\n\t\tif (!this || Object.getPrototypeOf(this) !== HeadersIteratorPrototype) {\n\t\t\tthrow new TypeError('Value of `this` is not a HeadersIterator');\n\t\t}\n\n\t\tvar _INTERNAL = this[INTERNAL];\n\t\tconst target = _INTERNAL.target,\n\t\t      kind = _INTERNAL.kind,\n\t\t      index = _INTERNAL.index;\n\n\t\tconst values = getHeaders(target, kind);\n\t\tconst len = values.length;\n\t\tif (index >= len) {\n\t\t\treturn {\n\t\t\t\tvalue: undefined,\n\t\t\t\tdone: true\n\t\t\t};\n\t\t}\n\n\t\tthis[INTERNAL].index = index + 1;\n\n\t\treturn {\n\t\t\tvalue: values[index],\n\t\t\tdone: false\n\t\t};\n\t}\n}, Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));\n\nObject.defineProperty(HeadersIteratorPrototype, Symbol.toStringTag, {\n\tvalue: 'HeadersIterator',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * Export the Headers object in a form that Node.js can consume.\n *\n * @param   Headers  headers\n * @return  Object\n */\nfunction exportNodeCompatibleHeaders(headers) {\n\tconst obj = Object.assign({ __proto__: null }, headers[MAP]);\n\n\t// http.request() only supports string as Host header. This hack makes\n\t// specifying custom Host header possible.\n\tconst hostHeaderKey = find(headers[MAP], 'Host');\n\tif (hostHeaderKey !== undefined) {\n\t\tobj[hostHeaderKey] = obj[hostHeaderKey][0];\n\t}\n\n\treturn obj;\n}\n\n/**\n * Create a Headers object from an object of headers, ignoring those that do\n * not conform to HTTP grammar productions.\n *\n * @param   Object  obj  Object of headers\n * @return  Headers\n */\nfunction createHeadersLenient(obj) {\n\tconst headers = new Headers();\n\tfor (const name of Object.keys(obj)) {\n\t\tif (invalidTokenRegex.test(name)) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (Array.isArray(obj[name])) {\n\t\t\tfor (const val of obj[name]) {\n\t\t\t\tif (invalidHeaderCharRegex.test(val)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (headers[MAP][name] === undefined) {\n\t\t\t\t\theaders[MAP][name] = [val];\n\t\t\t\t} else {\n\t\t\t\t\theaders[MAP][name].push(val);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (!invalidHeaderCharRegex.test(obj[name])) {\n\t\t\theaders[MAP][name] = [obj[name]];\n\t\t}\n\t}\n\treturn headers;\n}\n\nconst INTERNALS$1 = Symbol('Response internals');\n\n// fix an issue where \"STATUS_CODES\" aren't a named export for node <10\nconst STATUS_CODES = http.STATUS_CODES;\n\n/**\n * Response class\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nclass Response {\n\tconstructor() {\n\t\tlet body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\tlet opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tBody.call(this, body, opts);\n\n\t\tconst status = opts.status || 200;\n\t\tconst headers = new Headers(opts.headers);\n\n\t\tif (body != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(body);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tthis[INTERNALS$1] = {\n\t\t\turl: opts.url,\n\t\t\tstatus,\n\t\t\tstatusText: opts.statusText || STATUS_CODES[status],\n\t\t\theaders,\n\t\t\tcounter: opts.counter\n\t\t};\n\t}\n\n\tget url() {\n\t\treturn this[INTERNALS$1].url || '';\n\t}\n\n\tget status() {\n\t\treturn this[INTERNALS$1].status;\n\t}\n\n\t/**\n  * Convenience property representing if the request ended normally\n  */\n\tget ok() {\n\t\treturn this[INTERNALS$1].status >= 200 && this[INTERNALS$1].status < 300;\n\t}\n\n\tget redirected() {\n\t\treturn this[INTERNALS$1].counter > 0;\n\t}\n\n\tget statusText() {\n\t\treturn this[INTERNALS$1].statusText;\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$1].headers;\n\t}\n\n\t/**\n  * Clone this response\n  *\n  * @return  Response\n  */\n\tclone() {\n\t\treturn new Response(clone(this), {\n\t\t\turl: this.url,\n\t\t\tstatus: this.status,\n\t\t\tstatusText: this.statusText,\n\t\t\theaders: this.headers,\n\t\t\tok: this.ok,\n\t\t\tredirected: this.redirected\n\t\t});\n\t}\n}\n\nBody.mixIn(Response.prototype);\n\nObject.defineProperties(Response.prototype, {\n\turl: { enumerable: true },\n\tstatus: { enumerable: true },\n\tok: { enumerable: true },\n\tredirected: { enumerable: true },\n\tstatusText: { enumerable: true },\n\theaders: { enumerable: true },\n\tclone: { enumerable: true }\n});\n\nObject.defineProperty(Response.prototype, Symbol.toStringTag, {\n\tvalue: 'Response',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nconst INTERNALS$2 = Symbol('Request internals');\nconst URL = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"format\", \"parse\" aren't a named export for node <10\nconst parse_url = Url.parse;\nconst format_url = Url.format;\n\n/**\n * Wrapper around `new URL` to handle arbitrary URLs\n *\n * @param  {string} urlStr\n * @return {void}\n */\nfunction parseURL(urlStr) {\n\t/*\n \tCheck whether the URL is absolute or not\n \t\tScheme: https://tools.ietf.org/html/rfc3986#section-3.1\n \tAbsolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\n */\n\tif (/^[a-zA-Z][a-zA-Z\\d+\\-.]*:/.exec(urlStr)) {\n\t\turlStr = new URL(urlStr).toString();\n\t}\n\n\t// Fallback to old implementation for arbitrary URLs\n\treturn parse_url(urlStr);\n}\n\nconst streamDestructionSupported = 'destroy' in Stream.Readable.prototype;\n\n/**\n * Check if a value is an instance of Request.\n *\n * @param   Mixed   input\n * @return  Boolean\n */\nfunction isRequest(input) {\n\treturn typeof input === 'object' && typeof input[INTERNALS$2] === 'object';\n}\n\nfunction isAbortSignal(signal) {\n\tconst proto = signal && typeof signal === 'object' && Object.getPrototypeOf(signal);\n\treturn !!(proto && proto.constructor.name === 'AbortSignal');\n}\n\n/**\n * Request class\n *\n * @param   Mixed   input  Url or Request instance\n * @param   Object  init   Custom options\n * @return  Void\n */\nclass Request {\n\tconstructor(input) {\n\t\tlet init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tlet parsedURL;\n\n\t\t// normalize input\n\t\tif (!isRequest(input)) {\n\t\t\tif (input && input.href) {\n\t\t\t\t// in order to support Node.js' Url objects; though WHATWG's URL objects\n\t\t\t\t// will fall into this branch also (since their `toString()` will return\n\t\t\t\t// `href` property anyway)\n\t\t\t\tparsedURL = parseURL(input.href);\n\t\t\t} else {\n\t\t\t\t// coerce input to a string before attempting to parse\n\t\t\t\tparsedURL = parseURL(`${input}`);\n\t\t\t}\n\t\t\tinput = {};\n\t\t} else {\n\t\t\tparsedURL = parseURL(input.url);\n\t\t}\n\n\t\tlet method = init.method || input.method || 'GET';\n\t\tmethod = method.toUpperCase();\n\n\t\tif ((init.body != null || isRequest(input) && input.body !== null) && (method === 'GET' || method === 'HEAD')) {\n\t\t\tthrow new TypeError('Request with GET/HEAD method cannot have body');\n\t\t}\n\n\t\tlet inputBody = init.body != null ? init.body : isRequest(input) && input.body !== null ? clone(input) : null;\n\n\t\tBody.call(this, inputBody, {\n\t\t\ttimeout: init.timeout || input.timeout || 0,\n\t\t\tsize: init.size || input.size || 0\n\t\t});\n\n\t\tconst headers = new Headers(init.headers || input.headers || {});\n\n\t\tif (inputBody != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(inputBody);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tlet signal = isRequest(input) ? input.signal : null;\n\t\tif ('signal' in init) signal = init.signal;\n\n\t\tif (signal != null && !isAbortSignal(signal)) {\n\t\t\tthrow new TypeError('Expected signal to be an instanceof AbortSignal');\n\t\t}\n\n\t\tthis[INTERNALS$2] = {\n\t\t\tmethod,\n\t\t\tredirect: init.redirect || input.redirect || 'follow',\n\t\t\theaders,\n\t\t\tparsedURL,\n\t\t\tsignal\n\t\t};\n\n\t\t// node-fetch-only options\n\t\tthis.follow = init.follow !== undefined ? init.follow : input.follow !== undefined ? input.follow : 20;\n\t\tthis.compress = init.compress !== undefined ? init.compress : input.compress !== undefined ? input.compress : true;\n\t\tthis.counter = init.counter || input.counter || 0;\n\t\tthis.agent = init.agent || input.agent;\n\t}\n\n\tget method() {\n\t\treturn this[INTERNALS$2].method;\n\t}\n\n\tget url() {\n\t\treturn format_url(this[INTERNALS$2].parsedURL);\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$2].headers;\n\t}\n\n\tget redirect() {\n\t\treturn this[INTERNALS$2].redirect;\n\t}\n\n\tget signal() {\n\t\treturn this[INTERNALS$2].signal;\n\t}\n\n\t/**\n  * Clone this request\n  *\n  * @return  Request\n  */\n\tclone() {\n\t\treturn new Request(this);\n\t}\n}\n\nBody.mixIn(Request.prototype);\n\nObject.defineProperty(Request.prototype, Symbol.toStringTag, {\n\tvalue: 'Request',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Request.prototype, {\n\tmethod: { enumerable: true },\n\turl: { enumerable: true },\n\theaders: { enumerable: true },\n\tredirect: { enumerable: true },\n\tclone: { enumerable: true },\n\tsignal: { enumerable: true }\n});\n\n/**\n * Convert a Request to Node.js http request options.\n *\n * @param   Request  A Request instance\n * @return  Object   The options object to be passed to http.request\n */\nfunction getNodeRequestOptions(request) {\n\tconst parsedURL = request[INTERNALS$2].parsedURL;\n\tconst headers = new Headers(request[INTERNALS$2].headers);\n\n\t// fetch step 1.3\n\tif (!headers.has('Accept')) {\n\t\theaders.set('Accept', '*/*');\n\t}\n\n\t// Basic fetch\n\tif (!parsedURL.protocol || !parsedURL.hostname) {\n\t\tthrow new TypeError('Only absolute URLs are supported');\n\t}\n\n\tif (!/^https?:$/.test(parsedURL.protocol)) {\n\t\tthrow new TypeError('Only HTTP(S) protocols are supported');\n\t}\n\n\tif (request.signal && request.body instanceof Stream.Readable && !streamDestructionSupported) {\n\t\tthrow new Error('Cancellation of streamed requests with AbortSignal is not supported in node < 8');\n\t}\n\n\t// HTTP-network-or-cache fetch steps 2.4-2.7\n\tlet contentLengthValue = null;\n\tif (request.body == null && /^(POST|PUT)$/i.test(request.method)) {\n\t\tcontentLengthValue = '0';\n\t}\n\tif (request.body != null) {\n\t\tconst totalBytes = getTotalBytes(request);\n\t\tif (typeof totalBytes === 'number') {\n\t\t\tcontentLengthValue = String(totalBytes);\n\t\t}\n\t}\n\tif (contentLengthValue) {\n\t\theaders.set('Content-Length', contentLengthValue);\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.11\n\tif (!headers.has('User-Agent')) {\n\t\theaders.set('User-Agent', 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)');\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.15\n\tif (request.compress && !headers.has('Accept-Encoding')) {\n\t\theaders.set('Accept-Encoding', 'gzip,deflate');\n\t}\n\n\tlet agent = request.agent;\n\tif (typeof agent === 'function') {\n\t\tagent = agent(parsedURL);\n\t}\n\n\tif (!headers.has('Connection') && !agent) {\n\t\theaders.set('Connection', 'close');\n\t}\n\n\t// HTTP-network fetch step 4.2\n\t// chunked encoding is handled by Node.js\n\n\treturn Object.assign({}, parsedURL, {\n\t\tmethod: request.method,\n\t\theaders: exportNodeCompatibleHeaders(headers),\n\t\tagent\n\t});\n}\n\n/**\n * abort-error.js\n *\n * AbortError interface for cancelled requests\n */\n\n/**\n * Create AbortError instance\n *\n * @param   String      message      Error message for human\n * @return  AbortError\n */\nfunction AbortError(message) {\n  Error.call(this, message);\n\n  this.type = 'aborted';\n  this.message = message;\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nAbortError.prototype = Object.create(Error.prototype);\nAbortError.prototype.constructor = AbortError;\nAbortError.prototype.name = 'AbortError';\n\nconst URL$1 = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"PassThrough\", \"resolve\" aren't a named export for node <10\nconst PassThrough$1 = Stream.PassThrough;\n\nconst isDomainOrSubdomain = function isDomainOrSubdomain(destination, original) {\n\tconst orig = new URL$1(original).hostname;\n\tconst dest = new URL$1(destination).hostname;\n\n\treturn orig === dest || orig[orig.length - dest.length - 1] === '.' && orig.endsWith(dest);\n};\n\n/**\n * Fetch function\n *\n * @param   Mixed    url   Absolute url or Request instance\n * @param   Object   opts  Fetch options\n * @return  Promise\n */\nfunction fetch(url, opts) {\n\n\t// allow custom promise\n\tif (!fetch.Promise) {\n\t\tthrow new Error('native promise missing, set fetch.Promise to your favorite alternative');\n\t}\n\n\tBody.Promise = fetch.Promise;\n\n\t// wrap http.request into fetch\n\treturn new fetch.Promise(function (resolve, reject) {\n\t\t// build request object\n\t\tconst request = new Request(url, opts);\n\t\tconst options = getNodeRequestOptions(request);\n\n\t\tconst send = (options.protocol === 'https:' ? https : http).request;\n\t\tconst signal = request.signal;\n\n\t\tlet response = null;\n\n\t\tconst abort = function abort() {\n\t\t\tlet error = new AbortError('The user aborted a request.');\n\t\t\treject(error);\n\t\t\tif (request.body && request.body instanceof Stream.Readable) {\n\t\t\t\trequest.body.destroy(error);\n\t\t\t}\n\t\t\tif (!response || !response.body) return;\n\t\t\tresponse.body.emit('error', error);\n\t\t};\n\n\t\tif (signal && signal.aborted) {\n\t\t\tabort();\n\t\t\treturn;\n\t\t}\n\n\t\tconst abortAndFinalize = function abortAndFinalize() {\n\t\t\tabort();\n\t\t\tfinalize();\n\t\t};\n\n\t\t// send request\n\t\tconst req = send(options);\n\t\tlet reqTimeout;\n\n\t\tif (signal) {\n\t\t\tsignal.addEventListener('abort', abortAndFinalize);\n\t\t}\n\n\t\tfunction finalize() {\n\t\t\treq.abort();\n\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\tclearTimeout(reqTimeout);\n\t\t}\n\n\t\tif (request.timeout) {\n\t\t\treq.once('socket', function (socket) {\n\t\t\t\treqTimeout = setTimeout(function () {\n\t\t\t\t\treject(new FetchError(`network timeout at: ${request.url}`, 'request-timeout'));\n\t\t\t\t\tfinalize();\n\t\t\t\t}, request.timeout);\n\t\t\t});\n\t\t}\n\n\t\treq.on('error', function (err) {\n\t\t\treject(new FetchError(`request to ${request.url} failed, reason: ${err.message}`, 'system', err));\n\t\t\tfinalize();\n\t\t});\n\n\t\treq.on('response', function (res) {\n\t\t\tclearTimeout(reqTimeout);\n\n\t\t\tconst headers = createHeadersLenient(res.headers);\n\n\t\t\t// HTTP fetch step 5\n\t\t\tif (fetch.isRedirect(res.statusCode)) {\n\t\t\t\t// HTTP fetch step 5.2\n\t\t\t\tconst location = headers.get('Location');\n\n\t\t\t\t// HTTP fetch step 5.3\n\t\t\t\tlet locationURL = null;\n\t\t\t\ttry {\n\t\t\t\t\tlocationURL = location === null ? null : new URL$1(location, request.url).toString();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// error here can only be invalid URL in Location: header\n\t\t\t\t\t// do not throw when options.redirect == manual\n\t\t\t\t\t// let the user extract the errorneous redirect URL\n\t\t\t\t\tif (request.redirect !== 'manual') {\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with an invalid redirect URL: ${location}`, 'invalid-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// HTTP fetch step 5.5\n\t\t\t\tswitch (request.redirect) {\n\t\t\t\t\tcase 'error':\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${request.url}`, 'no-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'manual':\n\t\t\t\t\t\t// node-fetch-specific step: make manual redirect a bit easier to use by setting the Location header value to the resolved URL.\n\t\t\t\t\t\tif (locationURL !== null) {\n\t\t\t\t\t\t\t// handle corrupted header\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\theaders.set('Location', locationURL);\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t// istanbul ignore next: nodejs server prevent invalid response headers, we can't test this through normal request\n\t\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'follow':\n\t\t\t\t\t\t// HTTP-redirect fetch step 2\n\t\t\t\t\t\tif (locationURL === null) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 5\n\t\t\t\t\t\tif (request.counter >= request.follow) {\n\t\t\t\t\t\t\treject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 6 (counter increment)\n\t\t\t\t\t\t// Create a new Request object.\n\t\t\t\t\t\tconst requestOpts = {\n\t\t\t\t\t\t\theaders: new Headers(request.headers),\n\t\t\t\t\t\t\tfollow: request.follow,\n\t\t\t\t\t\t\tcounter: request.counter + 1,\n\t\t\t\t\t\t\tagent: request.agent,\n\t\t\t\t\t\t\tcompress: request.compress,\n\t\t\t\t\t\t\tmethod: request.method,\n\t\t\t\t\t\t\tbody: request.body,\n\t\t\t\t\t\t\tsignal: request.signal,\n\t\t\t\t\t\t\ttimeout: request.timeout,\n\t\t\t\t\t\t\tsize: request.size\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (!isDomainOrSubdomain(request.url, locationURL)) {\n\t\t\t\t\t\t\tfor (const name of ['authorization', 'www-authenticate', 'cookie', 'cookie2']) {\n\t\t\t\t\t\t\t\trequestOpts.headers.delete(name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 9\n\t\t\t\t\t\tif (res.statusCode !== 303 && request.body && getTotalBytes(request) === null) {\n\t\t\t\t\t\t\treject(new FetchError('Cannot follow redirect with body being a readable stream', 'unsupported-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 11\n\t\t\t\t\t\tif (res.statusCode === 303 || (res.statusCode === 301 || res.statusCode === 302) && request.method === 'POST') {\n\t\t\t\t\t\t\trequestOpts.method = 'GET';\n\t\t\t\t\t\t\trequestOpts.body = undefined;\n\t\t\t\t\t\t\trequestOpts.headers.delete('content-length');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 15\n\t\t\t\t\t\tresolve(fetch(new Request(locationURL, requestOpts)));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// prepare response\n\t\t\tres.once('end', function () {\n\t\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\t});\n\t\t\tlet body = res.pipe(new PassThrough$1());\n\n\t\t\tconst response_options = {\n\t\t\t\turl: request.url,\n\t\t\t\tstatus: res.statusCode,\n\t\t\t\tstatusText: res.statusMessage,\n\t\t\t\theaders: headers,\n\t\t\t\tsize: request.size,\n\t\t\t\ttimeout: request.timeout,\n\t\t\t\tcounter: request.counter\n\t\t\t};\n\n\t\t\t// HTTP-network fetch step 12.1.1.3\n\t\t\tconst codings = headers.get('Content-Encoding');\n\n\t\t\t// HTTP-network fetch step 12.1.1.4: handle content codings\n\n\t\t\t// in following scenarios we ignore compression support\n\t\t\t// 1. compression support is disabled\n\t\t\t// 2. HEAD request\n\t\t\t// 3. no Content-Encoding header\n\t\t\t// 4. no content response (204)\n\t\t\t// 5. content not modified response (304)\n\t\t\tif (!request.compress || request.method === 'HEAD' || codings === null || res.statusCode === 204 || res.statusCode === 304) {\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For Node v6+\n\t\t\t// Be less strict when decoding compressed responses, since sometimes\n\t\t\t// servers send slightly invalid responses that are still accepted\n\t\t\t// by common browsers.\n\t\t\t// Always using Z_SYNC_FLUSH is what cURL does.\n\t\t\tconst zlibOptions = {\n\t\t\t\tflush: zlib.Z_SYNC_FLUSH,\n\t\t\t\tfinishFlush: zlib.Z_SYNC_FLUSH\n\t\t\t};\n\n\t\t\t// for gzip\n\t\t\tif (codings == 'gzip' || codings == 'x-gzip') {\n\t\t\t\tbody = body.pipe(zlib.createGunzip(zlibOptions));\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for deflate\n\t\t\tif (codings == 'deflate' || codings == 'x-deflate') {\n\t\t\t\t// handle the infamous raw deflate response from old servers\n\t\t\t\t// a hack for old IIS and Apache servers\n\t\t\t\tconst raw = res.pipe(new PassThrough$1());\n\t\t\t\traw.once('data', function (chunk) {\n\t\t\t\t\t// see http://stackoverflow.com/questions/37519828\n\t\t\t\t\tif ((chunk[0] & 0x0F) === 0x08) {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflate());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflateRaw());\n\t\t\t\t\t}\n\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\tresolve(response);\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for br\n\t\t\tif (codings == 'br' && typeof zlib.createBrotliDecompress === 'function') {\n\t\t\t\tbody = body.pipe(zlib.createBrotliDecompress());\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// otherwise, use response as-is\n\t\t\tresponse = new Response(body, response_options);\n\t\t\tresolve(response);\n\t\t});\n\n\t\twriteToStream(req, request);\n\t});\n}\n/**\n * Redirect code matching\n *\n * @param   Number   code  Status code\n * @return  Boolean\n */\nfetch.isRedirect = function (code) {\n\treturn code === 301 || code === 302 || code === 303 || code === 307 || code === 308;\n};\n\n// expose Promise\nfetch.Promise = global.Promise;\n\nexport default fetch;\nexport { Headers, Request, Response, FetchError };\n","/**\n * @author Toru Nagashima <https://github.com/mysticatea>\n * @copyright 2015 Toru Nagashima. All rights reserved.\n * See LICENSE file in root directory for full license.\n */\n/**\n * @typedef {object} PrivateData\n * @property {EventTarget} eventTarget The event target.\n * @property {{type:string}} event The original event object.\n * @property {number} eventPhase The current event phase.\n * @property {EventTarget|null} currentTarget The current event target.\n * @property {boolean} canceled The flag to prevent default.\n * @property {boolean} stopped The flag to stop propagation.\n * @property {boolean} immediateStopped The flag to stop propagation immediately.\n * @property {Function|null} passiveListener The listener if the current listener is passive. Otherwise this is null.\n * @property {number} timeStamp The unix time.\n * @private\n */\n\n/**\n * Private data for event wrappers.\n * @type {WeakMap<Event, PrivateData>}\n * @private\n */\nconst privateData = new WeakMap();\n\n/**\n * Cache for wrapper classes.\n * @type {WeakMap<Object, Function>}\n * @private\n */\nconst wrappers = new WeakMap();\n\n/**\n * Get private data.\n * @param {Event} event The event object to get private data.\n * @returns {PrivateData} The private data of the event.\n * @private\n */\nfunction pd(event) {\n    const retv = privateData.get(event);\n    console.assert(\n        retv != null,\n        \"'this' is expected an Event object, but got\",\n        event\n    );\n    return retv\n}\n\n/**\n * https://dom.spec.whatwg.org/#set-the-canceled-flag\n * @param data {PrivateData} private data.\n */\nfunction setCancelFlag(data) {\n    if (data.passiveListener != null) {\n        if (\n            typeof console !== \"undefined\" &&\n            typeof console.error === \"function\"\n        ) {\n            console.error(\n                \"Unable to preventDefault inside passive event listener invocation.\",\n                data.passiveListener\n            );\n        }\n        return\n    }\n    if (!data.event.cancelable) {\n        return\n    }\n\n    data.canceled = true;\n    if (typeof data.event.preventDefault === \"function\") {\n        data.event.preventDefault();\n    }\n}\n\n/**\n * @see https://dom.spec.whatwg.org/#interface-event\n * @private\n */\n/**\n * The event wrapper.\n * @constructor\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Event|{type:string}} event The original event to wrap.\n */\nfunction Event(eventTarget, event) {\n    privateData.set(this, {\n        eventTarget,\n        event,\n        eventPhase: 2,\n        currentTarget: eventTarget,\n        canceled: false,\n        stopped: false,\n        immediateStopped: false,\n        passiveListener: null,\n        timeStamp: event.timeStamp || Date.now(),\n    });\n\n    // https://heycam.github.io/webidl/#Unforgeable\n    Object.defineProperty(this, \"isTrusted\", { value: false, enumerable: true });\n\n    // Define accessors\n    const keys = Object.keys(event);\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i];\n        if (!(key in this)) {\n            Object.defineProperty(this, key, defineRedirectDescriptor(key));\n        }\n    }\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEvent.prototype = {\n    /**\n     * The type of this event.\n     * @type {string}\n     */\n    get type() {\n        return pd(this).event.type\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get target() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get currentTarget() {\n        return pd(this).currentTarget\n    },\n\n    /**\n     * @returns {EventTarget[]} The composed path of this event.\n     */\n    composedPath() {\n        const currentTarget = pd(this).currentTarget;\n        if (currentTarget == null) {\n            return []\n        }\n        return [currentTarget]\n    },\n\n    /**\n     * Constant of NONE.\n     * @type {number}\n     */\n    get NONE() {\n        return 0\n    },\n\n    /**\n     * Constant of CAPTURING_PHASE.\n     * @type {number}\n     */\n    get CAPTURING_PHASE() {\n        return 1\n    },\n\n    /**\n     * Constant of AT_TARGET.\n     * @type {number}\n     */\n    get AT_TARGET() {\n        return 2\n    },\n\n    /**\n     * Constant of BUBBLING_PHASE.\n     * @type {number}\n     */\n    get BUBBLING_PHASE() {\n        return 3\n    },\n\n    /**\n     * The target of this event.\n     * @type {number}\n     */\n    get eventPhase() {\n        return pd(this).eventPhase\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopPropagation() {\n        const data = pd(this);\n\n        data.stopped = true;\n        if (typeof data.event.stopPropagation === \"function\") {\n            data.event.stopPropagation();\n        }\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopImmediatePropagation() {\n        const data = pd(this);\n\n        data.stopped = true;\n        data.immediateStopped = true;\n        if (typeof data.event.stopImmediatePropagation === \"function\") {\n            data.event.stopImmediatePropagation();\n        }\n    },\n\n    /**\n     * The flag to be bubbling.\n     * @type {boolean}\n     */\n    get bubbles() {\n        return Boolean(pd(this).event.bubbles)\n    },\n\n    /**\n     * The flag to be cancelable.\n     * @type {boolean}\n     */\n    get cancelable() {\n        return Boolean(pd(this).event.cancelable)\n    },\n\n    /**\n     * Cancel this event.\n     * @returns {void}\n     */\n    preventDefault() {\n        setCancelFlag(pd(this));\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     */\n    get defaultPrevented() {\n        return pd(this).canceled\n    },\n\n    /**\n     * The flag to be composed.\n     * @type {boolean}\n     */\n    get composed() {\n        return Boolean(pd(this).event.composed)\n    },\n\n    /**\n     * The unix time of this event.\n     * @type {number}\n     */\n    get timeStamp() {\n        return pd(this).timeStamp\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     * @deprecated\n     */\n    get srcElement() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The flag to stop event bubbling.\n     * @type {boolean}\n     * @deprecated\n     */\n    get cancelBubble() {\n        return pd(this).stopped\n    },\n    set cancelBubble(value) {\n        if (!value) {\n            return\n        }\n        const data = pd(this);\n\n        data.stopped = true;\n        if (typeof data.event.cancelBubble === \"boolean\") {\n            data.event.cancelBubble = true;\n        }\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     * @deprecated\n     */\n    get returnValue() {\n        return !pd(this).canceled\n    },\n    set returnValue(value) {\n        if (!value) {\n            setCancelFlag(pd(this));\n        }\n    },\n\n    /**\n     * Initialize this event object. But do nothing under event dispatching.\n     * @param {string} type The event type.\n     * @param {boolean} [bubbles=false] The flag to be possible to bubble up.\n     * @param {boolean} [cancelable=false] The flag to be possible to cancel.\n     * @deprecated\n     */\n    initEvent() {\n        // Do nothing.\n    },\n};\n\n// `constructor` is not enumerable.\nObject.defineProperty(Event.prototype, \"constructor\", {\n    value: Event,\n    configurable: true,\n    writable: true,\n});\n\n// Ensure `event instanceof window.Event` is `true`.\nif (typeof window !== \"undefined\" && typeof window.Event !== \"undefined\") {\n    Object.setPrototypeOf(Event.prototype, window.Event.prototype);\n\n    // Make association for wrappers.\n    wrappers.set(window.Event.prototype, Event);\n}\n\n/**\n * Get the property descriptor to redirect a given property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to redirect the property.\n * @private\n */\nfunction defineRedirectDescriptor(key) {\n    return {\n        get() {\n            return pd(this).event[key]\n        },\n        set(value) {\n            pd(this).event[key] = value;\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Get the property descriptor to call a given method property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to call the method property.\n * @private\n */\nfunction defineCallDescriptor(key) {\n    return {\n        value() {\n            const event = pd(this).event;\n            return event[key].apply(event, arguments)\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define new wrapper class.\n * @param {Function} BaseEvent The base wrapper class.\n * @param {Object} proto The prototype of the original event.\n * @returns {Function} The defined wrapper class.\n * @private\n */\nfunction defineWrapper(BaseEvent, proto) {\n    const keys = Object.keys(proto);\n    if (keys.length === 0) {\n        return BaseEvent\n    }\n\n    /** CustomEvent */\n    function CustomEvent(eventTarget, event) {\n        BaseEvent.call(this, eventTarget, event);\n    }\n\n    CustomEvent.prototype = Object.create(BaseEvent.prototype, {\n        constructor: { value: CustomEvent, configurable: true, writable: true },\n    });\n\n    // Define accessors.\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i];\n        if (!(key in BaseEvent.prototype)) {\n            const descriptor = Object.getOwnPropertyDescriptor(proto, key);\n            const isFunc = typeof descriptor.value === \"function\";\n            Object.defineProperty(\n                CustomEvent.prototype,\n                key,\n                isFunc\n                    ? defineCallDescriptor(key)\n                    : defineRedirectDescriptor(key)\n            );\n        }\n    }\n\n    return CustomEvent\n}\n\n/**\n * Get the wrapper class of a given prototype.\n * @param {Object} proto The prototype of the original event to get its wrapper.\n * @returns {Function} The wrapper class.\n * @private\n */\nfunction getWrapper(proto) {\n    if (proto == null || proto === Object.prototype) {\n        return Event\n    }\n\n    let wrapper = wrappers.get(proto);\n    if (wrapper == null) {\n        wrapper = defineWrapper(getWrapper(Object.getPrototypeOf(proto)), proto);\n        wrappers.set(proto, wrapper);\n    }\n    return wrapper\n}\n\n/**\n * Wrap a given event to management a dispatching.\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Object} event The event to wrap.\n * @returns {Event} The wrapper instance.\n * @private\n */\nfunction wrapEvent(eventTarget, event) {\n    const Wrapper = getWrapper(Object.getPrototypeOf(event));\n    return new Wrapper(eventTarget, event)\n}\n\n/**\n * Get the immediateStopped flag of a given event.\n * @param {Event} event The event to get.\n * @returns {boolean} The flag to stop propagation immediately.\n * @private\n */\nfunction isStopped(event) {\n    return pd(event).immediateStopped\n}\n\n/**\n * Set the current event phase of a given event.\n * @param {Event} event The event to set current target.\n * @param {number} eventPhase New event phase.\n * @returns {void}\n * @private\n */\nfunction setEventPhase(event, eventPhase) {\n    pd(event).eventPhase = eventPhase;\n}\n\n/**\n * Set the current target of a given event.\n * @param {Event} event The event to set current target.\n * @param {EventTarget|null} currentTarget New current target.\n * @returns {void}\n * @private\n */\nfunction setCurrentTarget(event, currentTarget) {\n    pd(event).currentTarget = currentTarget;\n}\n\n/**\n * Set a passive listener of a given event.\n * @param {Event} event The event to set current target.\n * @param {Function|null} passiveListener New passive listener.\n * @returns {void}\n * @private\n */\nfunction setPassiveListener(event, passiveListener) {\n    pd(event).passiveListener = passiveListener;\n}\n\n/**\n * @typedef {object} ListenerNode\n * @property {Function} listener\n * @property {1|2|3} listenerType\n * @property {boolean} passive\n * @property {boolean} once\n * @property {ListenerNode|null} next\n * @private\n */\n\n/**\n * @type {WeakMap<object, Map<string, ListenerNode>>}\n * @private\n */\nconst listenersMap = new WeakMap();\n\n// Listener types\nconst CAPTURE = 1;\nconst BUBBLE = 2;\nconst ATTRIBUTE = 3;\n\n/**\n * Check whether a given value is an object or not.\n * @param {any} x The value to check.\n * @returns {boolean} `true` if the value is an object.\n */\nfunction isObject(x) {\n    return x !== null && typeof x === \"object\" //eslint-disable-line no-restricted-syntax\n}\n\n/**\n * Get listeners.\n * @param {EventTarget} eventTarget The event target to get.\n * @returns {Map<string, ListenerNode>} The listeners.\n * @private\n */\nfunction getListeners(eventTarget) {\n    const listeners = listenersMap.get(eventTarget);\n    if (listeners == null) {\n        throw new TypeError(\n            \"'this' is expected an EventTarget object, but got another value.\"\n        )\n    }\n    return listeners\n}\n\n/**\n * Get the property descriptor for the event attribute of a given event.\n * @param {string} eventName The event name to get property descriptor.\n * @returns {PropertyDescriptor} The property descriptor.\n * @private\n */\nfunction defineEventAttributeDescriptor(eventName) {\n    return {\n        get() {\n            const listeners = getListeners(this);\n            let node = listeners.get(eventName);\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    return node.listener\n                }\n                node = node.next;\n            }\n            return null\n        },\n\n        set(listener) {\n            if (typeof listener !== \"function\" && !isObject(listener)) {\n                listener = null; // eslint-disable-line no-param-reassign\n            }\n            const listeners = getListeners(this);\n\n            // Traverse to the tail while removing old value.\n            let prev = null;\n            let node = listeners.get(eventName);\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    // Remove old value.\n                    if (prev !== null) {\n                        prev.next = node.next;\n                    } else if (node.next !== null) {\n                        listeners.set(eventName, node.next);\n                    } else {\n                        listeners.delete(eventName);\n                    }\n                } else {\n                    prev = node;\n                }\n\n                node = node.next;\n            }\n\n            // Add new value.\n            if (listener !== null) {\n                const newNode = {\n                    listener,\n                    listenerType: ATTRIBUTE,\n                    passive: false,\n                    once: false,\n                    next: null,\n                };\n                if (prev === null) {\n                    listeners.set(eventName, newNode);\n                } else {\n                    prev.next = newNode;\n                }\n            }\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define an event attribute (e.g. `eventTarget.onclick`).\n * @param {Object} eventTargetPrototype The event target prototype to define an event attrbite.\n * @param {string} eventName The event name to define.\n * @returns {void}\n */\nfunction defineEventAttribute(eventTargetPrototype, eventName) {\n    Object.defineProperty(\n        eventTargetPrototype,\n        `on${eventName}`,\n        defineEventAttributeDescriptor(eventName)\n    );\n}\n\n/**\n * Define a custom EventTarget with event attributes.\n * @param {string[]} eventNames Event names for event attributes.\n * @returns {EventTarget} The custom EventTarget.\n * @private\n */\nfunction defineCustomEventTarget(eventNames) {\n    /** CustomEventTarget */\n    function CustomEventTarget() {\n        EventTarget.call(this);\n    }\n\n    CustomEventTarget.prototype = Object.create(EventTarget.prototype, {\n        constructor: {\n            value: CustomEventTarget,\n            configurable: true,\n            writable: true,\n        },\n    });\n\n    for (let i = 0; i < eventNames.length; ++i) {\n        defineEventAttribute(CustomEventTarget.prototype, eventNames[i]);\n    }\n\n    return CustomEventTarget\n}\n\n/**\n * EventTarget.\n *\n * - This is constructor if no arguments.\n * - This is a function which returns a CustomEventTarget constructor if there are arguments.\n *\n * For example:\n *\n *     class A extends EventTarget {}\n *     class B extends EventTarget(\"message\") {}\n *     class C extends EventTarget(\"message\", \"error\") {}\n *     class D extends EventTarget([\"message\", \"error\"]) {}\n */\nfunction EventTarget() {\n    /*eslint-disable consistent-return */\n    if (this instanceof EventTarget) {\n        listenersMap.set(this, new Map());\n        return\n    }\n    if (arguments.length === 1 && Array.isArray(arguments[0])) {\n        return defineCustomEventTarget(arguments[0])\n    }\n    if (arguments.length > 0) {\n        const types = new Array(arguments.length);\n        for (let i = 0; i < arguments.length; ++i) {\n            types[i] = arguments[i];\n        }\n        return defineCustomEventTarget(types)\n    }\n    throw new TypeError(\"Cannot call a class as a function\")\n    /*eslint-enable consistent-return */\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEventTarget.prototype = {\n    /**\n     * Add a given listener to this event target.\n     * @param {string} eventName The event name to add.\n     * @param {Function} listener The listener to add.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    addEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n        if (typeof listener !== \"function\" && !isObject(listener)) {\n            throw new TypeError(\"'listener' should be a function or an object.\")\n        }\n\n        const listeners = getListeners(this);\n        const optionsIsObj = isObject(options);\n        const capture = optionsIsObj\n            ? Boolean(options.capture)\n            : Boolean(options);\n        const listenerType = capture ? CAPTURE : BUBBLE;\n        const newNode = {\n            listener,\n            listenerType,\n            passive: optionsIsObj && Boolean(options.passive),\n            once: optionsIsObj && Boolean(options.once),\n            next: null,\n        };\n\n        // Set it as the first node if the first node is null.\n        let node = listeners.get(eventName);\n        if (node === undefined) {\n            listeners.set(eventName, newNode);\n            return\n        }\n\n        // Traverse to the tail while checking duplication..\n        let prev = null;\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                // Should ignore duplication.\n                return\n            }\n            prev = node;\n            node = node.next;\n        }\n\n        // Add it.\n        prev.next = newNode;\n    },\n\n    /**\n     * Remove a given listener from this event target.\n     * @param {string} eventName The event name to remove.\n     * @param {Function} listener The listener to remove.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    removeEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n\n        const listeners = getListeners(this);\n        const capture = isObject(options)\n            ? Boolean(options.capture)\n            : Boolean(options);\n        const listenerType = capture ? CAPTURE : BUBBLE;\n\n        let prev = null;\n        let node = listeners.get(eventName);\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                if (prev !== null) {\n                    prev.next = node.next;\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next);\n                } else {\n                    listeners.delete(eventName);\n                }\n                return\n            }\n\n            prev = node;\n            node = node.next;\n        }\n    },\n\n    /**\n     * Dispatch a given event.\n     * @param {Event|{type:string}} event The event to dispatch.\n     * @returns {boolean} `false` if canceled.\n     */\n    dispatchEvent(event) {\n        if (event == null || typeof event.type !== \"string\") {\n            throw new TypeError('\"event.type\" should be a string.')\n        }\n\n        // If listeners aren't registered, terminate.\n        const listeners = getListeners(this);\n        const eventName = event.type;\n        let node = listeners.get(eventName);\n        if (node == null) {\n            return true\n        }\n\n        // Since we cannot rewrite several properties, so wrap object.\n        const wrappedEvent = wrapEvent(this, event);\n\n        // This doesn't process capturing phase and bubbling phase.\n        // This isn't participating in a tree.\n        let prev = null;\n        while (node != null) {\n            // Remove this listener if it's once\n            if (node.once) {\n                if (prev !== null) {\n                    prev.next = node.next;\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next);\n                } else {\n                    listeners.delete(eventName);\n                }\n            } else {\n                prev = node;\n            }\n\n            // Call this listener\n            setPassiveListener(\n                wrappedEvent,\n                node.passive ? node.listener : null\n            );\n            if (typeof node.listener === \"function\") {\n                try {\n                    node.listener.call(this, wrappedEvent);\n                } catch (err) {\n                    if (\n                        typeof console !== \"undefined\" &&\n                        typeof console.error === \"function\"\n                    ) {\n                        console.error(err);\n                    }\n                }\n            } else if (\n                node.listenerType !== ATTRIBUTE &&\n                typeof node.listener.handleEvent === \"function\"\n            ) {\n                node.listener.handleEvent(wrappedEvent);\n            }\n\n            // Break if `event.stopImmediatePropagation` was called.\n            if (isStopped(wrappedEvent)) {\n                break\n            }\n\n            node = node.next;\n        }\n        setPassiveListener(wrappedEvent, null);\n        setEventPhase(wrappedEvent, 0);\n        setCurrentTarget(wrappedEvent, null);\n\n        return !wrappedEvent.defaultPrevented\n    },\n};\n\n// `constructor` is not enumerable.\nObject.defineProperty(EventTarget.prototype, \"constructor\", {\n    value: EventTarget,\n    configurable: true,\n    writable: true,\n});\n\n// Ensure `eventTarget instanceof window.EventTarget` is `true`.\nif (\n    typeof window !== \"undefined\" &&\n    typeof window.EventTarget !== \"undefined\"\n) {\n    Object.setPrototypeOf(EventTarget.prototype, window.EventTarget.prototype);\n}\n\nexport default EventTarget;\nexport { defineEventAttribute, EventTarget };\n//# sourceMappingURL=event-target-shim.mjs.map\n","/**\n * @author Toru Nagashima <https://github.com/mysticatea>\n * See LICENSE file in root directory for full license.\n */\nimport { EventTarget, defineEventAttribute } from 'event-target-shim';\n\n/**\n * The signal class.\n * @see https://dom.spec.whatwg.org/#abortsignal\n */\nclass AbortSignal extends EventTarget {\n    /**\n     * AbortSignal cannot be constructed directly.\n     */\n    constructor() {\n        super();\n        throw new TypeError(\"AbortSignal cannot be constructed directly\");\n    }\n    /**\n     * Returns `true` if this `AbortSignal`'s `AbortController` has signaled to abort, and `false` otherwise.\n     */\n    get aborted() {\n        const aborted = abortedFlags.get(this);\n        if (typeof aborted !== \"boolean\") {\n            throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this === null ? \"null\" : typeof this}`);\n        }\n        return aborted;\n    }\n}\ndefineEventAttribute(AbortSignal.prototype, \"abort\");\n/**\n * Create an AbortSignal object.\n */\nfunction createAbortSignal() {\n    const signal = Object.create(AbortSignal.prototype);\n    EventTarget.call(signal);\n    abortedFlags.set(signal, false);\n    return signal;\n}\n/**\n * Abort a given signal.\n */\nfunction abortSignal(signal) {\n    if (abortedFlags.get(signal) !== false) {\n        return;\n    }\n    abortedFlags.set(signal, true);\n    signal.dispatchEvent({ type: \"abort\" });\n}\n/**\n * Aborted flag for each instances.\n */\nconst abortedFlags = new WeakMap();\n// Properties should be enumerable.\nObject.defineProperties(AbortSignal.prototype, {\n    aborted: { enumerable: true },\n});\n// `toString()` should return `\"[object AbortSignal]\"`\nif (typeof Symbol === \"function\" && typeof Symbol.toStringTag === \"symbol\") {\n    Object.defineProperty(AbortSignal.prototype, Symbol.toStringTag, {\n        configurable: true,\n        value: \"AbortSignal\",\n    });\n}\n\n/**\n * The AbortController.\n * @see https://dom.spec.whatwg.org/#abortcontroller\n */\nclass AbortController {\n    /**\n     * Initialize this controller.\n     */\n    constructor() {\n        signals.set(this, createAbortSignal());\n    }\n    /**\n     * Returns the `AbortSignal` object associated with this object.\n     */\n    get signal() {\n        return getSignal(this);\n    }\n    /**\n     * Abort and signal to any observers that the associated activity is to be aborted.\n     */\n    abort() {\n        abortSignal(getSignal(this));\n    }\n}\n/**\n * Associated signals.\n */\nconst signals = new WeakMap();\n/**\n * Get the associated signal of a given controller.\n */\nfunction getSignal(controller) {\n    const signal = signals.get(controller);\n    if (signal == null) {\n        throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${controller === null ? \"null\" : typeof controller}`);\n    }\n    return signal;\n}\n// Properties should be enumerable.\nObject.defineProperties(AbortController.prototype, {\n    signal: { enumerable: true },\n    abort: { enumerable: true },\n});\nif (typeof Symbol === \"function\" && typeof Symbol.toStringTag === \"symbol\") {\n    Object.defineProperty(AbortController.prototype, Symbol.toStringTag, {\n        configurable: true,\n        value: \"AbortController\",\n    });\n}\n\nexport default AbortController;\nexport { AbortController, AbortSignal };\n//# sourceMappingURL=abort-controller.mjs.map\n","/**\n * web-streams-polyfill v3.2.1\n */\n/// <reference lib=\"es2015.symbol\" />\nvar SymbolPolyfill = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ?\n    Symbol :\n    function (description) { return \"Symbol(\" + description + \")\"; };\n\n/// <reference lib=\"dom\" />\nfunction noop() {\n    return undefined;\n}\nfunction getGlobals() {\n    if (typeof self !== 'undefined') {\n        return self;\n    }\n    else if (typeof window !== 'undefined') {\n        return window;\n    }\n    else if (typeof global !== 'undefined') {\n        return global;\n    }\n    return undefined;\n}\nvar globals = getGlobals();\n\nfunction typeIsObject(x) {\n    return (typeof x === 'object' && x !== null) || typeof x === 'function';\n}\nvar rethrowAssertionErrorRejection = noop;\n\nvar originalPromise = Promise;\nvar originalPromiseThen = Promise.prototype.then;\nvar originalPromiseResolve = Promise.resolve.bind(originalPromise);\nvar originalPromiseReject = Promise.reject.bind(originalPromise);\nfunction newPromise(executor) {\n    return new originalPromise(executor);\n}\nfunction promiseResolvedWith(value) {\n    return originalPromiseResolve(value);\n}\nfunction promiseRejectedWith(reason) {\n    return originalPromiseReject(reason);\n}\nfunction PerformPromiseThen(promise, onFulfilled, onRejected) {\n    // There doesn't appear to be any way to correctly emulate the behaviour from JavaScript, so this is just an\n    // approximation.\n    return originalPromiseThen.call(promise, onFulfilled, onRejected);\n}\nfunction uponPromise(promise, onFulfilled, onRejected) {\n    PerformPromiseThen(PerformPromiseThen(promise, onFulfilled, onRejected), undefined, rethrowAssertionErrorRejection);\n}\nfunction uponFulfillment(promise, onFulfilled) {\n    uponPromise(promise, onFulfilled);\n}\nfunction uponRejection(promise, onRejected) {\n    uponPromise(promise, undefined, onRejected);\n}\nfunction transformPromiseWith(promise, fulfillmentHandler, rejectionHandler) {\n    return PerformPromiseThen(promise, fulfillmentHandler, rejectionHandler);\n}\nfunction setPromiseIsHandledToTrue(promise) {\n    PerformPromiseThen(promise, undefined, rethrowAssertionErrorRejection);\n}\nvar queueMicrotask = (function () {\n    var globalQueueMicrotask = globals && globals.queueMicrotask;\n    if (typeof globalQueueMicrotask === 'function') {\n        return globalQueueMicrotask;\n    }\n    var resolvedPromise = promiseResolvedWith(undefined);\n    return function (fn) { return PerformPromiseThen(resolvedPromise, fn); };\n})();\nfunction reflectCall(F, V, args) {\n    if (typeof F !== 'function') {\n        throw new TypeError('Argument is not a function');\n    }\n    return Function.prototype.apply.call(F, V, args);\n}\nfunction promiseCall(F, V, args) {\n    try {\n        return promiseResolvedWith(reflectCall(F, V, args));\n    }\n    catch (value) {\n        return promiseRejectedWith(value);\n    }\n}\n\n// Original from Chromium\n// https://chromium.googlesource.com/chromium/src/+/0aee4434a4dba42a42abaea9bfbc0cd196a63bc1/third_party/blink/renderer/core/streams/SimpleQueue.js\nvar QUEUE_MAX_ARRAY_SIZE = 16384;\n/**\n * Simple queue structure.\n *\n * Avoids scalability issues with using a packed array directly by using\n * multiple arrays in a linked list and keeping the array size bounded.\n */\nvar SimpleQueue = /** @class */ (function () {\n    function SimpleQueue() {\n        this._cursor = 0;\n        this._size = 0;\n        // _front and _back are always defined.\n        this._front = {\n            _elements: [],\n            _next: undefined\n        };\n        this._back = this._front;\n        // The cursor is used to avoid calling Array.shift().\n        // It contains the index of the front element of the array inside the\n        // front-most node. It is always in the range [0, QUEUE_MAX_ARRAY_SIZE).\n        this._cursor = 0;\n        // When there is only one node, size === elements.length - cursor.\n        this._size = 0;\n    }\n    Object.defineProperty(SimpleQueue.prototype, \"length\", {\n        get: function () {\n            return this._size;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // For exception safety, this method is structured in order:\n    // 1. Read state\n    // 2. Calculate required state mutations\n    // 3. Perform state mutations\n    SimpleQueue.prototype.push = function (element) {\n        var oldBack = this._back;\n        var newBack = oldBack;\n        if (oldBack._elements.length === QUEUE_MAX_ARRAY_SIZE - 1) {\n            newBack = {\n                _elements: [],\n                _next: undefined\n            };\n        }\n        // push() is the mutation most likely to throw an exception, so it\n        // goes first.\n        oldBack._elements.push(element);\n        if (newBack !== oldBack) {\n            this._back = newBack;\n            oldBack._next = newBack;\n        }\n        ++this._size;\n    };\n    // Like push(), shift() follows the read -> calculate -> mutate pattern for\n    // exception safety.\n    SimpleQueue.prototype.shift = function () { // must not be called on an empty queue\n        var oldFront = this._front;\n        var newFront = oldFront;\n        var oldCursor = this._cursor;\n        var newCursor = oldCursor + 1;\n        var elements = oldFront._elements;\n        var element = elements[oldCursor];\n        if (newCursor === QUEUE_MAX_ARRAY_SIZE) {\n            newFront = oldFront._next;\n            newCursor = 0;\n        }\n        // No mutations before this point.\n        --this._size;\n        this._cursor = newCursor;\n        if (oldFront !== newFront) {\n            this._front = newFront;\n        }\n        // Permit shifted element to be garbage collected.\n        elements[oldCursor] = undefined;\n        return element;\n    };\n    // The tricky thing about forEach() is that it can be called\n    // re-entrantly. The queue may be mutated inside the callback. It is easy to\n    // see that push() within the callback has no negative effects since the end\n    // of the queue is checked for on every iteration. If shift() is called\n    // repeatedly within the callback then the next iteration may return an\n    // element that has been removed. In this case the callback will be called\n    // with undefined values until we either \"catch up\" with elements that still\n    // exist or reach the back of the queue.\n    SimpleQueue.prototype.forEach = function (callback) {\n        var i = this._cursor;\n        var node = this._front;\n        var elements = node._elements;\n        while (i !== elements.length || node._next !== undefined) {\n            if (i === elements.length) {\n                node = node._next;\n                elements = node._elements;\n                i = 0;\n                if (elements.length === 0) {\n                    break;\n                }\n            }\n            callback(elements[i]);\n            ++i;\n        }\n    };\n    // Return the element that would be returned if shift() was called now,\n    // without modifying the queue.\n    SimpleQueue.prototype.peek = function () { // must not be called on an empty queue\n        var front = this._front;\n        var cursor = this._cursor;\n        return front._elements[cursor];\n    };\n    return SimpleQueue;\n}());\n\nfunction ReadableStreamReaderGenericInitialize(reader, stream) {\n    reader._ownerReadableStream = stream;\n    stream._reader = reader;\n    if (stream._state === 'readable') {\n        defaultReaderClosedPromiseInitialize(reader);\n    }\n    else if (stream._state === 'closed') {\n        defaultReaderClosedPromiseInitializeAsResolved(reader);\n    }\n    else {\n        defaultReaderClosedPromiseInitializeAsRejected(reader, stream._storedError);\n    }\n}\n// A client of ReadableStreamDefaultReader and ReadableStreamBYOBReader may use these functions directly to bypass state\n// check.\nfunction ReadableStreamReaderGenericCancel(reader, reason) {\n    var stream = reader._ownerReadableStream;\n    return ReadableStreamCancel(stream, reason);\n}\nfunction ReadableStreamReaderGenericRelease(reader) {\n    if (reader._ownerReadableStream._state === 'readable') {\n        defaultReaderClosedPromiseReject(reader, new TypeError(\"Reader was released and can no longer be used to monitor the stream's closedness\"));\n    }\n    else {\n        defaultReaderClosedPromiseResetToRejected(reader, new TypeError(\"Reader was released and can no longer be used to monitor the stream's closedness\"));\n    }\n    reader._ownerReadableStream._reader = undefined;\n    reader._ownerReadableStream = undefined;\n}\n// Helper functions for the readers.\nfunction readerLockException(name) {\n    return new TypeError('Cannot ' + name + ' a stream using a released reader');\n}\n// Helper functions for the ReadableStreamDefaultReader.\nfunction defaultReaderClosedPromiseInitialize(reader) {\n    reader._closedPromise = newPromise(function (resolve, reject) {\n        reader._closedPromise_resolve = resolve;\n        reader._closedPromise_reject = reject;\n    });\n}\nfunction defaultReaderClosedPromiseInitializeAsRejected(reader, reason) {\n    defaultReaderClosedPromiseInitialize(reader);\n    defaultReaderClosedPromiseReject(reader, reason);\n}\nfunction defaultReaderClosedPromiseInitializeAsResolved(reader) {\n    defaultReaderClosedPromiseInitialize(reader);\n    defaultReaderClosedPromiseResolve(reader);\n}\nfunction defaultReaderClosedPromiseReject(reader, reason) {\n    if (reader._closedPromise_reject === undefined) {\n        return;\n    }\n    setPromiseIsHandledToTrue(reader._closedPromise);\n    reader._closedPromise_reject(reason);\n    reader._closedPromise_resolve = undefined;\n    reader._closedPromise_reject = undefined;\n}\nfunction defaultReaderClosedPromiseResetToRejected(reader, reason) {\n    defaultReaderClosedPromiseInitializeAsRejected(reader, reason);\n}\nfunction defaultReaderClosedPromiseResolve(reader) {\n    if (reader._closedPromise_resolve === undefined) {\n        return;\n    }\n    reader._closedPromise_resolve(undefined);\n    reader._closedPromise_resolve = undefined;\n    reader._closedPromise_reject = undefined;\n}\n\nvar AbortSteps = SymbolPolyfill('[[AbortSteps]]');\nvar ErrorSteps = SymbolPolyfill('[[ErrorSteps]]');\nvar CancelSteps = SymbolPolyfill('[[CancelSteps]]');\nvar PullSteps = SymbolPolyfill('[[PullSteps]]');\n\n/// <reference lib=\"es2015.core\" />\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isFinite#Polyfill\nvar NumberIsFinite = Number.isFinite || function (x) {\n    return typeof x === 'number' && isFinite(x);\n};\n\n/// <reference lib=\"es2015.core\" />\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/trunc#Polyfill\nvar MathTrunc = Math.trunc || function (v) {\n    return v < 0 ? Math.ceil(v) : Math.floor(v);\n};\n\n// https://heycam.github.io/webidl/#idl-dictionaries\nfunction isDictionary(x) {\n    return typeof x === 'object' || typeof x === 'function';\n}\nfunction assertDictionary(obj, context) {\n    if (obj !== undefined && !isDictionary(obj)) {\n        throw new TypeError(context + \" is not an object.\");\n    }\n}\n// https://heycam.github.io/webidl/#idl-callback-functions\nfunction assertFunction(x, context) {\n    if (typeof x !== 'function') {\n        throw new TypeError(context + \" is not a function.\");\n    }\n}\n// https://heycam.github.io/webidl/#idl-object\nfunction isObject(x) {\n    return (typeof x === 'object' && x !== null) || typeof x === 'function';\n}\nfunction assertObject(x, context) {\n    if (!isObject(x)) {\n        throw new TypeError(context + \" is not an object.\");\n    }\n}\nfunction assertRequiredArgument(x, position, context) {\n    if (x === undefined) {\n        throw new TypeError(\"Parameter \" + position + \" is required in '\" + context + \"'.\");\n    }\n}\nfunction assertRequiredField(x, field, context) {\n    if (x === undefined) {\n        throw new TypeError(field + \" is required in '\" + context + \"'.\");\n    }\n}\n// https://heycam.github.io/webidl/#idl-unrestricted-double\nfunction convertUnrestrictedDouble(value) {\n    return Number(value);\n}\nfunction censorNegativeZero(x) {\n    return x === 0 ? 0 : x;\n}\nfunction integerPart(x) {\n    return censorNegativeZero(MathTrunc(x));\n}\n// https://heycam.github.io/webidl/#idl-unsigned-long-long\nfunction convertUnsignedLongLongWithEnforceRange(value, context) {\n    var lowerBound = 0;\n    var upperBound = Number.MAX_SAFE_INTEGER;\n    var x = Number(value);\n    x = censorNegativeZero(x);\n    if (!NumberIsFinite(x)) {\n        throw new TypeError(context + \" is not a finite number\");\n    }\n    x = integerPart(x);\n    if (x < lowerBound || x > upperBound) {\n        throw new TypeError(context + \" is outside the accepted range of \" + lowerBound + \" to \" + upperBound + \", inclusive\");\n    }\n    if (!NumberIsFinite(x) || x === 0) {\n        return 0;\n    }\n    // TODO Use BigInt if supported?\n    // let xBigInt = BigInt(integerPart(x));\n    // xBigInt = BigInt.asUintN(64, xBigInt);\n    // return Number(xBigInt);\n    return x;\n}\n\nfunction assertReadableStream(x, context) {\n    if (!IsReadableStream(x)) {\n        throw new TypeError(context + \" is not a ReadableStream.\");\n    }\n}\n\n// Abstract operations for the ReadableStream.\nfunction AcquireReadableStreamDefaultReader(stream) {\n    return new ReadableStreamDefaultReader(stream);\n}\n// ReadableStream API exposed for controllers.\nfunction ReadableStreamAddReadRequest(stream, readRequest) {\n    stream._reader._readRequests.push(readRequest);\n}\nfunction ReadableStreamFulfillReadRequest(stream, chunk, done) {\n    var reader = stream._reader;\n    var readRequest = reader._readRequests.shift();\n    if (done) {\n        readRequest._closeSteps();\n    }\n    else {\n        readRequest._chunkSteps(chunk);\n    }\n}\nfunction ReadableStreamGetNumReadRequests(stream) {\n    return stream._reader._readRequests.length;\n}\nfunction ReadableStreamHasDefaultReader(stream) {\n    var reader = stream._reader;\n    if (reader === undefined) {\n        return false;\n    }\n    if (!IsReadableStreamDefaultReader(reader)) {\n        return false;\n    }\n    return true;\n}\n/**\n * A default reader vended by a {@link ReadableStream}.\n *\n * @public\n */\nvar ReadableStreamDefaultReader = /** @class */ (function () {\n    function ReadableStreamDefaultReader(stream) {\n        assertRequiredArgument(stream, 1, 'ReadableStreamDefaultReader');\n        assertReadableStream(stream, 'First parameter');\n        if (IsReadableStreamLocked(stream)) {\n            throw new TypeError('This stream has already been locked for exclusive reading by another reader');\n        }\n        ReadableStreamReaderGenericInitialize(this, stream);\n        this._readRequests = new SimpleQueue();\n    }\n    Object.defineProperty(ReadableStreamDefaultReader.prototype, \"closed\", {\n        /**\n         * Returns a promise that will be fulfilled when the stream becomes closed,\n         * or rejected if the stream ever errors or the reader's lock is released before the stream finishes closing.\n         */\n        get: function () {\n            if (!IsReadableStreamDefaultReader(this)) {\n                return promiseRejectedWith(defaultReaderBrandCheckException('closed'));\n            }\n            return this._closedPromise;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * If the reader is active, behaves the same as {@link ReadableStream.cancel | stream.cancel(reason)}.\n     */\n    ReadableStreamDefaultReader.prototype.cancel = function (reason) {\n        if (reason === void 0) { reason = undefined; }\n        if (!IsReadableStreamDefaultReader(this)) {\n            return promiseRejectedWith(defaultReaderBrandCheckException('cancel'));\n        }\n        if (this._ownerReadableStream === undefined) {\n            return promiseRejectedWith(readerLockException('cancel'));\n        }\n        return ReadableStreamReaderGenericCancel(this, reason);\n    };\n    /**\n     * Returns a promise that allows access to the next chunk from the stream's internal queue, if available.\n     *\n     * If reading a chunk causes the queue to become empty, more data will be pulled from the underlying source.\n     */\n    ReadableStreamDefaultReader.prototype.read = function () {\n        if (!IsReadableStreamDefaultReader(this)) {\n            return promiseRejectedWith(defaultReaderBrandCheckException('read'));\n        }\n        if (this._ownerReadableStream === undefined) {\n            return promiseRejectedWith(readerLockException('read from'));\n        }\n        var resolvePromise;\n        var rejectPromise;\n        var promise = newPromise(function (resolve, reject) {\n            resolvePromise = resolve;\n            rejectPromise = reject;\n        });\n        var readRequest = {\n            _chunkSteps: function (chunk) { return resolvePromise({ value: chunk, done: false }); },\n            _closeSteps: function () { return resolvePromise({ value: undefined, done: true }); },\n            _errorSteps: function (e) { return rejectPromise(e); }\n        };\n        ReadableStreamDefaultReaderRead(this, readRequest);\n        return promise;\n    };\n    /**\n     * Releases the reader's lock on the corresponding stream. After the lock is released, the reader is no longer active.\n     * If the associated stream is errored when the lock is released, the reader will appear errored in the same way\n     * from now on; otherwise, the reader will appear closed.\n     *\n     * A reader's lock cannot be released while it still has a pending read request, i.e., if a promise returned by\n     * the reader's {@link ReadableStreamDefaultReader.read | read()} method has not yet been settled. Attempting to\n     * do so will throw a `TypeError` and leave the reader locked to the stream.\n     */\n    ReadableStreamDefaultReader.prototype.releaseLock = function () {\n        if (!IsReadableStreamDefaultReader(this)) {\n            throw defaultReaderBrandCheckException('releaseLock');\n        }\n        if (this._ownerReadableStream === undefined) {\n            return;\n        }\n        if (this._readRequests.length > 0) {\n            throw new TypeError('Tried to release a reader lock when that reader has pending read() calls un-settled');\n        }\n        ReadableStreamReaderGenericRelease(this);\n    };\n    return ReadableStreamDefaultReader;\n}());\nObject.defineProperties(ReadableStreamDefaultReader.prototype, {\n    cancel: { enumerable: true },\n    read: { enumerable: true },\n    releaseLock: { enumerable: true },\n    closed: { enumerable: true }\n});\nif (typeof SymbolPolyfill.toStringTag === 'symbol') {\n    Object.defineProperty(ReadableStreamDefaultReader.prototype, SymbolPolyfill.toStringTag, {\n        value: 'ReadableStreamDefaultReader',\n        configurable: true\n    });\n}\n// Abstract operations for the readers.\nfunction IsReadableStreamDefaultReader(x) {\n    if (!typeIsObject(x)) {\n        return false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(x, '_readRequests')) {\n        return false;\n    }\n    return x instanceof ReadableStreamDefaultReader;\n}\nfunction ReadableStreamDefaultReaderRead(reader, readRequest) {\n    var stream = reader._ownerReadableStream;\n    stream._disturbed = true;\n    if (stream._state === 'closed') {\n        readRequest._closeSteps();\n    }\n    else if (stream._state === 'errored') {\n        readRequest._errorSteps(stream._storedError);\n    }\n    else {\n        stream._readableStreamController[PullSteps](readRequest);\n    }\n}\n// Helper functions for the ReadableStreamDefaultReader.\nfunction defaultReaderBrandCheckException(name) {\n    return new TypeError(\"ReadableStreamDefaultReader.prototype.\" + name + \" can only be used on a ReadableStreamDefaultReader\");\n}\n\n/// <reference lib=\"es2018.asynciterable\" />\nvar _a;\nvar AsyncIteratorPrototype;\nif (typeof SymbolPolyfill.asyncIterator === 'symbol') {\n    // We're running inside a ES2018+ environment, but we're compiling to an older syntax.\n    // We cannot access %AsyncIteratorPrototype% without non-ES2018 syntax, but we can re-create it.\n    AsyncIteratorPrototype = (_a = {},\n        // 25.1.3.1 %AsyncIteratorPrototype% [ @@asyncIterator ] ( )\n        // https://tc39.github.io/ecma262/#sec-asynciteratorprototype-asynciterator\n        _a[SymbolPolyfill.asyncIterator] = function () {\n            return this;\n        },\n        _a);\n    Object.defineProperty(AsyncIteratorPrototype, SymbolPolyfill.asyncIterator, { enumerable: false });\n}\n\n/// <reference lib=\"es2018.asynciterable\" />\nvar ReadableStreamAsyncIteratorImpl = /** @class */ (function () {\n    function ReadableStreamAsyncIteratorImpl(reader, preventCancel) {\n        this._ongoingPromise = undefined;\n        this._isFinished = false;\n        this._reader = reader;\n        this._preventCancel = preventCancel;\n    }\n    ReadableStreamAsyncIteratorImpl.prototype.next = function () {\n        var _this = this;\n        var nextSteps = function () { return _this._nextSteps(); };\n        this._ongoingPromise = this._ongoingPromise ?\n            transformPromiseWith(this._ongoingPromise, nextSteps, nextSteps) :\n            nextSteps();\n        return this._ongoingPromise;\n    };\n    ReadableStreamAsyncIteratorImpl.prototype.return = function (value) {\n        var _this = this;\n        var returnSteps = function () { return _this._returnSteps(value); };\n        return this._ongoingPromise ?\n            transformPromiseWith(this._ongoingPromise, returnSteps, returnSteps) :\n            returnSteps();\n    };\n    ReadableStreamAsyncIteratorImpl.prototype._nextSteps = function () {\n        var _this = this;\n        if (this._isFinished) {\n            return Promise.resolve({ value: undefined, done: true });\n        }\n        var reader = this._reader;\n        if (reader._ownerReadableStream === undefined) {\n            return promiseRejectedWith(readerLockException('iterate'));\n        }\n        var resolvePromise;\n        var rejectPromise;\n        var promise = newPromise(function (resolve, reject) {\n            resolvePromise = resolve;\n            rejectPromise = reject;\n        });\n        var readRequest = {\n            _chunkSteps: function (chunk) {\n                _this._ongoingPromise = undefined;\n                // This needs to be delayed by one microtask, otherwise we stop pulling too early which breaks a test.\n                // FIXME Is this a bug in the specification, or in the test?\n                queueMicrotask(function () { return resolvePromise({ value: chunk, done: false }); });\n            },\n            _closeSteps: function () {\n                _this._ongoingPromise = undefined;\n                _this._isFinished = true;\n                ReadableStreamReaderGenericRelease(reader);\n                resolvePromise({ value: undefined, done: true });\n            },\n            _errorSteps: function (reason) {\n                _this._ongoingPromise = undefined;\n                _this._isFinished = true;\n                ReadableStreamReaderGenericRelease(reader);\n                rejectPromise(reason);\n            }\n        };\n        ReadableStreamDefaultReaderRead(reader, readRequest);\n        return promise;\n    };\n    ReadableStreamAsyncIteratorImpl.prototype._returnSteps = function (value) {\n        if (this._isFinished) {\n            return Promise.resolve({ value: value, done: true });\n        }\n        this._isFinished = true;\n        var reader = this._reader;\n        if (reader._ownerReadableStream === undefined) {\n            return promiseRejectedWith(readerLockException('finish iterating'));\n        }\n        if (!this._preventCancel) {\n            var result = ReadableStreamReaderGenericCancel(reader, value);\n            ReadableStreamReaderGenericRelease(reader);\n            return transformPromiseWith(result, function () { return ({ value: value, done: true }); });\n        }\n        ReadableStreamReaderGenericRelease(reader);\n        return promiseResolvedWith({ value: value, done: true });\n    };\n    return ReadableStreamAsyncIteratorImpl;\n}());\nvar ReadableStreamAsyncIteratorPrototype = {\n    next: function () {\n        if (!IsReadableStreamAsyncIterator(this)) {\n            return promiseRejectedWith(streamAsyncIteratorBrandCheckException('next'));\n        }\n        return this._asyncIteratorImpl.next();\n    },\n    return: function (value) {\n        if (!IsReadableStreamAsyncIterator(this)) {\n            return promiseRejectedWith(streamAsyncIteratorBrandCheckException('return'));\n        }\n        return this._asyncIteratorImpl.return(value);\n    }\n};\nif (AsyncIteratorPrototype !== undefined) {\n    Object.setPrototypeOf(ReadableStreamAsyncIteratorPrototype, AsyncIteratorPrototype);\n}\n// Abstract operations for the ReadableStream.\nfunction AcquireReadableStreamAsyncIterator(stream, preventCancel) {\n    var reader = AcquireReadableStreamDefaultReader(stream);\n    var impl = new ReadableStreamAsyncIteratorImpl(reader, preventCancel);\n    var iterator = Object.create(ReadableStreamAsyncIteratorPrototype);\n    iterator._asyncIteratorImpl = impl;\n    return iterator;\n}\nfunction IsReadableStreamAsyncIterator(x) {\n    if (!typeIsObject(x)) {\n        return false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(x, '_asyncIteratorImpl')) {\n        return false;\n    }\n    try {\n        // noinspection SuspiciousTypeOfGuard\n        return x._asyncIteratorImpl instanceof\n            ReadableStreamAsyncIteratorImpl;\n    }\n    catch (_a) {\n        return false;\n    }\n}\n// Helper functions for the ReadableStream.\nfunction streamAsyncIteratorBrandCheckException(name) {\n    return new TypeError(\"ReadableStreamAsyncIterator.\" + name + \" can only be used on a ReadableSteamAsyncIterator\");\n}\n\n/// <reference lib=\"es2015.core\" />\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isNaN#Polyfill\nvar NumberIsNaN = Number.isNaN || function (x) {\n    // eslint-disable-next-line no-self-compare\n    return x !== x;\n};\n\nfunction CreateArrayFromList(elements) {\n    // We use arrays to represent lists, so this is basically a no-op.\n    // Do a slice though just in case we happen to depend on the unique-ness.\n    return elements.slice();\n}\nfunction CopyDataBlockBytes(dest, destOffset, src, srcOffset, n) {\n    new Uint8Array(dest).set(new Uint8Array(src, srcOffset, n), destOffset);\n}\n// Not implemented correctly\nfunction TransferArrayBuffer(O) {\n    return O;\n}\n// Not implemented correctly\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction IsDetachedBuffer(O) {\n    return false;\n}\nfunction ArrayBufferSlice(buffer, begin, end) {\n    // ArrayBuffer.prototype.slice is not available on IE10\n    // https://www.caniuse.com/mdn-javascript_builtins_arraybuffer_slice\n    if (buffer.slice) {\n        return buffer.slice(begin, end);\n    }\n    var length = end - begin;\n    var slice = new ArrayBuffer(length);\n    CopyDataBlockBytes(slice, 0, buffer, begin, length);\n    return slice;\n}\n\nfunction IsNonNegativeNumber(v) {\n    if (typeof v !== 'number') {\n        return false;\n    }\n    if (NumberIsNaN(v)) {\n        return false;\n    }\n    if (v < 0) {\n        return false;\n    }\n    return true;\n}\nfunction CloneAsUint8Array(O) {\n    var buffer = ArrayBufferSlice(O.buffer, O.byteOffset, O.byteOffset + O.byteLength);\n    return new Uint8Array(buffer);\n}\n\nfunction DequeueValue(container) {\n    var pair = container._queue.shift();\n    container._queueTotalSize -= pair.size;\n    if (container._queueTotalSize < 0) {\n        container._queueTotalSize = 0;\n    }\n    return pair.value;\n}\nfunction EnqueueValueWithSize(container, value, size) {\n    if (!IsNonNegativeNumber(size) || size === Infinity) {\n        throw new RangeError('Size must be a finite, non-NaN, non-negative number.');\n    }\n    container._queue.push({ value: value, size: size });\n    container._queueTotalSize += size;\n}\nfunction PeekQueueValue(container) {\n    var pair = container._queue.peek();\n    return pair.value;\n}\nfunction ResetQueue(container) {\n    container._queue = new SimpleQueue();\n    container._queueTotalSize = 0;\n}\n\n/**\n * A pull-into request in a {@link ReadableByteStreamController}.\n *\n * @public\n */\nvar ReadableStreamBYOBRequest = /** @class */ (function () {\n    function ReadableStreamBYOBRequest() {\n        throw new TypeError('Illegal constructor');\n    }\n    Object.defineProperty(ReadableStreamBYOBRequest.prototype, \"view\", {\n        /**\n         * Returns the view for writing in to, or `null` if the BYOB request has already been responded to.\n         */\n        get: function () {\n            if (!IsReadableStreamBYOBRequest(this)) {\n                throw byobRequestBrandCheckException('view');\n            }\n            return this._view;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ReadableStreamBYOBRequest.prototype.respond = function (bytesWritten) {\n        if (!IsReadableStreamBYOBRequest(this)) {\n            throw byobRequestBrandCheckException('respond');\n        }\n        assertRequiredArgument(bytesWritten, 1, 'respond');\n        bytesWritten = convertUnsignedLongLongWithEnforceRange(bytesWritten, 'First parameter');\n        if (this._associatedReadableByteStreamController === undefined) {\n            throw new TypeError('This BYOB request has been invalidated');\n        }\n        if (IsDetachedBuffer(this._view.buffer)) ;\n        ReadableByteStreamControllerRespond(this._associatedReadableByteStreamController, bytesWritten);\n    };\n    ReadableStreamBYOBRequest.prototype.respondWithNewView = function (view) {\n        if (!IsReadableStreamBYOBRequest(this)) {\n            throw byobRequestBrandCheckException('respondWithNewView');\n        }\n        assertRequiredArgument(view, 1, 'respondWithNewView');\n        if (!ArrayBuffer.isView(view)) {\n            throw new TypeError('You can only respond with array buffer views');\n        }\n        if (this._associatedReadableByteStreamController === undefined) {\n            throw new TypeError('This BYOB request has been invalidated');\n        }\n        if (IsDetachedBuffer(view.buffer)) ;\n        ReadableByteStreamControllerRespondWithNewView(this._associatedReadableByteStreamController, view);\n    };\n    return ReadableStreamBYOBRequest;\n}());\nObject.defineProperties(ReadableStreamBYOBRequest.prototype, {\n    respond: { enumerable: true },\n    respondWithNewView: { enumerable: true },\n    view: { enumerable: true }\n});\nif (typeof SymbolPolyfill.toStringTag === 'symbol') {\n    Object.defineProperty(ReadableStreamBYOBRequest.prototype, SymbolPolyfill.toStringTag, {\n        value: 'ReadableStreamBYOBRequest',\n        configurable: true\n    });\n}\n/**\n * Allows control of a {@link ReadableStream | readable byte stream}'s state and internal queue.\n *\n * @public\n */\nvar ReadableByteStreamController = /** @class */ (function () {\n    function ReadableByteStreamController() {\n        throw new TypeError('Illegal constructor');\n    }\n    Object.defineProperty(ReadableByteStreamController.prototype, \"byobRequest\", {\n        /**\n         * Returns the current BYOB pull request, or `null` if there isn't one.\n         */\n        get: function () {\n            if (!IsReadableByteStreamController(this)) {\n                throw byteStreamControllerBrandCheckException('byobRequest');\n            }\n            return ReadableByteStreamControllerGetBYOBRequest(this);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ReadableByteStreamController.prototype, \"desiredSize\", {\n        /**\n         * Returns the desired size to fill the controlled stream's internal queue. It can be negative, if the queue is\n         * over-full. An underlying byte source ought to use this information to determine when and how to apply backpressure.\n         */\n        get: function () {\n            if (!IsReadableByteStreamController(this)) {\n                throw byteStreamControllerBrandCheckException('desiredSize');\n            }\n            return ReadableByteStreamControllerGetDesiredSize(this);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Closes the controlled readable stream. Consumers will still be able to read any previously-enqueued chunks from\n     * the stream, but once those are read, the stream will become closed.\n     */\n    ReadableByteStreamController.prototype.close = function () {\n        if (!IsReadableByteStreamController(this)) {\n            throw byteStreamControllerBrandCheckException('close');\n        }\n        if (this._closeRequested) {\n            throw new TypeError('The stream has already been closed; do not close it again!');\n        }\n        var state = this._controlledReadableByteStream._state;\n        if (state !== 'readable') {\n            throw new TypeError(\"The stream (in \" + state + \" state) is not in the readable state and cannot be closed\");\n        }\n        ReadableByteStreamControllerClose(this);\n    };\n    ReadableByteStreamController.prototype.enqueue = function (chunk) {\n        if (!IsReadableByteStreamController(this)) {\n            throw byteStreamControllerBrandCheckException('enqueue');\n        }\n        assertRequiredArgument(chunk, 1, 'enqueue');\n        if (!ArrayBuffer.isView(chunk)) {\n            throw new TypeError('chunk must be an array buffer view');\n        }\n        if (chunk.byteLength === 0) {\n            throw new TypeError('chunk must have non-zero byteLength');\n        }\n        if (chunk.buffer.byteLength === 0) {\n            throw new TypeError(\"chunk's buffer must have non-zero byteLength\");\n        }\n        if (this._closeRequested) {\n            throw new TypeError('stream is closed or draining');\n        }\n        var state = this._controlledReadableByteStream._state;\n        if (state !== 'readable') {\n            throw new TypeError(\"The stream (in \" + state + \" state) is not in the readable state and cannot be enqueued to\");\n        }\n        ReadableByteStreamControllerEnqueue(this, chunk);\n    };\n    /**\n     * Errors the controlled readable stream, making all future interactions with it fail with the given error `e`.\n     */\n    ReadableByteStreamController.prototype.error = function (e) {\n        if (e === void 0) { e = undefined; }\n        if (!IsReadableByteStreamController(this)) {\n            throw byteStreamControllerBrandCheckException('error');\n        }\n        ReadableByteStreamControllerError(this, e);\n    };\n    /** @internal */\n    ReadableByteStreamController.prototype[CancelSteps] = function (reason) {\n        ReadableByteStreamControllerClearPendingPullIntos(this);\n        ResetQueue(this);\n        var result = this._cancelAlgorithm(reason);\n        ReadableByteStreamControllerClearAlgorithms(this);\n        return result;\n    };\n    /** @internal */\n    ReadableByteStreamController.prototype[PullSteps] = function (readRequest) {\n        var stream = this._controlledReadableByteStream;\n        if (this._queueTotalSize > 0) {\n            var entry = this._queue.shift();\n            this._queueTotalSize -= entry.byteLength;\n            ReadableByteStreamControllerHandleQueueDrain(this);\n            var view = new Uint8Array(entry.buffer, entry.byteOffset, entry.byteLength);\n            readRequest._chunkSteps(view);\n            return;\n        }\n        var autoAllocateChunkSize = this._autoAllocateChunkSize;\n        if (autoAllocateChunkSize !== undefined) {\n            var buffer = void 0;\n            try {\n                buffer = new ArrayBuffer(autoAllocateChunkSize);\n            }\n            catch (bufferE) {\n                readRequest._errorSteps(bufferE);\n                return;\n            }\n            var pullIntoDescriptor = {\n                buffer: buffer,\n                bufferByteLength: autoAllocateChunkSize,\n                byteOffset: 0,\n                byteLength: autoAllocateChunkSize,\n                bytesFilled: 0,\n                elementSize: 1,\n                viewConstructor: Uint8Array,\n                readerType: 'default'\n            };\n            this._pendingPullIntos.push(pullIntoDescriptor);\n        }\n        ReadableStreamAddReadRequest(stream, readRequest);\n        ReadableByteStreamControllerCallPullIfNeeded(this);\n    };\n    return ReadableByteStreamController;\n}());\nObject.defineProperties(ReadableByteStreamController.prototype, {\n    close: { enumerable: true },\n    enqueue: { enumerable: true },\n    error: { enumerable: true },\n    byobRequest: { enumerable: true },\n    desiredSize: { enumerable: true }\n});\nif (typeof SymbolPolyfill.toStringTag === 'symbol') {\n    Object.defineProperty(ReadableByteStreamController.prototype, SymbolPolyfill.toStringTag, {\n        value: 'ReadableByteStreamController',\n        configurable: true\n    });\n}\n// Abstract operations for the ReadableByteStreamController.\nfunction IsReadableByteStreamController(x) {\n    if (!typeIsObject(x)) {\n        return false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(x, '_controlledReadableByteStream')) {\n        return false;\n    }\n    return x instanceof ReadableByteStreamController;\n}\nfunction IsReadableStreamBYOBRequest(x) {\n    if (!typeIsObject(x)) {\n        return false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(x, '_associatedReadableByteStreamController')) {\n        return false;\n    }\n    return x instanceof ReadableStreamBYOBRequest;\n}\nfunction ReadableByteStreamControllerCallPullIfNeeded(controller) {\n    var shouldPull = ReadableByteStreamControllerShouldCallPull(controller);\n    if (!shouldPull) {\n        return;\n    }\n    if (controller._pulling) {\n        controller._pullAgain = true;\n        return;\n    }\n    controller._pulling = true;\n    // TODO: Test controller argument\n    var pullPromise = controller._pullAlgorithm();\n    uponPromise(pullPromise, function () {\n        controller._pulling = false;\n        if (controller._pullAgain) {\n            controller._pullAgain = false;\n            ReadableByteStreamControllerCallPullIfNeeded(controller);\n        }\n    }, function (e) {\n        ReadableByteStreamControllerError(controller, e);\n    });\n}\nfunction ReadableByteStreamControllerClearPendingPullIntos(controller) {\n    ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n    controller._pendingPullIntos = new SimpleQueue();\n}\nfunction ReadableByteStreamControllerCommitPullIntoDescriptor(stream, pullIntoDescriptor) {\n    var done = false;\n    if (stream._state === 'closed') {\n        done = true;\n    }\n    var filledView = ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor);\n    if (pullIntoDescriptor.readerType === 'default') {\n        ReadableStreamFulfillReadRequest(stream, filledView, done);\n    }\n    else {\n        ReadableStreamFulfillReadIntoRequest(stream, filledView, done);\n    }\n}\nfunction ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor) {\n    var bytesFilled = pullIntoDescriptor.bytesFilled;\n    var elementSize = pullIntoDescriptor.elementSize;\n    return new pullIntoDescriptor.viewConstructor(pullIntoDescriptor.buffer, pullIntoDescriptor.byteOffset, bytesFilled / elementSize);\n}\nfunction ReadableByteStreamControllerEnqueueChunkToQueue(controller, buffer, byteOffset, byteLength) {\n    controller._queue.push({ buffer: buffer, byteOffset: byteOffset, byteLength: byteLength });\n    controller._queueTotalSize += byteLength;\n}\nfunction ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor) {\n    var elementSize = pullIntoDescriptor.elementSize;\n    var currentAlignedBytes = pullIntoDescriptor.bytesFilled - pullIntoDescriptor.bytesFilled % elementSize;\n    var maxBytesToCopy = Math.min(controller._queueTotalSize, pullIntoDescriptor.byteLength - pullIntoDescriptor.bytesFilled);\n    var maxBytesFilled = pullIntoDescriptor.bytesFilled + maxBytesToCopy;\n    var maxAlignedBytes = maxBytesFilled - maxBytesFilled % elementSize;\n    var totalBytesToCopyRemaining = maxBytesToCopy;\n    var ready = false;\n    if (maxAlignedBytes > currentAlignedBytes) {\n        totalBytesToCopyRemaining = maxAlignedBytes - pullIntoDescriptor.bytesFilled;\n        ready = true;\n    }\n    var queue = controller._queue;\n    while (totalBytesToCopyRemaining > 0) {\n        var headOfQueue = queue.peek();\n        var bytesToCopy = Math.min(totalBytesToCopyRemaining, headOfQueue.byteLength);\n        var destStart = pullIntoDescriptor.byteOffset + pullIntoDescriptor.bytesFilled;\n        CopyDataBlockBytes(pullIntoDescriptor.buffer, destStart, headOfQueue.buffer, headOfQueue.byteOffset, bytesToCopy);\n        if (headOfQueue.byteLength === bytesToCopy) {\n            queue.shift();\n        }\n        else {\n            headOfQueue.byteOffset += bytesToCopy;\n            headOfQueue.byteLength -= bytesToCopy;\n        }\n        controller._queueTotalSize -= bytesToCopy;\n        ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, bytesToCopy, pullIntoDescriptor);\n        totalBytesToCopyRemaining -= bytesToCopy;\n    }\n    return ready;\n}\nfunction ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, size, pullIntoDescriptor) {\n    pullIntoDescriptor.bytesFilled += size;\n}\nfunction ReadableByteStreamControllerHandleQueueDrain(controller) {\n    if (controller._queueTotalSize === 0 && controller._closeRequested) {\n        ReadableByteStreamControllerClearAlgorithms(controller);\n        ReadableStreamClose(controller._controlledReadableByteStream);\n    }\n    else {\n        ReadableByteStreamControllerCallPullIfNeeded(controller);\n    }\n}\nfunction ReadableByteStreamControllerInvalidateBYOBRequest(controller) {\n    if (controller._byobRequest === null) {\n        return;\n    }\n    controller._byobRequest._associatedReadableByteStreamController = undefined;\n    controller._byobRequest._view = null;\n    controller._byobRequest = null;\n}\nfunction ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller) {\n    while (controller._pendingPullIntos.length > 0) {\n        if (controller._queueTotalSize === 0) {\n            return;\n        }\n        var pullIntoDescriptor = controller._pendingPullIntos.peek();\n        if (ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor)) {\n            ReadableByteStreamControllerShiftPendingPullInto(controller);\n            ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableByteStream, pullIntoDescriptor);\n        }\n    }\n}\nfunction ReadableByteStreamControllerPullInto(controller, view, readIntoRequest) {\n    var stream = controller._controlledReadableByteStream;\n    var elementSize = 1;\n    if (view.constructor !== DataView) {\n        elementSize = view.constructor.BYTES_PER_ELEMENT;\n    }\n    var ctor = view.constructor;\n    // try {\n    var buffer = TransferArrayBuffer(view.buffer);\n    // } catch (e) {\n    //   readIntoRequest._errorSteps(e);\n    //   return;\n    // }\n    var pullIntoDescriptor = {\n        buffer: buffer,\n        bufferByteLength: buffer.byteLength,\n        byteOffset: view.byteOffset,\n        byteLength: view.byteLength,\n        bytesFilled: 0,\n        elementSize: elementSize,\n        viewConstructor: ctor,\n        readerType: 'byob'\n    };\n    if (controller._pendingPullIntos.length > 0) {\n        controller._pendingPullIntos.push(pullIntoDescriptor);\n        // No ReadableByteStreamControllerCallPullIfNeeded() call since:\n        // - No change happens on desiredSize\n        // - The source has already been notified of that there's at least 1 pending read(view)\n        ReadableStreamAddReadIntoRequest(stream, readIntoRequest);\n        return;\n    }\n    if (stream._state === 'closed') {\n        var emptyView = new ctor(pullIntoDescriptor.buffer, pullIntoDescriptor.byteOffset, 0);\n        readIntoRequest._closeSteps(emptyView);\n        return;\n    }\n    if (controller._queueTotalSize > 0) {\n        if (ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor)) {\n            var filledView = ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor);\n            ReadableByteStreamControllerHandleQueueDrain(controller);\n            readIntoRequest._chunkSteps(filledView);\n            return;\n        }\n        if (controller._closeRequested) {\n            var e = new TypeError('Insufficient bytes to fill elements in the given buffer');\n            ReadableByteStreamControllerError(controller, e);\n            readIntoRequest._errorSteps(e);\n            return;\n        }\n    }\n    controller._pendingPullIntos.push(pullIntoDescriptor);\n    ReadableStreamAddReadIntoRequest(stream, readIntoRequest);\n    ReadableByteStreamControllerCallPullIfNeeded(controller);\n}\nfunction ReadableByteStreamControllerRespondInClosedState(controller, firstDescriptor) {\n    var stream = controller._controlledReadableByteStream;\n    if (ReadableStreamHasBYOBReader(stream)) {\n        while (ReadableStreamGetNumReadIntoRequests(stream) > 0) {\n            var pullIntoDescriptor = ReadableByteStreamControllerShiftPendingPullInto(controller);\n            ReadableByteStreamControllerCommitPullIntoDescriptor(stream, pullIntoDescriptor);\n        }\n    }\n}\nfunction ReadableByteStreamControllerRespondInReadableState(controller, bytesWritten, pullIntoDescriptor) {\n    ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, bytesWritten, pullIntoDescriptor);\n    if (pullIntoDescriptor.bytesFilled < pullIntoDescriptor.elementSize) {\n        return;\n    }\n    ReadableByteStreamControllerShiftPendingPullInto(controller);\n    var remainderSize = pullIntoDescriptor.bytesFilled % pullIntoDescriptor.elementSize;\n    if (remainderSize > 0) {\n        var end = pullIntoDescriptor.byteOffset + pullIntoDescriptor.bytesFilled;\n        var remainder = ArrayBufferSlice(pullIntoDescriptor.buffer, end - remainderSize, end);\n        ReadableByteStreamControllerEnqueueChunkToQueue(controller, remainder, 0, remainder.byteLength);\n    }\n    pullIntoDescriptor.bytesFilled -= remainderSize;\n    ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableByteStream, pullIntoDescriptor);\n    ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller);\n}\nfunction ReadableByteStreamControllerRespondInternal(controller, bytesWritten) {\n    var firstDescriptor = controller._pendingPullIntos.peek();\n    ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n    var state = controller._controlledReadableByteStream._state;\n    if (state === 'closed') {\n        ReadableByteStreamControllerRespondInClosedState(controller);\n    }\n    else {\n        ReadableByteStreamControllerRespondInReadableState(controller, bytesWritten, firstDescriptor);\n    }\n    ReadableByteStreamControllerCallPullIfNeeded(controller);\n}\nfunction ReadableByteStreamControllerShiftPendingPullInto(controller) {\n    var descriptor = controller._pendingPullIntos.shift();\n    return descriptor;\n}\nfunction ReadableByteStreamControllerShouldCallPull(controller) {\n    var stream = controller._controlledReadableByteStream;\n    if (stream._state !== 'readable') {\n        return false;\n    }\n    if (controller._closeRequested) {\n        return false;\n    }\n    if (!controller._started) {\n        return false;\n    }\n    if (ReadableStreamHasDefaultReader(stream) && ReadableStreamGetNumReadRequests(stream) > 0) {\n        return true;\n    }\n    if (ReadableStreamHasBYOBReader(stream) && ReadableStreamGetNumReadIntoRequests(stream) > 0) {\n        return true;\n    }\n    var desiredSize = ReadableByteStreamControllerGetDesiredSize(controller);\n    if (desiredSize > 0) {\n        return true;\n    }\n    return false;\n}\nfunction ReadableByteStreamControllerClearAlgorithms(controller) {\n    controller._pullAlgorithm = undefined;\n    controller._cancelAlgorithm = undefined;\n}\n// A client of ReadableByteStreamController may use these functions directly to bypass state check.\nfunction ReadableByteStreamControllerClose(controller) {\n    var stream = controller._controlledReadableByteStream;\n    if (controller._closeRequested || stream._state !== 'readable') {\n        return;\n    }\n    if (controller._queueTotalSize > 0) {\n        controller._closeRequested = true;\n        return;\n    }\n    if (controller._pendingPullIntos.length > 0) {\n        var firstPendingPullInto = controller._pendingPullIntos.peek();\n        if (firstPendingPullInto.bytesFilled > 0) {\n            var e = new TypeError('Insufficient bytes to fill elements in the given buffer');\n            ReadableByteStreamControllerError(controller, e);\n            throw e;\n        }\n    }\n    ReadableByteStreamControllerClearAlgorithms(controller);\n    ReadableStreamClose(stream);\n}\nfunction ReadableByteStreamControllerEnqueue(controller, chunk) {\n    var stream = controller._controlledReadableByteStream;\n    if (controller._closeRequested || stream._state !== 'readable') {\n        return;\n    }\n    var buffer = chunk.buffer;\n    var byteOffset = chunk.byteOffset;\n    var byteLength = chunk.byteLength;\n    var transferredBuffer = TransferArrayBuffer(buffer);\n    if (controller._pendingPullIntos.length > 0) {\n        var firstPendingPullInto = controller._pendingPullIntos.peek();\n        if (IsDetachedBuffer(firstPendingPullInto.buffer)) ;\n        firstPendingPullInto.buffer = TransferArrayBuffer(firstPendingPullInto.buffer);\n    }\n    ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n    if (ReadableStreamHasDefaultReader(stream)) {\n        if (ReadableStreamGetNumReadRequests(stream) === 0) {\n            ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n        }\n        else {\n            if (controller._pendingPullIntos.length > 0) {\n                ReadableByteStreamControllerShiftPendingPullInto(controller);\n            }\n            var transferredView = new Uint8Array(transferredBuffer, byteOffset, byteLength);\n            ReadableStreamFulfillReadRequest(stream, transferredView, false);\n        }\n    }\n    else if (ReadableStreamHasBYOBReader(stream)) {\n        // TODO: Ideally in this branch detaching should happen only if the buffer is not consumed fully.\n        ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n        ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller);\n    }\n    else {\n        ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n    }\n    ReadableByteStreamControllerCallPullIfNeeded(controller);\n}\nfunction ReadableByteStreamControllerError(controller, e) {\n    var stream = controller._controlledReadableByteStream;\n    if (stream._state !== 'readable') {\n        return;\n    }\n    ReadableByteStreamControllerClearPendingPullIntos(controller);\n    ResetQueue(controller);\n    ReadableByteStreamControllerClearAlgorithms(controller);\n    ReadableStreamError(stream, e);\n}\nfunction ReadableByteStreamControllerGetBYOBRequest(controller) {\n    if (controller._byobRequest === null && controller._pendingPullIntos.length > 0) {\n        var firstDescriptor = controller._pendingPullIntos.peek();\n        var view = new Uint8Array(firstDescriptor.buffer, firstDescriptor.byteOffset + firstDescriptor.bytesFilled, firstDescriptor.byteLength - firstDescriptor.bytesFilled);\n        var byobRequest = Object.create(ReadableStreamBYOBRequest.prototype);\n        SetUpReadableStreamBYOBRequest(byobRequest, controller, view);\n        controller._byobRequest = byobRequest;\n    }\n    return controller._byobRequest;\n}\nfunction ReadableByteStreamControllerGetDesiredSize(controller) {\n    var state = controller._controlledReadableByteStream._state;\n    if (state === 'errored') {\n        return null;\n    }\n    if (state === 'closed') {\n        return 0;\n    }\n    return controller._strategyHWM - controller._queueTotalSize;\n}\nfunction ReadableByteStreamControllerRespond(controller, bytesWritten) {\n    var firstDescriptor = controller._pendingPullIntos.peek();\n    var state = controller._controlledReadableByteStream._state;\n    if (state === 'closed') {\n        if (bytesWritten !== 0) {\n            throw new TypeError('bytesWritten must be 0 when calling respond() on a closed stream');\n        }\n    }\n    else {\n        if (bytesWritten === 0) {\n            throw new TypeError('bytesWritten must be greater than 0 when calling respond() on a readable stream');\n        }\n        if (firstDescriptor.bytesFilled + bytesWritten > firstDescriptor.byteLength) {\n            throw new RangeError('bytesWritten out of range');\n        }\n    }\n    firstDescriptor.buffer = TransferArrayBuffer(firstDescriptor.buffer);\n    ReadableByteStreamControllerRespondInternal(controller, bytesWritten);\n}\nfunction ReadableByteStreamControllerRespondWithNewView(controller, view) {\n    var firstDescriptor = controller._pendingPullIntos.peek();\n    var state = controller._controlledReadableByteStream._state;\n    if (state === 'closed') {\n        if (view.byteLength !== 0) {\n            throw new TypeError('The view\\'s length must be 0 when calling respondWithNewView() on a closed stream');\n        }\n    }\n    else {\n        if (view.byteLength === 0) {\n            throw new TypeError('The view\\'s length must be greater than 0 when calling respondWithNewView() on a readable stream');\n        }\n    }\n    if (firstDescriptor.byteOffset + firstDescriptor.bytesFilled !== view.byteOffset) {\n        throw new RangeError('The region specified by view does not match byobRequest');\n    }\n    if (firstDescriptor.bufferByteLength !== view.buffer.byteLength) {\n        throw new RangeError('The buffer of view has different capacity than byobRequest');\n    }\n    if (firstDescriptor.bytesFilled + view.byteLength > firstDescriptor.byteLength) {\n        throw new RangeError('The region specified by view is larger than byobRequest');\n    }\n    var viewByteLength = view.byteLength;\n    firstDescriptor.buffer = TransferArrayBuffer(view.buffer);\n    ReadableByteStreamControllerRespondInternal(controller, viewByteLength);\n}\nfunction SetUpReadableByteStreamController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, autoAllocateChunkSize) {\n    controller._controlledReadableByteStream = stream;\n    controller._pullAgain = false;\n    controller._pulling = false;\n    controller._byobRequest = null;\n    // Need to set the slots so that the assert doesn't fire. In the spec the slots already exist implicitly.\n    controller._queue = controller._queueTotalSize = undefined;\n    ResetQueue(controller);\n    controller._closeRequested = false;\n    controller._started = false;\n    controller._strategyHWM = highWaterMark;\n    controller._pullAlgorithm = pullAlgorithm;\n    controller._cancelAlgorithm = cancelAlgorithm;\n    controller._autoAllocateChunkSize = autoAllocateChunkSize;\n    controller._pendingPullIntos = new SimpleQueue();\n    stream._readableStreamController = controller;\n    var startResult = startAlgorithm();\n    uponPromise(promiseResolvedWith(startResult), function () {\n        controller._started = true;\n        ReadableByteStreamControllerCallPullIfNeeded(controller);\n    }, function (r) {\n        ReadableByteStreamControllerError(controller, r);\n    });\n}\nfunction SetUpReadableByteStreamControllerFromUnderlyingSource(stream, underlyingByteSource, highWaterMark) {\n    var controller = Object.create(ReadableByteStreamController.prototype);\n    var startAlgorithm = function () { return undefined; };\n    var pullAlgorithm = function () { return promiseResolvedWith(undefined); };\n    var cancelAlgorithm = function () { return promiseResolvedWith(undefined); };\n    if (underlyingByteSource.start !== undefined) {\n        startAlgorithm = function () { return underlyingByteSource.start(controller); };\n    }\n    if (underlyingByteSource.pull !== undefined) {\n        pullAlgorithm = function () { return underlyingByteSource.pull(controller); };\n    }\n    if (underlyingByteSource.cancel !== undefined) {\n        cancelAlgorithm = function (reason) { return underlyingByteSource.cancel(reason); };\n    }\n    var autoAllocateChunkSize = underlyingByteSource.autoAllocateChunkSize;\n    if (autoAllocateChunkSize === 0) {\n        throw new TypeError('autoAllocateChunkSize must be greater than 0');\n    }\n    SetUpReadableByteStreamController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, autoAllocateChunkSize);\n}\nfunction SetUpReadableStreamBYOBRequest(request, controller, view) {\n    request._associatedReadableByteStreamController = controller;\n    request._view = view;\n}\n// Helper functions for the ReadableStreamBYOBRequest.\nfunction byobRequestBrandCheckException(name) {\n    return new TypeError(\"ReadableStreamBYOBRequest.prototype.\" + name + \" can only be used on a ReadableStreamBYOBRequest\");\n}\n// Helper functions for the ReadableByteStreamController.\nfunction byteStreamControllerBrandCheckException(name) {\n    return new TypeError(\"ReadableByteStreamController.prototype.\" + name + \" can only be used on a ReadableByteStreamController\");\n}\n\n// Abstract operations for the ReadableStream.\nfunction AcquireReadableStreamBYOBReader(stream) {\n    return new ReadableStreamBYOBReader(stream);\n}\n// ReadableStream API exposed for controllers.\nfunction ReadableStreamAddReadIntoRequest(stream, readIntoRequest) {\n    stream._reader._readIntoRequests.push(readIntoRequest);\n}\nfunction ReadableStreamFulfillReadIntoRequest(stream, chunk, done) {\n    var reader = stream._reader;\n    var readIntoRequest = reader._readIntoRequests.shift();\n    if (done) {\n        readIntoRequest._closeSteps(chunk);\n    }\n    else {\n        readIntoRequest._chunkSteps(chunk);\n    }\n}\nfunction ReadableStreamGetNumReadIntoRequests(stream) {\n    return stream._reader._readIntoRequests.length;\n}\nfunction ReadableStreamHasBYOBReader(stream) {\n    var reader = stream._reader;\n    if (reader === undefined) {\n        return false;\n    }\n    if (!IsReadableStreamBYOBReader(reader)) {\n        return false;\n    }\n    return true;\n}\n/**\n * A BYOB reader vended by a {@link ReadableStream}.\n *\n * @public\n */\nvar ReadableStreamBYOBReader = /** @class */ (function () {\n    function ReadableStreamBYOBReader(stream) {\n        assertRequiredArgument(stream, 1, 'ReadableStreamBYOBReader');\n        assertReadableStream(stream, 'First parameter');\n        if (IsReadableStreamLocked(stream)) {\n            throw new TypeError('This stream has already been locked for exclusive reading by another reader');\n        }\n        if (!IsReadableByteStreamController(stream._readableStreamController)) {\n            throw new TypeError('Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte ' +\n                'source');\n        }\n        ReadableStreamReaderGenericInitialize(this, stream);\n        this._readIntoRequests = new SimpleQueue();\n    }\n    Object.defineProperty(ReadableStreamBYOBReader.prototype, \"closed\", {\n        /**\n         * Returns a promise that will be fulfilled when the stream becomes closed, or rejected if the stream ever errors or\n         * the reader's lock is released before the stream finishes closing.\n         */\n        get: function () {\n            if (!IsReadableStreamBYOBReader(this)) {\n                return promiseRejectedWith(byobReaderBrandCheckException('closed'));\n            }\n            return this._closedPromise;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * If the reader is active, behaves the same as {@link ReadableStream.cancel | stream.cancel(reason)}.\n     */\n    ReadableStreamBYOBReader.prototype.cancel = function (reason) {\n        if (reason === void 0) { reason = undefined; }\n        if (!IsReadableStreamBYOBReader(this)) {\n            return promiseRejectedWith(byobReaderBrandCheckException('cancel'));\n        }\n        if (this._ownerReadableStream === undefined) {\n            return promiseRejectedWith(readerLockException('cancel'));\n        }\n        return ReadableStreamReaderGenericCancel(this, reason);\n    };\n    /**\n     * Attempts to reads bytes into view, and returns a promise resolved with the result.\n     *\n     * If reading a chunk causes the queue to become empty, more data will be pulled from the underlying source.\n     */\n    ReadableStreamBYOBReader.prototype.read = function (view) {\n        if (!IsReadableStreamBYOBReader(this)) {\n            return promiseRejectedWith(byobReaderBrandCheckException('read'));\n        }\n        if (!ArrayBuffer.isView(view)) {\n            return promiseRejectedWith(new TypeError('view must be an array buffer view'));\n        }\n        if (view.byteLength === 0) {\n            return promiseRejectedWith(new TypeError('view must have non-zero byteLength'));\n        }\n        if (view.buffer.byteLength === 0) {\n            return promiseRejectedWith(new TypeError(\"view's buffer must have non-zero byteLength\"));\n        }\n        if (IsDetachedBuffer(view.buffer)) ;\n        if (this._ownerReadableStream === undefined) {\n            return promiseRejectedWith(readerLockException('read from'));\n        }\n        var resolvePromise;\n        var rejectPromise;\n        var promise = newPromise(function (resolve, reject) {\n            resolvePromise = resolve;\n            rejectPromise = reject;\n        });\n        var readIntoRequest = {\n            _chunkSteps: function (chunk) { return resolvePromise({ value: chunk, done: false }); },\n            _closeSteps: function (chunk) { return resolvePromise({ value: chunk, done: true }); },\n            _errorSteps: function (e) { return rejectPromise(e); }\n        };\n        ReadableStreamBYOBReaderRead(this, view, readIntoRequest);\n        return promise;\n    };\n    /**\n     * Releases the reader's lock on the corresponding stream. After the lock is released, the reader is no longer active.\n     * If the associated stream is errored when the lock is released, the reader will appear errored in the same way\n     * from now on; otherwise, the reader will appear closed.\n     *\n     * A reader's lock cannot be released while it still has a pending read request, i.e., if a promise returned by\n     * the reader's {@link ReadableStreamBYOBReader.read | read()} method has not yet been settled. Attempting to\n     * do so will throw a `TypeError` and leave the reader locked to the stream.\n     */\n    ReadableStreamBYOBReader.prototype.releaseLock = function () {\n        if (!IsReadableStreamBYOBReader(this)) {\n            throw byobReaderBrandCheckException('releaseLock');\n        }\n        if (this._ownerReadableStream === undefined) {\n            return;\n        }\n        if (this._readIntoRequests.length > 0) {\n            throw new TypeError('Tried to release a reader lock when that reader has pending read() calls un-settled');\n        }\n        ReadableStreamReaderGenericRelease(this);\n    };\n    return ReadableStreamBYOBReader;\n}());\nObject.defineProperties(ReadableStreamBYOBReader.prototype, {\n    cancel: { enumerable: true },\n    read: { enumerable: true },\n    releaseLock: { enumerable: true },\n    closed: { enumerable: true }\n});\nif (typeof SymbolPolyfill.toStringTag === 'symbol') {\n    Object.defineProperty(ReadableStreamBYOBReader.prototype, SymbolPolyfill.toStringTag, {\n        value: 'ReadableStreamBYOBReader',\n        configurable: true\n    });\n}\n// Abstract operations for the readers.\nfunction IsReadableStreamBYOBReader(x) {\n    if (!typeIsObject(x)) {\n        return false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(x, '_readIntoRequests')) {\n        return false;\n    }\n    return x instanceof ReadableStreamBYOBReader;\n}\nfunction ReadableStreamBYOBReaderRead(reader, view, readIntoRequest) {\n    var stream = reader._ownerReadableStream;\n    stream._disturbed = true;\n    if (stream._state === 'errored') {\n        readIntoRequest._errorSteps(stream._storedError);\n    }\n    else {\n        ReadableByteStreamControllerPullInto(stream._readableStreamController, view, readIntoRequest);\n    }\n}\n// Helper functions for the ReadableStreamBYOBReader.\nfunction byobReaderBrandCheckException(name) {\n    return new TypeError(\"ReadableStreamBYOBReader.prototype.\" + name + \" can only be used on a ReadableStreamBYOBReader\");\n}\n\nfunction ExtractHighWaterMark(strategy, defaultHWM) {\n    var highWaterMark = strategy.highWaterMark;\n    if (highWaterMark === undefined) {\n        return defaultHWM;\n    }\n    if (NumberIsNaN(highWaterMark) || highWaterMark < 0) {\n        throw new RangeError('Invalid highWaterMark');\n    }\n    return highWaterMark;\n}\nfunction ExtractSizeAlgorithm(strategy) {\n    var size = strategy.size;\n    if (!size) {\n        return function () { return 1; };\n    }\n    return size;\n}\n\nfunction convertQueuingStrategy(init, context) {\n    assertDictionary(init, context);\n    var highWaterMark = init === null || init === void 0 ? void 0 : init.highWaterMark;\n    var size = init === null || init === void 0 ? void 0 : init.size;\n    return {\n        highWaterMark: highWaterMark === undefined ? undefined : convertUnrestrictedDouble(highWaterMark),\n        size: size === undefined ? undefined : convertQueuingStrategySize(size, context + \" has member 'size' that\")\n    };\n}\nfunction convertQueuingStrategySize(fn, context) {\n    assertFunction(fn, context);\n    return function (chunk) { return convertUnrestrictedDouble(fn(chunk)); };\n}\n\nfunction convertUnderlyingSink(original, context) {\n    assertDictionary(original, context);\n    var abort = original === null || original === void 0 ? void 0 : original.abort;\n    var close = original === null || original === void 0 ? void 0 : original.close;\n    var start = original === null || original === void 0 ? void 0 : original.start;\n    var type = original === null || original === void 0 ? void 0 : original.type;\n    var write = original === null || original === void 0 ? void 0 : original.write;\n    return {\n        abort: abort === undefined ?\n            undefined :\n            convertUnderlyingSinkAbortCallback(abort, original, context + \" has member 'abort' that\"),\n        close: close === undefined ?\n            undefined :\n            convertUnderlyingSinkCloseCallback(close, original, context + \" has member 'close' that\"),\n        start: start === undefined ?\n            undefined :\n            convertUnderlyingSinkStartCallback(start, original, context + \" has member 'start' that\"),\n        write: write === undefined ?\n            undefined :\n            convertUnderlyingSinkWriteCallback(write, original, context + \" has member 'write' that\"),\n        type: type\n    };\n}\nfunction convertUnderlyingSinkAbortCallback(fn, original, context) {\n    assertFunction(fn, context);\n    return function (reason) { return promiseCall(fn, original, [reason]); };\n}\nfunction convertUnderlyingSinkCloseCallback(fn, original, context) {\n    assertFunction(fn, context);\n    return function () { return promiseCall(fn, original, []); };\n}\nfunction convertUnderlyingSinkStartCallback(fn, original, context) {\n    assertFunction(fn, context);\n    return function (controller) { return reflectCall(fn, original, [controller]); };\n}\nfunction convertUnderlyingSinkWriteCallback(fn, original, context) {\n    assertFunction(fn, context);\n    return function (chunk, controller) { return promiseCall(fn, original, [chunk, controller]); };\n}\n\nfunction assertWritableStream(x, context) {\n    if (!IsWritableStream(x)) {\n        throw new TypeError(context + \" is not a WritableStream.\");\n    }\n}\n\nfunction isAbortSignal(value) {\n    if (typeof value !== 'object' || value === null) {\n        return false;\n    }\n    try {\n        return typeof value.aborted === 'boolean';\n    }\n    catch (_a) {\n        // AbortSignal.prototype.aborted throws if its brand check fails\n        return false;\n    }\n}\nvar supportsAbortController = typeof AbortController === 'function';\n/**\n * Construct a new AbortController, if supported by the platform.\n *\n * @internal\n */\nfunction createAbortController() {\n    if (supportsAbortController) {\n        return new AbortController();\n    }\n    return undefined;\n}\n\n/**\n * A writable stream represents a destination for data, into which you can write.\n *\n * @public\n */\nvar WritableStream = /** @class */ (function () {\n    function WritableStream(rawUnderlyingSink, rawStrategy) {\n        if (rawUnderlyingSink === void 0) { rawUnderlyingSink = {}; }\n        if (rawStrategy === void 0) { rawStrategy = {}; }\n        if (rawUnderlyingSink === undefined) {\n            rawUnderlyingSink = null;\n        }\n        else {\n            assertObject(rawUnderlyingSink, 'First parameter');\n        }\n        var strategy = convertQueuingStrategy(rawStrategy, 'Second parameter');\n        var underlyingSink = convertUnderlyingSink(rawUnderlyingSink, 'First parameter');\n        InitializeWritableStream(this);\n        var type = underlyingSink.type;\n        if (type !== undefined) {\n            throw new RangeError('Invalid type is specified');\n        }\n        var sizeAlgorithm = ExtractSizeAlgorithm(strategy);\n        var highWaterMark = ExtractHighWaterMark(strategy, 1);\n        SetUpWritableStreamDefaultControllerFromUnderlyingSink(this, underlyingSink, highWaterMark, sizeAlgorithm);\n    }\n    Object.defineProperty(WritableStream.prototype, \"locked\", {\n        /**\n         * Returns whether or not the writable stream is locked to a writer.\n         */\n        get: function () {\n            if (!IsWritableStream(this)) {\n                throw streamBrandCheckException$2('locked');\n            }\n            return IsWritableStreamLocked(this);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Aborts the stream, signaling that the producer can no longer successfully write to the stream and it is to be\n     * immediately moved to an errored state, with any queued-up writes discarded. This will also execute any abort\n     * mechanism of the underlying sink.\n     *\n     * The returned promise will fulfill if the stream shuts down successfully, or reject if the underlying sink signaled\n     * that there was an error doing so. Additionally, it will reject with a `TypeError` (without attempting to cancel\n     * the stream) if the stream is currently locked.\n     */\n    WritableStream.prototype.abort = function (reason) {\n        if (reason === void 0) { reason = undefined; }\n        if (!IsWritableStream(this)) {\n            return promiseRejectedWith(streamBrandCheckException$2('abort'));\n        }\n        if (IsWritableStreamLocked(this)) {\n            return promiseRejectedWith(new TypeError('Cannot abort a stream that already has a writer'));\n        }\n        return WritableStreamAbort(this, reason);\n    };\n    /**\n     * Closes the stream. The underlying sink will finish processing any previously-written chunks, before invoking its\n     * close behavior. During this time any further attempts to write will fail (without erroring the stream).\n     *\n     * The method returns a promise that will fulfill if all remaining chunks are successfully written and the stream\n     * successfully closes, or rejects if an error is encountered during this process. Additionally, it will reject with\n     * a `TypeError` (without attempting to cancel the stream) if the stream is currently locked.\n     */\n    WritableStream.prototype.close = function () {\n        if (!IsWritableStream(this)) {\n            return promiseRejectedWith(streamBrandCheckException$2('close'));\n        }\n        if (IsWritableStreamLocked(this)) {\n            return promiseRejectedWith(new TypeError('Cannot close a stream that already has a writer'));\n        }\n        if (WritableStreamCloseQueuedOrInFlight(this)) {\n            return promiseRejectedWith(new TypeError('Cannot close an already-closing stream'));\n        }\n        return WritableStreamClose(this);\n    };\n    /**\n     * Creates a {@link WritableStreamDefaultWriter | writer} and locks the stream to the new writer. While the stream\n     * is locked, no other writer can be acquired until this one is released.\n     *\n     * This functionality is especially useful for creating abstractions that desire the ability to write to a stream\n     * without interruption or interleaving. By getting a writer for the stream, you can ensure nobody else can write at\n     * the same time, which would cause the resulting written data to be unpredictable and probably useless.\n     */\n    WritableStream.prototype.getWriter = function () {\n        if (!IsWritableStream(this)) {\n            throw streamBrandCheckException$2('getWriter');\n        }\n        return AcquireWritableStreamDefaultWriter(this);\n    };\n    return WritableStream;\n}());\nObject.defineProperties(WritableStream.prototype, {\n    abort: { enumerable: true },\n    close: { enumerable: true },\n    getWriter: { enumerable: true },\n    locked: { enumerable: true }\n});\nif (typeof SymbolPolyfill.toStringTag === 'symbol') {\n    Object.defineProperty(WritableStream.prototype, SymbolPolyfill.toStringTag, {\n        value: 'WritableStream',\n        configurable: true\n    });\n}\n// Abstract operations for the WritableStream.\nfunction AcquireWritableStreamDefaultWriter(stream) {\n    return new WritableStreamDefaultWriter(stream);\n}\n// Throws if and only if startAlgorithm throws.\nfunction CreateWritableStream(startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark, sizeAlgorithm) {\n    if (highWaterMark === void 0) { highWaterMark = 1; }\n    if (sizeAlgorithm === void 0) { sizeAlgorithm = function () { return 1; }; }\n    var stream = Object.create(WritableStream.prototype);\n    InitializeWritableStream(stream);\n    var controller = Object.create(WritableStreamDefaultController.prototype);\n    SetUpWritableStreamDefaultController(stream, controller, startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark, sizeAlgorithm);\n    return stream;\n}\nfunction InitializeWritableStream(stream) {\n    stream._state = 'writable';\n    // The error that will be reported by new method calls once the state becomes errored. Only set when [[state]] is\n    // 'erroring' or 'errored'. May be set to an undefined value.\n    stream._storedError = undefined;\n    stream._writer = undefined;\n    // Initialize to undefined first because the constructor of the controller checks this\n    // variable to validate the caller.\n    stream._writableStreamController = undefined;\n    // This queue is placed here instead of the writer class in order to allow for passing a writer to the next data\n    // producer without waiting for the queued writes to finish.\n    stream._writeRequests = new SimpleQueue();\n    // Write requests are removed from _writeRequests when write() is called on the underlying sink. This prevents\n    // them from being erroneously rejected on error. If a write() call is in-flight, the request is stored here.\n    stream._inFlightWriteRequest = undefined;\n    // The promise that was returned from writer.close(). Stored here because it may be fulfilled after the writer\n    // has been detached.\n    stream._closeRequest = undefined;\n    // Close request is removed from _closeRequest when close() is called on the underlying sink. This prevents it\n    // from being erroneously rejected on error. If a close() call is in-flight, the request is stored here.\n    stream._inFlightCloseRequest = undefined;\n    // The promise that was returned from writer.abort(). This may also be fulfilled after the writer has detached.\n    stream._pendingAbortRequest = undefined;\n    // The backpressure signal set by the controller.\n    stream._backpressure = false;\n}\nfunction IsWritableStream(x) {\n    if (!typeIsObject(x)) {\n        return false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(x, '_writableStreamController')) {\n        return false;\n    }\n    return x instanceof WritableStream;\n}\nfunction IsWritableStreamLocked(stream) {\n    if (stream._writer === undefined) {\n        return false;\n    }\n    return true;\n}\nfunction WritableStreamAbort(stream, reason) {\n    var _a;\n    if (stream._state === 'closed' || stream._state === 'errored') {\n        return promiseResolvedWith(undefined);\n    }\n    stream._writableStreamController._abortReason = reason;\n    (_a = stream._writableStreamController._abortController) === null || _a === void 0 ? void 0 : _a.abort();\n    // TypeScript narrows the type of `stream._state` down to 'writable' | 'erroring',\n    // but it doesn't know that signaling abort runs author code that might have changed the state.\n    // Widen the type again by casting to WritableStreamState.\n    var state = stream._state;\n    if (state === 'closed' || state === 'errored') {\n        return promiseResolvedWith(undefined);\n    }\n    if (stream._pendingAbortRequest !== undefined) {\n        return stream._pendingAbortRequest._promise;\n    }\n    var wasAlreadyErroring = false;\n    if (state === 'erroring') {\n        wasAlreadyErroring = true;\n        // reason will not be used, so don't keep a reference to it.\n        reason = undefined;\n    }\n    var promise = newPromise(function (resolve, reject) {\n        stream._pendingAbortRequest = {\n            _promise: undefined,\n            _resolve: resolve,\n            _reject: reject,\n            _reason: reason,\n            _wasAlreadyErroring: wasAlreadyErroring\n        };\n    });\n    stream._pendingAbortRequest._promise = promise;\n    if (!wasAlreadyErroring) {\n        WritableStreamStartErroring(stream, reason);\n    }\n    return promise;\n}\nfunction WritableStreamClose(stream) {\n    var state = stream._state;\n    if (state === 'closed' || state === 'errored') {\n        return promiseRejectedWith(new TypeError(\"The stream (in \" + state + \" state) is not in the writable state and cannot be closed\"));\n    }\n    var promise = newPromise(function (resolve, reject) {\n        var closeRequest = {\n            _resolve: resolve,\n            _reject: reject\n        };\n        stream._closeRequest = closeRequest;\n    });\n    var writer = stream._writer;\n    if (writer !== undefined && stream._backpressure && state === 'writable') {\n        defaultWriterReadyPromiseResolve(writer);\n    }\n    WritableStreamDefaultControllerClose(stream._writableStreamController);\n    return promise;\n}\n// WritableStream API exposed for controllers.\nfunction WritableStreamAddWriteRequest(stream) {\n    var promise = newPromise(function (resolve, reject) {\n        var writeRequest = {\n            _resolve: resolve,\n            _reject: reject\n        };\n        stream._writeRequests.push(writeRequest);\n    });\n    return promise;\n}\nfunction WritableStreamDealWithRejection(stream, error) {\n    var state = stream._state;\n    if (state === 'writable') {\n        WritableStreamStartErroring(stream, error);\n        return;\n    }\n    WritableStreamFinishErroring(stream);\n}\nfunction WritableStreamStartErroring(stream, reason) {\n    var controller = stream._writableStreamController;\n    stream._state = 'erroring';\n    stream._storedError = reason;\n    var writer = stream._writer;\n    if (writer !== undefined) {\n        WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, reason);\n    }\n    if (!WritableStreamHasOperationMarkedInFlight(stream) && controller._started) {\n        WritableStreamFinishErroring(stream);\n    }\n}\nfunction WritableStreamFinishErroring(stream) {\n    stream._state = 'errored';\n    stream._writableStreamController[ErrorSteps]();\n    var storedError = stream._storedError;\n    stream._writeRequests.forEach(function (writeRequest) {\n        writeRequest._reject(storedError);\n    });\n    stream._writeRequests = new SimpleQueue();\n    if (stream._pendingAbortRequest === undefined) {\n        WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n        return;\n    }\n    var abortRequest = stream._pendingAbortRequest;\n    stream._pendingAbortRequest = undefined;\n    if (abortRequest._wasAlreadyErroring) {\n        abortRequest._reject(storedError);\n        WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n        return;\n    }\n    var promise = stream._writableStreamController[AbortSteps](abortRequest._reason);\n    uponPromise(promise, function () {\n        abortRequest._resolve();\n        WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n    }, function (reason) {\n        abortRequest._reject(reason);\n        WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n    });\n}\nfunction WritableStreamFinishInFlightWrite(stream) {\n    stream._inFlightWriteRequest._resolve(undefined);\n    stream._inFlightWriteRequest = undefined;\n}\nfunction WritableStreamFinishInFlightWriteWithError(stream, error) {\n    stream._inFlightWriteRequest._reject(error);\n    stream._inFlightWriteRequest = undefined;\n    WritableStreamDealWithRejection(stream, error);\n}\nfunction WritableStreamFinishInFlightClose(stream) {\n    stream._inFlightCloseRequest._resolve(undefined);\n    stream._inFlightCloseRequest = undefined;\n    var state = stream._state;\n    if (state === 'erroring') {\n        // The error was too late to do anything, so it is ignored.\n        stream._storedError = undefined;\n        if (stream._pendingAbortRequest !== undefined) {\n            stream._pendingAbortRequest._resolve();\n            stream._pendingAbortRequest = undefined;\n        }\n    }\n    stream._state = 'closed';\n    var writer = stream._writer;\n    if (writer !== undefined) {\n        defaultWriterClosedPromiseResolve(writer);\n    }\n}\nfunction WritableStreamFinishInFlightCloseWithError(stream, error) {\n    stream._inFlightCloseRequest._reject(error);\n    stream._inFlightCloseRequest = undefined;\n    // Never execute sink abort() after sink close().\n    if (stream._pendingAbortRequest !== undefined) {\n        stream._pendingAbortRequest._reject(error);\n        stream._pendingAbortRequest = undefined;\n    }\n    WritableStreamDealWithRejection(stream, error);\n}\n// TODO(ricea): Fix alphabetical order.\nfunction WritableStreamCloseQueuedOrInFlight(stream) {\n    if (stream._closeRequest === undefined && stream._inFlightCloseRequest === undefined) {\n        return false;\n    }\n    return true;\n}\nfunction WritableStreamHasOperationMarkedInFlight(stream) {\n    if (stream._inFlightWriteRequest === undefined && stream._inFlightCloseRequest === undefined) {\n        return false;\n    }\n    return true;\n}\nfunction WritableStreamMarkCloseRequestInFlight(stream) {\n    stream._inFlightCloseRequest = stream._closeRequest;\n    stream._closeRequest = undefined;\n}\nfunction WritableStreamMarkFirstWriteRequestInFlight(stream) {\n    stream._inFlightWriteRequest = stream._writeRequests.shift();\n}\nfunction WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream) {\n    if (stream._closeRequest !== undefined) {\n        stream._closeRequest._reject(stream._storedError);\n        stream._closeRequest = undefined;\n    }\n    var writer = stream._writer;\n    if (writer !== undefined) {\n        defaultWriterClosedPromiseReject(writer, stream._storedError);\n    }\n}\nfunction WritableStreamUpdateBackpressure(stream, backpressure) {\n    var writer = stream._writer;\n    if (writer !== undefined && backpressure !== stream._backpressure) {\n        if (backpressure) {\n            defaultWriterReadyPromiseReset(writer);\n        }\n        else {\n            defaultWriterReadyPromiseResolve(writer);\n        }\n    }\n    stream._backpressure = backpressure;\n}\n/**\n * A default writer vended by a {@link WritableStream}.\n *\n * @public\n */\nvar WritableStreamDefaultWriter = /** @class */ (function () {\n    function WritableStreamDefaultWriter(stream) {\n        assertRequiredArgument(stream, 1, 'WritableStreamDefaultWriter');\n        assertWritableStream(stream, 'First parameter');\n        if (IsWritableStreamLocked(stream)) {\n            throw new TypeError('This stream has already been locked for exclusive writing by another writer');\n        }\n        this._ownerWritableStream = stream;\n        stream._writer = this;\n        var state = stream._state;\n        if (state === 'writable') {\n            if (!WritableStreamCloseQueuedOrInFlight(stream) && stream._backpressure) {\n                defaultWriterReadyPromiseInitialize(this);\n            }\n            else {\n                defaultWriterReadyPromiseInitializeAsResolved(this);\n            }\n            defaultWriterClosedPromiseInitialize(this);\n        }\n        else if (state === 'erroring') {\n            defaultWriterReadyPromiseInitializeAsRejected(this, stream._storedError);\n            defaultWriterClosedPromiseInitialize(this);\n        }\n        else if (state === 'closed') {\n            defaultWriterReadyPromiseInitializeAsResolved(this);\n            defaultWriterClosedPromiseInitializeAsResolved(this);\n        }\n        else {\n            var storedError = stream._storedError;\n            defaultWriterReadyPromiseInitializeAsRejected(this, storedError);\n            defaultWriterClosedPromiseInitializeAsRejected(this, storedError);\n        }\n    }\n    Object.defineProperty(WritableStreamDefaultWriter.prototype, \"closed\", {\n        /**\n         * Returns a promise that will be fulfilled when the stream becomes closed, or rejected if the stream ever errors or\n         * the writers lock is released before the stream finishes closing.\n         */\n        get: function () {\n            if (!IsWritableStreamDefaultWriter(this)) {\n                return promiseRejectedWith(defaultWriterBrandCheckException('closed'));\n            }\n            return this._closedPromise;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WritableStreamDefaultWriter.prototype, \"desiredSize\", {\n        /**\n         * Returns the desired size to fill the streams internal queue. It can be negative, if the queue is over-full.\n         * A producer can use this information to determine the right amount of data to write.\n         *\n         * It will be `null` if the stream cannot be successfully written to (due to either being errored, or having an abort\n         * queued up). It will return zero if the stream is closed. And the getter will throw an exception if invoked when\n         * the writers lock is released.\n         */\n        get: function () {\n            if (!IsWritableStreamDefaultWriter(this)) {\n                throw defaultWriterBrandCheckException('desiredSize');\n            }\n            if (this._ownerWritableStream === undefined) {\n                throw defaultWriterLockException('desiredSize');\n            }\n            return WritableStreamDefaultWriterGetDesiredSize(this);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WritableStreamDefaultWriter.prototype, \"ready\", {\n        /**\n         * Returns a promise that will be fulfilled when the desired size to fill the streams internal queue transitions\n         * from non-positive to positive, signaling that it is no longer applying backpressure. Once the desired size dips\n         * back to zero or below, the getter will return a new promise that stays pending until the next transition.\n         *\n         * If the stream becomes errored or aborted, or the writers lock is released, the returned promise will become\n         * rejected.\n         */\n        get: function () {\n            if (!IsWritableStreamDefaultWriter(this)) {\n                return promiseRejectedWith(defaultWriterBrandCheckException('ready'));\n            }\n            return this._readyPromise;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * If the reader is active, behaves the same as {@link WritableStream.abort | stream.abort(reason)}.\n     */\n    WritableStreamDefaultWriter.prototype.abort = function (reason) {\n        if (reason === void 0) { reason = undefined; }\n        if (!IsWritableStreamDefaultWriter(this)) {\n            return promiseRejectedWith(defaultWriterBrandCheckException('abort'));\n        }\n        if (this._ownerWritableStream === undefined) {\n            return promiseRejectedWith(defaultWriterLockException('abort'));\n        }\n        return WritableStreamDefaultWriterAbort(this, reason);\n    };\n    /**\n     * If the reader is active, behaves the same as {@link WritableStream.close | stream.close()}.\n     */\n    WritableStreamDefaultWriter.prototype.close = function () {\n        if (!IsWritableStreamDefaultWriter(this)) {\n            return promiseRejectedWith(defaultWriterBrandCheckException('close'));\n        }\n        var stream = this._ownerWritableStream;\n        if (stream === undefined) {\n            return promiseRejectedWith(defaultWriterLockException('close'));\n        }\n        if (WritableStreamCloseQueuedOrInFlight(stream)) {\n            return promiseRejectedWith(new TypeError('Cannot close an already-closing stream'));\n        }\n        return WritableStreamDefaultWriterClose(this);\n    };\n    /**\n     * Releases the writers lock on the corresponding stream. After the lock is released, the writer is no longer active.\n     * If the associated stream is errored when the lock is released, the writer will appear errored in the same way from\n     * now on; otherwise, the writer will appear closed.\n     *\n     * Note that the lock can still be released even if some ongoing writes have not yet finished (i.e. even if the\n     * promises returned from previous calls to {@link WritableStreamDefaultWriter.write | write()} have not yet settled).\n     * Its not necessary to hold the lock on the writer for the duration of the write; the lock instead simply prevents\n     * other producers from writing in an interleaved manner.\n     */\n    WritableStreamDefaultWriter.prototype.releaseLock = function () {\n        if (!IsWritableStreamDefaultWriter(this)) {\n            throw defaultWriterBrandCheckException('releaseLock');\n        }\n        var stream = this._ownerWritableStream;\n        if (stream === undefined) {\n            return;\n        }\n        WritableStreamDefaultWriterRelease(this);\n    };\n    WritableStreamDefaultWriter.prototype.write = function (chunk) {\n        if (chunk === void 0) { chunk = undefined; }\n        if (!IsWritableStreamDefaultWriter(this)) {\n            return promiseRejectedWith(defaultWriterBrandCheckException('write'));\n        }\n        if (this._ownerWritableStream === undefined) {\n            return promiseRejectedWith(defaultWriterLockException('write to'));\n        }\n        return WritableStreamDefaultWriterWrite(this, chunk);\n    };\n    return WritableStreamDefaultWriter;\n}());\nObject.defineProperties(WritableStreamDefaultWriter.prototype, {\n    abort: { enumerable: true },\n    close: { enumerable: true },\n    releaseLock: { enumerable: true },\n    write: { enumerable: true },\n    closed: { enumerable: true },\n    desiredSize: { enumerable: true },\n    ready: { enumerable: true }\n});\nif (typeof SymbolPolyfill.toStringTag === 'symbol') {\n    Object.defineProperty(WritableStreamDefaultWriter.prototype, SymbolPolyfill.toStringTag, {\n        value: 'WritableStreamDefaultWriter',\n        configurable: true\n    });\n}\n// Abstract operations for the WritableStreamDefaultWriter.\nfunction IsWritableStreamDefaultWriter(x) {\n    if (!typeIsObject(x)) {\n        return false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(x, '_ownerWritableStream')) {\n        return false;\n    }\n    return x instanceof WritableStreamDefaultWriter;\n}\n// A client of WritableStreamDefaultWriter may use these functions directly to bypass state check.\nfunction WritableStreamDefaultWriterAbort(writer, reason) {\n    var stream = writer._ownerWritableStream;\n    return WritableStreamAbort(stream, reason);\n}\nfunction WritableStreamDefaultWriterClose(writer) {\n    var stream = writer._ownerWritableStream;\n    return WritableStreamClose(stream);\n}\nfunction WritableStreamDefaultWriterCloseWithErrorPropagation(writer) {\n    var stream = writer._ownerWritableStream;\n    var state = stream._state;\n    if (WritableStreamCloseQueuedOrInFlight(stream) || state === 'closed') {\n        return promiseResolvedWith(undefined);\n    }\n    if (state === 'errored') {\n        return promiseRejectedWith(stream._storedError);\n    }\n    return WritableStreamDefaultWriterClose(writer);\n}\nfunction WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer, error) {\n    if (writer._closedPromiseState === 'pending') {\n        defaultWriterClosedPromiseReject(writer, error);\n    }\n    else {\n        defaultWriterClosedPromiseResetToRejected(writer, error);\n    }\n}\nfunction WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, error) {\n    if (writer._readyPromiseState === 'pending') {\n        defaultWriterReadyPromiseReject(writer, error);\n    }\n    else {\n        defaultWriterReadyPromiseResetToRejected(writer, error);\n    }\n}\nfunction WritableStreamDefaultWriterGetDesiredSize(writer) {\n    var stream = writer._ownerWritableStream;\n    var state = stream._state;\n    if (state === 'errored' || state === 'erroring') {\n        return null;\n    }\n    if (state === 'closed') {\n        return 0;\n    }\n    return WritableStreamDefaultControllerGetDesiredSize(stream._writableStreamController);\n}\nfunction WritableStreamDefaultWriterRelease(writer) {\n    var stream = writer._ownerWritableStream;\n    var releasedError = new TypeError(\"Writer was released and can no longer be used to monitor the stream's closedness\");\n    WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, releasedError);\n    // The state transitions to \"errored\" before the sink abort() method runs, but the writer.closed promise is not\n    // rejected until afterwards. This means that simply testing state will not work.\n    WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer, releasedError);\n    stream._writer = undefined;\n    writer._ownerWritableStream = undefined;\n}\nfunction WritableStreamDefaultWriterWrite(writer, chunk) {\n    var stream = writer._ownerWritableStream;\n    var controller = stream._writableStreamController;\n    var chunkSize = WritableStreamDefaultControllerGetChunkSize(controller, chunk);\n    if (stream !== writer._ownerWritableStream) {\n        return promiseRejectedWith(defaultWriterLockException('write to'));\n    }\n    var state = stream._state;\n    if (state === 'errored') {\n        return promiseRejectedWith(stream._storedError);\n    }\n    if (WritableStreamCloseQueuedOrInFlight(stream) || state === 'closed') {\n        return promiseRejectedWith(new TypeError('The stream is closing or closed and cannot be written to'));\n    }\n    if (state === 'erroring') {\n        return promiseRejectedWith(stream._storedError);\n    }\n    var promise = WritableStreamAddWriteRequest(stream);\n    WritableStreamDefaultControllerWrite(controller, chunk, chunkSize);\n    return promise;\n}\nvar closeSentinel = {};\n/**\n * Allows control of a {@link WritableStream | writable stream}'s state and internal queue.\n *\n * @public\n */\nvar WritableStreamDefaultController = /** @class */ (function () {\n    function WritableStreamDefaultController() {\n        throw new TypeError('Illegal constructor');\n    }\n    Object.defineProperty(WritableStreamDefaultController.prototype, \"abortReason\", {\n        /**\n         * The reason which was passed to `WritableStream.abort(reason)` when the stream was aborted.\n         *\n         * @deprecated\n         *  This property has been removed from the specification, see https://github.com/whatwg/streams/pull/1177.\n         *  Use {@link WritableStreamDefaultController.signal}'s `reason` instead.\n         */\n        get: function () {\n            if (!IsWritableStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException$2('abortReason');\n            }\n            return this._abortReason;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WritableStreamDefaultController.prototype, \"signal\", {\n        /**\n         * An `AbortSignal` that can be used to abort the pending write or close operation when the stream is aborted.\n         */\n        get: function () {\n            if (!IsWritableStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException$2('signal');\n            }\n            if (this._abortController === undefined) {\n                // Older browsers or older Node versions may not support `AbortController` or `AbortSignal`.\n                // We don't want to bundle and ship an `AbortController` polyfill together with our polyfill,\n                // so instead we only implement support for `signal` if we find a global `AbortController` constructor.\n                throw new TypeError('WritableStreamDefaultController.prototype.signal is not supported');\n            }\n            return this._abortController.signal;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Closes the controlled writable stream, making all future interactions with it fail with the given error `e`.\n     *\n     * This method is rarely used, since usually it suffices to return a rejected promise from one of the underlying\n     * sink's methods. However, it can be useful for suddenly shutting down a stream in response to an event outside the\n     * normal lifecycle of interactions with the underlying sink.\n     */\n    WritableStreamDefaultController.prototype.error = function (e) {\n        if (e === void 0) { e = undefined; }\n        if (!IsWritableStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException$2('error');\n        }\n        var state = this._controlledWritableStream._state;\n        if (state !== 'writable') {\n            // The stream is closed, errored or will be soon. The sink can't do anything useful if it gets an error here, so\n            // just treat it as a no-op.\n            return;\n        }\n        WritableStreamDefaultControllerError(this, e);\n    };\n    /** @internal */\n    WritableStreamDefaultController.prototype[AbortSteps] = function (reason) {\n        var result = this._abortAlgorithm(reason);\n        WritableStreamDefaultControllerClearAlgorithms(this);\n        return result;\n    };\n    /** @internal */\n    WritableStreamDefaultController.prototype[ErrorSteps] = function () {\n        ResetQueue(this);\n    };\n    return WritableStreamDefaultController;\n}());\nObject.defineProperties(WritableStreamDefaultController.prototype, {\n    abortReason: { enumerable: true },\n    signal: { enumerable: true },\n    error: { enumerable: true }\n});\nif (typeof SymbolPolyfill.toStringTag === 'symbol') {\n    Object.defineProperty(WritableStreamDefaultController.prototype, SymbolPolyfill.toStringTag, {\n        value: 'WritableStreamDefaultController',\n        configurable: true\n    });\n}\n// Abstract operations implementing interface required by the WritableStream.\nfunction IsWritableStreamDefaultController(x) {\n    if (!typeIsObject(x)) {\n        return false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(x, '_controlledWritableStream')) {\n        return false;\n    }\n    return x instanceof WritableStreamDefaultController;\n}\nfunction SetUpWritableStreamDefaultController(stream, controller, startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark, sizeAlgorithm) {\n    controller._controlledWritableStream = stream;\n    stream._writableStreamController = controller;\n    // Need to set the slots so that the assert doesn't fire. In the spec the slots already exist implicitly.\n    controller._queue = undefined;\n    controller._queueTotalSize = undefined;\n    ResetQueue(controller);\n    controller._abortReason = undefined;\n    controller._abortController = createAbortController();\n    controller._started = false;\n    controller._strategySizeAlgorithm = sizeAlgorithm;\n    controller._strategyHWM = highWaterMark;\n    controller._writeAlgorithm = writeAlgorithm;\n    controller._closeAlgorithm = closeAlgorithm;\n    controller._abortAlgorithm = abortAlgorithm;\n    var backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n    WritableStreamUpdateBackpressure(stream, backpressure);\n    var startResult = startAlgorithm();\n    var startPromise = promiseResolvedWith(startResult);\n    uponPromise(startPromise, function () {\n        controller._started = true;\n        WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n    }, function (r) {\n        controller._started = true;\n        WritableStreamDealWithRejection(stream, r);\n    });\n}\nfunction SetUpWritableStreamDefaultControllerFromUnderlyingSink(stream, underlyingSink, highWaterMark, sizeAlgorithm) {\n    var controller = Object.create(WritableStreamDefaultController.prototype);\n    var startAlgorithm = function () { return undefined; };\n    var writeAlgorithm = function () { return promiseResolvedWith(undefined); };\n    var closeAlgorithm = function () { return promiseResolvedWith(undefined); };\n    var abortAlgorithm = function () { return promiseResolvedWith(undefined); };\n    if (underlyingSink.start !== undefined) {\n        startAlgorithm = function () { return underlyingSink.start(controller); };\n    }\n    if (underlyingSink.write !== undefined) {\n        writeAlgorithm = function (chunk) { return underlyingSink.write(chunk, controller); };\n    }\n    if (underlyingSink.close !== undefined) {\n        closeAlgorithm = function () { return underlyingSink.close(); };\n    }\n    if (underlyingSink.abort !== undefined) {\n        abortAlgorithm = function (reason) { return underlyingSink.abort(reason); };\n    }\n    SetUpWritableStreamDefaultController(stream, controller, startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark, sizeAlgorithm);\n}\n// ClearAlgorithms may be called twice. Erroring the same stream in multiple ways will often result in redundant calls.\nfunction WritableStreamDefaultControllerClearAlgorithms(controller) {\n    controller._writeAlgorithm = undefined;\n    controller._closeAlgorithm = undefined;\n    controller._abortAlgorithm = undefined;\n    controller._strategySizeAlgorithm = undefined;\n}\nfunction WritableStreamDefaultControllerClose(controller) {\n    EnqueueValueWithSize(controller, closeSentinel, 0);\n    WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n}\nfunction WritableStreamDefaultControllerGetChunkSize(controller, chunk) {\n    try {\n        return controller._strategySizeAlgorithm(chunk);\n    }\n    catch (chunkSizeE) {\n        WritableStreamDefaultControllerErrorIfNeeded(controller, chunkSizeE);\n        return 1;\n    }\n}\nfunction WritableStreamDefaultControllerGetDesiredSize(controller) {\n    return controller._strategyHWM - controller._queueTotalSize;\n}\nfunction WritableStreamDefaultControllerWrite(controller, chunk, chunkSize) {\n    try {\n        EnqueueValueWithSize(controller, chunk, chunkSize);\n    }\n    catch (enqueueE) {\n        WritableStreamDefaultControllerErrorIfNeeded(controller, enqueueE);\n        return;\n    }\n    var stream = controller._controlledWritableStream;\n    if (!WritableStreamCloseQueuedOrInFlight(stream) && stream._state === 'writable') {\n        var backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n        WritableStreamUpdateBackpressure(stream, backpressure);\n    }\n    WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n}\n// Abstract operations for the WritableStreamDefaultController.\nfunction WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller) {\n    var stream = controller._controlledWritableStream;\n    if (!controller._started) {\n        return;\n    }\n    if (stream._inFlightWriteRequest !== undefined) {\n        return;\n    }\n    var state = stream._state;\n    if (state === 'erroring') {\n        WritableStreamFinishErroring(stream);\n        return;\n    }\n    if (controller._queue.length === 0) {\n        return;\n    }\n    var value = PeekQueueValue(controller);\n    if (value === closeSentinel) {\n        WritableStreamDefaultControllerProcessClose(controller);\n    }\n    else {\n        WritableStreamDefaultControllerProcessWrite(controller, value);\n    }\n}\nfunction WritableStreamDefaultControllerErrorIfNeeded(controller, error) {\n    if (controller._controlledWritableStream._state === 'writable') {\n        WritableStreamDefaultControllerError(controller, error);\n    }\n}\nfunction WritableStreamDefaultControllerProcessClose(controller) {\n    var stream = controller._controlledWritableStream;\n    WritableStreamMarkCloseRequestInFlight(stream);\n    DequeueValue(controller);\n    var sinkClosePromise = controller._closeAlgorithm();\n    WritableStreamDefaultControllerClearAlgorithms(controller);\n    uponPromise(sinkClosePromise, function () {\n        WritableStreamFinishInFlightClose(stream);\n    }, function (reason) {\n        WritableStreamFinishInFlightCloseWithError(stream, reason);\n    });\n}\nfunction WritableStreamDefaultControllerProcessWrite(controller, chunk) {\n    var stream = controller._controlledWritableStream;\n    WritableStreamMarkFirstWriteRequestInFlight(stream);\n    var sinkWritePromise = controller._writeAlgorithm(chunk);\n    uponPromise(sinkWritePromise, function () {\n        WritableStreamFinishInFlightWrite(stream);\n        var state = stream._state;\n        DequeueValue(controller);\n        if (!WritableStreamCloseQueuedOrInFlight(stream) && state === 'writable') {\n            var backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n            WritableStreamUpdateBackpressure(stream, backpressure);\n        }\n        WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n    }, function (reason) {\n        if (stream._state === 'writable') {\n            WritableStreamDefaultControllerClearAlgorithms(controller);\n        }\n        WritableStreamFinishInFlightWriteWithError(stream, reason);\n    });\n}\nfunction WritableStreamDefaultControllerGetBackpressure(controller) {\n    var desiredSize = WritableStreamDefaultControllerGetDesiredSize(controller);\n    return desiredSize <= 0;\n}\n// A client of WritableStreamDefaultController may use these functions directly to bypass state check.\nfunction WritableStreamDefaultControllerError(controller, error) {\n    var stream = controller._controlledWritableStream;\n    WritableStreamDefaultControllerClearAlgorithms(controller);\n    WritableStreamStartErroring(stream, error);\n}\n// Helper functions for the WritableStream.\nfunction streamBrandCheckException$2(name) {\n    return new TypeError(\"WritableStream.prototype.\" + name + \" can only be used on a WritableStream\");\n}\n// Helper functions for the WritableStreamDefaultController.\nfunction defaultControllerBrandCheckException$2(name) {\n    return new TypeError(\"WritableStreamDefaultController.prototype.\" + name + \" can only be used on a WritableStreamDefaultController\");\n}\n// Helper functions for the WritableStreamDefaultWriter.\nfunction defaultWriterBrandCheckException(name) {\n    return new TypeError(\"WritableStreamDefaultWriter.prototype.\" + name + \" can only be used on a WritableStreamDefaultWriter\");\n}\nfunction defaultWriterLockException(name) {\n    return new TypeError('Cannot ' + name + ' a stream using a released writer');\n}\nfunction defaultWriterClosedPromiseInitialize(writer) {\n    writer._closedPromise = newPromise(function (resolve, reject) {\n        writer._closedPromise_resolve = resolve;\n        writer._closedPromise_reject = reject;\n        writer._closedPromiseState = 'pending';\n    });\n}\nfunction defaultWriterClosedPromiseInitializeAsRejected(writer, reason) {\n    defaultWriterClosedPromiseInitialize(writer);\n    defaultWriterClosedPromiseReject(writer, reason);\n}\nfunction defaultWriterClosedPromiseInitializeAsResolved(writer) {\n    defaultWriterClosedPromiseInitialize(writer);\n    defaultWriterClosedPromiseResolve(writer);\n}\nfunction defaultWriterClosedPromiseReject(writer, reason) {\n    if (writer._closedPromise_reject === undefined) {\n        return;\n    }\n    setPromiseIsHandledToTrue(writer._closedPromise);\n    writer._closedPromise_reject(reason);\n    writer._closedPromise_resolve = undefined;\n    writer._closedPromise_reject = undefined;\n    writer._closedPromiseState = 'rejected';\n}\nfunction defaultWriterClosedPromiseResetToRejected(writer, reason) {\n    defaultWriterClosedPromiseInitializeAsRejected(writer, reason);\n}\nfunction defaultWriterClosedPromiseResolve(writer) {\n    if (writer._closedPromise_resolve === undefined) {\n        return;\n    }\n    writer._closedPromise_resolve(undefined);\n    writer._closedPromise_resolve = undefined;\n    writer._closedPromise_reject = undefined;\n    writer._closedPromiseState = 'resolved';\n}\nfunction defaultWriterReadyPromiseInitialize(writer) {\n    writer._readyPromise = newPromise(function (resolve, reject) {\n        writer._readyPromise_resolve = resolve;\n        writer._readyPromise_reject = reject;\n    });\n    writer._readyPromiseState = 'pending';\n}\nfunction defaultWriterReadyPromiseInitializeAsRejected(writer, reason) {\n    defaultWriterReadyPromiseInitialize(writer);\n    defaultWriterReadyPromiseReject(writer, reason);\n}\nfunction defaultWriterReadyPromiseInitializeAsResolved(writer) {\n    defaultWriterReadyPromiseInitialize(writer);\n    defaultWriterReadyPromiseResolve(writer);\n}\nfunction defaultWriterReadyPromiseReject(writer, reason) {\n    if (writer._readyPromise_reject === undefined) {\n        return;\n    }\n    setPromiseIsHandledToTrue(writer._readyPromise);\n    writer._readyPromise_reject(reason);\n    writer._readyPromise_resolve = undefined;\n    writer._readyPromise_reject = undefined;\n    writer._readyPromiseState = 'rejected';\n}\nfunction defaultWriterReadyPromiseReset(writer) {\n    defaultWriterReadyPromiseInitialize(writer);\n}\nfunction defaultWriterReadyPromiseResetToRejected(writer, reason) {\n    defaultWriterReadyPromiseInitializeAsRejected(writer, reason);\n}\nfunction defaultWriterReadyPromiseResolve(writer) {\n    if (writer._readyPromise_resolve === undefined) {\n        return;\n    }\n    writer._readyPromise_resolve(undefined);\n    writer._readyPromise_resolve = undefined;\n    writer._readyPromise_reject = undefined;\n    writer._readyPromiseState = 'fulfilled';\n}\n\n/// <reference lib=\"dom\" />\nvar NativeDOMException = typeof DOMException !== 'undefined' ? DOMException : undefined;\n\n/// <reference types=\"node\" />\nfunction isDOMExceptionConstructor(ctor) {\n    if (!(typeof ctor === 'function' || typeof ctor === 'object')) {\n        return false;\n    }\n    try {\n        new ctor();\n        return true;\n    }\n    catch (_a) {\n        return false;\n    }\n}\nfunction createDOMExceptionPolyfill() {\n    // eslint-disable-next-line no-shadow\n    var ctor = function DOMException(message, name) {\n        this.message = message || '';\n        this.name = name || 'Error';\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n        }\n    };\n    ctor.prototype = Object.create(Error.prototype);\n    Object.defineProperty(ctor.prototype, 'constructor', { value: ctor, writable: true, configurable: true });\n    return ctor;\n}\n// eslint-disable-next-line no-redeclare\nvar DOMException$1 = isDOMExceptionConstructor(NativeDOMException) ? NativeDOMException : createDOMExceptionPolyfill();\n\nfunction ReadableStreamPipeTo(source, dest, preventClose, preventAbort, preventCancel, signal) {\n    var reader = AcquireReadableStreamDefaultReader(source);\n    var writer = AcquireWritableStreamDefaultWriter(dest);\n    source._disturbed = true;\n    var shuttingDown = false;\n    // This is used to keep track of the spec's requirement that we wait for ongoing writes during shutdown.\n    var currentWrite = promiseResolvedWith(undefined);\n    return newPromise(function (resolve, reject) {\n        var abortAlgorithm;\n        if (signal !== undefined) {\n            abortAlgorithm = function () {\n                var error = new DOMException$1('Aborted', 'AbortError');\n                var actions = [];\n                if (!preventAbort) {\n                    actions.push(function () {\n                        if (dest._state === 'writable') {\n                            return WritableStreamAbort(dest, error);\n                        }\n                        return promiseResolvedWith(undefined);\n                    });\n                }\n                if (!preventCancel) {\n                    actions.push(function () {\n                        if (source._state === 'readable') {\n                            return ReadableStreamCancel(source, error);\n                        }\n                        return promiseResolvedWith(undefined);\n                    });\n                }\n                shutdownWithAction(function () { return Promise.all(actions.map(function (action) { return action(); })); }, true, error);\n            };\n            if (signal.aborted) {\n                abortAlgorithm();\n                return;\n            }\n            signal.addEventListener('abort', abortAlgorithm);\n        }\n        // Using reader and writer, read all chunks from this and write them to dest\n        // - Backpressure must be enforced\n        // - Shutdown must stop all activity\n        function pipeLoop() {\n            return newPromise(function (resolveLoop, rejectLoop) {\n                function next(done) {\n                    if (done) {\n                        resolveLoop();\n                    }\n                    else {\n                        // Use `PerformPromiseThen` instead of `uponPromise` to avoid\n                        // adding unnecessary `.catch(rethrowAssertionErrorRejection)` handlers\n                        PerformPromiseThen(pipeStep(), next, rejectLoop);\n                    }\n                }\n                next(false);\n            });\n        }\n        function pipeStep() {\n            if (shuttingDown) {\n                return promiseResolvedWith(true);\n            }\n            return PerformPromiseThen(writer._readyPromise, function () {\n                return newPromise(function (resolveRead, rejectRead) {\n                    ReadableStreamDefaultReaderRead(reader, {\n                        _chunkSteps: function (chunk) {\n                            currentWrite = PerformPromiseThen(WritableStreamDefaultWriterWrite(writer, chunk), undefined, noop);\n                            resolveRead(false);\n                        },\n                        _closeSteps: function () { return resolveRead(true); },\n                        _errorSteps: rejectRead\n                    });\n                });\n            });\n        }\n        // Errors must be propagated forward\n        isOrBecomesErrored(source, reader._closedPromise, function (storedError) {\n            if (!preventAbort) {\n                shutdownWithAction(function () { return WritableStreamAbort(dest, storedError); }, true, storedError);\n            }\n            else {\n                shutdown(true, storedError);\n            }\n        });\n        // Errors must be propagated backward\n        isOrBecomesErrored(dest, writer._closedPromise, function (storedError) {\n            if (!preventCancel) {\n                shutdownWithAction(function () { return ReadableStreamCancel(source, storedError); }, true, storedError);\n            }\n            else {\n                shutdown(true, storedError);\n            }\n        });\n        // Closing must be propagated forward\n        isOrBecomesClosed(source, reader._closedPromise, function () {\n            if (!preventClose) {\n                shutdownWithAction(function () { return WritableStreamDefaultWriterCloseWithErrorPropagation(writer); });\n            }\n            else {\n                shutdown();\n            }\n        });\n        // Closing must be propagated backward\n        if (WritableStreamCloseQueuedOrInFlight(dest) || dest._state === 'closed') {\n            var destClosed_1 = new TypeError('the destination writable stream closed before all data could be piped to it');\n            if (!preventCancel) {\n                shutdownWithAction(function () { return ReadableStreamCancel(source, destClosed_1); }, true, destClosed_1);\n            }\n            else {\n                shutdown(true, destClosed_1);\n            }\n        }\n        setPromiseIsHandledToTrue(pipeLoop());\n        function waitForWritesToFinish() {\n            // Another write may have started while we were waiting on this currentWrite, so we have to be sure to wait\n            // for that too.\n            var oldCurrentWrite = currentWrite;\n            return PerformPromiseThen(currentWrite, function () { return oldCurrentWrite !== currentWrite ? waitForWritesToFinish() : undefined; });\n        }\n        function isOrBecomesErrored(stream, promise, action) {\n            if (stream._state === 'errored') {\n                action(stream._storedError);\n            }\n            else {\n                uponRejection(promise, action);\n            }\n        }\n        function isOrBecomesClosed(stream, promise, action) {\n            if (stream._state === 'closed') {\n                action();\n            }\n            else {\n                uponFulfillment(promise, action);\n            }\n        }\n        function shutdownWithAction(action, originalIsError, originalError) {\n            if (shuttingDown) {\n                return;\n            }\n            shuttingDown = true;\n            if (dest._state === 'writable' && !WritableStreamCloseQueuedOrInFlight(dest)) {\n                uponFulfillment(waitForWritesToFinish(), doTheRest);\n            }\n            else {\n                doTheRest();\n            }\n            function doTheRest() {\n                uponPromise(action(), function () { return finalize(originalIsError, originalError); }, function (newError) { return finalize(true, newError); });\n            }\n        }\n        function shutdown(isError, error) {\n            if (shuttingDown) {\n                return;\n            }\n            shuttingDown = true;\n            if (dest._state === 'writable' && !WritableStreamCloseQueuedOrInFlight(dest)) {\n                uponFulfillment(waitForWritesToFinish(), function () { return finalize(isError, error); });\n            }\n            else {\n                finalize(isError, error);\n            }\n        }\n        function finalize(isError, error) {\n            WritableStreamDefaultWriterRelease(writer);\n            ReadableStreamReaderGenericRelease(reader);\n            if (signal !== undefined) {\n                signal.removeEventListener('abort', abortAlgorithm);\n            }\n            if (isError) {\n                reject(error);\n            }\n            else {\n                resolve(undefined);\n            }\n        }\n    });\n}\n\n/**\n * Allows control of a {@link ReadableStream | readable stream}'s state and internal queue.\n *\n * @public\n */\nvar ReadableStreamDefaultController = /** @class */ (function () {\n    function ReadableStreamDefaultController() {\n        throw new TypeError('Illegal constructor');\n    }\n    Object.defineProperty(ReadableStreamDefaultController.prototype, \"desiredSize\", {\n        /**\n         * Returns the desired size to fill the controlled stream's internal queue. It can be negative, if the queue is\n         * over-full. An underlying source ought to use this information to determine when and how to apply backpressure.\n         */\n        get: function () {\n            if (!IsReadableStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException$1('desiredSize');\n            }\n            return ReadableStreamDefaultControllerGetDesiredSize(this);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Closes the controlled readable stream. Consumers will still be able to read any previously-enqueued chunks from\n     * the stream, but once those are read, the stream will become closed.\n     */\n    ReadableStreamDefaultController.prototype.close = function () {\n        if (!IsReadableStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException$1('close');\n        }\n        if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(this)) {\n            throw new TypeError('The stream is not in a state that permits close');\n        }\n        ReadableStreamDefaultControllerClose(this);\n    };\n    ReadableStreamDefaultController.prototype.enqueue = function (chunk) {\n        if (chunk === void 0) { chunk = undefined; }\n        if (!IsReadableStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException$1('enqueue');\n        }\n        if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(this)) {\n            throw new TypeError('The stream is not in a state that permits enqueue');\n        }\n        return ReadableStreamDefaultControllerEnqueue(this, chunk);\n    };\n    /**\n     * Errors the controlled readable stream, making all future interactions with it fail with the given error `e`.\n     */\n    ReadableStreamDefaultController.prototype.error = function (e) {\n        if (e === void 0) { e = undefined; }\n        if (!IsReadableStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException$1('error');\n        }\n        ReadableStreamDefaultControllerError(this, e);\n    };\n    /** @internal */\n    ReadableStreamDefaultController.prototype[CancelSteps] = function (reason) {\n        ResetQueue(this);\n        var result = this._cancelAlgorithm(reason);\n        ReadableStreamDefaultControllerClearAlgorithms(this);\n        return result;\n    };\n    /** @internal */\n    ReadableStreamDefaultController.prototype[PullSteps] = function (readRequest) {\n        var stream = this._controlledReadableStream;\n        if (this._queue.length > 0) {\n            var chunk = DequeueValue(this);\n            if (this._closeRequested && this._queue.length === 0) {\n                ReadableStreamDefaultControllerClearAlgorithms(this);\n                ReadableStreamClose(stream);\n            }\n            else {\n                ReadableStreamDefaultControllerCallPullIfNeeded(this);\n            }\n            readRequest._chunkSteps(chunk);\n        }\n        else {\n            ReadableStreamAddReadRequest(stream, readRequest);\n            ReadableStreamDefaultControllerCallPullIfNeeded(this);\n        }\n    };\n    return ReadableStreamDefaultController;\n}());\nObject.defineProperties(ReadableStreamDefaultController.prototype, {\n    close: { enumerable: true },\n    enqueue: { enumerable: true },\n    error: { enumerable: true },\n    desiredSize: { enumerable: true }\n});\nif (typeof SymbolPolyfill.toStringTag === 'symbol') {\n    Object.defineProperty(ReadableStreamDefaultController.prototype, SymbolPolyfill.toStringTag, {\n        value: 'ReadableStreamDefaultController',\n        configurable: true\n    });\n}\n// Abstract operations for the ReadableStreamDefaultController.\nfunction IsReadableStreamDefaultController(x) {\n    if (!typeIsObject(x)) {\n        return false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(x, '_controlledReadableStream')) {\n        return false;\n    }\n    return x instanceof ReadableStreamDefaultController;\n}\nfunction ReadableStreamDefaultControllerCallPullIfNeeded(controller) {\n    var shouldPull = ReadableStreamDefaultControllerShouldCallPull(controller);\n    if (!shouldPull) {\n        return;\n    }\n    if (controller._pulling) {\n        controller._pullAgain = true;\n        return;\n    }\n    controller._pulling = true;\n    var pullPromise = controller._pullAlgorithm();\n    uponPromise(pullPromise, function () {\n        controller._pulling = false;\n        if (controller._pullAgain) {\n            controller._pullAgain = false;\n            ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n        }\n    }, function (e) {\n        ReadableStreamDefaultControllerError(controller, e);\n    });\n}\nfunction ReadableStreamDefaultControllerShouldCallPull(controller) {\n    var stream = controller._controlledReadableStream;\n    if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(controller)) {\n        return false;\n    }\n    if (!controller._started) {\n        return false;\n    }\n    if (IsReadableStreamLocked(stream) && ReadableStreamGetNumReadRequests(stream) > 0) {\n        return true;\n    }\n    var desiredSize = ReadableStreamDefaultControllerGetDesiredSize(controller);\n    if (desiredSize > 0) {\n        return true;\n    }\n    return false;\n}\nfunction ReadableStreamDefaultControllerClearAlgorithms(controller) {\n    controller._pullAlgorithm = undefined;\n    controller._cancelAlgorithm = undefined;\n    controller._strategySizeAlgorithm = undefined;\n}\n// A client of ReadableStreamDefaultController may use these functions directly to bypass state check.\nfunction ReadableStreamDefaultControllerClose(controller) {\n    if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(controller)) {\n        return;\n    }\n    var stream = controller._controlledReadableStream;\n    controller._closeRequested = true;\n    if (controller._queue.length === 0) {\n        ReadableStreamDefaultControllerClearAlgorithms(controller);\n        ReadableStreamClose(stream);\n    }\n}\nfunction ReadableStreamDefaultControllerEnqueue(controller, chunk) {\n    if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(controller)) {\n        return;\n    }\n    var stream = controller._controlledReadableStream;\n    if (IsReadableStreamLocked(stream) && ReadableStreamGetNumReadRequests(stream) > 0) {\n        ReadableStreamFulfillReadRequest(stream, chunk, false);\n    }\n    else {\n        var chunkSize = void 0;\n        try {\n            chunkSize = controller._strategySizeAlgorithm(chunk);\n        }\n        catch (chunkSizeE) {\n            ReadableStreamDefaultControllerError(controller, chunkSizeE);\n            throw chunkSizeE;\n        }\n        try {\n            EnqueueValueWithSize(controller, chunk, chunkSize);\n        }\n        catch (enqueueE) {\n            ReadableStreamDefaultControllerError(controller, enqueueE);\n            throw enqueueE;\n        }\n    }\n    ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n}\nfunction ReadableStreamDefaultControllerError(controller, e) {\n    var stream = controller._controlledReadableStream;\n    if (stream._state !== 'readable') {\n        return;\n    }\n    ResetQueue(controller);\n    ReadableStreamDefaultControllerClearAlgorithms(controller);\n    ReadableStreamError(stream, e);\n}\nfunction ReadableStreamDefaultControllerGetDesiredSize(controller) {\n    var state = controller._controlledReadableStream._state;\n    if (state === 'errored') {\n        return null;\n    }\n    if (state === 'closed') {\n        return 0;\n    }\n    return controller._strategyHWM - controller._queueTotalSize;\n}\n// This is used in the implementation of TransformStream.\nfunction ReadableStreamDefaultControllerHasBackpressure(controller) {\n    if (ReadableStreamDefaultControllerShouldCallPull(controller)) {\n        return false;\n    }\n    return true;\n}\nfunction ReadableStreamDefaultControllerCanCloseOrEnqueue(controller) {\n    var state = controller._controlledReadableStream._state;\n    if (!controller._closeRequested && state === 'readable') {\n        return true;\n    }\n    return false;\n}\nfunction SetUpReadableStreamDefaultController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, sizeAlgorithm) {\n    controller._controlledReadableStream = stream;\n    controller._queue = undefined;\n    controller._queueTotalSize = undefined;\n    ResetQueue(controller);\n    controller._started = false;\n    controller._closeRequested = false;\n    controller._pullAgain = false;\n    controller._pulling = false;\n    controller._strategySizeAlgorithm = sizeAlgorithm;\n    controller._strategyHWM = highWaterMark;\n    controller._pullAlgorithm = pullAlgorithm;\n    controller._cancelAlgorithm = cancelAlgorithm;\n    stream._readableStreamController = controller;\n    var startResult = startAlgorithm();\n    uponPromise(promiseResolvedWith(startResult), function () {\n        controller._started = true;\n        ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n    }, function (r) {\n        ReadableStreamDefaultControllerError(controller, r);\n    });\n}\nfunction SetUpReadableStreamDefaultControllerFromUnderlyingSource(stream, underlyingSource, highWaterMark, sizeAlgorithm) {\n    var controller = Object.create(ReadableStreamDefaultController.prototype);\n    var startAlgorithm = function () { return undefined; };\n    var pullAlgorithm = function () { return promiseResolvedWith(undefined); };\n    var cancelAlgorithm = function () { return promiseResolvedWith(undefined); };\n    if (underlyingSource.start !== undefined) {\n        startAlgorithm = function () { return underlyingSource.start(controller); };\n    }\n    if (underlyingSource.pull !== undefined) {\n        pullAlgorithm = function () { return underlyingSource.pull(controller); };\n    }\n    if (underlyingSource.cancel !== undefined) {\n        cancelAlgorithm = function (reason) { return underlyingSource.cancel(reason); };\n    }\n    SetUpReadableStreamDefaultController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, sizeAlgorithm);\n}\n// Helper functions for the ReadableStreamDefaultController.\nfunction defaultControllerBrandCheckException$1(name) {\n    return new TypeError(\"ReadableStreamDefaultController.prototype.\" + name + \" can only be used on a ReadableStreamDefaultController\");\n}\n\nfunction ReadableStreamTee(stream, cloneForBranch2) {\n    if (IsReadableByteStreamController(stream._readableStreamController)) {\n        return ReadableByteStreamTee(stream);\n    }\n    return ReadableStreamDefaultTee(stream);\n}\nfunction ReadableStreamDefaultTee(stream, cloneForBranch2) {\n    var reader = AcquireReadableStreamDefaultReader(stream);\n    var reading = false;\n    var readAgain = false;\n    var canceled1 = false;\n    var canceled2 = false;\n    var reason1;\n    var reason2;\n    var branch1;\n    var branch2;\n    var resolveCancelPromise;\n    var cancelPromise = newPromise(function (resolve) {\n        resolveCancelPromise = resolve;\n    });\n    function pullAlgorithm() {\n        if (reading) {\n            readAgain = true;\n            return promiseResolvedWith(undefined);\n        }\n        reading = true;\n        var readRequest = {\n            _chunkSteps: function (chunk) {\n                // This needs to be delayed a microtask because it takes at least a microtask to detect errors (using\n                // reader._closedPromise below), and we want errors in stream to error both branches immediately. We cannot let\n                // successful synchronously-available reads get ahead of asynchronously-available errors.\n                queueMicrotask(function () {\n                    readAgain = false;\n                    var chunk1 = chunk;\n                    var chunk2 = chunk;\n                    // There is no way to access the cloning code right now in the reference implementation.\n                    // If we add one then we'll need an implementation for serializable objects.\n                    // if (!canceled2 && cloneForBranch2) {\n                    //   chunk2 = StructuredDeserialize(StructuredSerialize(chunk2));\n                    // }\n                    if (!canceled1) {\n                        ReadableStreamDefaultControllerEnqueue(branch1._readableStreamController, chunk1);\n                    }\n                    if (!canceled2) {\n                        ReadableStreamDefaultControllerEnqueue(branch2._readableStreamController, chunk2);\n                    }\n                    reading = false;\n                    if (readAgain) {\n                        pullAlgorithm();\n                    }\n                });\n            },\n            _closeSteps: function () {\n                reading = false;\n                if (!canceled1) {\n                    ReadableStreamDefaultControllerClose(branch1._readableStreamController);\n                }\n                if (!canceled2) {\n                    ReadableStreamDefaultControllerClose(branch2._readableStreamController);\n                }\n                if (!canceled1 || !canceled2) {\n                    resolveCancelPromise(undefined);\n                }\n            },\n            _errorSteps: function () {\n                reading = false;\n            }\n        };\n        ReadableStreamDefaultReaderRead(reader, readRequest);\n        return promiseResolvedWith(undefined);\n    }\n    function cancel1Algorithm(reason) {\n        canceled1 = true;\n        reason1 = reason;\n        if (canceled2) {\n            var compositeReason = CreateArrayFromList([reason1, reason2]);\n            var cancelResult = ReadableStreamCancel(stream, compositeReason);\n            resolveCancelPromise(cancelResult);\n        }\n        return cancelPromise;\n    }\n    function cancel2Algorithm(reason) {\n        canceled2 = true;\n        reason2 = reason;\n        if (canceled1) {\n            var compositeReason = CreateArrayFromList([reason1, reason2]);\n            var cancelResult = ReadableStreamCancel(stream, compositeReason);\n            resolveCancelPromise(cancelResult);\n        }\n        return cancelPromise;\n    }\n    function startAlgorithm() {\n        // do nothing\n    }\n    branch1 = CreateReadableStream(startAlgorithm, pullAlgorithm, cancel1Algorithm);\n    branch2 = CreateReadableStream(startAlgorithm, pullAlgorithm, cancel2Algorithm);\n    uponRejection(reader._closedPromise, function (r) {\n        ReadableStreamDefaultControllerError(branch1._readableStreamController, r);\n        ReadableStreamDefaultControllerError(branch2._readableStreamController, r);\n        if (!canceled1 || !canceled2) {\n            resolveCancelPromise(undefined);\n        }\n    });\n    return [branch1, branch2];\n}\nfunction ReadableByteStreamTee(stream) {\n    var reader = AcquireReadableStreamDefaultReader(stream);\n    var reading = false;\n    var readAgainForBranch1 = false;\n    var readAgainForBranch2 = false;\n    var canceled1 = false;\n    var canceled2 = false;\n    var reason1;\n    var reason2;\n    var branch1;\n    var branch2;\n    var resolveCancelPromise;\n    var cancelPromise = newPromise(function (resolve) {\n        resolveCancelPromise = resolve;\n    });\n    function forwardReaderError(thisReader) {\n        uponRejection(thisReader._closedPromise, function (r) {\n            if (thisReader !== reader) {\n                return;\n            }\n            ReadableByteStreamControllerError(branch1._readableStreamController, r);\n            ReadableByteStreamControllerError(branch2._readableStreamController, r);\n            if (!canceled1 || !canceled2) {\n                resolveCancelPromise(undefined);\n            }\n        });\n    }\n    function pullWithDefaultReader() {\n        if (IsReadableStreamBYOBReader(reader)) {\n            ReadableStreamReaderGenericRelease(reader);\n            reader = AcquireReadableStreamDefaultReader(stream);\n            forwardReaderError(reader);\n        }\n        var readRequest = {\n            _chunkSteps: function (chunk) {\n                // This needs to be delayed a microtask because it takes at least a microtask to detect errors (using\n                // reader._closedPromise below), and we want errors in stream to error both branches immediately. We cannot let\n                // successful synchronously-available reads get ahead of asynchronously-available errors.\n                queueMicrotask(function () {\n                    readAgainForBranch1 = false;\n                    readAgainForBranch2 = false;\n                    var chunk1 = chunk;\n                    var chunk2 = chunk;\n                    if (!canceled1 && !canceled2) {\n                        try {\n                            chunk2 = CloneAsUint8Array(chunk);\n                        }\n                        catch (cloneE) {\n                            ReadableByteStreamControllerError(branch1._readableStreamController, cloneE);\n                            ReadableByteStreamControllerError(branch2._readableStreamController, cloneE);\n                            resolveCancelPromise(ReadableStreamCancel(stream, cloneE));\n                            return;\n                        }\n                    }\n                    if (!canceled1) {\n                        ReadableByteStreamControllerEnqueue(branch1._readableStreamController, chunk1);\n                    }\n                    if (!canceled2) {\n                        ReadableByteStreamControllerEnqueue(branch2._readableStreamController, chunk2);\n                    }\n                    reading = false;\n                    if (readAgainForBranch1) {\n                        pull1Algorithm();\n                    }\n                    else if (readAgainForBranch2) {\n                        pull2Algorithm();\n                    }\n                });\n            },\n            _closeSteps: function () {\n                reading = false;\n                if (!canceled1) {\n                    ReadableByteStreamControllerClose(branch1._readableStreamController);\n                }\n                if (!canceled2) {\n                    ReadableByteStreamControllerClose(branch2._readableStreamController);\n                }\n                if (branch1._readableStreamController._pendingPullIntos.length > 0) {\n                    ReadableByteStreamControllerRespond(branch1._readableStreamController, 0);\n                }\n                if (branch2._readableStreamController._pendingPullIntos.length > 0) {\n                    ReadableByteStreamControllerRespond(branch2._readableStreamController, 0);\n                }\n                if (!canceled1 || !canceled2) {\n                    resolveCancelPromise(undefined);\n                }\n            },\n            _errorSteps: function () {\n                reading = false;\n            }\n        };\n        ReadableStreamDefaultReaderRead(reader, readRequest);\n    }\n    function pullWithBYOBReader(view, forBranch2) {\n        if (IsReadableStreamDefaultReader(reader)) {\n            ReadableStreamReaderGenericRelease(reader);\n            reader = AcquireReadableStreamBYOBReader(stream);\n            forwardReaderError(reader);\n        }\n        var byobBranch = forBranch2 ? branch2 : branch1;\n        var otherBranch = forBranch2 ? branch1 : branch2;\n        var readIntoRequest = {\n            _chunkSteps: function (chunk) {\n                // This needs to be delayed a microtask because it takes at least a microtask to detect errors (using\n                // reader._closedPromise below), and we want errors in stream to error both branches immediately. We cannot let\n                // successful synchronously-available reads get ahead of asynchronously-available errors.\n                queueMicrotask(function () {\n                    readAgainForBranch1 = false;\n                    readAgainForBranch2 = false;\n                    var byobCanceled = forBranch2 ? canceled2 : canceled1;\n                    var otherCanceled = forBranch2 ? canceled1 : canceled2;\n                    if (!otherCanceled) {\n                        var clonedChunk = void 0;\n                        try {\n                            clonedChunk = CloneAsUint8Array(chunk);\n                        }\n                        catch (cloneE) {\n                            ReadableByteStreamControllerError(byobBranch._readableStreamController, cloneE);\n                            ReadableByteStreamControllerError(otherBranch._readableStreamController, cloneE);\n                            resolveCancelPromise(ReadableStreamCancel(stream, cloneE));\n                            return;\n                        }\n                        if (!byobCanceled) {\n                            ReadableByteStreamControllerRespondWithNewView(byobBranch._readableStreamController, chunk);\n                        }\n                        ReadableByteStreamControllerEnqueue(otherBranch._readableStreamController, clonedChunk);\n                    }\n                    else if (!byobCanceled) {\n                        ReadableByteStreamControllerRespondWithNewView(byobBranch._readableStreamController, chunk);\n                    }\n                    reading = false;\n                    if (readAgainForBranch1) {\n                        pull1Algorithm();\n                    }\n                    else if (readAgainForBranch2) {\n                        pull2Algorithm();\n                    }\n                });\n            },\n            _closeSteps: function (chunk) {\n                reading = false;\n                var byobCanceled = forBranch2 ? canceled2 : canceled1;\n                var otherCanceled = forBranch2 ? canceled1 : canceled2;\n                if (!byobCanceled) {\n                    ReadableByteStreamControllerClose(byobBranch._readableStreamController);\n                }\n                if (!otherCanceled) {\n                    ReadableByteStreamControllerClose(otherBranch._readableStreamController);\n                }\n                if (chunk !== undefined) {\n                    if (!byobCanceled) {\n                        ReadableByteStreamControllerRespondWithNewView(byobBranch._readableStreamController, chunk);\n                    }\n                    if (!otherCanceled && otherBranch._readableStreamController._pendingPullIntos.length > 0) {\n                        ReadableByteStreamControllerRespond(otherBranch._readableStreamController, 0);\n                    }\n                }\n                if (!byobCanceled || !otherCanceled) {\n                    resolveCancelPromise(undefined);\n                }\n            },\n            _errorSteps: function () {\n                reading = false;\n            }\n        };\n        ReadableStreamBYOBReaderRead(reader, view, readIntoRequest);\n    }\n    function pull1Algorithm() {\n        if (reading) {\n            readAgainForBranch1 = true;\n            return promiseResolvedWith(undefined);\n        }\n        reading = true;\n        var byobRequest = ReadableByteStreamControllerGetBYOBRequest(branch1._readableStreamController);\n        if (byobRequest === null) {\n            pullWithDefaultReader();\n        }\n        else {\n            pullWithBYOBReader(byobRequest._view, false);\n        }\n        return promiseResolvedWith(undefined);\n    }\n    function pull2Algorithm() {\n        if (reading) {\n            readAgainForBranch2 = true;\n            return promiseResolvedWith(undefined);\n        }\n        reading = true;\n        var byobRequest = ReadableByteStreamControllerGetBYOBRequest(branch2._readableStreamController);\n        if (byobRequest === null) {\n            pullWithDefaultReader();\n        }\n        else {\n            pullWithBYOBReader(byobRequest._view, true);\n        }\n        return promiseResolvedWith(undefined);\n    }\n    function cancel1Algorithm(reason) {\n        canceled1 = true;\n        reason1 = reason;\n        if (canceled2) {\n            var compositeReason = CreateArrayFromList([reason1, reason2]);\n            var cancelResult = ReadableStreamCancel(stream, compositeReason);\n            resolveCancelPromise(cancelResult);\n        }\n        return cancelPromise;\n    }\n    function cancel2Algorithm(reason) {\n        canceled2 = true;\n        reason2 = reason;\n        if (canceled1) {\n            var compositeReason = CreateArrayFromList([reason1, reason2]);\n            var cancelResult = ReadableStreamCancel(stream, compositeReason);\n            resolveCancelPromise(cancelResult);\n        }\n        return cancelPromise;\n    }\n    function startAlgorithm() {\n        return;\n    }\n    branch1 = CreateReadableByteStream(startAlgorithm, pull1Algorithm, cancel1Algorithm);\n    branch2 = CreateReadableByteStream(startAlgorithm, pull2Algorithm, cancel2Algorithm);\n    forwardReaderError(reader);\n    return [branch1, branch2];\n}\n\nfunction convertUnderlyingDefaultOrByteSource(source, context) {\n    assertDictionary(source, context);\n    var original = source;\n    var autoAllocateChunkSize = original === null || original === void 0 ? void 0 : original.autoAllocateChunkSize;\n    var cancel = original === null || original === void 0 ? void 0 : original.cancel;\n    var pull = original === null || original === void 0 ? void 0 : original.pull;\n    var start = original === null || original === void 0 ? void 0 : original.start;\n    var type = original === null || original === void 0 ? void 0 : original.type;\n    return {\n        autoAllocateChunkSize: autoAllocateChunkSize === undefined ?\n            undefined :\n            convertUnsignedLongLongWithEnforceRange(autoAllocateChunkSize, context + \" has member 'autoAllocateChunkSize' that\"),\n        cancel: cancel === undefined ?\n            undefined :\n            convertUnderlyingSourceCancelCallback(cancel, original, context + \" has member 'cancel' that\"),\n        pull: pull === undefined ?\n            undefined :\n            convertUnderlyingSourcePullCallback(pull, original, context + \" has member 'pull' that\"),\n        start: start === undefined ?\n            undefined :\n            convertUnderlyingSourceStartCallback(start, original, context + \" has member 'start' that\"),\n        type: type === undefined ? undefined : convertReadableStreamType(type, context + \" has member 'type' that\")\n    };\n}\nfunction convertUnderlyingSourceCancelCallback(fn, original, context) {\n    assertFunction(fn, context);\n    return function (reason) { return promiseCall(fn, original, [reason]); };\n}\nfunction convertUnderlyingSourcePullCallback(fn, original, context) {\n    assertFunction(fn, context);\n    return function (controller) { return promiseCall(fn, original, [controller]); };\n}\nfunction convertUnderlyingSourceStartCallback(fn, original, context) {\n    assertFunction(fn, context);\n    return function (controller) { return reflectCall(fn, original, [controller]); };\n}\nfunction convertReadableStreamType(type, context) {\n    type = \"\" + type;\n    if (type !== 'bytes') {\n        throw new TypeError(context + \" '\" + type + \"' is not a valid enumeration value for ReadableStreamType\");\n    }\n    return type;\n}\n\nfunction convertReaderOptions(options, context) {\n    assertDictionary(options, context);\n    var mode = options === null || options === void 0 ? void 0 : options.mode;\n    return {\n        mode: mode === undefined ? undefined : convertReadableStreamReaderMode(mode, context + \" has member 'mode' that\")\n    };\n}\nfunction convertReadableStreamReaderMode(mode, context) {\n    mode = \"\" + mode;\n    if (mode !== 'byob') {\n        throw new TypeError(context + \" '\" + mode + \"' is not a valid enumeration value for ReadableStreamReaderMode\");\n    }\n    return mode;\n}\n\nfunction convertIteratorOptions(options, context) {\n    assertDictionary(options, context);\n    var preventCancel = options === null || options === void 0 ? void 0 : options.preventCancel;\n    return { preventCancel: Boolean(preventCancel) };\n}\n\nfunction convertPipeOptions(options, context) {\n    assertDictionary(options, context);\n    var preventAbort = options === null || options === void 0 ? void 0 : options.preventAbort;\n    var preventCancel = options === null || options === void 0 ? void 0 : options.preventCancel;\n    var preventClose = options === null || options === void 0 ? void 0 : options.preventClose;\n    var signal = options === null || options === void 0 ? void 0 : options.signal;\n    if (signal !== undefined) {\n        assertAbortSignal(signal, context + \" has member 'signal' that\");\n    }\n    return {\n        preventAbort: Boolean(preventAbort),\n        preventCancel: Boolean(preventCancel),\n        preventClose: Boolean(preventClose),\n        signal: signal\n    };\n}\nfunction assertAbortSignal(signal, context) {\n    if (!isAbortSignal(signal)) {\n        throw new TypeError(context + \" is not an AbortSignal.\");\n    }\n}\n\nfunction convertReadableWritablePair(pair, context) {\n    assertDictionary(pair, context);\n    var readable = pair === null || pair === void 0 ? void 0 : pair.readable;\n    assertRequiredField(readable, 'readable', 'ReadableWritablePair');\n    assertReadableStream(readable, context + \" has member 'readable' that\");\n    var writable = pair === null || pair === void 0 ? void 0 : pair.writable;\n    assertRequiredField(writable, 'writable', 'ReadableWritablePair');\n    assertWritableStream(writable, context + \" has member 'writable' that\");\n    return { readable: readable, writable: writable };\n}\n\n/**\n * A readable stream represents a source of data, from which you can read.\n *\n * @public\n */\nvar ReadableStream = /** @class */ (function () {\n    function ReadableStream(rawUnderlyingSource, rawStrategy) {\n        if (rawUnderlyingSource === void 0) { rawUnderlyingSource = {}; }\n        if (rawStrategy === void 0) { rawStrategy = {}; }\n        if (rawUnderlyingSource === undefined) {\n            rawUnderlyingSource = null;\n        }\n        else {\n            assertObject(rawUnderlyingSource, 'First parameter');\n        }\n        var strategy = convertQueuingStrategy(rawStrategy, 'Second parameter');\n        var underlyingSource = convertUnderlyingDefaultOrByteSource(rawUnderlyingSource, 'First parameter');\n        InitializeReadableStream(this);\n        if (underlyingSource.type === 'bytes') {\n            if (strategy.size !== undefined) {\n                throw new RangeError('The strategy for a byte stream cannot have a size function');\n            }\n            var highWaterMark = ExtractHighWaterMark(strategy, 0);\n            SetUpReadableByteStreamControllerFromUnderlyingSource(this, underlyingSource, highWaterMark);\n        }\n        else {\n            var sizeAlgorithm = ExtractSizeAlgorithm(strategy);\n            var highWaterMark = ExtractHighWaterMark(strategy, 1);\n            SetUpReadableStreamDefaultControllerFromUnderlyingSource(this, underlyingSource, highWaterMark, sizeAlgorithm);\n        }\n    }\n    Object.defineProperty(ReadableStream.prototype, \"locked\", {\n        /**\n         * Whether or not the readable stream is locked to a {@link ReadableStreamDefaultReader | reader}.\n         */\n        get: function () {\n            if (!IsReadableStream(this)) {\n                throw streamBrandCheckException$1('locked');\n            }\n            return IsReadableStreamLocked(this);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Cancels the stream, signaling a loss of interest in the stream by a consumer.\n     *\n     * The supplied `reason` argument will be given to the underlying source's {@link UnderlyingSource.cancel | cancel()}\n     * method, which might or might not use it.\n     */\n    ReadableStream.prototype.cancel = function (reason) {\n        if (reason === void 0) { reason = undefined; }\n        if (!IsReadableStream(this)) {\n            return promiseRejectedWith(streamBrandCheckException$1('cancel'));\n        }\n        if (IsReadableStreamLocked(this)) {\n            return promiseRejectedWith(new TypeError('Cannot cancel a stream that already has a reader'));\n        }\n        return ReadableStreamCancel(this, reason);\n    };\n    ReadableStream.prototype.getReader = function (rawOptions) {\n        if (rawOptions === void 0) { rawOptions = undefined; }\n        if (!IsReadableStream(this)) {\n            throw streamBrandCheckException$1('getReader');\n        }\n        var options = convertReaderOptions(rawOptions, 'First parameter');\n        if (options.mode === undefined) {\n            return AcquireReadableStreamDefaultReader(this);\n        }\n        return AcquireReadableStreamBYOBReader(this);\n    };\n    ReadableStream.prototype.pipeThrough = function (rawTransform, rawOptions) {\n        if (rawOptions === void 0) { rawOptions = {}; }\n        if (!IsReadableStream(this)) {\n            throw streamBrandCheckException$1('pipeThrough');\n        }\n        assertRequiredArgument(rawTransform, 1, 'pipeThrough');\n        var transform = convertReadableWritablePair(rawTransform, 'First parameter');\n        var options = convertPipeOptions(rawOptions, 'Second parameter');\n        if (IsReadableStreamLocked(this)) {\n            throw new TypeError('ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream');\n        }\n        if (IsWritableStreamLocked(transform.writable)) {\n            throw new TypeError('ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream');\n        }\n        var promise = ReadableStreamPipeTo(this, transform.writable, options.preventClose, options.preventAbort, options.preventCancel, options.signal);\n        setPromiseIsHandledToTrue(promise);\n        return transform.readable;\n    };\n    ReadableStream.prototype.pipeTo = function (destination, rawOptions) {\n        if (rawOptions === void 0) { rawOptions = {}; }\n        if (!IsReadableStream(this)) {\n            return promiseRejectedWith(streamBrandCheckException$1('pipeTo'));\n        }\n        if (destination === undefined) {\n            return promiseRejectedWith(\"Parameter 1 is required in 'pipeTo'.\");\n        }\n        if (!IsWritableStream(destination)) {\n            return promiseRejectedWith(new TypeError(\"ReadableStream.prototype.pipeTo's first argument must be a WritableStream\"));\n        }\n        var options;\n        try {\n            options = convertPipeOptions(rawOptions, 'Second parameter');\n        }\n        catch (e) {\n            return promiseRejectedWith(e);\n        }\n        if (IsReadableStreamLocked(this)) {\n            return promiseRejectedWith(new TypeError('ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream'));\n        }\n        if (IsWritableStreamLocked(destination)) {\n            return promiseRejectedWith(new TypeError('ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream'));\n        }\n        return ReadableStreamPipeTo(this, destination, options.preventClose, options.preventAbort, options.preventCancel, options.signal);\n    };\n    /**\n     * Tees this readable stream, returning a two-element array containing the two resulting branches as\n     * new {@link ReadableStream} instances.\n     *\n     * Teeing a stream will lock it, preventing any other consumer from acquiring a reader.\n     * To cancel the stream, cancel both of the resulting branches; a composite cancellation reason will then be\n     * propagated to the stream's underlying source.\n     *\n     * Note that the chunks seen in each branch will be the same object. If the chunks are not immutable,\n     * this could allow interference between the two branches.\n     */\n    ReadableStream.prototype.tee = function () {\n        if (!IsReadableStream(this)) {\n            throw streamBrandCheckException$1('tee');\n        }\n        var branches = ReadableStreamTee(this);\n        return CreateArrayFromList(branches);\n    };\n    ReadableStream.prototype.values = function (rawOptions) {\n        if (rawOptions === void 0) { rawOptions = undefined; }\n        if (!IsReadableStream(this)) {\n            throw streamBrandCheckException$1('values');\n        }\n        var options = convertIteratorOptions(rawOptions, 'First parameter');\n        return AcquireReadableStreamAsyncIterator(this, options.preventCancel);\n    };\n    return ReadableStream;\n}());\nObject.defineProperties(ReadableStream.prototype, {\n    cancel: { enumerable: true },\n    getReader: { enumerable: true },\n    pipeThrough: { enumerable: true },\n    pipeTo: { enumerable: true },\n    tee: { enumerable: true },\n    values: { enumerable: true },\n    locked: { enumerable: true }\n});\nif (typeof SymbolPolyfill.toStringTag === 'symbol') {\n    Object.defineProperty(ReadableStream.prototype, SymbolPolyfill.toStringTag, {\n        value: 'ReadableStream',\n        configurable: true\n    });\n}\nif (typeof SymbolPolyfill.asyncIterator === 'symbol') {\n    Object.defineProperty(ReadableStream.prototype, SymbolPolyfill.asyncIterator, {\n        value: ReadableStream.prototype.values,\n        writable: true,\n        configurable: true\n    });\n}\n// Abstract operations for the ReadableStream.\n// Throws if and only if startAlgorithm throws.\nfunction CreateReadableStream(startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, sizeAlgorithm) {\n    if (highWaterMark === void 0) { highWaterMark = 1; }\n    if (sizeAlgorithm === void 0) { sizeAlgorithm = function () { return 1; }; }\n    var stream = Object.create(ReadableStream.prototype);\n    InitializeReadableStream(stream);\n    var controller = Object.create(ReadableStreamDefaultController.prototype);\n    SetUpReadableStreamDefaultController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, sizeAlgorithm);\n    return stream;\n}\n// Throws if and only if startAlgorithm throws.\nfunction CreateReadableByteStream(startAlgorithm, pullAlgorithm, cancelAlgorithm) {\n    var stream = Object.create(ReadableStream.prototype);\n    InitializeReadableStream(stream);\n    var controller = Object.create(ReadableByteStreamController.prototype);\n    SetUpReadableByteStreamController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, 0, undefined);\n    return stream;\n}\nfunction InitializeReadableStream(stream) {\n    stream._state = 'readable';\n    stream._reader = undefined;\n    stream._storedError = undefined;\n    stream._disturbed = false;\n}\nfunction IsReadableStream(x) {\n    if (!typeIsObject(x)) {\n        return false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(x, '_readableStreamController')) {\n        return false;\n    }\n    return x instanceof ReadableStream;\n}\nfunction IsReadableStreamLocked(stream) {\n    if (stream._reader === undefined) {\n        return false;\n    }\n    return true;\n}\n// ReadableStream API exposed for controllers.\nfunction ReadableStreamCancel(stream, reason) {\n    stream._disturbed = true;\n    if (stream._state === 'closed') {\n        return promiseResolvedWith(undefined);\n    }\n    if (stream._state === 'errored') {\n        return promiseRejectedWith(stream._storedError);\n    }\n    ReadableStreamClose(stream);\n    var reader = stream._reader;\n    if (reader !== undefined && IsReadableStreamBYOBReader(reader)) {\n        reader._readIntoRequests.forEach(function (readIntoRequest) {\n            readIntoRequest._closeSteps(undefined);\n        });\n        reader._readIntoRequests = new SimpleQueue();\n    }\n    var sourceCancelPromise = stream._readableStreamController[CancelSteps](reason);\n    return transformPromiseWith(sourceCancelPromise, noop);\n}\nfunction ReadableStreamClose(stream) {\n    stream._state = 'closed';\n    var reader = stream._reader;\n    if (reader === undefined) {\n        return;\n    }\n    defaultReaderClosedPromiseResolve(reader);\n    if (IsReadableStreamDefaultReader(reader)) {\n        reader._readRequests.forEach(function (readRequest) {\n            readRequest._closeSteps();\n        });\n        reader._readRequests = new SimpleQueue();\n    }\n}\nfunction ReadableStreamError(stream, e) {\n    stream._state = 'errored';\n    stream._storedError = e;\n    var reader = stream._reader;\n    if (reader === undefined) {\n        return;\n    }\n    defaultReaderClosedPromiseReject(reader, e);\n    if (IsReadableStreamDefaultReader(reader)) {\n        reader._readRequests.forEach(function (readRequest) {\n            readRequest._errorSteps(e);\n        });\n        reader._readRequests = new SimpleQueue();\n    }\n    else {\n        reader._readIntoRequests.forEach(function (readIntoRequest) {\n            readIntoRequest._errorSteps(e);\n        });\n        reader._readIntoRequests = new SimpleQueue();\n    }\n}\n// Helper functions for the ReadableStream.\nfunction streamBrandCheckException$1(name) {\n    return new TypeError(\"ReadableStream.prototype.\" + name + \" can only be used on a ReadableStream\");\n}\n\nfunction convertQueuingStrategyInit(init, context) {\n    assertDictionary(init, context);\n    var highWaterMark = init === null || init === void 0 ? void 0 : init.highWaterMark;\n    assertRequiredField(highWaterMark, 'highWaterMark', 'QueuingStrategyInit');\n    return {\n        highWaterMark: convertUnrestrictedDouble(highWaterMark)\n    };\n}\n\n// The size function must not have a prototype property nor be a constructor\nvar byteLengthSizeFunction = function (chunk) {\n    return chunk.byteLength;\n};\ntry {\n    Object.defineProperty(byteLengthSizeFunction, 'name', {\n        value: 'size',\n        configurable: true\n    });\n}\ncatch (_a) {\n    // This property is non-configurable in older browsers, so ignore if this throws.\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name#browser_compatibility\n}\n/**\n * A queuing strategy that counts the number of bytes in each chunk.\n *\n * @public\n */\nvar ByteLengthQueuingStrategy = /** @class */ (function () {\n    function ByteLengthQueuingStrategy(options) {\n        assertRequiredArgument(options, 1, 'ByteLengthQueuingStrategy');\n        options = convertQueuingStrategyInit(options, 'First parameter');\n        this._byteLengthQueuingStrategyHighWaterMark = options.highWaterMark;\n    }\n    Object.defineProperty(ByteLengthQueuingStrategy.prototype, \"highWaterMark\", {\n        /**\n         * Returns the high water mark provided to the constructor.\n         */\n        get: function () {\n            if (!IsByteLengthQueuingStrategy(this)) {\n                throw byteLengthBrandCheckException('highWaterMark');\n            }\n            return this._byteLengthQueuingStrategyHighWaterMark;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ByteLengthQueuingStrategy.prototype, \"size\", {\n        /**\n         * Measures the size of `chunk` by returning the value of its `byteLength` property.\n         */\n        get: function () {\n            if (!IsByteLengthQueuingStrategy(this)) {\n                throw byteLengthBrandCheckException('size');\n            }\n            return byteLengthSizeFunction;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ByteLengthQueuingStrategy;\n}());\nObject.defineProperties(ByteLengthQueuingStrategy.prototype, {\n    highWaterMark: { enumerable: true },\n    size: { enumerable: true }\n});\nif (typeof SymbolPolyfill.toStringTag === 'symbol') {\n    Object.defineProperty(ByteLengthQueuingStrategy.prototype, SymbolPolyfill.toStringTag, {\n        value: 'ByteLengthQueuingStrategy',\n        configurable: true\n    });\n}\n// Helper functions for the ByteLengthQueuingStrategy.\nfunction byteLengthBrandCheckException(name) {\n    return new TypeError(\"ByteLengthQueuingStrategy.prototype.\" + name + \" can only be used on a ByteLengthQueuingStrategy\");\n}\nfunction IsByteLengthQueuingStrategy(x) {\n    if (!typeIsObject(x)) {\n        return false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(x, '_byteLengthQueuingStrategyHighWaterMark')) {\n        return false;\n    }\n    return x instanceof ByteLengthQueuingStrategy;\n}\n\n// The size function must not have a prototype property nor be a constructor\nvar countSizeFunction = function () {\n    return 1;\n};\ntry {\n    Object.defineProperty(countSizeFunction, 'name', {\n        value: 'size',\n        configurable: true\n    });\n}\ncatch (_a) {\n    // This property is non-configurable in older browsers, so ignore if this throws.\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name#browser_compatibility\n}\n/**\n * A queuing strategy that counts the number of chunks.\n *\n * @public\n */\nvar CountQueuingStrategy = /** @class */ (function () {\n    function CountQueuingStrategy(options) {\n        assertRequiredArgument(options, 1, 'CountQueuingStrategy');\n        options = convertQueuingStrategyInit(options, 'First parameter');\n        this._countQueuingStrategyHighWaterMark = options.highWaterMark;\n    }\n    Object.defineProperty(CountQueuingStrategy.prototype, \"highWaterMark\", {\n        /**\n         * Returns the high water mark provided to the constructor.\n         */\n        get: function () {\n            if (!IsCountQueuingStrategy(this)) {\n                throw countBrandCheckException('highWaterMark');\n            }\n            return this._countQueuingStrategyHighWaterMark;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CountQueuingStrategy.prototype, \"size\", {\n        /**\n         * Measures the size of `chunk` by always returning 1.\n         * This ensures that the total queue size is a count of the number of chunks in the queue.\n         */\n        get: function () {\n            if (!IsCountQueuingStrategy(this)) {\n                throw countBrandCheckException('size');\n            }\n            return countSizeFunction;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return CountQueuingStrategy;\n}());\nObject.defineProperties(CountQueuingStrategy.prototype, {\n    highWaterMark: { enumerable: true },\n    size: { enumerable: true }\n});\nif (typeof SymbolPolyfill.toStringTag === 'symbol') {\n    Object.defineProperty(CountQueuingStrategy.prototype, SymbolPolyfill.toStringTag, {\n        value: 'CountQueuingStrategy',\n        configurable: true\n    });\n}\n// Helper functions for the CountQueuingStrategy.\nfunction countBrandCheckException(name) {\n    return new TypeError(\"CountQueuingStrategy.prototype.\" + name + \" can only be used on a CountQueuingStrategy\");\n}\nfunction IsCountQueuingStrategy(x) {\n    if (!typeIsObject(x)) {\n        return false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(x, '_countQueuingStrategyHighWaterMark')) {\n        return false;\n    }\n    return x instanceof CountQueuingStrategy;\n}\n\nfunction convertTransformer(original, context) {\n    assertDictionary(original, context);\n    var flush = original === null || original === void 0 ? void 0 : original.flush;\n    var readableType = original === null || original === void 0 ? void 0 : original.readableType;\n    var start = original === null || original === void 0 ? void 0 : original.start;\n    var transform = original === null || original === void 0 ? void 0 : original.transform;\n    var writableType = original === null || original === void 0 ? void 0 : original.writableType;\n    return {\n        flush: flush === undefined ?\n            undefined :\n            convertTransformerFlushCallback(flush, original, context + \" has member 'flush' that\"),\n        readableType: readableType,\n        start: start === undefined ?\n            undefined :\n            convertTransformerStartCallback(start, original, context + \" has member 'start' that\"),\n        transform: transform === undefined ?\n            undefined :\n            convertTransformerTransformCallback(transform, original, context + \" has member 'transform' that\"),\n        writableType: writableType\n    };\n}\nfunction convertTransformerFlushCallback(fn, original, context) {\n    assertFunction(fn, context);\n    return function (controller) { return promiseCall(fn, original, [controller]); };\n}\nfunction convertTransformerStartCallback(fn, original, context) {\n    assertFunction(fn, context);\n    return function (controller) { return reflectCall(fn, original, [controller]); };\n}\nfunction convertTransformerTransformCallback(fn, original, context) {\n    assertFunction(fn, context);\n    return function (chunk, controller) { return promiseCall(fn, original, [chunk, controller]); };\n}\n\n// Class TransformStream\n/**\n * A transform stream consists of a pair of streams: a {@link WritableStream | writable stream},\n * known as its writable side, and a {@link ReadableStream | readable stream}, known as its readable side.\n * In a manner specific to the transform stream in question, writes to the writable side result in new data being\n * made available for reading from the readable side.\n *\n * @public\n */\nvar TransformStream = /** @class */ (function () {\n    function TransformStream(rawTransformer, rawWritableStrategy, rawReadableStrategy) {\n        if (rawTransformer === void 0) { rawTransformer = {}; }\n        if (rawWritableStrategy === void 0) { rawWritableStrategy = {}; }\n        if (rawReadableStrategy === void 0) { rawReadableStrategy = {}; }\n        if (rawTransformer === undefined) {\n            rawTransformer = null;\n        }\n        var writableStrategy = convertQueuingStrategy(rawWritableStrategy, 'Second parameter');\n        var readableStrategy = convertQueuingStrategy(rawReadableStrategy, 'Third parameter');\n        var transformer = convertTransformer(rawTransformer, 'First parameter');\n        if (transformer.readableType !== undefined) {\n            throw new RangeError('Invalid readableType specified');\n        }\n        if (transformer.writableType !== undefined) {\n            throw new RangeError('Invalid writableType specified');\n        }\n        var readableHighWaterMark = ExtractHighWaterMark(readableStrategy, 0);\n        var readableSizeAlgorithm = ExtractSizeAlgorithm(readableStrategy);\n        var writableHighWaterMark = ExtractHighWaterMark(writableStrategy, 1);\n        var writableSizeAlgorithm = ExtractSizeAlgorithm(writableStrategy);\n        var startPromise_resolve;\n        var startPromise = newPromise(function (resolve) {\n            startPromise_resolve = resolve;\n        });\n        InitializeTransformStream(this, startPromise, writableHighWaterMark, writableSizeAlgorithm, readableHighWaterMark, readableSizeAlgorithm);\n        SetUpTransformStreamDefaultControllerFromTransformer(this, transformer);\n        if (transformer.start !== undefined) {\n            startPromise_resolve(transformer.start(this._transformStreamController));\n        }\n        else {\n            startPromise_resolve(undefined);\n        }\n    }\n    Object.defineProperty(TransformStream.prototype, \"readable\", {\n        /**\n         * The readable side of the transform stream.\n         */\n        get: function () {\n            if (!IsTransformStream(this)) {\n                throw streamBrandCheckException('readable');\n            }\n            return this._readable;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TransformStream.prototype, \"writable\", {\n        /**\n         * The writable side of the transform stream.\n         */\n        get: function () {\n            if (!IsTransformStream(this)) {\n                throw streamBrandCheckException('writable');\n            }\n            return this._writable;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return TransformStream;\n}());\nObject.defineProperties(TransformStream.prototype, {\n    readable: { enumerable: true },\n    writable: { enumerable: true }\n});\nif (typeof SymbolPolyfill.toStringTag === 'symbol') {\n    Object.defineProperty(TransformStream.prototype, SymbolPolyfill.toStringTag, {\n        value: 'TransformStream',\n        configurable: true\n    });\n}\nfunction InitializeTransformStream(stream, startPromise, writableHighWaterMark, writableSizeAlgorithm, readableHighWaterMark, readableSizeAlgorithm) {\n    function startAlgorithm() {\n        return startPromise;\n    }\n    function writeAlgorithm(chunk) {\n        return TransformStreamDefaultSinkWriteAlgorithm(stream, chunk);\n    }\n    function abortAlgorithm(reason) {\n        return TransformStreamDefaultSinkAbortAlgorithm(stream, reason);\n    }\n    function closeAlgorithm() {\n        return TransformStreamDefaultSinkCloseAlgorithm(stream);\n    }\n    stream._writable = CreateWritableStream(startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, writableHighWaterMark, writableSizeAlgorithm);\n    function pullAlgorithm() {\n        return TransformStreamDefaultSourcePullAlgorithm(stream);\n    }\n    function cancelAlgorithm(reason) {\n        TransformStreamErrorWritableAndUnblockWrite(stream, reason);\n        return promiseResolvedWith(undefined);\n    }\n    stream._readable = CreateReadableStream(startAlgorithm, pullAlgorithm, cancelAlgorithm, readableHighWaterMark, readableSizeAlgorithm);\n    // The [[backpressure]] slot is set to undefined so that it can be initialised by TransformStreamSetBackpressure.\n    stream._backpressure = undefined;\n    stream._backpressureChangePromise = undefined;\n    stream._backpressureChangePromise_resolve = undefined;\n    TransformStreamSetBackpressure(stream, true);\n    stream._transformStreamController = undefined;\n}\nfunction IsTransformStream(x) {\n    if (!typeIsObject(x)) {\n        return false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(x, '_transformStreamController')) {\n        return false;\n    }\n    return x instanceof TransformStream;\n}\n// This is a no-op if both sides are already errored.\nfunction TransformStreamError(stream, e) {\n    ReadableStreamDefaultControllerError(stream._readable._readableStreamController, e);\n    TransformStreamErrorWritableAndUnblockWrite(stream, e);\n}\nfunction TransformStreamErrorWritableAndUnblockWrite(stream, e) {\n    TransformStreamDefaultControllerClearAlgorithms(stream._transformStreamController);\n    WritableStreamDefaultControllerErrorIfNeeded(stream._writable._writableStreamController, e);\n    if (stream._backpressure) {\n        // Pretend that pull() was called to permit any pending write() calls to complete. TransformStreamSetBackpressure()\n        // cannot be called from enqueue() or pull() once the ReadableStream is errored, so this will will be the final time\n        // _backpressure is set.\n        TransformStreamSetBackpressure(stream, false);\n    }\n}\nfunction TransformStreamSetBackpressure(stream, backpressure) {\n    // Passes also when called during construction.\n    if (stream._backpressureChangePromise !== undefined) {\n        stream._backpressureChangePromise_resolve();\n    }\n    stream._backpressureChangePromise = newPromise(function (resolve) {\n        stream._backpressureChangePromise_resolve = resolve;\n    });\n    stream._backpressure = backpressure;\n}\n// Class TransformStreamDefaultController\n/**\n * Allows control of the {@link ReadableStream} and {@link WritableStream} of the associated {@link TransformStream}.\n *\n * @public\n */\nvar TransformStreamDefaultController = /** @class */ (function () {\n    function TransformStreamDefaultController() {\n        throw new TypeError('Illegal constructor');\n    }\n    Object.defineProperty(TransformStreamDefaultController.prototype, \"desiredSize\", {\n        /**\n         * Returns the desired size to fill the readable sides internal queue. It can be negative, if the queue is over-full.\n         */\n        get: function () {\n            if (!IsTransformStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException('desiredSize');\n            }\n            var readableController = this._controlledTransformStream._readable._readableStreamController;\n            return ReadableStreamDefaultControllerGetDesiredSize(readableController);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    TransformStreamDefaultController.prototype.enqueue = function (chunk) {\n        if (chunk === void 0) { chunk = undefined; }\n        if (!IsTransformStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException('enqueue');\n        }\n        TransformStreamDefaultControllerEnqueue(this, chunk);\n    };\n    /**\n     * Errors both the readable side and the writable side of the controlled transform stream, making all future\n     * interactions with it fail with the given error `e`. Any chunks queued for transformation will be discarded.\n     */\n    TransformStreamDefaultController.prototype.error = function (reason) {\n        if (reason === void 0) { reason = undefined; }\n        if (!IsTransformStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException('error');\n        }\n        TransformStreamDefaultControllerError(this, reason);\n    };\n    /**\n     * Closes the readable side and errors the writable side of the controlled transform stream. This is useful when the\n     * transformer only needs to consume a portion of the chunks written to the writable side.\n     */\n    TransformStreamDefaultController.prototype.terminate = function () {\n        if (!IsTransformStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException('terminate');\n        }\n        TransformStreamDefaultControllerTerminate(this);\n    };\n    return TransformStreamDefaultController;\n}());\nObject.defineProperties(TransformStreamDefaultController.prototype, {\n    enqueue: { enumerable: true },\n    error: { enumerable: true },\n    terminate: { enumerable: true },\n    desiredSize: { enumerable: true }\n});\nif (typeof SymbolPolyfill.toStringTag === 'symbol') {\n    Object.defineProperty(TransformStreamDefaultController.prototype, SymbolPolyfill.toStringTag, {\n        value: 'TransformStreamDefaultController',\n        configurable: true\n    });\n}\n// Transform Stream Default Controller Abstract Operations\nfunction IsTransformStreamDefaultController(x) {\n    if (!typeIsObject(x)) {\n        return false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(x, '_controlledTransformStream')) {\n        return false;\n    }\n    return x instanceof TransformStreamDefaultController;\n}\nfunction SetUpTransformStreamDefaultController(stream, controller, transformAlgorithm, flushAlgorithm) {\n    controller._controlledTransformStream = stream;\n    stream._transformStreamController = controller;\n    controller._transformAlgorithm = transformAlgorithm;\n    controller._flushAlgorithm = flushAlgorithm;\n}\nfunction SetUpTransformStreamDefaultControllerFromTransformer(stream, transformer) {\n    var controller = Object.create(TransformStreamDefaultController.prototype);\n    var transformAlgorithm = function (chunk) {\n        try {\n            TransformStreamDefaultControllerEnqueue(controller, chunk);\n            return promiseResolvedWith(undefined);\n        }\n        catch (transformResultE) {\n            return promiseRejectedWith(transformResultE);\n        }\n    };\n    var flushAlgorithm = function () { return promiseResolvedWith(undefined); };\n    if (transformer.transform !== undefined) {\n        transformAlgorithm = function (chunk) { return transformer.transform(chunk, controller); };\n    }\n    if (transformer.flush !== undefined) {\n        flushAlgorithm = function () { return transformer.flush(controller); };\n    }\n    SetUpTransformStreamDefaultController(stream, controller, transformAlgorithm, flushAlgorithm);\n}\nfunction TransformStreamDefaultControllerClearAlgorithms(controller) {\n    controller._transformAlgorithm = undefined;\n    controller._flushAlgorithm = undefined;\n}\nfunction TransformStreamDefaultControllerEnqueue(controller, chunk) {\n    var stream = controller._controlledTransformStream;\n    var readableController = stream._readable._readableStreamController;\n    if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(readableController)) {\n        throw new TypeError('Readable side is not in a state that permits enqueue');\n    }\n    // We throttle transform invocations based on the backpressure of the ReadableStream, but we still\n    // accept TransformStreamDefaultControllerEnqueue() calls.\n    try {\n        ReadableStreamDefaultControllerEnqueue(readableController, chunk);\n    }\n    catch (e) {\n        // This happens when readableStrategy.size() throws.\n        TransformStreamErrorWritableAndUnblockWrite(stream, e);\n        throw stream._readable._storedError;\n    }\n    var backpressure = ReadableStreamDefaultControllerHasBackpressure(readableController);\n    if (backpressure !== stream._backpressure) {\n        TransformStreamSetBackpressure(stream, true);\n    }\n}\nfunction TransformStreamDefaultControllerError(controller, e) {\n    TransformStreamError(controller._controlledTransformStream, e);\n}\nfunction TransformStreamDefaultControllerPerformTransform(controller, chunk) {\n    var transformPromise = controller._transformAlgorithm(chunk);\n    return transformPromiseWith(transformPromise, undefined, function (r) {\n        TransformStreamError(controller._controlledTransformStream, r);\n        throw r;\n    });\n}\nfunction TransformStreamDefaultControllerTerminate(controller) {\n    var stream = controller._controlledTransformStream;\n    var readableController = stream._readable._readableStreamController;\n    ReadableStreamDefaultControllerClose(readableController);\n    var error = new TypeError('TransformStream terminated');\n    TransformStreamErrorWritableAndUnblockWrite(stream, error);\n}\n// TransformStreamDefaultSink Algorithms\nfunction TransformStreamDefaultSinkWriteAlgorithm(stream, chunk) {\n    var controller = stream._transformStreamController;\n    if (stream._backpressure) {\n        var backpressureChangePromise = stream._backpressureChangePromise;\n        return transformPromiseWith(backpressureChangePromise, function () {\n            var writable = stream._writable;\n            var state = writable._state;\n            if (state === 'erroring') {\n                throw writable._storedError;\n            }\n            return TransformStreamDefaultControllerPerformTransform(controller, chunk);\n        });\n    }\n    return TransformStreamDefaultControllerPerformTransform(controller, chunk);\n}\nfunction TransformStreamDefaultSinkAbortAlgorithm(stream, reason) {\n    // abort() is not called synchronously, so it is possible for abort() to be called when the stream is already\n    // errored.\n    TransformStreamError(stream, reason);\n    return promiseResolvedWith(undefined);\n}\nfunction TransformStreamDefaultSinkCloseAlgorithm(stream) {\n    // stream._readable cannot change after construction, so caching it across a call to user code is safe.\n    var readable = stream._readable;\n    var controller = stream._transformStreamController;\n    var flushPromise = controller._flushAlgorithm();\n    TransformStreamDefaultControllerClearAlgorithms(controller);\n    // Return a promise that is fulfilled with undefined on success.\n    return transformPromiseWith(flushPromise, function () {\n        if (readable._state === 'errored') {\n            throw readable._storedError;\n        }\n        ReadableStreamDefaultControllerClose(readable._readableStreamController);\n    }, function (r) {\n        TransformStreamError(stream, r);\n        throw readable._storedError;\n    });\n}\n// TransformStreamDefaultSource Algorithms\nfunction TransformStreamDefaultSourcePullAlgorithm(stream) {\n    // Invariant. Enforced by the promises returned by start() and pull().\n    TransformStreamSetBackpressure(stream, false);\n    // Prevent the next pull() call until there is backpressure.\n    return stream._backpressureChangePromise;\n}\n// Helper functions for the TransformStreamDefaultController.\nfunction defaultControllerBrandCheckException(name) {\n    return new TypeError(\"TransformStreamDefaultController.prototype.\" + name + \" can only be used on a TransformStreamDefaultController\");\n}\n// Helper functions for the TransformStream.\nfunction streamBrandCheckException(name) {\n    return new TypeError(\"TransformStream.prototype.\" + name + \" can only be used on a TransformStream\");\n}\n\nexport { ByteLengthQueuingStrategy, CountQueuingStrategy, ReadableByteStreamController, ReadableStream, ReadableStreamBYOBReader, ReadableStreamBYOBRequest, ReadableStreamDefaultController, ReadableStreamDefaultReader, TransformStream, TransformStreamDefaultController, WritableStream, WritableStreamDefaultController, WritableStreamDefaultWriter };\n//# sourceMappingURL=ponyfill.mjs.map\n","import fetch, { Request, Response, Headers } from 'node-fetch';\nimport AbortController from 'abort-controller';\nimport { ReadableStream, WritableStream, TransformStream, } from 'web-streams-polyfill/ponyfill';\nimport { FormData } from 'undici';\nif (!globalThis.fetch) {\n    Object.assign(globalThis, {\n        fetch,\n        Request,\n        Response,\n        Headers,\n        AbortController,\n    });\n}\nif (!globalThis.FormData) {\n    Object.assign(globalThis, {\n        FormData,\n    });\n}\nif (!globalThis.ReadableStream) {\n    Object.assign(globalThis, {\n        ReadableStream,\n        WritableStream,\n        TransformStream,\n    });\n}\n","var enabled = true;\n// Support both browser and node environments\nvar globalVar = typeof self !== 'undefined'\n    ? self\n    : typeof window !== 'undefined'\n        ? window\n        : typeof global !== 'undefined'\n            ? global\n            : {};\n/**\n * Detect how much colors the current terminal supports\n */\nvar supportLevel = 0 /* none */;\nif (globalVar.process && globalVar.process.env && globalVar.process.stdout) {\n    var _a = globalVar.process.env, FORCE_COLOR = _a.FORCE_COLOR, NODE_DISABLE_COLORS = _a.NODE_DISABLE_COLORS, TERM = _a.TERM;\n    if (NODE_DISABLE_COLORS || FORCE_COLOR === '0') {\n        enabled = false;\n    }\n    else if (FORCE_COLOR === '1') {\n        enabled = true;\n    }\n    else if (TERM === 'dumb') {\n        enabled = false;\n    }\n    else if ('CI' in globalVar.process.env &&\n        [\n            'TRAVIS',\n            'CIRCLECI',\n            'APPVEYOR',\n            'GITLAB_CI',\n            'GITHUB_ACTIONS',\n            'BUILDKITE',\n            'DRONE',\n        ].some(function (vendor) { return vendor in globalVar.process.env; })) {\n        enabled = true;\n    }\n    else {\n        enabled = process.stdout.isTTY;\n    }\n    if (enabled) {\n        supportLevel =\n            TERM && TERM.endsWith('-256color')\n                ? 2 /* ansi256 */\n                : 1 /* ansi */;\n    }\n}\nexport var options = {\n    enabled: enabled,\n    supportLevel: supportLevel,\n};\nfunction kolorist(start, end, level) {\n    if (level === void 0) { level = 1 /* ansi */; }\n    var open = \"\\u001B[\" + start + \"m\";\n    var close = \"\\u001B[\" + end + \"m\";\n    var regex = new RegExp(\"\\\\x1b\\\\[\" + end + \"m\", 'g');\n    return function (str) {\n        return options.enabled && options.supportLevel >= level\n            ? open + ('' + str).replace(regex, open) + close\n            : '' + str;\n    };\n}\nexport function stripColors(str) {\n    return ('' + str)\n        .replace(/\\x1b\\[[0-9;]+m/g, '')\n        .replace(/\\x1b\\]8;;.*?\\x07(.*?)\\x1b\\]8;;\\x07/g, function (_, group) { return group; });\n}\n// modifiers\nexport var reset = kolorist(0, 0);\nexport var bold = kolorist(1, 22);\nexport var dim = kolorist(2, 22);\nexport var italic = kolorist(3, 23);\nexport var underline = kolorist(4, 24);\nexport var inverse = kolorist(7, 27);\nexport var hidden = kolorist(8, 28);\nexport var strikethrough = kolorist(9, 29);\n// colors\nexport var black = kolorist(30, 39);\nexport var red = kolorist(31, 39);\nexport var green = kolorist(32, 39);\nexport var yellow = kolorist(33, 39);\nexport var blue = kolorist(34, 39);\nexport var magenta = kolorist(35, 39);\nexport var cyan = kolorist(36, 39);\nexport var white = kolorist(97, 39);\nexport var gray = kolorist(90, 39);\nexport var lightGray = kolorist(37, 39);\nexport var lightRed = kolorist(91, 39);\nexport var lightGreen = kolorist(92, 39);\nexport var lightYellow = kolorist(93, 39);\nexport var lightBlue = kolorist(94, 39);\nexport var lightMagenta = kolorist(95, 39);\nexport var lightCyan = kolorist(96, 39);\n// background colors\nexport var bgBlack = kolorist(40, 49);\nexport var bgRed = kolorist(41, 49);\nexport var bgGreen = kolorist(42, 49);\nexport var bgYellow = kolorist(43, 49);\nexport var bgBlue = kolorist(44, 49);\nexport var bgMagenta = kolorist(45, 49);\nexport var bgCyan = kolorist(46, 49);\nexport var bgWhite = kolorist(107, 49);\nexport var bgGray = kolorist(100, 49);\nexport var bgLightRed = kolorist(101, 49);\nexport var bgLightGreen = kolorist(102, 49);\nexport var bgLightYellow = kolorist(103, 49);\nexport var bgLightBlue = kolorist(104, 49);\nexport var bgLightMagenta = kolorist(105, 49);\nexport var bgLightCyan = kolorist(106, 49);\nexport var bgLightGray = kolorist(47, 49);\n// 256 support\nexport var ansi256 = function (n) {\n    return kolorist('38;5;' + n, 0, 2 /* ansi256 */);\n};\nexport var ansi256Bg = function (n) {\n    return kolorist('48;5;' + n, 0, 2 /* ansi256 */);\n};\n// Links\nvar OSC = '\\u001B]';\nvar BEL = '\\u0007';\nvar SEP = ';';\nexport function link(text, url) {\n    return options.enabled\n        ? OSC + '8' + SEP + SEP + url + BEL + text + OSC + '8' + SEP + SEP + BEL\n        : text + \" (\\u200B\" + url + \"\\u200B)\";\n}\n//# sourceMappingURL=index.js.map","/**\n * Not all environments have access to Performance.now(). This is to prevent\n * timing side channel attacks.\n *\n * See: https://community.cloudflare.com/t/cloudflare-workers-how-do-i-measure-execution-time-of-my-method/69672\n */\nexport function getTime() {\n    if (typeof performance !== 'undefined' && performance.now) {\n        return performance.now();\n    }\n    else {\n        return Date.now();\n    }\n}\n","export function findQueryName(key) {\n    if (key.length < 100) {\n        return key.replace(__HYDROGEN_CACHE_ID__, '').replace(/\"/g, '');\n    }\n    return key.match(/query\\s+([^\\s({]+)/)?.[1] || '<unknown>';\n}\nexport function parseUrl(type, url) {\n    return type === 'rsc'\n        ? decodeURIComponent(url.substring(url.indexOf('=') + 1))\n        : url;\n}\n","import { yellow, red, green, italic, lightBlue } from 'kolorist';\nimport { getTime } from '../timing.js';\nimport { parseUrl } from './utils.js';\nconst defaultLogger = {\n    trace(context, ...args) {\n        // Re-enable following line to show trace debugging information\n        // console.log(context.id, ...args);\n    },\n    debug(context, ...args) {\n        console.log(...args);\n    },\n    warn(context, ...args) {\n        console.warn(yellow('WARN: '), ...args);\n    },\n    error(context, error, ...extra) {\n        const url = context ? ` ${context.url}` : '';\n        if (error instanceof Error) {\n            console.error(red(`Error processing route:${url}\\n${error.stack}`));\n        }\n        else {\n            console.error(red(`Error:${url} ${error}`));\n        }\n    },\n    fatal(context, ...args) {\n        console.error(red('FATAL: '), ...args);\n    },\n    options: () => ({}),\n};\nlet currentLogger = defaultLogger;\nfunction doLog(method, request, ...args) {\n    try {\n        const maybePromise = currentLogger[method](request, ...args);\n        if (maybePromise instanceof Promise) {\n            request?.ctx?.runtime?.waitUntil?.(maybePromise.catch((e) => {\n                const message = e instanceof Error ? e.stack : e;\n                defaultLogger.error(`Promise error from the custom logging implementation for logger.${method} failed:\\n${message}`);\n            }));\n        }\n    }\n    catch (e) {\n        const message = e instanceof Error ? e.stack : e;\n        defaultLogger.error(`The custom logging implementation for logger.${method} failed:\\n${message}`);\n    }\n}\nexport function getLoggerWithContext(context) {\n    return {\n        trace: (...args) => doLog('trace', context, ...args),\n        debug: (...args) => doLog('debug', context, ...args),\n        warn: (...args) => doLog('warn', context, ...args),\n        error: (...args) => doLog('error', context, ...args),\n        fatal: (...args) => doLog('fatal', context, ...args),\n        options: () => currentLogger.options(),\n    };\n}\nexport const log = getLoggerWithContext({});\nexport function setLogger(config) {\n    if (!config) {\n        currentLogger = defaultLogger;\n        return;\n    }\n    const options = {};\n    currentLogger = { ...defaultLogger, ...config, options: () => options };\n    for (const key of Object.keys(config)) {\n        if (!(key in defaultLogger)) {\n            delete currentLogger[key];\n            options[key] = config[key];\n        }\n    }\n}\nconst SERVER_RESPONSE_MAP = {\n    str: 'streaming SSR',\n    rsc: 'Server Components',\n    ssr: 'buffered SSR',\n};\nexport function logServerResponse(type, request, responseStatus, didError) {\n    const log = getLoggerWithContext(request);\n    const coloredResponseStatus = responseStatus >= 500\n        ? red(responseStatus)\n        : responseStatus >= 400\n            ? yellow(responseStatus)\n            : responseStatus >= 300\n                ? lightBlue(responseStatus)\n                : green(responseStatus);\n    const fullType = SERVER_RESPONSE_MAP[type] || type;\n    const styledType = italic(fullType.padEnd(17));\n    const paddedTiming = ((getTime() - request.time).toFixed(2) + ' ms').padEnd(10);\n    const url = parseUrl(type, request.url);\n    log.debug(`${request.method} ${styledType} ${coloredResponseStatus} ${didError || responseStatus >= 400 ? red('error') : green('ok   ')} ${paddedTiming} ${url}`);\n}\n","export const RSC_PATHNAME = '/__rsc';\nexport const EVENT_PATHNAME = '/__event';\nexport const EVENT_PATHNAME_REGEX = new RegExp(`^${EVENT_PATHNAME}/`);\nexport const OXYGEN_SECRET_TOKEN_ENVIRONMENT_VARIABLE = 'SHOPIFY_STOREFRONT_API_SECRET_TOKEN';\nexport const STOREFRONT_API_SECRET_TOKEN_HEADER = 'Shopify-Storefront-Private-Token';\nexport const STOREFRONT_API_PUBLIC_TOKEN_HEADER = 'X-Shopify-Storefront-Access-Token';\nexport const FORM_REDIRECT_COOKIE = 'Hydrogen-Redirect';\nexport const STOREFRONT_API_BUYER_IP_HEADER = 'Shopify-Storefront-Buyer-IP';\nexport const SHOPIFY_STOREFRONT_ID_VARIABLE = 'SHOPIFY_STOREFRONT_ID';\nexport const SHOPIFY_STOREFRONT_ID_HEADER = 'Shopify-Storefront-Id';\nexport const SHOPIFY_STOREFRONT_Y_HEADER = 'Shopify-Storefront-Y';\nexport const SHOPIFY_STOREFRONT_S_HEADER = 'Shopify-Storefront-S';\nexport const SHOPIFY_Y = '_shopify_y';\nexport const SHOPIFY_S = '_shopify_s';\n","import { STOREFRONT_API_BUYER_IP_HEADER } from '../constants.js';\nexport function hashKey(queryKey) {\n    const rawKeys = Array.isArray(queryKey) ? queryKey : [queryKey];\n    let hash = '';\n    // Keys from useShopQuery are in the following shape:\n    // ['prefix', 'api-endpoint', {body:'query',headers:{}}]\n    // Since the API endpoint already contains the shop domain and api version,\n    // we can ignore the headers and only use the `body` from the payload.\n    for (const key of rawKeys) {\n        if (key != null) {\n            if (typeof key === 'object') {\n                // Queries from useQuery might not have a `body`. In that case,\n                // fallback to a safer (but slower) stringify.\n                if (!!key.body && typeof key.body === 'string') {\n                    hash += key.body;\n                    if (!!key.headers && key.headers[STOREFRONT_API_BUYER_IP_HEADER]) {\n                        hash += key.headers[STOREFRONT_API_BUYER_IP_HEADER];\n                    }\n                }\n                else {\n                    hash += JSON.stringify(key);\n                }\n            }\n            else {\n                hash += key;\n            }\n        }\n    }\n    return hash;\n}\n","import { hashKey } from '../hash.js';\nimport { findQueryName, parseUrl } from './utils.js';\nimport { gray } from 'kolorist';\nimport { getLoggerWithContext } from './log.js';\nconst color = gray;\nexport function collectQueryCacheControlHeaders(request, queryKey, cacheControlHeader) {\n    request.ctx.queryCacheControl.push({\n        name: findQueryName(hashKey(queryKey)),\n        header: cacheControlHeader,\n    });\n}\nexport function logCacheControlHeaders(type, request, response) {\n    const log = getLoggerWithContext(request);\n    if (!log.options().showCacheControlHeader) {\n        return;\n    }\n    log.debug(color(` Cache control header for ${parseUrl(type, request.url)}`));\n    if (response) {\n        log.debug(color(` ${response.cacheControlHeader}`));\n    }\n    const queryList = request.ctx.queryCacheControl;\n    const longestQueryNameLength = queryList.reduce((max, query) => Math.max(max, query.name.length), 0);\n    if (queryList.length > 0) {\n        log.debug(color(''));\n        queryList.forEach((query) => {\n            log.debug(color(` query ${query.name.padEnd(longestQueryNameLength + 1)}${query.header}`));\n        });\n    }\n    log.debug(color(''));\n}\n","import { findQueryName } from './utils.js';\nimport { gray } from 'kolorist';\nimport { log } from '.';\nexport function logCacheApiStatus(status, url) {\n    if (!log.options().showCacheApiStatus) {\n        return;\n    }\n    let queryName;\n    if (url.includes('shopify.dev')) {\n        url = decodeURIComponent(url);\n        queryName = findQueryName(url);\n        if (url.includes('?lock')) {\n            queryName += '-lock';\n        }\n    }\n    log.debug(gray(`[Cache] ${status?.padEnd(8)} ${queryName ? `query ${queryName}` : url}`));\n}\n","import { hashKey } from '../hash.js';\nimport { findQueryName, parseUrl } from './utils.js';\nimport { gray, red, yellow, green } from 'kolorist';\nimport { getLoggerWithContext } from './log.js';\nimport { getTime } from '../timing.js';\nconst color = gray;\nconst TIMING_MAPPING = {\n    requested: 'Requested',\n    rendered: 'Rendered',\n    resolved: 'Resolved',\n    preload: 'Preload',\n};\nexport function collectQueryTimings(request, queryKey, timingType, duration) {\n    const hashedKey = hashKey(queryKey);\n    if (hashedKey !== 'hydrogen-shopify-config') {\n        request.ctx.queryTimings.push({\n            name: findQueryName(hashedKey),\n            timingType,\n            timestamp: getTime(),\n            duration,\n        });\n    }\n}\nexport function logQueryTimings(type, request) {\n    const log = getLoggerWithContext(request);\n    if (!__HYDROGEN_DEV__ && !log.options().showQueryTiming) {\n        return;\n    }\n    const previouslyLoadedRequest = request.previouslyLoadedRequest();\n    let logMessage = color(` Query timings for ${parseUrl(type, request.url)}`);\n    let firstSuspenseWaterfallQueryName = '';\n    const queryList = request.ctx.queryTimings;\n    if (queryList.length > 0) {\n        const requestStartTime = request.time;\n        const detectSuspenseWaterfall = {};\n        const detectMultipleDataLoad = {};\n        const preloadedQueries = new Set();\n        let suspenseWaterfallDetectedCount = 0;\n        queryList.forEach((query, index) => {\n            if (query.timingType === 'preload')\n                preloadedQueries.add(query.name);\n            if (query.timingType === 'requested' || query.timingType === 'preload') {\n                detectSuspenseWaterfall[query.name] = true;\n            }\n            else if (query.timingType === 'rendered') {\n                delete detectSuspenseWaterfall[query.name];\n            }\n            else if (query.timingType === 'resolved') {\n                detectMultipleDataLoad[query.name] = detectMultipleDataLoad[query.name]\n                    ? detectMultipleDataLoad[query.name] + 1\n                    : 1;\n            }\n            const loadColor = query.timingType === 'preload' ? green : color;\n            const duration = query.duration;\n            logMessage += color(`\\n ${`${(query.timestamp - requestStartTime).toFixed(2)}ms`.padEnd(10)} ${loadColor(TIMING_MAPPING[query.timingType].padEnd(10))} ${query.name}${query.timingType === 'resolved'\n                ? ` (Took ${duration?.toFixed(2)}ms)`\n                : ''}`);\n            // SSR + RSC render path generates 2 `load` and `render` for each query\n            // We want to avoid falsely identifying a suspense waterfall near the end\n            // of the query list\n            //\n            // The (index + 4) is detecting that near the end of list.\n            // A complete set of events for a given query is 4 entries\n            //  (639.62ms)  Requested  Localization\n            //  (993.33ms)  Resolved   Localization (Took 353.66ms)\n            //  (993.96ms)  Requested  Localization      <-- second time React tries to load\n            //  (994.03ms)  Rendered   Localization\n            //\n            // so the end of list index range is 3 (one less from a set entry) + 1 (zero index)\n            if (queryList.length >= index + 4 &&\n                Object.keys(detectSuspenseWaterfall).length === 0 &&\n                !preloadedQueries.has(query.name) &&\n                previouslyLoadedRequest) {\n                // Store the first suspense waterfall query name to display in the summary console output\n                if (!firstSuspenseWaterfallQueryName)\n                    firstSuspenseWaterfallQueryName = query.name;\n                suspenseWaterfallDetectedCount++;\n                const warningColor = suspenseWaterfallDetectedCount === 1 ? yellow : red;\n                logMessage += `\\n${color(` `)}${warningColor(`Suspense waterfall detected`)}`;\n            }\n        });\n        const unusedQueries = Object.keys(detectSuspenseWaterfall);\n        if (unusedQueries.length > 0) {\n            unusedQueries.forEach((queryName) => {\n                logMessage += `\\n${color(` `)}${yellow(`Unused query detected: ${queryName}`)}`;\n            });\n        }\n        Object.keys(detectMultipleDataLoad).forEach((queryName) => {\n            const count = detectMultipleDataLoad[queryName];\n            if (count > 1) {\n                logMessage += `\\n${color(` `)}${yellow(`Multiple data loads detected: ${queryName}`)}`;\n            }\n        });\n    }\n    logMessage += '\\n' + color('');\n    if (log.options().showQueryTiming) {\n        log.debug(logMessage);\n    }\n    else if (firstSuspenseWaterfallQueryName) {\n        log.debug(yellow('Suspense waterfall detected on query: ' +\n            firstSuspenseWaterfallQueryName));\n        log.debug('  Add the `showQueryTiming` property to your Hydrogen configuration to see more information:');\n        log.debug('  https://shopify.dev/custom-storefronts/hydrogen/framework/hydrogen-config#logger');\n    }\n}\n","export function getErrorMarkup(error) {\n    return `<script type=\"module\">\n    import {ErrorOverlay} from '/@vite/client.js';\n    document.body.appendChild(new ErrorOverlay(${JSON.stringify(error, Object.getOwnPropertyNames(error)).replace(/</g, '\\\\u003c')}));\n</script>`;\n}\n","/// <reference types=\"vite/client\" />\nimport React from 'react';\nconst HTML_ATTR_SEP_RE = /(?<!=)\"\\s+/gim;\nconst getHtmlAttrs = (template) => template.match(/<html\\s+([^>]+?)\\s*>/s)?.[1] || '';\nconst getBodyAttrs = (template) => template.match(/<body\\s+([^>]+?)\\s*>/s)?.[1] || '';\nconst REACT_ATTR_MAP = Object.create(null);\nREACT_ATTR_MAP.class = 'className';\nREACT_ATTR_MAP.style = 'data-style'; // Ignore string styles, it breaks React\nfunction attrsToProps(attrs) {\n    attrs = attrs?.trim();\n    // Assume all attributes are surrounded by double quotes.\n    return attrs\n        ? Object.fromEntries(attrs.split(HTML_ATTR_SEP_RE).map((attr) => {\n            const [key, value] = attr.replace(/\"/g, '').split(/=(.+)/);\n            return [REACT_ATTR_MAP[key.toLowerCase()] || key, value];\n        }))\n        : {};\n}\nfunction propsToAttrs(props) {\n    return Object.entries(props)\n        .map(([key, value]) => `${key === REACT_ATTR_MAP.class ? 'class' : key}=\"${value}\"`)\n        .join(' ');\n}\nconst clientConfigOptions = ['strictMode'];\nexport function Html({ children, template, htmlAttrs, bodyAttrs, hydrogenConfig, }) {\n    let head = template.match(/<head>(.+?)<\\/head>/s)[1] || '';\n    // @ts-ignore\n    if (import.meta.env.DEV) {\n        // Fix React Refresh for async scripts.\n        // https://github.com/vitejs/vite/issues/6759\n        head =\n            '<script></script>' + // Fix for Firefox: https://bugzilla.mozilla.org/show_bug.cgi?id=1737882\n                head.replace(/>(\\s*?import[\\s\\w]+?['\"]\\/@react-refresh)/, ' async=\"\">$1');\n    }\n    const clientConfig = {};\n    for (const key of clientConfigOptions) {\n        if (hydrogenConfig[key] != null) {\n            clientConfig[key] = hydrogenConfig[key];\n        }\n    }\n    const clientConfigAttr = Object.keys(clientConfig).length > 0\n        ? JSON.stringify(clientConfig)\n        : undefined;\n    return (React.createElement(\"html\", { ...attrsToProps(getHtmlAttrs(template)), ...htmlAttrs },\n        React.createElement(\"head\", { dangerouslySetInnerHTML: { __html: head } }),\n        React.createElement(\"body\", { ...attrsToProps(getBodyAttrs(template)), ...bodyAttrs },\n            React.createElement(\"div\", { id: \"root\", \"data-client-config\": clientConfigAttr }, children))));\n}\nexport function applyHtmlHead(html, head, template) {\n    const { bodyAttrs, htmlAttrs, ...headTags } = extractHeadElements(head, template);\n    return html\n        .replace(/<head>(.*?)<\\/head>/s, generateHeadTag(headTags))\n        .replace(/<html[^>]*?>/s, htmlAttrs ? `<html ${htmlAttrs}>` : '$&')\n        .replace(/<body[^>]*?>/s, bodyAttrs ? `<body ${bodyAttrs}>` : '$&');\n}\nfunction extractHeadElements({ context: { helmet } }, template) {\n    // There might be existing attributes in the template that are\n    // duplicated in the helmet. Transform them to props and back\n    // to string attributes to remove duplicates.\n    const htmlUniqueProps = attrsToProps(`${getHtmlAttrs(template)} ${helmet.htmlAttributes}`);\n    const bodyUniqueProps = attrsToProps(`${getBodyAttrs(template)} ${helmet.bodyAttributes}`);\n    return {\n        htmlAttrs: propsToAttrs(htmlUniqueProps),\n        bodyAttrs: propsToAttrs(bodyUniqueProps),\n        base: helmet.base.toString(),\n        link: helmet.link.toString(),\n        meta: helmet.meta.toString(),\n        noscript: helmet.noscript.toString(),\n        script: helmet.script.toString(),\n        style: helmet.style.toString(),\n        title: helmet.title.toString(),\n    };\n}\n/**\n * Generate the contents of the `head` tag, and update the existing `<title>` tag\n * if one exists, and if a title is passed.\n */\nfunction generateHeadTag({ title, ...rest }) {\n    const headProps = ['base', 'meta', 'style', 'noscript', 'script', 'link'];\n    const otherHeadProps = headProps\n        .map((prop) => rest[prop])\n        .filter(Boolean)\n        .join('\\n');\n    return (_outerHtml, innerHtml) => {\n        let headHtml = otherHeadProps + innerHtml;\n        if (title) {\n            if (headHtml.includes('<title>')) {\n                headHtml = headHtml.replace(/(<title>(?:.|\\n)*?<\\/title>)/, title);\n            }\n            else {\n                headHtml += title;\n            }\n        }\n        return `<head>${headHtml}</head>`;\n    };\n}\n","const PUBLIC = 'public';\nconst PRIVATE = 'private';\nexport const NO_STORE = 'no-store';\nconst optionMapping = {\n    maxAge: 'max-age',\n    staleWhileRevalidate: 'stale-while-revalidate',\n    sMaxAge: 's-maxage',\n    staleIfError: 'stale-if-error',\n};\nexport function generateCacheControlHeader(cacheOptions) {\n    const cacheControl = [];\n    Object.keys(cacheOptions).forEach((key) => {\n        if (key === 'mode') {\n            cacheControl.push(cacheOptions[key]);\n        }\n        else if (optionMapping[key]) {\n            cacheControl.push(`${optionMapping[key]}=${cacheOptions[key]}`);\n        }\n    });\n    return cacheControl.join(', ');\n}\nexport function CacheNone() {\n    return {\n        mode: NO_STORE,\n    };\n}\nfunction guardExpirableModeType(overrideOptions) {\n    if (overrideOptions?.mode &&\n        overrideOptions?.mode !== PUBLIC &&\n        overrideOptions?.mode !== PRIVATE) {\n        throw Error(\"'mode' must be either 'public' or 'private'\");\n    }\n}\nexport function CacheShort(overrideOptions) {\n    guardExpirableModeType(overrideOptions);\n    return {\n        mode: PUBLIC,\n        maxAge: 1,\n        staleWhileRevalidate: 9,\n        ...overrideOptions,\n    };\n}\nexport function CacheLong(overrideOptions) {\n    guardExpirableModeType(overrideOptions);\n    return {\n        mode: PUBLIC,\n        maxAge: 3600,\n        staleWhileRevalidate: 82800,\n        ...overrideOptions,\n    };\n}\nexport function CacheCustom(overrideOptions) {\n    return overrideOptions;\n}\n","/**\n* @license React\n * react-server-dom-vite-client-proxy.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED } from 'react';\n\n// Store of components discovered during RSC to load\n// them later when consuming the response in SSR.\nglobalThis.__COMPONENT_INDEX = {}; // Store to get module references for long strings\n// when rendering in RSC (strings cannot be wrapped Proxy).\n\nglobalThis.__STRING_REFERENCE_INDEX = {};\nvar MODULE_TAG = Symbol.for('react.module.reference');\nvar STRING_SIZE_LIMIT = 64;\nvar FN_RSC_ERROR = 'Functions exported from client components cannot be called or used as constructors from a server component.';\nfunction isRsc() {\n  var currentDispatcher = __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher.current;\n  return !!(currentDispatcher && currentDispatcher.isRsc);\n}\n\nfunction createModuleReference(id, value, name, isDefault) {\n  var moduleRef = Object.create(null);\n  moduleRef.$$typeof = MODULE_TAG;\n  moduleRef.filepath = id;\n  moduleRef.name = isDefault ? 'default' : name; // Store component in a global index during RSC to use it later in SSR\n\n  globalThis.__COMPONENT_INDEX[id] = Object.defineProperty(globalThis.__COMPONENT_INDEX[id] || Object.create(null), moduleRef.name, {\n    value: value,\n    writable: true\n  });\n  return moduleRef;\n} // A ClientProxy behaves as a module reference for the Flight\n// runtime (RSC) and as a real component for the Fizz runtime (SSR).\n// Note that this is not used in browser environments.\n\n\nfunction wrapInClientProxy(_ref) {\n  var id = _ref.id,\n      name = _ref.name,\n      isDefault = _ref.isDefault,\n      value = _ref.value;\n  var type = typeof value;\n\n  if (value === null || type !== 'object' && type !== 'function') {\n    if (type === 'string' && value.length >= STRING_SIZE_LIMIT) {\n      var _moduleRef = createModuleReference(id, value, name, isDefault);\n\n      globalThis.__STRING_REFERENCE_INDEX[value] = _moduleRef;\n    }\n\n    return value;\n  }\n\n  var moduleRef = createModuleReference(id, value, name, isDefault);\n\n  var get = function (target, prop, receiver) {\n    if (prop === '$$unwrappedValue') return value;\n    if (prop === '$$moduleReference') return moduleRef;\n    return Reflect.get(isRsc() ? moduleRef : target, prop, receiver);\n  };\n\n  return new Proxy(value, type === 'object' ? {\n    get: get\n  } : {\n    get: get,\n    apply: function () {\n      if (isRsc()) throw new Error(FN_RSC_ERROR + (\" Calling \\\"\" + name + \"\\\".\"));\n      return Reflect.apply.apply(Reflect, arguments);\n    },\n    construct: function () {\n      if (isRsc()) throw new Error(FN_RSC_ERROR + (\" Instantiating \\\"\" + name + \"\\\".\"));\n      return Reflect.construct.apply(Reflect, arguments);\n    }\n  });\n}\n\nexport { FN_RSC_ERROR, MODULE_TAG, STRING_SIZE_LIMIT, isRsc, wrapInClientProxy };\n","import _extends from '@babel/runtime/helpers/esm/extends';\n\n/**\r\n * Actions represent the type of change to a location value.\r\n *\r\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#action\r\n */\nvar Action;\n\n(function (Action) {\n  /**\r\n   * A POP indicates a change to an arbitrary index in the history stack, such\r\n   * as a back or forward navigation. It does not describe the direction of the\r\n   * navigation, only that the current index changed.\r\n   *\r\n   * Note: This is the default action for newly created history objects.\r\n   */\n  Action[\"Pop\"] = \"POP\";\n  /**\r\n   * A PUSH indicates a new entry being added to the history stack, such as when\r\n   * a link is clicked and a new page loads. When this happens, all subsequent\r\n   * entries in the stack are lost.\r\n   */\n\n  Action[\"Push\"] = \"PUSH\";\n  /**\r\n   * A REPLACE indicates the entry at the current index in the history stack\r\n   * being replaced by a new one.\r\n   */\n\n  Action[\"Replace\"] = \"REPLACE\";\n})(Action || (Action = {}));\n\nvar readOnly = process.env.NODE_ENV !== \"production\" ? function (obj) {\n  return Object.freeze(obj);\n} : function (obj) {\n  return obj;\n};\n\nfunction warning(cond, message) {\n  if (!cond) {\n    // eslint-disable-next-line no-console\n    if (typeof console !== 'undefined') console.warn(message);\n\n    try {\n      // Welcome to debugging history!\n      //\n      // This error is thrown as a convenience so you can more easily\n      // find the source for a warning that appears in the console by\n      // enabling \"pause on exceptions\" in your JavaScript debugger.\n      throw new Error(message); // eslint-disable-next-line no-empty\n    } catch (e) {}\n  }\n}\n\nvar BeforeUnloadEventType = 'beforeunload';\nvar HashChangeEventType = 'hashchange';\nvar PopStateEventType = 'popstate';\n/**\r\n * Browser history stores the location in regular URLs. This is the standard for\r\n * most web apps, but it requires some configuration on the server to ensure you\r\n * serve the same app at multiple URLs.\r\n *\r\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createbrowserhistory\r\n */\n\nfunction createBrowserHistory(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$window = _options.window,\n      window = _options$window === void 0 ? document.defaultView : _options$window;\n  var globalHistory = window.history;\n\n  function getIndexAndLocation() {\n    var _window$location = window.location,\n        pathname = _window$location.pathname,\n        search = _window$location.search,\n        hash = _window$location.hash;\n    var state = globalHistory.state || {};\n    return [state.idx, readOnly({\n      pathname: pathname,\n      search: search,\n      hash: hash,\n      state: state.usr || null,\n      key: state.key || 'default'\n    })];\n  }\n\n  var blockedPopTx = null;\n\n  function handlePop() {\n    if (blockedPopTx) {\n      blockers.call(blockedPopTx);\n      blockedPopTx = null;\n    } else {\n      var nextAction = Action.Pop;\n\n      var _getIndexAndLocation = getIndexAndLocation(),\n          nextIndex = _getIndexAndLocation[0],\n          nextLocation = _getIndexAndLocation[1];\n\n      if (blockers.length) {\n        if (nextIndex != null) {\n          var delta = index - nextIndex;\n\n          if (delta) {\n            // Revert the POP\n            blockedPopTx = {\n              action: nextAction,\n              location: nextLocation,\n              retry: function retry() {\n                go(delta * -1);\n              }\n            };\n            go(delta);\n          }\n        } else {\n          // Trying to POP to a location with no index. We did not create\n          // this location, so we can't effectively block the navigation.\n          process.env.NODE_ENV !== \"production\" ? warning(false, // TODO: Write up a doc that explains our blocking strategy in\n          // detail and link to it here so people can understand better what\n          // is going on and how to avoid it.\n          \"You are trying to block a POP navigation to a location that was not \" + \"created by the history library. The block will fail silently in \" + \"production, but in general you should do all navigation with the \" + \"history library (instead of using window.history.pushState directly) \" + \"to avoid this situation.\") : void 0;\n        }\n      } else {\n        applyTx(nextAction);\n      }\n    }\n  }\n\n  window.addEventListener(PopStateEventType, handlePop);\n  var action = Action.Pop;\n\n  var _getIndexAndLocation2 = getIndexAndLocation(),\n      index = _getIndexAndLocation2[0],\n      location = _getIndexAndLocation2[1];\n\n  var listeners = createEvents();\n  var blockers = createEvents();\n\n  if (index == null) {\n    index = 0;\n    globalHistory.replaceState(_extends({}, globalHistory.state, {\n      idx: index\n    }), '');\n  }\n\n  function createHref(to) {\n    return typeof to === 'string' ? to : createPath(to);\n  } // state defaults to `null` because `window.history.state` does\n\n\n  function getNextLocation(to, state) {\n    if (state === void 0) {\n      state = null;\n    }\n\n    return readOnly(_extends({\n      pathname: location.pathname,\n      hash: '',\n      search: ''\n    }, typeof to === 'string' ? parsePath(to) : to, {\n      state: state,\n      key: createKey()\n    }));\n  }\n\n  function getHistoryStateAndUrl(nextLocation, index) {\n    return [{\n      usr: nextLocation.state,\n      key: nextLocation.key,\n      idx: index\n    }, createHref(nextLocation)];\n  }\n\n  function allowTx(action, location, retry) {\n    return !blockers.length || (blockers.call({\n      action: action,\n      location: location,\n      retry: retry\n    }), false);\n  }\n\n  function applyTx(nextAction) {\n    action = nextAction;\n\n    var _getIndexAndLocation3 = getIndexAndLocation();\n\n    index = _getIndexAndLocation3[0];\n    location = _getIndexAndLocation3[1];\n    listeners.call({\n      action: action,\n      location: location\n    });\n  }\n\n  function push(to, state) {\n    var nextAction = Action.Push;\n    var nextLocation = getNextLocation(to, state);\n\n    function retry() {\n      push(to, state);\n    }\n\n    if (allowTx(nextAction, nextLocation, retry)) {\n      var _getHistoryStateAndUr = getHistoryStateAndUrl(nextLocation, index + 1),\n          historyState = _getHistoryStateAndUr[0],\n          url = _getHistoryStateAndUr[1]; // TODO: Support forced reloading\n      // try...catch because iOS limits us to 100 pushState calls :/\n\n\n      try {\n        globalHistory.pushState(historyState, '', url);\n      } catch (error) {\n        // They are going to lose state here, but there is no real\n        // way to warn them about it since the page will refresh...\n        window.location.assign(url);\n      }\n\n      applyTx(nextAction);\n    }\n  }\n\n  function replace(to, state) {\n    var nextAction = Action.Replace;\n    var nextLocation = getNextLocation(to, state);\n\n    function retry() {\n      replace(to, state);\n    }\n\n    if (allowTx(nextAction, nextLocation, retry)) {\n      var _getHistoryStateAndUr2 = getHistoryStateAndUrl(nextLocation, index),\n          historyState = _getHistoryStateAndUr2[0],\n          url = _getHistoryStateAndUr2[1]; // TODO: Support forced reloading\n\n\n      globalHistory.replaceState(historyState, '', url);\n      applyTx(nextAction);\n    }\n  }\n\n  function go(delta) {\n    globalHistory.go(delta);\n  }\n\n  var history = {\n    get action() {\n      return action;\n    },\n\n    get location() {\n      return location;\n    },\n\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    back: function back() {\n      go(-1);\n    },\n    forward: function forward() {\n      go(1);\n    },\n    listen: function listen(listener) {\n      return listeners.push(listener);\n    },\n    block: function block(blocker) {\n      var unblock = blockers.push(blocker);\n\n      if (blockers.length === 1) {\n        window.addEventListener(BeforeUnloadEventType, promptBeforeUnload);\n      }\n\n      return function () {\n        unblock(); // Remove the beforeunload listener so the document may\n        // still be salvageable in the pagehide event.\n        // See https://html.spec.whatwg.org/#unloading-documents\n\n        if (!blockers.length) {\n          window.removeEventListener(BeforeUnloadEventType, promptBeforeUnload);\n        }\n      };\n    }\n  };\n  return history;\n}\n/**\r\n * Hash history stores the location in window.location.hash. This makes it ideal\r\n * for situations where you don't want to send the location to the server for\r\n * some reason, either because you do cannot configure it or the URL space is\r\n * reserved for something else.\r\n *\r\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createhashhistory\r\n */\n\nfunction createHashHistory(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options2 = options,\n      _options2$window = _options2.window,\n      window = _options2$window === void 0 ? document.defaultView : _options2$window;\n  var globalHistory = window.history;\n\n  function getIndexAndLocation() {\n    var _parsePath = parsePath(window.location.hash.substr(1)),\n        _parsePath$pathname = _parsePath.pathname,\n        pathname = _parsePath$pathname === void 0 ? '/' : _parsePath$pathname,\n        _parsePath$search = _parsePath.search,\n        search = _parsePath$search === void 0 ? '' : _parsePath$search,\n        _parsePath$hash = _parsePath.hash,\n        hash = _parsePath$hash === void 0 ? '' : _parsePath$hash;\n\n    var state = globalHistory.state || {};\n    return [state.idx, readOnly({\n      pathname: pathname,\n      search: search,\n      hash: hash,\n      state: state.usr || null,\n      key: state.key || 'default'\n    })];\n  }\n\n  var blockedPopTx = null;\n\n  function handlePop() {\n    if (blockedPopTx) {\n      blockers.call(blockedPopTx);\n      blockedPopTx = null;\n    } else {\n      var nextAction = Action.Pop;\n\n      var _getIndexAndLocation4 = getIndexAndLocation(),\n          nextIndex = _getIndexAndLocation4[0],\n          nextLocation = _getIndexAndLocation4[1];\n\n      if (blockers.length) {\n        if (nextIndex != null) {\n          var delta = index - nextIndex;\n\n          if (delta) {\n            // Revert the POP\n            blockedPopTx = {\n              action: nextAction,\n              location: nextLocation,\n              retry: function retry() {\n                go(delta * -1);\n              }\n            };\n            go(delta);\n          }\n        } else {\n          // Trying to POP to a location with no index. We did not create\n          // this location, so we can't effectively block the navigation.\n          process.env.NODE_ENV !== \"production\" ? warning(false, // TODO: Write up a doc that explains our blocking strategy in\n          // detail and link to it here so people can understand better\n          // what is going on and how to avoid it.\n          \"You are trying to block a POP navigation to a location that was not \" + \"created by the history library. The block will fail silently in \" + \"production, but in general you should do all navigation with the \" + \"history library (instead of using window.history.pushState directly) \" + \"to avoid this situation.\") : void 0;\n        }\n      } else {\n        applyTx(nextAction);\n      }\n    }\n  }\n\n  window.addEventListener(PopStateEventType, handlePop); // popstate does not fire on hashchange in IE 11 and old (trident) Edge\n  // https://developer.mozilla.org/de/docs/Web/API/Window/popstate_event\n\n  window.addEventListener(HashChangeEventType, function () {\n    var _getIndexAndLocation5 = getIndexAndLocation(),\n        nextLocation = _getIndexAndLocation5[1]; // Ignore extraneous hashchange events.\n\n\n    if (createPath(nextLocation) !== createPath(location)) {\n      handlePop();\n    }\n  });\n  var action = Action.Pop;\n\n  var _getIndexAndLocation6 = getIndexAndLocation(),\n      index = _getIndexAndLocation6[0],\n      location = _getIndexAndLocation6[1];\n\n  var listeners = createEvents();\n  var blockers = createEvents();\n\n  if (index == null) {\n    index = 0;\n    globalHistory.replaceState(_extends({}, globalHistory.state, {\n      idx: index\n    }), '');\n  }\n\n  function getBaseHref() {\n    var base = document.querySelector('base');\n    var href = '';\n\n    if (base && base.getAttribute('href')) {\n      var url = window.location.href;\n      var hashIndex = url.indexOf('#');\n      href = hashIndex === -1 ? url : url.slice(0, hashIndex);\n    }\n\n    return href;\n  }\n\n  function createHref(to) {\n    return getBaseHref() + '#' + (typeof to === 'string' ? to : createPath(to));\n  }\n\n  function getNextLocation(to, state) {\n    if (state === void 0) {\n      state = null;\n    }\n\n    return readOnly(_extends({\n      pathname: location.pathname,\n      hash: '',\n      search: ''\n    }, typeof to === 'string' ? parsePath(to) : to, {\n      state: state,\n      key: createKey()\n    }));\n  }\n\n  function getHistoryStateAndUrl(nextLocation, index) {\n    return [{\n      usr: nextLocation.state,\n      key: nextLocation.key,\n      idx: index\n    }, createHref(nextLocation)];\n  }\n\n  function allowTx(action, location, retry) {\n    return !blockers.length || (blockers.call({\n      action: action,\n      location: location,\n      retry: retry\n    }), false);\n  }\n\n  function applyTx(nextAction) {\n    action = nextAction;\n\n    var _getIndexAndLocation7 = getIndexAndLocation();\n\n    index = _getIndexAndLocation7[0];\n    location = _getIndexAndLocation7[1];\n    listeners.call({\n      action: action,\n      location: location\n    });\n  }\n\n  function push(to, state) {\n    var nextAction = Action.Push;\n    var nextLocation = getNextLocation(to, state);\n\n    function retry() {\n      push(to, state);\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(nextLocation.pathname.charAt(0) === '/', \"Relative pathnames are not supported in hash history.push(\" + JSON.stringify(to) + \")\") : void 0;\n\n    if (allowTx(nextAction, nextLocation, retry)) {\n      var _getHistoryStateAndUr3 = getHistoryStateAndUrl(nextLocation, index + 1),\n          historyState = _getHistoryStateAndUr3[0],\n          url = _getHistoryStateAndUr3[1]; // TODO: Support forced reloading\n      // try...catch because iOS limits us to 100 pushState calls :/\n\n\n      try {\n        globalHistory.pushState(historyState, '', url);\n      } catch (error) {\n        // They are going to lose state here, but there is no real\n        // way to warn them about it since the page will refresh...\n        window.location.assign(url);\n      }\n\n      applyTx(nextAction);\n    }\n  }\n\n  function replace(to, state) {\n    var nextAction = Action.Replace;\n    var nextLocation = getNextLocation(to, state);\n\n    function retry() {\n      replace(to, state);\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(nextLocation.pathname.charAt(0) === '/', \"Relative pathnames are not supported in hash history.replace(\" + JSON.stringify(to) + \")\") : void 0;\n\n    if (allowTx(nextAction, nextLocation, retry)) {\n      var _getHistoryStateAndUr4 = getHistoryStateAndUrl(nextLocation, index),\n          historyState = _getHistoryStateAndUr4[0],\n          url = _getHistoryStateAndUr4[1]; // TODO: Support forced reloading\n\n\n      globalHistory.replaceState(historyState, '', url);\n      applyTx(nextAction);\n    }\n  }\n\n  function go(delta) {\n    globalHistory.go(delta);\n  }\n\n  var history = {\n    get action() {\n      return action;\n    },\n\n    get location() {\n      return location;\n    },\n\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    back: function back() {\n      go(-1);\n    },\n    forward: function forward() {\n      go(1);\n    },\n    listen: function listen(listener) {\n      return listeners.push(listener);\n    },\n    block: function block(blocker) {\n      var unblock = blockers.push(blocker);\n\n      if (blockers.length === 1) {\n        window.addEventListener(BeforeUnloadEventType, promptBeforeUnload);\n      }\n\n      return function () {\n        unblock(); // Remove the beforeunload listener so the document may\n        // still be salvageable in the pagehide event.\n        // See https://html.spec.whatwg.org/#unloading-documents\n\n        if (!blockers.length) {\n          window.removeEventListener(BeforeUnloadEventType, promptBeforeUnload);\n        }\n      };\n    }\n  };\n  return history;\n}\n/**\r\n * Memory history stores the current location in memory. It is designed for use\r\n * in stateful non-browser environments like tests and React Native.\r\n *\r\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#creatememoryhistory\r\n */\n\nfunction createMemoryHistory(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options3 = options,\n      _options3$initialEntr = _options3.initialEntries,\n      initialEntries = _options3$initialEntr === void 0 ? ['/'] : _options3$initialEntr,\n      initialIndex = _options3.initialIndex;\n  var entries = initialEntries.map(function (entry) {\n    var location = readOnly(_extends({\n      pathname: '/',\n      search: '',\n      hash: '',\n      state: null,\n      key: createKey()\n    }, typeof entry === 'string' ? parsePath(entry) : entry));\n    process.env.NODE_ENV !== \"production\" ? warning(location.pathname.charAt(0) === '/', \"Relative pathnames are not supported in createMemoryHistory({ initialEntries }) (invalid entry: \" + JSON.stringify(entry) + \")\") : void 0;\n    return location;\n  });\n  var index = clamp(initialIndex == null ? entries.length - 1 : initialIndex, 0, entries.length - 1);\n  var action = Action.Pop;\n  var location = entries[index];\n  var listeners = createEvents();\n  var blockers = createEvents();\n\n  function createHref(to) {\n    return typeof to === 'string' ? to : createPath(to);\n  }\n\n  function getNextLocation(to, state) {\n    if (state === void 0) {\n      state = null;\n    }\n\n    return readOnly(_extends({\n      pathname: location.pathname,\n      search: '',\n      hash: ''\n    }, typeof to === 'string' ? parsePath(to) : to, {\n      state: state,\n      key: createKey()\n    }));\n  }\n\n  function allowTx(action, location, retry) {\n    return !blockers.length || (blockers.call({\n      action: action,\n      location: location,\n      retry: retry\n    }), false);\n  }\n\n  function applyTx(nextAction, nextLocation) {\n    action = nextAction;\n    location = nextLocation;\n    listeners.call({\n      action: action,\n      location: location\n    });\n  }\n\n  function push(to, state) {\n    var nextAction = Action.Push;\n    var nextLocation = getNextLocation(to, state);\n\n    function retry() {\n      push(to, state);\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(location.pathname.charAt(0) === '/', \"Relative pathnames are not supported in memory history.push(\" + JSON.stringify(to) + \")\") : void 0;\n\n    if (allowTx(nextAction, nextLocation, retry)) {\n      index += 1;\n      entries.splice(index, entries.length, nextLocation);\n      applyTx(nextAction, nextLocation);\n    }\n  }\n\n  function replace(to, state) {\n    var nextAction = Action.Replace;\n    var nextLocation = getNextLocation(to, state);\n\n    function retry() {\n      replace(to, state);\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(location.pathname.charAt(0) === '/', \"Relative pathnames are not supported in memory history.replace(\" + JSON.stringify(to) + \")\") : void 0;\n\n    if (allowTx(nextAction, nextLocation, retry)) {\n      entries[index] = nextLocation;\n      applyTx(nextAction, nextLocation);\n    }\n  }\n\n  function go(delta) {\n    var nextIndex = clamp(index + delta, 0, entries.length - 1);\n    var nextAction = Action.Pop;\n    var nextLocation = entries[nextIndex];\n\n    function retry() {\n      go(delta);\n    }\n\n    if (allowTx(nextAction, nextLocation, retry)) {\n      index = nextIndex;\n      applyTx(nextAction, nextLocation);\n    }\n  }\n\n  var history = {\n    get index() {\n      return index;\n    },\n\n    get action() {\n      return action;\n    },\n\n    get location() {\n      return location;\n    },\n\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    back: function back() {\n      go(-1);\n    },\n    forward: function forward() {\n      go(1);\n    },\n    listen: function listen(listener) {\n      return listeners.push(listener);\n    },\n    block: function block(blocker) {\n      return blockers.push(blocker);\n    }\n  };\n  return history;\n} ////////////////////////////////////////////////////////////////////////////////\n// UTILS\n////////////////////////////////////////////////////////////////////////////////\n\nfunction clamp(n, lowerBound, upperBound) {\n  return Math.min(Math.max(n, lowerBound), upperBound);\n}\n\nfunction promptBeforeUnload(event) {\n  // Cancel the event.\n  event.preventDefault(); // Chrome (and legacy IE) requires returnValue to be set.\n\n  event.returnValue = '';\n}\n\nfunction createEvents() {\n  var handlers = [];\n  return {\n    get length() {\n      return handlers.length;\n    },\n\n    push: function push(fn) {\n      handlers.push(fn);\n      return function () {\n        handlers = handlers.filter(function (handler) {\n          return handler !== fn;\n        });\n      };\n    },\n    call: function call(arg) {\n      handlers.forEach(function (fn) {\n        return fn && fn(arg);\n      });\n    }\n  };\n}\n\nfunction createKey() {\n  return Math.random().toString(36).substr(2, 8);\n}\n/**\r\n * Creates a string URL path from the given pathname, search, and hash components.\r\n *\r\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createpath\r\n */\n\n\nfunction createPath(_ref) {\n  var _ref$pathname = _ref.pathname,\n      pathname = _ref$pathname === void 0 ? '/' : _ref$pathname,\n      _ref$search = _ref.search,\n      search = _ref$search === void 0 ? '' : _ref$search,\n      _ref$hash = _ref.hash,\n      hash = _ref$hash === void 0 ? '' : _ref$hash;\n  if (search && search !== '?') pathname += search.charAt(0) === '?' ? search : '?' + search;\n  if (hash && hash !== '#') pathname += hash.charAt(0) === '#' ? hash : '#' + hash;\n  return pathname;\n}\n/**\r\n * Parses a string URL path into its separate pathname, search, and hash components.\r\n *\r\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#parsepath\r\n */\n\nfunction parsePath(path) {\n  var parsedPath = {};\n\n  if (path) {\n    var hashIndex = path.indexOf('#');\n\n    if (hashIndex >= 0) {\n      parsedPath.hash = path.substr(hashIndex);\n      path = path.substr(0, hashIndex);\n    }\n\n    var searchIndex = path.indexOf('?');\n\n    if (searchIndex >= 0) {\n      parsedPath.search = path.substr(searchIndex);\n      path = path.substr(0, searchIndex);\n    }\n\n    if (path) {\n      parsedPath.pathname = path;\n    }\n  }\n\n  return parsedPath;\n}\n\nexport { Action, createBrowserHistory, createHashHistory, createMemoryHistory, createPath, parsePath };\n//# sourceMappingURL=index.js.map\n","import React, { createContext, useContext } from 'react';\nimport { getTime } from '../../utilities/timing.js';\nimport { hashKey } from '../../utilities/hash.js';\nimport { collectQueryTimings } from '../../utilities/log/index.js';\n// Context to inject current request in SSR\nconst RequestContextSSR = createContext(null);\n// Cache to inject current request in RSC\nfunction requestCacheRSC() {\n    return new Map();\n}\nrequestCacheRSC.key = Symbol.for('HYDROGEN_REQUEST');\nfunction getInternalReactDispatcher() {\n    return (\n    // @ts-ignore\n    React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n        .ReactCurrentDispatcher.current || {});\n}\nfunction isRsc() {\n    // This flag is added by RSC Vite plugin\n    return __HYDROGEN_TEST__ || !!getInternalReactDispatcher().isRsc;\n}\n// Note: use this only during RSC/Flight rendering. The React dispatcher\n// for SSR/Fizz rendering does not implement getCacheForType.\nfunction getCacheForType(resource) {\n    const dispatcher = getInternalReactDispatcher();\n    // @ts-ignore\n    if (__HYDROGEN_TEST__ && !dispatcher.getCacheForType) {\n        // Jest does not have access to the RSC runtime, mock it here:\n        // @ts-ignore\n        return (globalThis.__jestRscCache ??= resource());\n    }\n    return dispatcher.getCacheForType(resource);\n}\nexport function ServerRequestProvider({ request, children, }) {\n    if (isRsc()) {\n        // Save the request object in a React cache that is\n        // scoped to this current rendering.\n        const requestCache = getCacheForType(requestCacheRSC);\n        requestCache.set(requestCacheRSC.key, request);\n        return React.createElement(React.Fragment, null, children);\n    }\n    // Use a normal provider in SSR to make the request object\n    // available in the current rendering.\n    return (React.createElement(RequestContextSSR.Provider, { value: request }, children));\n}\nexport function useServerRequest() {\n    const request = isRsc()\n        ? getCacheForType(requestCacheRSC)?.get(requestCacheRSC.key)\n        : useContext(RequestContextSSR); // eslint-disable-line react-hooks/rules-of-hooks\n    if (!request) {\n        if (__HYDROGEN_TEST__) {\n            // Unit tests are not wrapped in ServerRequestProvider.\n            // This mocks it, instead of providing it in every test.\n            return { ctx: {} };\n        }\n        throw new Error('No ServerRequest Context found');\n    }\n    return request;\n}\n/**\n * Returns data stored in the request cache.\n * It will throw the promise if data is not ready.\n */\nexport function useRequestCacheData(key, fetcher) {\n    const request = useServerRequest();\n    const cache = request.ctx.cache;\n    const cacheKey = hashKey(key);\n    if (!cache.has(cacheKey)) {\n        let result;\n        let promise;\n        cache.set(cacheKey, () => {\n            if (result !== undefined) {\n                collectQueryTimings(request, key, 'rendered');\n                return result;\n            }\n            if (!promise) {\n                const startApiTime = getTime();\n                const maybePromise = fetcher(request);\n                if (!(maybePromise instanceof Promise)) {\n                    result = { data: maybePromise };\n                    return result;\n                }\n                promise = maybePromise.then((data) => {\n                    result = { data };\n                    collectQueryTimings(request, key, 'resolved', getTime() - startApiTime);\n                }, (error) => (result = { error }));\n            }\n            throw promise;\n        });\n    }\n    // Making sure the promise has returned data because it can be initated by a preload request,\n    // otherwise, we throw the promise\n    const result = cache.get(cacheKey).call();\n    if (result instanceof Promise)\n        throw result;\n    return result;\n}\nexport function preloadRequestCacheData(request) {\n    const preloadQueries = request.getPreloadQueries();\n    const { cache } = request.ctx;\n    preloadQueries?.forEach((preloadQuery, cacheKey) => {\n        collectQueryTimings(request, preloadQuery.key, 'preload');\n        if (!cache.has(cacheKey)) {\n            let result;\n            let promise;\n            cache.set(cacheKey, () => {\n                if (result !== undefined) {\n                    collectQueryTimings(request, preloadQuery.key, 'rendered');\n                    return result;\n                }\n                if (!promise) {\n                    const startApiTime = getTime();\n                    promise = preloadQuery.fetcher(request).then((data) => {\n                        result = { data };\n                        collectQueryTimings(request, preloadQuery.key, 'resolved', getTime() - startApiTime);\n                    }, (error) => {\n                        result = { error };\n                    });\n                }\n                return promise;\n            });\n        }\n        cache.get(cacheKey).call();\n    });\n}\n","import React, { createContext, useMemo, useCallback, useTransition, useState, } from 'react';\nconst PRIVATE_PROPS = ['request', 'response'];\nexport const ServerPropsContext = createContext(null);\nexport function ServerPropsProvider({ initialServerProps, setServerPropsForRsc, setRscResponseFromApiRoute, children, }) {\n    const [locationServerProps, setLocationServerProps] = useState(initialServerProps);\n    const [serverProps, setServerProps] = useState({});\n    const [pending, startTransition] = useTransition();\n    const setServerPropsCallback = useCallback((input, propValue) => {\n        startTransition(() => {\n            setServerProps((prev) => getNewValue(prev, input, propValue));\n            setServerPropsForRsc((prev) => getNewValue(prev, input, propValue));\n        });\n    }, [setServerProps, setServerPropsForRsc]);\n    const setLocationServerPropsCallback = useCallback((input) => {\n        // Flush the existing user server state when location changes, leaving only the persisted state\n        startTransition(() => {\n            setServerPropsForRsc(input);\n            setServerProps({});\n            setLocationServerProps(input);\n        });\n    }, [setServerProps, setServerPropsForRsc, setLocationServerProps]);\n    const getProposedLocationServerPropsCallback = useCallback((input, propValue) => {\n        return getNewValue(locationServerProps, input, propValue);\n    }, [locationServerProps]);\n    function getNewValue(prev, input, propValue) {\n        let newValue;\n        if (typeof input === 'function') {\n            newValue = input(prev);\n        }\n        else if (typeof input === 'string') {\n            newValue = { [input]: propValue };\n        }\n        else {\n            newValue = input;\n        }\n        if (__HYDROGEN_DEV__) {\n            const privateProp = PRIVATE_PROPS.find((prop) => prop in newValue);\n            if (privateProp) {\n                console.warn(`Custom \"${privateProp}\" property in server state is ignored. Use a different name.`);\n            }\n        }\n        return {\n            ...prev,\n            ...newValue,\n        };\n    }\n    const value = useMemo(() => ({\n        pending,\n        locationServerProps,\n        serverProps,\n        setServerProps: setServerPropsCallback,\n        setLocationServerProps: setLocationServerPropsCallback,\n        getProposedLocationServerProps: getProposedLocationServerPropsCallback,\n        setRscResponseFromApiRoute,\n    }), [\n        pending,\n        locationServerProps,\n        serverProps,\n        setServerPropsCallback,\n        setLocationServerPropsCallback,\n        getProposedLocationServerPropsCallback,\n        setRscResponseFromApiRoute,\n    ]);\n    return (React.createElement(ServerPropsContext.Provider, { value: value }, children));\n}\n","import { useContext } from 'react';\nimport { ServerPropsContext, } from '../ServerPropsProvider/ServerPropsProvider.js';\n/**\n * The `useServerProps` hook allows you to manage the [server props](https://shopify.dev/custom-storefronts/hydrogen/framework/server-props) passed to your server components when using Hydrogen as a React Server Component framework. The server props get cleared when you navigate from one route to another.\n *\n * ## Return value\n *\n * The `useServerProps` hook returns an object with the following keys:\n *\n * | Key              | Description                                                                            |\n * | ---------------- | -------------------------------------------------------------------------------------- |\n * | `serverProps`    | The current server props.                                                              |\n * | `setServerProps` | A function used to modify server props.                                                |\n * | `pending`        | Whether a [transition is pending](https://github.com/reactwg/react-18/discussions/41). |\n *\n */\nexport function useServerProps() {\n    const internalServerPropsContext = useContext(ServerPropsContext);\n    if (!internalServerPropsContext) {\n        return {};\n    }\n    return {\n        serverProps: internalServerPropsContext.serverProps,\n        setServerProps: internalServerPropsContext.setServerProps,\n        pending: internalServerPropsContext.pending,\n    };\n}\n/**\n * Internal-only hook to manage server state, including to set location server state\n * @internal\n */\nexport function useInternalServerProps() {\n    return (useContext(ServerPropsContext) ??\n        {});\n}\n","import { createBrowserHistory } from 'history';\nimport React, { createContext, useContext, useMemo, useState, useEffect, useLayoutEffect, useCallback, } from 'react';\nimport { META_ENV_SSR } from '../ssr-interop.js';\nimport { useInternalServerProps } from '../useServerProps/use-server-props.js';\nexport const RouterContext = createContext(undefined);\nlet isFirstLoad = true;\nconst positions = {};\nexport const BrowserRouter = ({ history: pHistory, children }) => {\n    if (META_ENV_SSR)\n        return React.createElement(React.Fragment, null, children);\n    /* eslint-disable react-hooks/rules-of-hooks */\n    const history = useMemo(() => pHistory || createBrowserHistory(), [pHistory]);\n    const [location, setLocation] = useState(history.location);\n    const [scrollNeedsRestoration, setScrollNeedsRestoration] = useState(false);\n    const { pending, locationServerProps, setLocationServerProps } = useInternalServerProps();\n    useScrollRestoration({\n        location,\n        pending,\n        serverProps: locationServerProps,\n        scrollNeedsRestoration,\n        onFinishNavigating: () => setScrollNeedsRestoration(false),\n    });\n    useLayoutEffect(() => {\n        const unlisten = history.listen(({ location: newLocation, action }) => {\n            positions[location.key] = window.scrollY;\n            setLocationServerProps({\n                pathname: newLocation.pathname,\n                search: newLocation.search,\n            });\n            setLocation(newLocation);\n            const state = (newLocation.state ?? {});\n            /**\n             * \"pop\" navigations, like forward/backward buttons, always restore scroll position\n             * regardless of what the original forward navigation intent was.\n             */\n            const needsScrollRestoration = action === 'POP' || !!state.scroll;\n            setScrollNeedsRestoration(needsScrollRestoration);\n        });\n        return () => unlisten();\n    }, [\n        history,\n        location,\n        setScrollNeedsRestoration,\n        setLocation,\n        setLocationServerProps,\n    ]);\n    /* eslint-enable react-hooks/rules-of-hooks */\n    return (React.createElement(RouterContext.Provider, { value: {\n            history,\n            location,\n        } }, children));\n};\nexport function useRouter() {\n    if (META_ENV_SSR)\n        return { location: {}, history: {} };\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const router = useContext(RouterContext);\n    if (router)\n        return router;\n    throw new Error('Router hooks and <Link> component must be used within a <Router> component');\n}\nexport function useLocation() {\n    return useRouter().location;\n}\n/**\n * Run a callback before browser unload.\n */\nfunction useBeforeUnload(callback) {\n    React.useEffect(() => {\n        window.addEventListener('beforeunload', callback);\n        return () => {\n            window.removeEventListener('beforeunload', callback);\n        };\n    }, [callback]);\n}\nfunction useScrollRestoration({ location, pending, serverProps, scrollNeedsRestoration, onFinishNavigating, }) {\n    /**\n     * Browsers have an API for scroll restoration. We wait for the page to load first,\n     * in case the browser is able to restore scroll position automatically, and then\n     * set it to manual mode.\n     */\n    useEffect(() => {\n        window.history.scrollRestoration = 'manual';\n    }, []);\n    /**\n     * If the page is reloading, allow the browser to handle its own scroll restoration.\n     */\n    useBeforeUnload(useCallback(() => {\n        window.history.scrollRestoration = 'auto';\n    }, []));\n    useLayoutEffect(() => {\n        // The app has just loaded\n        if (isFirstLoad || !scrollNeedsRestoration) {\n            isFirstLoad = false;\n            return;\n        }\n        const position = positions[location.key];\n        /**\n         * When serverState gets updated, `pending` is true while the fetch is in progress.\n         * When that resolves, the serverState is updated. We should wait until the internal\n         * location pointer and serverState match, and pending is false, to do any scrolling.\n         */\n        const finishedNavigating = !pending &&\n            location.pathname === serverProps.pathname &&\n            location.search === serverProps.search;\n        if (!finishedNavigating) {\n            return;\n        }\n        // If there is a location hash, scroll to it\n        if (location.hash) {\n            const element = document.querySelector(location.hash);\n            if (element) {\n                element.scrollIntoView();\n                onFinishNavigating();\n                return;\n            }\n        }\n        // If we have a matching position, scroll to it\n        if (position) {\n            window.scrollTo(0, position);\n            onFinishNavigating();\n            return;\n        }\n        // Scroll to the top of new pages\n        window.scrollTo(0, 0);\n        onFinishNavigating();\n    }, [\n        location.pathname,\n        location.search,\n        location.hash,\n        location.key,\n        pending,\n        serverProps.pathname,\n        serverProps.search,\n        scrollNeedsRestoration,\n        onFinishNavigating,\n    ]);\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/foundation/Router/BrowserRouter.client.js?no-proxy';\n\nexport const RouterContext = /* @__PURE__ */wrapInClientProxy({ name: 'RouterContext', id: 'BrowserRouter-LTExMzA1NDQwMTA', value: allImports['RouterContext'], isDefault: false });\nexport const BrowserRouter = /* @__PURE__ */wrapInClientProxy({ name: 'BrowserRouter', id: 'BrowserRouter-LTExMzA1NDQwMTA', value: allImports['BrowserRouter'], isDefault: false });\nexport const useRouter = /* @__PURE__ */wrapInClientProxy({ name: 'useRouter', id: 'BrowserRouter-LTExMzA1NDQwMTA', value: allImports['useRouter'], isDefault: false });\nexport const useLocation = /* @__PURE__ */wrapInClientProxy({ name: 'useLocation', id: 'BrowserRouter-LTExMzA1NDQwMTA', value: allImports['useLocation'], isDefault: false });\n","import React, { useContext, createContext } from 'react';\nexport const RouteParamsContext = createContext({\n    routeParams: {},\n    basePath: '/',\n});\nexport const RouteParamsProvider = ({ children, routeParams, basePath }) => {\n    return (React.createElement(RouteParamsContext.Provider, { value: { routeParams, basePath } }, children));\n};\nexport function useBasePath() {\n    const router = useContext(RouteParamsContext);\n    return router.basePath;\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/foundation/useRouteParams/RouteParamsProvider.client.js?no-proxy';\n\nexport const RouteParamsContext = /* @__PURE__ */wrapInClientProxy({ name: 'RouteParamsContext', id: 'RouteParamsProvider-LTE5MjY5MjQxMjQ', value: allImports['RouteParamsContext'], isDefault: false });\nexport const RouteParamsProvider = /* @__PURE__ */wrapInClientProxy({ name: 'RouteParamsProvider', id: 'RouteParamsProvider-LTE5MjY5MjQxMjQ', value: allImports['RouteParamsProvider'], isDefault: false });\nexport const useBasePath = /* @__PURE__ */wrapInClientProxy({ name: 'useBasePath', id: 'RouteParamsProvider-LTE5MjY5MjQxMjQ', value: allImports['useBasePath'], isDefault: false });\n","import { useRouter } from '../Router/BrowserRouter.client.js';\nimport { useBasePath } from '../useRouteParams/RouteParamsProvider.client.js';\n/**\n * The useNavigate hook imperatively navigates between routes.\n */\nexport function useNavigate() {\n    const router = useRouter();\n    const routeBasePath = useBasePath();\n    return (path, options = { replace: false, reloadDocument: false }) => {\n        path = buildPath(options.basePath ?? routeBasePath, path);\n        const state = {\n            ...options?.clientState,\n            scroll: options?.scroll ?? true,\n        };\n        // @todo wait for RSC and then change focus for a11y?\n        if (options?.replace) {\n            router.history.replace(path, state);\n        }\n        else {\n            router.history.push(path, state);\n        }\n    };\n}\nexport function buildPath(basePath, path) {\n    if (path.startsWith('http') || path.startsWith('//'))\n        return path;\n    let builtPath = path;\n    if (basePath !== '/') {\n        const pathFirstChar = path.charAt(0);\n        const basePathLastChar = basePath.charAt(basePath.length - 1);\n        builtPath =\n            pathFirstChar === '/' && basePathLastChar === '/'\n                ? basePath + path.substring(1)\n                : basePathLastChar !== '/' && pathFirstChar !== '/'\n                    ? basePath + '/' + path\n                    : basePath + path;\n    }\n    return builtPath;\n}\n","import { useEffect } from 'react';\nimport { useNavigate } from '../../foundation/useNavigate/useNavigate.js';\nexport default function Redirect({ to }) {\n    const navigate = useNavigate();\n    useEffect(() => {\n        if (to.startsWith('http')) {\n            window.location.href = to;\n        }\n        else {\n            navigate(to);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    return null;\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/foundation/Redirect/Redirect.client.js?no-proxy';\n\nexport default /* @__PURE__ */wrapInClientProxy({ name: 'Redirect', id: 'Redirect-LTIwMTYwODkzNzY', value: allImports['default'], isDefault: true });\n","import { CacheShort, generateCacheControlHeader, } from '../Cache/strategies/index.js';\nimport Redirect from '../Redirect/Redirect.client.js';\nimport React from 'react';\nimport { log } from '../../utilities/log/log.js';\nexport class HydrogenResponse extends Response {\n    wait = false;\n    sent = false;\n    cacheOptions = CacheShort();\n    status = 200;\n    statusText = '';\n    url;\n    constructor(url, body, init) {\n        super(body, init);\n        this.url = url;\n    }\n    markAsSent() {\n        this.sent = true;\n    }\n    /**\n     * Buffer the current response until all queries have resolved,\n     * and prevent it from streaming back early.\n     */\n    doNotStream() {\n        if (!this.sent) {\n            this.wait = true;\n        }\n        else {\n            log.warn(`response.doNotStream() failed, the stream has already started on: ${this.url}\\nDisabling streaming should always be the first thing in your route server component.`);\n        }\n    }\n    canStream() {\n        return !this.wait;\n    }\n    cache(options) {\n        if (options) {\n            this.cacheOptions = options;\n        }\n        return this.cacheOptions;\n    }\n    get cacheControlHeader() {\n        return generateCacheControlHeader(this.cacheOptions);\n    }\n    redirect(location, status = 307) {\n        this.status = status;\n        this.headers.set('location', location);\n        // in the case of an RSC request, instead render a client component that will redirect\n        return React.createElement(Redirect, { to: location });\n    }\n}\n","export function parseJSON(json) {\n    if (String(json).includes('__proto__'))\n        return JSON.parse(json, noproto);\n    return JSON.parse(json);\n}\nfunction noproto(k, v) {\n    if (k !== '__proto__')\n        return v;\n}\n","import { getTime } from '../../utilities/timing.js';\nimport { hashKey } from '../../utilities/hash.js';\nimport { HelmetData as HeadData } from 'react-helmet-async';\nimport { RSC_PATHNAME } from '../../constants.js';\nimport { parseJSON } from '../../utilities/parse.js';\nlet reqCounter = 0; // For debugging\nconst generateId = typeof crypto !== 'undefined' &&\n    // @ts-ignore\n    !!crypto.randomUUID\n    ? // @ts-ignore\n        () => crypto.randomUUID()\n    : () => `req${++reqCounter}`;\n// Stores queries by url or '*'\nconst preloadCache = new Map();\nconst previouslyLoadedUrls = {};\nconst PRELOAD_ALL = '*';\n/**\n * This augments the `Request` object from the Fetch API:\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Request\n *\n * - Adds a `cookies` map for easy access\n * - Adds a static constructor to convert a Node.js `IncomingMessage` to a Request.\n */\nexport class HydrogenRequest extends Request {\n    /**\n     * A Map of cookies for easy access.\n     */\n    cookies;\n    id;\n    time;\n    /**\n     * Get the canonical URL for the current page, across SSR and RSC requests.\n     */\n    normalizedUrl;\n    // CFW Request has a reserved 'context' property, use 'ctx' instead.\n    ctx;\n    constructor(input, init) {\n        if (input instanceof Request) {\n            super(input, init);\n        }\n        else {\n            super(getUrlFromNodeRequest(input), getInitFromNodeRequest(input));\n        }\n        this.time = getTime();\n        this.id = generateId();\n        this.normalizedUrl = decodeURIComponent(this.isRscRequest() ? normalizeUrl(this.url) : this.url);\n        this.ctx = {\n            cache: new Map(),\n            head: new HeadData({}),\n            router: {\n                routeRendered: false,\n                serverProps: {},\n                routeParams: {},\n            },\n            queryCacheControl: [],\n            queryTimings: [],\n            analyticsData: {\n                url: this.url,\n                normalizedRscUrl: this.normalizedUrl,\n            },\n            preloadQueries: new Map(),\n            scopes: new Map(),\n            flashSession: {},\n            throttledRequests: {},\n        };\n        this.cookies = this.parseCookies();\n    }\n    previouslyLoadedRequest() {\n        if (previouslyLoadedUrls[this.normalizedUrl] > 1)\n            return true;\n        previouslyLoadedUrls[this.normalizedUrl] = previouslyLoadedUrls[this.normalizedUrl]\n            ? 2\n            : 1;\n        return false;\n    }\n    parseCookies() {\n        const cookieString = this.headers.get('cookie') || '';\n        return new Map(cookieString\n            .split(';')\n            .map((chunk) => chunk.trim())\n            .filter((chunk) => chunk !== '')\n            .map((chunk) => chunk.split(/=(.+)/)));\n    }\n    isRscRequest() {\n        const url = new URL(this.url);\n        return url.pathname === RSC_PATHNAME;\n    }\n    savePreloadQuery(query) {\n        if (query.preload === PRELOAD_ALL) {\n            saveToPreloadAllPreload(query);\n        }\n        else {\n            this.ctx.preloadQueries.set(hashKey(query.key), query);\n        }\n    }\n    getPreloadQueries() {\n        if (preloadCache.has(this.normalizedUrl)) {\n            const combinedPreloadQueries = new Map();\n            const urlPreloadCache = preloadCache.get(this.normalizedUrl);\n            mergeMapEntries(combinedPreloadQueries, urlPreloadCache);\n            mergeMapEntries(combinedPreloadQueries, preloadCache.get(PRELOAD_ALL));\n            return combinedPreloadQueries;\n        }\n        else if (preloadCache.has(PRELOAD_ALL)) {\n            return preloadCache.get(PRELOAD_ALL);\n        }\n    }\n    savePreloadQueries() {\n        preloadCache.set(this.normalizedUrl, this.ctx.preloadQueries);\n    }\n    /**\n     * Buyer IP varies by hosting provider and runtime. The developer should provide this\n     * as an argument to the `handleRequest` function for their runtime.\n     * Defaults to `x-forwarded-for` header value.\n     */\n    getBuyerIp() {\n        return this.headers.get(this.ctx.buyerIpHeader ?? 'x-forwarded-for');\n    }\n    /**\n     * Build a `cacheKey` in the form of a `Request` to be used in full-page\n     * caching.\n     * - lockKey generates a placeholder cache key\n     */\n    cacheKey(lockKey = false) {\n        const url = new URL(this.url);\n        if (lockKey) {\n            url.searchParams.set('cache-lock', 'true');\n        }\n        return new Request(url.href, this);\n    }\n    async formData() {\n        // @ts-ignore\n        if (__HYDROGEN_WORKER__ || super.formData)\n            return super.formData();\n        const contentType = this.headers.get('Content-Type') || '';\n        // If mimeTypes essence is \"multipart/form-data\", then:\n        if (/multipart\\/form-data/.test(contentType)) {\n            throw new Error('multipart/form-data not supported');\n        }\n        else if (/application\\/x-www-form-urlencoded/.test(contentType)) {\n            // Otherwise, if mimeTypes essence is \"application/x-www-form-urlencoded\", then:\n            // 1. Let entries be the result of parsing bytes.\n            let entries;\n            try {\n                entries = new URLSearchParams(await this.text());\n            }\n            catch (err) {\n                // istanbul ignore next: Unclear when new URLSearchParams can fail on a string.\n                // 2. If entries is failure, then throw a TypeError.\n                throw new TypeError(undefined, { cause: err });\n            }\n            // 3. Return a new FormData object whose entries are entries.\n            const formData = new FormData();\n            for (const [name, value] of entries) {\n                formData.append(name, value);\n            }\n            return formData;\n        }\n        else {\n            // Otherwise, throw a TypeError.\n            throw new TypeError();\n        }\n    }\n}\nfunction mergeMapEntries(map1, map2) {\n    map2 && map2.forEach((v, k) => map1.set(k, v));\n}\nfunction saveToPreloadAllPreload(query) {\n    let setCache = preloadCache.get(PRELOAD_ALL);\n    if (!setCache) {\n        setCache = new Map();\n    }\n    setCache?.set(hashKey(query.key), query);\n    preloadCache.set(PRELOAD_ALL, setCache);\n}\n/**\n * @see https://github.com/frandiox/vitedge/blob/17f3cd943e86d7c0c71a862985ddd6caa2899425/src/node/utils.js#L19-L24\n *\n * Note: Request can sometimes be an instance of Express request, where `originalUrl` is the true source of what the\n * URL pathname is. We want to use that if it's present, so we union type this to `any`.\n */\nfunction getUrlFromNodeRequest(request) {\n    const url = request.originalUrl ?? request.url;\n    if (url && !url.startsWith('/'))\n        return url;\n    // TODO: Find out how to determine https from `request` object without forwarded proto\n    const secure = request.headers['x-forwarded-proto'] === 'https';\n    return new URL(`${secure ? 'https' : 'http'}://${request.headers.host + url}`).toString();\n}\nfunction getInitFromNodeRequest(request) {\n    const init = {\n        headers: new Headers(request.headers),\n        method: request.method,\n        body: request.method !== 'GET' && request.method !== 'HEAD'\n            ? request.body\n            : undefined,\n    };\n    const remoteAddress = request.socket.remoteAddress;\n    if (!init.headers.has('x-forwarded-for') && remoteAddress) {\n        init.headers.set('x-forwarded-for', remoteAddress);\n    }\n    return init;\n}\nfunction normalizeUrl(rawUrl) {\n    const url = new URL(rawUrl);\n    const state = parseJSON(url.searchParams.get('state') ?? '');\n    const normalizedUrl = new URL(state?.pathname ?? '', url.origin);\n    normalizedUrl.search = state?.search;\n    return normalizedUrl.toString();\n}\n","/**\n * Tokenize input string.\n */\nfunction lexer(str) {\n    var tokens = [];\n    var i = 0;\n    while (i < str.length) {\n        var char = str[i];\n        if (char === \"*\" || char === \"+\" || char === \"?\") {\n            tokens.push({ type: \"MODIFIER\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"\\\\\") {\n            tokens.push({ type: \"ESCAPED_CHAR\", index: i++, value: str[i++] });\n            continue;\n        }\n        if (char === \"{\") {\n            tokens.push({ type: \"OPEN\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"}\") {\n            tokens.push({ type: \"CLOSE\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \":\") {\n            var name = \"\";\n            var j = i + 1;\n            while (j < str.length) {\n                var code = str.charCodeAt(j);\n                if (\n                // `0-9`\n                (code >= 48 && code <= 57) ||\n                    // `A-Z`\n                    (code >= 65 && code <= 90) ||\n                    // `a-z`\n                    (code >= 97 && code <= 122) ||\n                    // `_`\n                    code === 95) {\n                    name += str[j++];\n                    continue;\n                }\n                break;\n            }\n            if (!name)\n                throw new TypeError(\"Missing parameter name at \".concat(i));\n            tokens.push({ type: \"NAME\", index: i, value: name });\n            i = j;\n            continue;\n        }\n        if (char === \"(\") {\n            var count = 1;\n            var pattern = \"\";\n            var j = i + 1;\n            if (str[j] === \"?\") {\n                throw new TypeError(\"Pattern cannot start with \\\"?\\\" at \".concat(j));\n            }\n            while (j < str.length) {\n                if (str[j] === \"\\\\\") {\n                    pattern += str[j++] + str[j++];\n                    continue;\n                }\n                if (str[j] === \")\") {\n                    count--;\n                    if (count === 0) {\n                        j++;\n                        break;\n                    }\n                }\n                else if (str[j] === \"(\") {\n                    count++;\n                    if (str[j + 1] !== \"?\") {\n                        throw new TypeError(\"Capturing groups are not allowed at \".concat(j));\n                    }\n                }\n                pattern += str[j++];\n            }\n            if (count)\n                throw new TypeError(\"Unbalanced pattern at \".concat(i));\n            if (!pattern)\n                throw new TypeError(\"Missing pattern at \".concat(i));\n            tokens.push({ type: \"PATTERN\", index: i, value: pattern });\n            i = j;\n            continue;\n        }\n        tokens.push({ type: \"CHAR\", index: i, value: str[i++] });\n    }\n    tokens.push({ type: \"END\", index: i, value: \"\" });\n    return tokens;\n}\n/**\n * Parse a string for the raw tokens.\n */\nexport function parse(str, options) {\n    if (options === void 0) { options = {}; }\n    var tokens = lexer(str);\n    var _a = options.prefixes, prefixes = _a === void 0 ? \"./\" : _a;\n    var defaultPattern = \"[^\".concat(escapeString(options.delimiter || \"/#?\"), \"]+?\");\n    var result = [];\n    var key = 0;\n    var i = 0;\n    var path = \"\";\n    var tryConsume = function (type) {\n        if (i < tokens.length && tokens[i].type === type)\n            return tokens[i++].value;\n    };\n    var mustConsume = function (type) {\n        var value = tryConsume(type);\n        if (value !== undefined)\n            return value;\n        var _a = tokens[i], nextType = _a.type, index = _a.index;\n        throw new TypeError(\"Unexpected \".concat(nextType, \" at \").concat(index, \", expected \").concat(type));\n    };\n    var consumeText = function () {\n        var result = \"\";\n        var value;\n        while ((value = tryConsume(\"CHAR\") || tryConsume(\"ESCAPED_CHAR\"))) {\n            result += value;\n        }\n        return result;\n    };\n    while (i < tokens.length) {\n        var char = tryConsume(\"CHAR\");\n        var name = tryConsume(\"NAME\");\n        var pattern = tryConsume(\"PATTERN\");\n        if (name || pattern) {\n            var prefix = char || \"\";\n            if (prefixes.indexOf(prefix) === -1) {\n                path += prefix;\n                prefix = \"\";\n            }\n            if (path) {\n                result.push(path);\n                path = \"\";\n            }\n            result.push({\n                name: name || key++,\n                prefix: prefix,\n                suffix: \"\",\n                pattern: pattern || defaultPattern,\n                modifier: tryConsume(\"MODIFIER\") || \"\",\n            });\n            continue;\n        }\n        var value = char || tryConsume(\"ESCAPED_CHAR\");\n        if (value) {\n            path += value;\n            continue;\n        }\n        if (path) {\n            result.push(path);\n            path = \"\";\n        }\n        var open = tryConsume(\"OPEN\");\n        if (open) {\n            var prefix = consumeText();\n            var name_1 = tryConsume(\"NAME\") || \"\";\n            var pattern_1 = tryConsume(\"PATTERN\") || \"\";\n            var suffix = consumeText();\n            mustConsume(\"CLOSE\");\n            result.push({\n                name: name_1 || (pattern_1 ? key++ : \"\"),\n                pattern: name_1 && !pattern_1 ? defaultPattern : pattern_1,\n                prefix: prefix,\n                suffix: suffix,\n                modifier: tryConsume(\"MODIFIER\") || \"\",\n            });\n            continue;\n        }\n        mustConsume(\"END\");\n    }\n    return result;\n}\n/**\n * Compile a string to a template function for the path.\n */\nexport function compile(str, options) {\n    return tokensToFunction(parse(str, options), options);\n}\n/**\n * Expose a method for transforming tokens into the path function.\n */\nexport function tokensToFunction(tokens, options) {\n    if (options === void 0) { options = {}; }\n    var reFlags = flags(options);\n    var _a = options.encode, encode = _a === void 0 ? function (x) { return x; } : _a, _b = options.validate, validate = _b === void 0 ? true : _b;\n    // Compile all the tokens into regexps.\n    var matches = tokens.map(function (token) {\n        if (typeof token === \"object\") {\n            return new RegExp(\"^(?:\".concat(token.pattern, \")$\"), reFlags);\n        }\n    });\n    return function (data) {\n        var path = \"\";\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            if (typeof token === \"string\") {\n                path += token;\n                continue;\n            }\n            var value = data ? data[token.name] : undefined;\n            var optional = token.modifier === \"?\" || token.modifier === \"*\";\n            var repeat = token.modifier === \"*\" || token.modifier === \"+\";\n            if (Array.isArray(value)) {\n                if (!repeat) {\n                    throw new TypeError(\"Expected \\\"\".concat(token.name, \"\\\" to not repeat, but got an array\"));\n                }\n                if (value.length === 0) {\n                    if (optional)\n                        continue;\n                    throw new TypeError(\"Expected \\\"\".concat(token.name, \"\\\" to not be empty\"));\n                }\n                for (var j = 0; j < value.length; j++) {\n                    var segment = encode(value[j], token);\n                    if (validate && !matches[i].test(segment)) {\n                        throw new TypeError(\"Expected all \\\"\".concat(token.name, \"\\\" to match \\\"\").concat(token.pattern, \"\\\", but got \\\"\").concat(segment, \"\\\"\"));\n                    }\n                    path += token.prefix + segment + token.suffix;\n                }\n                continue;\n            }\n            if (typeof value === \"string\" || typeof value === \"number\") {\n                var segment = encode(String(value), token);\n                if (validate && !matches[i].test(segment)) {\n                    throw new TypeError(\"Expected \\\"\".concat(token.name, \"\\\" to match \\\"\").concat(token.pattern, \"\\\", but got \\\"\").concat(segment, \"\\\"\"));\n                }\n                path += token.prefix + segment + token.suffix;\n                continue;\n            }\n            if (optional)\n                continue;\n            var typeOfMessage = repeat ? \"an array\" : \"a string\";\n            throw new TypeError(\"Expected \\\"\".concat(token.name, \"\\\" to be \").concat(typeOfMessage));\n        }\n        return path;\n    };\n}\n/**\n * Create path match function from `path-to-regexp` spec.\n */\nexport function match(str, options) {\n    var keys = [];\n    var re = pathToRegexp(str, keys, options);\n    return regexpToFunction(re, keys, options);\n}\n/**\n * Create a path match function from `path-to-regexp` output.\n */\nexport function regexpToFunction(re, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.decode, decode = _a === void 0 ? function (x) { return x; } : _a;\n    return function (pathname) {\n        var m = re.exec(pathname);\n        if (!m)\n            return false;\n        var path = m[0], index = m.index;\n        var params = Object.create(null);\n        var _loop_1 = function (i) {\n            if (m[i] === undefined)\n                return \"continue\";\n            var key = keys[i - 1];\n            if (key.modifier === \"*\" || key.modifier === \"+\") {\n                params[key.name] = m[i].split(key.prefix + key.suffix).map(function (value) {\n                    return decode(value, key);\n                });\n            }\n            else {\n                params[key.name] = decode(m[i], key);\n            }\n        };\n        for (var i = 1; i < m.length; i++) {\n            _loop_1(i);\n        }\n        return { path: path, index: index, params: params };\n    };\n}\n/**\n * Escape a regular expression string.\n */\nfunction escapeString(str) {\n    return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n}\n/**\n * Get the flags for a regexp from the options.\n */\nfunction flags(options) {\n    return options && options.sensitive ? \"\" : \"i\";\n}\n/**\n * Pull out keys from a regexp.\n */\nfunction regexpToRegexp(path, keys) {\n    if (!keys)\n        return path;\n    var groupsRegex = /\\((?:\\?<(.*?)>)?(?!\\?)/g;\n    var index = 0;\n    var execResult = groupsRegex.exec(path.source);\n    while (execResult) {\n        keys.push({\n            // Use parenthesized substring match if available, index otherwise\n            name: execResult[1] || index++,\n            prefix: \"\",\n            suffix: \"\",\n            modifier: \"\",\n            pattern: \"\",\n        });\n        execResult = groupsRegex.exec(path.source);\n    }\n    return path;\n}\n/**\n * Transform an array into a regexp.\n */\nfunction arrayToRegexp(paths, keys, options) {\n    var parts = paths.map(function (path) { return pathToRegexp(path, keys, options).source; });\n    return new RegExp(\"(?:\".concat(parts.join(\"|\"), \")\"), flags(options));\n}\n/**\n * Create a path regexp from string input.\n */\nfunction stringToRegexp(path, keys, options) {\n    return tokensToRegexp(parse(path, options), keys, options);\n}\n/**\n * Expose a function for taking tokens and returning a RegExp.\n */\nexport function tokensToRegexp(tokens, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.strict, strict = _a === void 0 ? false : _a, _b = options.start, start = _b === void 0 ? true : _b, _c = options.end, end = _c === void 0 ? true : _c, _d = options.encode, encode = _d === void 0 ? function (x) { return x; } : _d, _e = options.delimiter, delimiter = _e === void 0 ? \"/#?\" : _e, _f = options.endsWith, endsWith = _f === void 0 ? \"\" : _f;\n    var endsWithRe = \"[\".concat(escapeString(endsWith), \"]|$\");\n    var delimiterRe = \"[\".concat(escapeString(delimiter), \"]\");\n    var route = start ? \"^\" : \"\";\n    // Iterate over the tokens and create our regexp string.\n    for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n        var token = tokens_1[_i];\n        if (typeof token === \"string\") {\n            route += escapeString(encode(token));\n        }\n        else {\n            var prefix = escapeString(encode(token.prefix));\n            var suffix = escapeString(encode(token.suffix));\n            if (token.pattern) {\n                if (keys)\n                    keys.push(token);\n                if (prefix || suffix) {\n                    if (token.modifier === \"+\" || token.modifier === \"*\") {\n                        var mod = token.modifier === \"*\" ? \"?\" : \"\";\n                        route += \"(?:\".concat(prefix, \"((?:\").concat(token.pattern, \")(?:\").concat(suffix).concat(prefix, \"(?:\").concat(token.pattern, \"))*)\").concat(suffix, \")\").concat(mod);\n                    }\n                    else {\n                        route += \"(?:\".concat(prefix, \"(\").concat(token.pattern, \")\").concat(suffix, \")\").concat(token.modifier);\n                    }\n                }\n                else {\n                    if (token.modifier === \"+\" || token.modifier === \"*\") {\n                        route += \"((?:\".concat(token.pattern, \")\").concat(token.modifier, \")\");\n                    }\n                    else {\n                        route += \"(\".concat(token.pattern, \")\").concat(token.modifier);\n                    }\n                }\n            }\n            else {\n                route += \"(?:\".concat(prefix).concat(suffix, \")\").concat(token.modifier);\n            }\n        }\n    }\n    if (end) {\n        if (!strict)\n            route += \"\".concat(delimiterRe, \"?\");\n        route += !options.endsWith ? \"$\" : \"(?=\".concat(endsWithRe, \")\");\n    }\n    else {\n        var endToken = tokens[tokens.length - 1];\n        var isEndDelimited = typeof endToken === \"string\"\n            ? delimiterRe.indexOf(endToken[endToken.length - 1]) > -1\n            : endToken === undefined;\n        if (!strict) {\n            route += \"(?:\".concat(delimiterRe, \"(?=\").concat(endsWithRe, \"))?\");\n        }\n        if (!isEndDelimited) {\n            route += \"(?=\".concat(delimiterRe, \"|\").concat(endsWithRe, \")\");\n        }\n    }\n    return new RegExp(route, flags(options));\n}\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n */\nexport function pathToRegexp(path, keys, options) {\n    if (path instanceof RegExp)\n        return regexpToRegexp(path, keys);\n    if (Array.isArray(path))\n        return arrayToRegexp(path, keys, options);\n    return stringToRegexp(path, keys, options);\n}\n//# sourceMappingURL=index.js.map","import { pathToRegexp } from 'path-to-regexp';\n// Modified from React Router v5\n// https://github.com/remix-run/react-router/blob/v5/packages/react-router/modules/matchPath.js\nconst cache = {};\nconst cacheLimit = 10000;\nlet cacheCount = 0;\nfunction compilePath(path, options) {\n    const cacheKey = `${options.end}${options.strict}${options.sensitive}`;\n    const pathCache = cache[cacheKey] || (cache[cacheKey] = {});\n    if (pathCache[path])\n        return pathCache[path];\n    const keys = [];\n    const regexp = pathToRegexp(path, keys, options);\n    const result = { regexp, keys };\n    if (cacheCount < cacheLimit) {\n        pathCache[path] = result;\n        cacheCount++;\n    }\n    return result;\n}\n/**\n * Public API for matching a URL pathname to a path.\n */\nexport function matchPath(pathname, options = {}) {\n    const { path, exact = false, strict = false, sensitive = false } = options;\n    const paths = [].concat(path);\n    return paths.reduce((matched, path) => {\n        if (!path && path !== '')\n            return null;\n        if (matched)\n            return matched;\n        const { regexp, keys } = compilePath(path, {\n            end: exact,\n            strict,\n            sensitive,\n        });\n        const match = regexp.exec(pathname);\n        if (!match)\n            return null;\n        const [url, ...values] = match;\n        const isExact = pathname === url;\n        if (exact && !isExact)\n            return null;\n        return {\n            path,\n            url: path === '/' && url === '' ? '/' : url,\n            isExact,\n            params: keys.reduce((memo, key, index) => {\n                memo[key.name] = values[index];\n                return memo;\n            }, {}),\n        };\n    }, null);\n}\n","export const LIB_VERSION = '1.4.3';\n","import { LIB_VERSION } from '../version.js';\nconst defaultHeaders = {\n    'content-type': 'application/json',\n    'user-agent': `Hydrogen ${LIB_VERSION}`,\n};\nexport function fetchBuilder(url, options = {}) {\n    const requestInit = {\n        ...options,\n        headers: { ...defaultHeaders, ...options.headers },\n    };\n    return async () => {\n        const response = await fetch(url, requestInit);\n        if (!response.ok) {\n            if (response.status === 403 || response.status === 401) {\n                throw new Error(`Request to the Storefront API failed! You may have a bad value in 'hydrogen.config.js'. Response status: ${response.status}, Request ID: ${response.headers.get('x-request-id')}`);\n            }\n            throw new Error(`Request to the Storefront API failed! Response status: ${response.status}, Request ID: ${response.headers.get('x-request-id')}`);\n        }\n        const data = await response.json();\n        return data;\n    };\n}\nexport function graphqlRequestBody(query, variables) {\n    return JSON.stringify({\n        query,\n        variables,\n    });\n}\nexport function decodeShopifyId(id) {\n    if (!id.startsWith('gid://')) {\n        throw new Error('invalid Shopify ID');\n    }\n    return id;\n}\n","/* global Oxygen */\nimport { OXYGEN_SECRET_TOKEN_ENVIRONMENT_VARIABLE, STOREFRONT_API_SECRET_TOKEN_HEADER, STOREFRONT_API_PUBLIC_TOKEN_HEADER, STOREFRONT_API_BUYER_IP_HEADER, SHOPIFY_STOREFRONT_ID_VARIABLE, SHOPIFY_STOREFRONT_ID_HEADER, } from '../constants.js';\nimport { log } from './log/log.js';\nlet secretTokenWarned = false;\nlet storefrontIdWarned = false;\nexport function getStorefrontApiRequestHeaders({ buyerIp, publicStorefrontToken, privateStorefrontToken, storefrontId, }) {\n    const headers = {};\n    if (!privateStorefrontToken) {\n        privateStorefrontToken = getOxygenVariable(OXYGEN_SECRET_TOKEN_ENVIRONMENT_VARIABLE);\n        if (!secretTokenWarned) {\n            secretTokenWarned = true;\n            if (!privateStorefrontToken && !__HYDROGEN_DEV__) {\n                log.error('No secret Shopify storefront API token was defined. This means your app will be rate limited!\\nSee how to add the token: ');\n            }\n            else if (privateStorefrontToken) {\n                log.warn('The private shopify storefront API token was loaded implicitly by an environment variable. This is deprecated, and instead the variable should be defined directly in the Hydrogen Config.\\nFor more information: https://shopify.dev/custom-storefronts/hydrogen/framework/hydrogen-config');\n            }\n        }\n    }\n    if (!storefrontId) {\n        storefrontId = getOxygenVariable(SHOPIFY_STOREFRONT_ID_VARIABLE);\n        if (!storefrontIdWarned) {\n            storefrontIdWarned = true;\n            if (storefrontId) {\n                log.warn('The storefrontId was loaded implicitly by an environment variable. This is deprecated, and instead the variable should be defined directly in the Hydrogen Config.\\nFor more information: https://shopify.dev/custom-storefronts/hydrogen/framework/hydrogen-config');\n            }\n        }\n    }\n    /**\n     * Only pass one type of storefront token at a time.\n     */\n    if (privateStorefrontToken) {\n        headers[STOREFRONT_API_SECRET_TOKEN_HEADER] = privateStorefrontToken;\n    }\n    else {\n        headers[STOREFRONT_API_PUBLIC_TOKEN_HEADER] = publicStorefrontToken;\n    }\n    if (buyerIp) {\n        headers[STOREFRONT_API_BUYER_IP_HEADER] = buyerIp;\n    }\n    if (storefrontId) {\n        headers[SHOPIFY_STOREFRONT_ID_HEADER] = storefrontId;\n    }\n    return headers;\n}\nexport function getOxygenVariable(key) {\n    return typeof Oxygen !== 'undefined' ? Oxygen?.env?.[key] : null;\n}\n","import { hashKey } from './hash.js';\n/**\n * Wrap the fetch promise in a way that React Suspense understands.\n * Essentially, keep throwing something until you have legit data.\n */\nexport function wrapPromise(promise) {\n    let status = 'pending';\n    let response;\n    const suspender = promise.then((res) => {\n        status = 'success';\n        response = res;\n    }, (err) => {\n        status = 'error';\n        response = err;\n    });\n    const read = () => {\n        switch (status) {\n            case 'pending':\n                throw suspender;\n            case 'error':\n                throw response;\n            default:\n                return response;\n        }\n    };\n    return { read };\n}\nconst browserCache = {};\n/**\n * Perform an async function in a synchronous way for Suspense support.\n * To be used only in the client.\n * Inspired by https://github.com/pmndrs/suspend-react\n */\nfunction query(key, fn, preload = false) {\n    const stringKey = hashKey(key);\n    if (browserCache[stringKey]) {\n        const entry = browserCache[stringKey];\n        if (preload)\n            return undefined;\n        if (entry.error)\n            throw entry.error;\n        if (entry.response)\n            return entry.response;\n        if (!preload)\n            throw entry.promise;\n    }\n    const entry = {\n        promise: fn()\n            .then((response) => (entry.response = response))\n            .catch((error) => (entry.error = error)),\n    };\n    browserCache[stringKey] = entry;\n    if (!preload)\n        throw entry.promise;\n    return undefined;\n}\nexport const suspendFunction = (key, fn) => query(key, fn);\nexport const preloadFunction = (key, fn) => query(key, fn, true);\n","import { wrapPromise } from '../../utilities/suspense.js';\nexport function getSyncSessionApi(request, componentResponse, log, session) {\n    const sessionPromises = {};\n    return session\n        ? {\n            get() {\n                if (!sessionPromises.getPromise) {\n                    sessionPromises.getPromise = wrapPromise(session.get(request));\n                }\n                return sessionPromises.getPromise.read();\n            },\n            set(data) {\n                if (!sessionPromises.setPromise) {\n                    sessionPromises.setPromise = wrapPromise(session.set(request, data));\n                }\n                const cookie = sessionPromises.setPromise.read();\n                componentResponse.headers.set('Set-Cookie', cookie);\n                return cookie;\n            },\n        }\n        : emptySyncSessionImplementation(log);\n}\nexport const emptySessionImplementation = function (log) {\n    return {\n        async getFlash(key) {\n            log.warn('No session adapter has been configured!');\n            return null;\n        },\n        async get() {\n            log.warn('No session adapter has been configured!');\n            return {};\n        },\n        async set(key, value) {\n            log.warn('No session adapter has been configured!');\n        },\n        async destroy() {\n            log.warn('No session adapter has been configured!');\n            return;\n        },\n    };\n};\nexport const emptySyncSessionImplementation = function (log) {\n    return {\n        get() {\n            log.warn('No session adapter has been configured!');\n            return {};\n        },\n        set(data) {\n            log.warn('No session adapter has been configured!');\n            return null;\n        },\n    };\n};\n","import { matchPath } from './matchPath.js';\nimport { getLoggerWithContext, logServerResponse, } from '../utilities/log/index.js';\nimport { fetchBuilder, graphqlRequestBody } from './fetch.js';\nimport { getStorefrontApiRequestHeaders } from './storefrontApi.js';\nimport { emptySessionImplementation } from '../foundation/session/session.js';\nimport { FORM_REDIRECT_COOKIE, RSC_PATHNAME } from '../constants.js';\nlet memoizedApiRoutes = [];\nlet memoizedRawRoutes = {};\nexport function extractPathFromRoutesKey(routesKey, dirPrefix) {\n    let path = routesKey\n        .replace(dirPrefix, '')\n        .replace(/\\.server\\.(t|j)sx?$/, '')\n        /**\n         * Replace /index with /\n         */\n        .replace(/\\/index$/i, '/')\n        /**\n         * Only lowercase the first letter. This allows the developer to use camelCase\n         * dynamic paths while ensuring their standard routes are normalized to lowercase.\n         */\n        .replace(/\\b[A-Z]/, (firstLetter) => firstLetter.toLowerCase())\n        /**\n         * Convert /[handle].jsx and /[...handle].jsx to /:handle.jsx for react-router-dom\n         */\n        .replace(/\\[(?:[.]{3})?(\\w+?)\\]/g, (_match, param) => `:${param}`);\n    if (path.endsWith('/') && path !== '/') {\n        path = path.substring(0, path.length - 1);\n    }\n    return path;\n}\nexport function getApiRoutes({ files: routes, basePath: topLevelPath = '', dirPrefix = '', }) {\n    if (!routes || memoizedRawRoutes === routes)\n        return memoizedApiRoutes;\n    const topLevelPrefix = topLevelPath.replace('*', '').replace(/\\/$/, '');\n    const keys = Object.keys(routes);\n    const apiRoutes = keys\n        .filter((key) => routes[key].api)\n        .map((key) => {\n        const path = extractPathFromRoutesKey(key, dirPrefix);\n        /**\n         * Catch-all routes [...handle].jsx don't need an exact match\n         * https://reactrouter.com/core/api/Route/exact-bool\n         */\n        const exact = !/\\[(?:[.]{3})(\\w+?)\\]/.test(key);\n        return {\n            path: topLevelPrefix + path,\n            resource: routes[key].api,\n            hasServerComponent: !!routes[key].default,\n            exact,\n        };\n    });\n    memoizedApiRoutes = [\n        ...apiRoutes.filter((route) => !route.path.includes(':')),\n        ...apiRoutes.filter((route) => route.path.includes(':')),\n    ];\n    memoizedRawRoutes = routes;\n    return memoizedApiRoutes;\n}\nexport function getApiRouteFromURL(url, routes) {\n    let foundRoute, foundRouteDetails;\n    for (let i = 0; i < routes.length; i++) {\n        foundRouteDetails = matchPath(url.pathname, routes[i]);\n        if (foundRouteDetails) {\n            foundRoute = routes[i];\n            break;\n        }\n    }\n    if (!foundRoute)\n        return null;\n    return {\n        resource: foundRoute.resource,\n        params: foundRouteDetails.params,\n        hasServerComponent: foundRoute.hasServerComponent,\n    };\n}\nfunction queryShopBuilder(shopifyConfigGetter, request) {\n    return async function queryShop({ query, variables, }) {\n        const shopifyConfig = typeof shopifyConfigGetter === 'function'\n            ? await shopifyConfigGetter(request)\n            : shopifyConfigGetter;\n        if (!shopifyConfig) {\n            throw new Error('Shopify connection info was not found in Hydrogen config');\n        }\n        const { storeDomain, storefrontApiVersion, storefrontToken, privateStorefrontToken, storefrontId, } = shopifyConfig;\n        const buyerIp = request.getBuyerIp();\n        const extraHeaders = getStorefrontApiRequestHeaders({\n            buyerIp,\n            publicStorefrontToken: storefrontToken,\n            privateStorefrontToken,\n            storefrontId,\n        });\n        const fetcher = fetchBuilder(`https://${storeDomain}/api/${storefrontApiVersion}/graphql.json`, {\n            method: 'POST',\n            body: graphqlRequestBody(query, variables),\n            headers: {\n                'Content-Type': 'application/json',\n                ...extraHeaders,\n            },\n        });\n        return await fetcher();\n    };\n}\nexport async function renderApiRoute(request, route, hydrogenConfig, { session, suppressLog, }) {\n    let response;\n    const log = getLoggerWithContext(request);\n    let cookieToSet = '';\n    try {\n        response = await route.resource(request, {\n            log,\n            params: route.params,\n            queryShop: queryShopBuilder(hydrogenConfig.shopify, request),\n            hydrogenConfig,\n            session: session\n                ? {\n                    async getFlash(key) {\n                        const data = await session.get(request);\n                        const value = data[key];\n                        if (value) {\n                            delete data[key];\n                            await session.set(request, data);\n                        }\n                        return value;\n                    },\n                    async get() {\n                        return session.get(request);\n                    },\n                    async set(key, value) {\n                        const data = await session.get(request);\n                        data[key] = value;\n                        cookieToSet = await session.set(request, data);\n                    },\n                    async destroy() {\n                        cookieToSet = await session.destroy(request);\n                    },\n                }\n                : emptySessionImplementation(log),\n        });\n        if (!(response instanceof Response || response instanceof Request)) {\n            if (typeof response === 'string' || response instanceof String) {\n                response = new Response(response);\n            }\n            else if (typeof response === 'object') {\n                response = new Response(JSON.stringify(response), {\n                    headers: {\n                        'Content-Type': 'application/json',\n                    },\n                });\n            }\n        }\n        if (!response) {\n            response = new Response(null);\n        }\n        if (cookieToSet) {\n            response.headers.set('Set-Cookie', cookieToSet);\n        }\n    }\n    catch (e) {\n        log.error(e);\n        response = new Response('Error processing: ' + request.url, {\n            status: 500,\n        });\n    }\n    if (!suppressLog) {\n        logServerResponse('api', request, response.status ?? 200, false);\n    }\n    if (response instanceof Request) {\n        const url = new URL(request.url);\n        const newUrl = new URL(response.url, url);\n        if (request.headers.get('Hydrogen-Client') === 'Form-Action') {\n            response.headers.set('Hydrogen-RSC-Pathname', newUrl.pathname + newUrl.search);\n            return new Request(getRscUrl(url, newUrl), {\n                headers: response.headers,\n            });\n        }\n        else {\n            // This request was made by a native form presumably because the client components had yet to hydrate,\n            // Because of this, we need to redirect instead of just rendering the response.\n            // Doing so prevents odd refresh / back behavior. The redirect response also should *never* be cached.\n            response.headers.set('Location', newUrl.href);\n            response.headers.set('Cache-Control', 'no-store');\n            response.headers.append('Set-Cookie', `${FORM_REDIRECT_COOKIE}=1`);\n            return new Response(null, {\n                status: 303,\n                headers: response.headers,\n            });\n        }\n    }\n    return response;\n}\nfunction getRscUrl(currentUrl, newUrl) {\n    const rscUrl = new URL(RSC_PATHNAME, currentUrl);\n    const searchParams = new URLSearchParams({\n        state: JSON.stringify({\n            pathname: newUrl.pathname,\n            search: newUrl.search,\n        }),\n    });\n    rscUrl.search = searchParams.toString();\n    return rscUrl.toString();\n}\n","/**\n * An alphabetized list of User Agents of known bots, combined from lists found at:\n * https://github.com/vercel/next.js/blob/d87dc2b5a0b3fdbc0f6806a47be72bad59564bd0/packages/next/server/utils.ts#L18-L22\n * https://github.com/GoogleChrome/rendertron/blob/6f681688737846b28754fbfdf5db173846a826df/middleware/src/middleware.ts#L24-L41\n */\nconst botUserAgents = [\n    'AdsBot-Google',\n    'applebot',\n    'Baiduspider',\n    'baiduspider',\n    'Bytespider',\n    '360Spider',\n    'PetalBot',\n    'Yisouspider',\n    'bingbot',\n    'Bingbot',\n    'BingPreview',\n    'bitlybot',\n    'Discordbot',\n    'DuckDuckBot',\n    'Embedly',\n    'facebookcatalog',\n    'facebookexternalhit',\n    'Google-PageRenderer',\n    'Googlebot',\n    'googleweblight',\n    'ia_archive',\n    'LinkedInBot',\n    'Mediapartners-Google',\n    'outbrain',\n    'pinterest',\n    'quora link preview',\n    'redditbot',\n    'rogerbot',\n    'showyoubot',\n    'SkypeUriPreview',\n    'Slackbot',\n    'Slurp',\n    'sogou',\n    'Storebot-Google',\n    'TelegramBot',\n    'tumblr',\n    'Twitterbot',\n    'vkShare',\n    'W3C_Validator',\n    'WhatsApp',\n    'yandex',\n    // SEO Tools\n    'Seoradar',\n    'W3C html2txt',\n];\n/**\n * Creates a regex based on the botUserAgents array\n */\nconst botUARegex = new RegExp(botUserAgents.join('|'), 'i');\n/**\n * Determines if the request is from a bot, using the URL and User Agent\n */\nexport function isBotUA(url, userAgent) {\n    return (url.searchParams.has('_bot') || (!!userAgent && botUARegex.test(userAgent)));\n}\n","export function setCache(cache) {\n    globalThis.__cache = cache;\n}\nexport function getCache() {\n    return globalThis.__cache;\n}\n","/**\n* @license React\n * react-server-dom-vite-writer.browser.server.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED, createServerContext } from 'react';\n\nvar assign = Object.assign;\n\nvar ReactSharedInternals = __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\nfunction scheduleWork(callback) {\n  callback();\n}\nvar VIEW_SIZE = 512;\nvar currentView = null;\nvar writtenBytes = 0;\nfunction beginWriting(destination) {\n  currentView = new Uint8Array(VIEW_SIZE);\n  writtenBytes = 0;\n}\nfunction writeChunk(destination, chunk) {\n  if (chunk.length === 0) {\n    return;\n  }\n\n  if (chunk.length > VIEW_SIZE) {\n    // this chunk may overflow a single view which implies it was not\n    // one that is cached by the streaming renderer. We will enqueu\n    // it directly and expect it is not re-used\n    if (writtenBytes > 0) {\n      destination.enqueue(new Uint8Array(currentView.buffer, 0, writtenBytes));\n      currentView = new Uint8Array(VIEW_SIZE);\n      writtenBytes = 0;\n    }\n\n    destination.enqueue(chunk);\n    return;\n  }\n\n  var bytesToWrite = chunk;\n  var allowableBytes = currentView.length - writtenBytes;\n\n  if (allowableBytes < bytesToWrite.length) {\n    // this chunk would overflow the current view. We enqueue a full view\n    // and start a new view with the remaining chunk\n    if (allowableBytes === 0) {\n      // the current view is already full, send it\n      destination.enqueue(currentView);\n    } else {\n      // fill up the current view and apply the remaining chunk bytes\n      // to a new view.\n      currentView.set(bytesToWrite.subarray(0, allowableBytes), writtenBytes); // writtenBytes += allowableBytes; // this can be skipped because we are going to immediately reset the view\n\n      destination.enqueue(currentView);\n      bytesToWrite = bytesToWrite.subarray(allowableBytes);\n    }\n\n    currentView = new Uint8Array(VIEW_SIZE);\n    writtenBytes = 0;\n  }\n\n  currentView.set(bytesToWrite, writtenBytes);\n  writtenBytes += bytesToWrite.length;\n}\nfunction writeChunkAndReturn(destination, chunk) {\n  writeChunk(destination, chunk); // in web streams there is no backpressure so we can alwas write more\n\n  return true;\n}\nfunction completeWriting(destination) {\n  if (currentView && writtenBytes > 0) {\n    destination.enqueue(new Uint8Array(currentView.buffer, 0, writtenBytes));\n    currentView = null;\n    writtenBytes = 0;\n  }\n}\nfunction close(destination) {\n  destination.close();\n}\nvar textEncoder = new TextEncoder();\nfunction stringToChunk(content) {\n  return textEncoder.encode(content);\n}\nfunction stringToPrecomputedChunk(content) {\n  return textEncoder.encode(content);\n}\nfunction closeWithError(destination, error) {\n  if (typeof destination.error === 'function') {\n    // $FlowFixMe: This is an Error object or the destination accepts other types.\n    destination.error(error);\n  } else {\n    // Earlier implementations doesn't support this method. In that environment you're\n    // supposed to throw from a promise returned but we don't return a promise in our\n    // approach. We could fork this implementation but this is environment is an edge\n    // case to begin with. It's even less common to run this in an older environment.\n    // Even then, this is not where errors are supposed to happen and they get reported\n    // to a global callback in addition to this anyway. So it's fine just to close this.\n    destination.close();\n  }\n}\n\n// This file is an intermediate layer to translate between Flight\nvar stringify = JSON.stringify;\n\nfunction serializeRowHeader(tag, id) {\n  return tag + id.toString(16) + ':';\n}\n\nfunction processErrorChunk(request, id, message, stack) {\n  var errorInfo = {\n    message: message,\n    stack: stack\n  };\n  var row = serializeRowHeader('E', id) + stringify(errorInfo) + '\\n';\n  return stringToChunk(row);\n}\nfunction processModelChunk(request, id, model) {\n  var json = stringify(model, request.toJSON);\n  var row = serializeRowHeader('J', id) + json + '\\n';\n  return stringToChunk(row);\n}\nfunction processReferenceChunk(request, id, reference) {\n  var json = stringify(reference);\n  var row = serializeRowHeader('J', id) + json + '\\n';\n  return stringToChunk(row);\n}\nfunction processModuleChunk(request, id, moduleMetaData) {\n  var json = stringify(moduleMetaData);\n  var row = serializeRowHeader('M', id) + json + '\\n';\n  return stringToChunk(row);\n}\nfunction processProviderChunk(request, id, contextName) {\n  var row = serializeRowHeader('P', id) + contextName + '\\n';\n  return stringToChunk(row);\n}\nfunction processSymbolChunk(request, id, name) {\n  var json = stringify(name);\n  var row = serializeRowHeader('S', id) + json + '\\n';\n  return stringToChunk(row);\n}\n\n// eslint-disable-next-line no-unused-vars\nvar MODULE_TAG = Symbol.for('react.module.reference');\nfunction getModuleKey(reference) {\n  if (typeof reference === 'string') reference = globalThis.__STRING_REFERENCE_INDEX[reference];\n  return reference.filepath + '#' + reference.name;\n}\nfunction isModuleReference(reference) {\n  if (typeof reference === 'string') return !!globalThis.__STRING_REFERENCE_INDEX[reference];\n  return reference.$$typeof === MODULE_TAG;\n}\nfunction resolveModuleMetaData(config, moduleReference) {\n  if (typeof moduleReference === 'string') moduleReference = globalThis.__STRING_REFERENCE_INDEX[moduleReference];\n  return {\n    id: moduleReference.filepath,\n    name: moduleReference.name\n  };\n}\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n// The Symbol used to tag the ReactElement-like types.\nvar REACT_ELEMENT_TYPE = Symbol.for('react.element');\nvar REACT_FRAGMENT_TYPE = Symbol.for('react.fragment');\nvar REACT_PROVIDER_TYPE = Symbol.for('react.provider');\nvar REACT_SERVER_CONTEXT_TYPE = Symbol.for('react.server_context');\nvar REACT_FORWARD_REF_TYPE = Symbol.for('react.forward_ref');\nvar REACT_MEMO_TYPE = Symbol.for('react.memo');\nvar REACT_LAZY_TYPE = Symbol.for('react.lazy');\nvar REACT_SERVER_CONTEXT_DEFAULT_VALUE_NOT_LOADED = Symbol.for('react.default_value');\n\n// A reserved attribute.\n// It is handled by React separately and shouldn't be written to the DOM.\nvar RESERVED = 0; // A simple string attribute.\n// Attributes that aren't in the filter are presumed to have this type.\n\nvar STRING = 1; // A string attribute that accepts booleans in React. In HTML, these are called\n// \"enumerated\" attributes with \"true\" and \"false\" as possible values.\n// When true, it should be set to a \"true\" string.\n// When false, it should be set to a \"false\" string.\n\nvar BOOLEANISH_STRING = 2; // A real boolean attribute.\n// When true, it should be present (set either to an empty string or its name).\n// When false, it should be omitted.\n\nvar BOOLEAN = 3; // An attribute that can be used as a flag as well as with a value.\n// When true, it should be present (set either to an empty string or its name).\n// When false, it should be omitted.\n// For any other value, should be present with that value.\n\nvar OVERLOADED_BOOLEAN = 4; // An attribute that must be numeric or parse as a numeric.\n// When falsy, it should be removed.\n\nvar NUMERIC = 5; // An attribute that must be positive numeric or parse as a positive numeric.\n// When falsy, it should be removed.\n\nvar POSITIVE_NUMERIC = 6;\n\nfunction PropertyInfoRecord(name, type, mustUseProperty, attributeName, attributeNamespace, sanitizeURL, removeEmptyString) {\n  this.acceptsBooleans = type === BOOLEANISH_STRING || type === BOOLEAN || type === OVERLOADED_BOOLEAN;\n  this.attributeName = attributeName;\n  this.attributeNamespace = attributeNamespace;\n  this.mustUseProperty = mustUseProperty;\n  this.propertyName = name;\n  this.type = type;\n  this.sanitizeURL = sanitizeURL;\n  this.removeEmptyString = removeEmptyString;\n} // When adding attributes to this list, be sure to also add them to\n// the `possibleStandardNames` module to ensure casing and incorrect\n// name warnings.\n\n\nvar properties = {}; // These props are reserved by React. They shouldn't be written to the DOM.\n\nvar reservedProps = ['children', 'dangerouslySetInnerHTML', // TODO: This prevents the assignment of defaultValue to regular\n// elements (not just inputs). Now that ReactDOMInput assigns to the\n// defaultValue property -- do we need this?\n'defaultValue', 'defaultChecked', 'innerHTML', 'suppressContentEditableWarning', 'suppressHydrationWarning', 'style'];\n\n{\n  reservedProps.push('innerText', 'textContent');\n}\n\nreservedProps.forEach(function (name) {\n  properties[name] = new PropertyInfoRecord(name, RESERVED, false, // mustUseProperty\n  name, // attributeName\n  null, // attributeNamespace\n  false, // sanitizeURL\n  false);\n}); // A few React string attributes have a different name.\n// This is a mapping from React prop names to the attribute names.\n\n[['acceptCharset', 'accept-charset'], ['className', 'class'], ['htmlFor', 'for'], ['httpEquiv', 'http-equiv']].forEach(function (_ref) {\n  var name = _ref[0],\n      attributeName = _ref[1];\n  properties[name] = new PropertyInfoRecord(name, STRING, false, // mustUseProperty\n  attributeName, // attributeName\n  null, // attributeNamespace\n  false, // sanitizeURL\n  false);\n}); // These are \"enumerated\" HTML attributes that accept \"true\" and \"false\".\n// In React, we let users pass `true` and `false` even though technically\n// these aren't boolean attributes (they are coerced to strings).\n\n['contentEditable', 'draggable', 'spellCheck', 'value'].forEach(function (name) {\n  properties[name] = new PropertyInfoRecord(name, BOOLEANISH_STRING, false, // mustUseProperty\n  name.toLowerCase(), // attributeName\n  null, // attributeNamespace\n  false, // sanitizeURL\n  false);\n}); // These are \"enumerated\" SVG attributes that accept \"true\" and \"false\".\n// In React, we let users pass `true` and `false` even though technically\n// these aren't boolean attributes (they are coerced to strings).\n// Since these are SVG attributes, their attribute names are case-sensitive.\n\n['autoReverse', 'externalResourcesRequired', 'focusable', 'preserveAlpha'].forEach(function (name) {\n  properties[name] = new PropertyInfoRecord(name, BOOLEANISH_STRING, false, // mustUseProperty\n  name, // attributeName\n  null, // attributeNamespace\n  false, // sanitizeURL\n  false);\n}); // These are HTML boolean attributes.\n\n['allowFullScreen', 'async', // Note: there is a special case that prevents it from being written to the DOM\n// on the client side because the browsers are inconsistent. Instead we call focus().\n'autoFocus', 'autoPlay', 'controls', 'default', 'defer', 'disabled', 'disablePictureInPicture', 'disableRemotePlayback', 'formNoValidate', 'hidden', 'loop', 'noModule', 'noValidate', 'open', 'playsInline', 'readOnly', 'required', 'reversed', 'scoped', 'seamless', // Microdata\n'itemScope'].forEach(function (name) {\n  properties[name] = new PropertyInfoRecord(name, BOOLEAN, false, // mustUseProperty\n  name.toLowerCase(), // attributeName\n  null, // attributeNamespace\n  false, // sanitizeURL\n  false);\n}); // These are the few React props that we set as DOM properties\n// rather than attributes. These are all booleans.\n\n['checked', // Note: `option.selected` is not updated if `select.multiple` is\n// disabled with `removeAttribute`. We have special logic for handling this.\n'multiple', 'muted', 'selected' // NOTE: if you add a camelCased prop to this list,\n// you'll need to set attributeName to name.toLowerCase()\n// instead in the assignment below.\n].forEach(function (name) {\n  properties[name] = new PropertyInfoRecord(name, BOOLEAN, true, // mustUseProperty\n  name, // attributeName\n  null, // attributeNamespace\n  false, // sanitizeURL\n  false);\n}); // These are HTML attributes that are \"overloaded booleans\": they behave like\n// booleans, but can also accept a string value.\n\n['capture', 'download' // NOTE: if you add a camelCased prop to this list,\n// you'll need to set attributeName to name.toLowerCase()\n// instead in the assignment below.\n].forEach(function (name) {\n  properties[name] = new PropertyInfoRecord(name, OVERLOADED_BOOLEAN, false, // mustUseProperty\n  name, // attributeName\n  null, // attributeNamespace\n  false, // sanitizeURL\n  false);\n}); // These are HTML attributes that must be positive numbers.\n\n['cols', 'rows', 'size', 'span' // NOTE: if you add a camelCased prop to this list,\n// you'll need to set attributeName to name.toLowerCase()\n// instead in the assignment below.\n].forEach(function (name) {\n  properties[name] = new PropertyInfoRecord(name, POSITIVE_NUMERIC, false, // mustUseProperty\n  name, // attributeName\n  null, // attributeNamespace\n  false, // sanitizeURL\n  false);\n}); // These are HTML attributes that must be numbers.\n\n['rowSpan', 'start'].forEach(function (name) {\n  properties[name] = new PropertyInfoRecord(name, NUMERIC, false, // mustUseProperty\n  name.toLowerCase(), // attributeName\n  null, // attributeNamespace\n  false, // sanitizeURL\n  false);\n});\nvar CAMELIZE = /[\\-\\:]([a-z])/g;\n\nvar capitalize = function (token) {\n  return token[1].toUpperCase();\n}; // This is a list of all SVG attributes that need special casing, namespacing,\n// or boolean value assignment. Regular attributes that just accept strings\n// and have the same names are omitted, just like in the HTML attribute filter.\n// Some of these attributes can be hard to find. This list was created by\n// scraping the MDN documentation.\n\n\n['accent-height', 'alignment-baseline', 'arabic-form', 'baseline-shift', 'cap-height', 'clip-path', 'clip-rule', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'dominant-baseline', 'enable-background', 'fill-opacity', 'fill-rule', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'glyph-name', 'glyph-orientation-horizontal', 'glyph-orientation-vertical', 'horiz-adv-x', 'horiz-origin-x', 'image-rendering', 'letter-spacing', 'lighting-color', 'marker-end', 'marker-mid', 'marker-start', 'overline-position', 'overline-thickness', 'paint-order', 'panose-1', 'pointer-events', 'rendering-intent', 'shape-rendering', 'stop-color', 'stop-opacity', 'strikethrough-position', 'strikethrough-thickness', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'text-anchor', 'text-decoration', 'text-rendering', 'underline-position', 'underline-thickness', 'unicode-bidi', 'unicode-range', 'units-per-em', 'v-alphabetic', 'v-hanging', 'v-ideographic', 'v-mathematical', 'vector-effect', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'word-spacing', 'writing-mode', 'xmlns:xlink', 'x-height' // NOTE: if you add a camelCased prop to this list,\n// you'll need to set attributeName to name.toLowerCase()\n// instead in the assignment below.\n].forEach(function (attributeName) {\n  var name = attributeName.replace(CAMELIZE, capitalize);\n  properties[name] = new PropertyInfoRecord(name, STRING, false, // mustUseProperty\n  attributeName, null, // attributeNamespace\n  false, // sanitizeURL\n  false);\n}); // String SVG attributes with the xlink namespace.\n\n['xlink:actuate', 'xlink:arcrole', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type' // NOTE: if you add a camelCased prop to this list,\n// you'll need to set attributeName to name.toLowerCase()\n// instead in the assignment below.\n].forEach(function (attributeName) {\n  var name = attributeName.replace(CAMELIZE, capitalize);\n  properties[name] = new PropertyInfoRecord(name, STRING, false, // mustUseProperty\n  attributeName, 'http://www.w3.org/1999/xlink', false, // sanitizeURL\n  false);\n}); // String SVG attributes with the xml namespace.\n\n['xml:base', 'xml:lang', 'xml:space' // NOTE: if you add a camelCased prop to this list,\n// you'll need to set attributeName to name.toLowerCase()\n// instead in the assignment below.\n].forEach(function (attributeName) {\n  var name = attributeName.replace(CAMELIZE, capitalize);\n  properties[name] = new PropertyInfoRecord(name, STRING, false, // mustUseProperty\n  attributeName, 'http://www.w3.org/XML/1998/namespace', false, // sanitizeURL\n  false);\n}); // These attribute exists both in HTML and SVG.\n// The attribute name is case-sensitive in SVG so we can't just use\n// the React name like we do for attributes that exist only in HTML.\n\n['tabIndex', 'crossOrigin'].forEach(function (attributeName) {\n  properties[attributeName] = new PropertyInfoRecord(attributeName, STRING, false, // mustUseProperty\n  attributeName.toLowerCase(), // attributeName\n  null, // attributeNamespace\n  false, // sanitizeURL\n  false);\n}); // These attributes accept URLs. These must not allow javascript: URLS.\n// These will also need to accept Trusted Types object in the future.\n\nvar xlinkHref = 'xlinkHref';\nproperties[xlinkHref] = new PropertyInfoRecord('xlinkHref', STRING, false, // mustUseProperty\n'xlink:href', 'http://www.w3.org/1999/xlink', true, // sanitizeURL\nfalse);\n['src', 'href', 'action', 'formAction'].forEach(function (attributeName) {\n  properties[attributeName] = new PropertyInfoRecord(attributeName, STRING, false, // mustUseProperty\n  attributeName.toLowerCase(), // attributeName\n  null, // attributeNamespace\n  true, // sanitizeURL\n  true);\n});\n\n/**\n * CSS properties which accept numbers but are not in units of \"px\".\n */\nvar isUnitlessNumber = {\n  animationIterationCount: true,\n  aspectRatio: true,\n  borderImageOutset: true,\n  borderImageSlice: true,\n  borderImageWidth: true,\n  boxFlex: true,\n  boxFlexGroup: true,\n  boxOrdinalGroup: true,\n  columnCount: true,\n  columns: true,\n  flex: true,\n  flexGrow: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  flexOrder: true,\n  gridArea: true,\n  gridRow: true,\n  gridRowEnd: true,\n  gridRowSpan: true,\n  gridRowStart: true,\n  gridColumn: true,\n  gridColumnEnd: true,\n  gridColumnSpan: true,\n  gridColumnStart: true,\n  fontWeight: true,\n  lineClamp: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  tabSize: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n  // SVG-related properties\n  fillOpacity: true,\n  floodOpacity: true,\n  stopOpacity: true,\n  strokeDasharray: true,\n  strokeDashoffset: true,\n  strokeMiterlimit: true,\n  strokeOpacity: true,\n  strokeWidth: true\n};\n/**\n * @param {string} prefix vendor-specific prefix, eg: Webkit\n * @param {string} key style name, eg: transitionDuration\n * @return {string} style name prefixed with `prefix`, properly camelCased, eg:\n * WebkitTransitionDuration\n */\n\nfunction prefixKey(prefix, key) {\n  return prefix + key.charAt(0).toUpperCase() + key.substring(1);\n}\n/**\n * Support style names that may come passed in prefixed by adding permutations\n * of vendor prefixes.\n */\n\n\nvar prefixes = ['Webkit', 'ms', 'Moz', 'O']; // Using Object.keys here, or else the vanilla for-in loop makes IE8 go into an\n// infinite loop, because it iterates over the newly added props too.\n\nObject.keys(isUnitlessNumber).forEach(function (prop) {\n  prefixes.forEach(function (prefix) {\n    isUnitlessNumber[prefixKey(prefix, prop)] = isUnitlessNumber[prop];\n  });\n});\n\nvar isArrayImpl = Array.isArray; // eslint-disable-next-line no-redeclare\n\nfunction isArray(a) {\n  return isArrayImpl(a);\n}\n\nvar startInlineScript = stringToPrecomputedChunk('<script>');\nvar endInlineScript = stringToPrecomputedChunk('</script>');\nvar startScriptSrc = stringToPrecomputedChunk('<script src=\"');\nvar startModuleSrc = stringToPrecomputedChunk('<script type=\"module\" src=\"');\nvar scriptIntegirty = stringToPrecomputedChunk('\" integrity=\"');\nvar endAsyncScript = stringToPrecomputedChunk('\" async=\"\"></script>');\n\nvar textSeparator = stringToPrecomputedChunk('<!-- -->');\n\nvar styleAttributeStart = stringToPrecomputedChunk(' style=\"');\nvar styleAssign = stringToPrecomputedChunk(':');\nvar styleSeparator = stringToPrecomputedChunk(';');\n\nvar attributeSeparator = stringToPrecomputedChunk(' ');\nvar attributeAssign = stringToPrecomputedChunk('=\"');\nvar attributeEnd = stringToPrecomputedChunk('\"');\nvar attributeEmptyString = stringToPrecomputedChunk('=\"\"');\n\nvar endOfStartTag = stringToPrecomputedChunk('>');\nvar endOfStartTagSelfClosing = stringToPrecomputedChunk('/>');\n\nvar selectedMarkerAttribute = stringToPrecomputedChunk(' selected=\"\"');\n\nvar leadingNewline = stringToPrecomputedChunk('\\n');\n\nvar DOCTYPE = stringToPrecomputedChunk('<!DOCTYPE html>');\nvar endTag1 = stringToPrecomputedChunk('</');\nvar endTag2 = stringToPrecomputedChunk('>');\n// A placeholder is a node inside a hidden partial tree that can be filled in later, but before\n// display. It's never visible to users. We use the template tag because it can be used in every\n// type of parent. <script> tags also work in every other tag except <colgroup>.\n\nvar placeholder1 = stringToPrecomputedChunk('<template id=\"');\nvar placeholder2 = stringToPrecomputedChunk('\"></template>');\n\nvar startCompletedSuspenseBoundary = stringToPrecomputedChunk('<!--$-->');\nvar startPendingSuspenseBoundary1 = stringToPrecomputedChunk('<!--$?--><template id=\"');\nvar startPendingSuspenseBoundary2 = stringToPrecomputedChunk('\"></template>');\nvar startClientRenderedSuspenseBoundary = stringToPrecomputedChunk('<!--$!-->');\nvar endSuspenseBoundary = stringToPrecomputedChunk('<!--/$-->');\nvar clientRenderedSuspenseBoundaryError1 = stringToPrecomputedChunk('<template');\nvar clientRenderedSuspenseBoundaryErrorAttrInterstitial = stringToPrecomputedChunk('\"');\nvar clientRenderedSuspenseBoundaryError1A = stringToPrecomputedChunk(' data-dgst=\"');\nvar clientRenderedSuspenseBoundaryError1B = stringToPrecomputedChunk(' data-msg=\"');\nvar clientRenderedSuspenseBoundaryError1C = stringToPrecomputedChunk(' data-stck=\"');\nvar clientRenderedSuspenseBoundaryError2 = stringToPrecomputedChunk('></template>');\nvar startSegmentHTML = stringToPrecomputedChunk('<div hidden id=\"');\nvar startSegmentHTML2 = stringToPrecomputedChunk('\">');\nvar endSegmentHTML = stringToPrecomputedChunk('</div>');\nvar startSegmentSVG = stringToPrecomputedChunk('<svg aria-hidden=\"true\" style=\"display:none\" id=\"');\nvar startSegmentSVG2 = stringToPrecomputedChunk('\">');\nvar endSegmentSVG = stringToPrecomputedChunk('</svg>');\nvar startSegmentMathML = stringToPrecomputedChunk('<math aria-hidden=\"true\" style=\"display:none\" id=\"');\nvar startSegmentMathML2 = stringToPrecomputedChunk('\">');\nvar endSegmentMathML = stringToPrecomputedChunk('</math>');\nvar startSegmentTable = stringToPrecomputedChunk('<table hidden id=\"');\nvar startSegmentTable2 = stringToPrecomputedChunk('\">');\nvar endSegmentTable = stringToPrecomputedChunk('</table>');\nvar startSegmentTableBody = stringToPrecomputedChunk('<table hidden><tbody id=\"');\nvar startSegmentTableBody2 = stringToPrecomputedChunk('\">');\nvar endSegmentTableBody = stringToPrecomputedChunk('</tbody></table>');\nvar startSegmentTableRow = stringToPrecomputedChunk('<table hidden><tr id=\"');\nvar startSegmentTableRow2 = stringToPrecomputedChunk('\">');\nvar endSegmentTableRow = stringToPrecomputedChunk('</tr></table>');\nvar startSegmentColGroup = stringToPrecomputedChunk('<table hidden><colgroup id=\"');\nvar startSegmentColGroup2 = stringToPrecomputedChunk('\">');\nvar endSegmentColGroup = stringToPrecomputedChunk('</colgroup></table>');\n// The following code is the source scripts that we then minify and inline below,\n// with renamed function names that we hope don't collide:\n// const COMMENT_NODE = 8;\n// const SUSPENSE_START_DATA = '$';\n// const SUSPENSE_END_DATA = '/$';\n// const SUSPENSE_PENDING_START_DATA = '$?';\n// const SUSPENSE_FALLBACK_START_DATA = '$!';\n//\n// function clientRenderBoundary(suspenseBoundaryID, errorDigest, errorMsg, errorComponentStack) {\n//   // Find the fallback's first element.\n//   const suspenseIdNode = document.getElementById(suspenseBoundaryID);\n//   if (!suspenseIdNode) {\n//     // The user must have already navigated away from this tree.\n//     // E.g. because the parent was hydrated.\n//     return;\n//   }\n//   // Find the boundary around the fallback. This is always the previous node.\n//   const suspenseNode = suspenseIdNode.previousSibling;\n//   // Tag it to be client rendered.\n//   suspenseNode.data = SUSPENSE_FALLBACK_START_DATA;\n//   // assign error metadata to first sibling\n//   let dataset = suspenseIdNode.dataset;\n//   if (errorDigest) dataset.dgst = errorDigest;\n//   if (errorMsg) dataset.msg = errorMsg;\n//   if (errorComponentStack) dataset.stck = errorComponentStack;\n//   // Tell React to retry it if the parent already hydrated.\n//   if (suspenseNode._reactRetry) {\n//     suspenseNode._reactRetry();\n//   }\n// }\n//\n// function completeBoundary(suspenseBoundaryID, contentID) {\n//   // Find the fallback's first element.\n//   const suspenseIdNode = document.getElementById(suspenseBoundaryID);\n//   const contentNode = document.getElementById(contentID);\n//   // We'll detach the content node so that regardless of what happens next we don't leave in the tree.\n//   // This might also help by not causing recalcing each time we move a child from here to the target.\n//   contentNode.parentNode.removeChild(contentNode);\n//   if (!suspenseIdNode) {\n//     // The user must have already navigated away from this tree.\n//     // E.g. because the parent was hydrated. That's fine there's nothing to do\n//     // but we have to make sure that we already deleted the container node.\n//     return;\n//   }\n//   // Find the boundary around the fallback. This is always the previous node.\n//   const suspenseNode = suspenseIdNode.previousSibling;\n//\n//   // Clear all the existing children. This is complicated because\n//   // there can be embedded Suspense boundaries in the fallback.\n//   // This is similar to clearSuspenseBoundary in ReactDOMHostConfig.\n//   // TODO: We could avoid this if we never emitted suspense boundaries in fallback trees.\n//   // They never hydrate anyway. However, currently we support incrementally loading the fallback.\n//   const parentInstance = suspenseNode.parentNode;\n//   let node = suspenseNode.nextSibling;\n//   let depth = 0;\n//   do {\n//     if (node && node.nodeType === COMMENT_NODE) {\n//       const data = node.data;\n//       if (data === SUSPENSE_END_DATA) {\n//         if (depth === 0) {\n//           break;\n//         } else {\n//           depth--;\n//         }\n//       } else if (\n//         data === SUSPENSE_START_DATA ||\n//         data === SUSPENSE_PENDING_START_DATA ||\n//         data === SUSPENSE_FALLBACK_START_DATA\n//       ) {\n//         depth++;\n//       }\n//     }\n//\n//     const nextNode = node.nextSibling;\n//     parentInstance.removeChild(node);\n//     node = nextNode;\n//   } while (node);\n//\n//   const endOfBoundary = node;\n//\n//   // Insert all the children from the contentNode between the start and end of suspense boundary.\n//   while (contentNode.firstChild) {\n//     parentInstance.insertBefore(contentNode.firstChild, endOfBoundary);\n//   }\n//   suspenseNode.data = SUSPENSE_START_DATA;\n//   if (suspenseNode._reactRetry) {\n//     suspenseNode._reactRetry();\n//   }\n// }\n//\n// function completeSegment(containerID, placeholderID) {\n//   const segmentContainer = document.getElementById(containerID);\n//   const placeholderNode = document.getElementById(placeholderID);\n//   // We always expect both nodes to exist here because, while we might\n//   // have navigated away from the main tree, we still expect the detached\n//   // tree to exist.\n//   segmentContainer.parentNode.removeChild(segmentContainer);\n//   while (segmentContainer.firstChild) {\n//     placeholderNode.parentNode.insertBefore(\n//       segmentContainer.firstChild,\n//       placeholderNode,\n//     );\n//   }\n//   placeholderNode.parentNode.removeChild(placeholderNode);\n// }\n\nvar completeSegmentFunction = 'function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)}';\nvar completeBoundaryFunction = 'function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if(\"/$\"===d)if(0===e)break;else e--;else\"$\"!==d&&\"$?\"!==d&&\"$!\"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data=\"$\";a._reactRetry&&a._reactRetry()}}';\nvar clientRenderFunction = 'function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data=\"$!\",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())}';\nvar completeSegmentScript1Full = stringToPrecomputedChunk(completeSegmentFunction + ';$RS(\"');\nvar completeSegmentScript1Partial = stringToPrecomputedChunk('$RS(\"');\nvar completeSegmentScript2 = stringToPrecomputedChunk('\",\"');\nvar completeSegmentScript3 = stringToPrecomputedChunk('\")</script>');\nvar completeBoundaryScript1Full = stringToPrecomputedChunk(completeBoundaryFunction + ';$RC(\"');\nvar completeBoundaryScript1Partial = stringToPrecomputedChunk('$RC(\"');\nvar completeBoundaryScript2 = stringToPrecomputedChunk('\",\"');\nvar completeBoundaryScript3 = stringToPrecomputedChunk('\")</script>');\nvar clientRenderScript1Full = stringToPrecomputedChunk(clientRenderFunction + ';$RX(\"');\nvar clientRenderScript1Partial = stringToPrecomputedChunk('$RX(\"');\nvar clientRenderScript1A = stringToPrecomputedChunk('\"');\nvar clientRenderScript2 = stringToPrecomputedChunk(')</script>');\nvar clientRenderErrorScriptArgInterstitial = stringToPrecomputedChunk(',');\n\nvar rendererSigil;\n\n{\n  // Use this to detect multiple renderers using the same context\n  rendererSigil = {};\n} // Used to store the parent path of all context overrides in a shared linked list.\n// Forming a reverse tree.\n\n\nvar rootContextSnapshot = null; // We assume that this runtime owns the \"current\" field on all ReactContext instances.\n// This global (actually thread local) state represents what state all those \"current\",\n// fields are currently in.\n\nvar currentActiveSnapshot = null;\n\nfunction popNode(prev) {\n  {\n    prev.context._currentValue = prev.parentValue;\n  }\n}\n\nfunction pushNode(next) {\n  {\n    next.context._currentValue = next.value;\n  }\n}\n\nfunction popToNearestCommonAncestor(prev, next) {\n  if (prev === next) ; else {\n    popNode(prev);\n    var parentPrev = prev.parent;\n    var parentNext = next.parent;\n\n    if (parentPrev === null) {\n      if (parentNext !== null) {\n        throw new Error('The stacks must reach the root at the same time. This is a bug in React.');\n      }\n    } else {\n      if (parentNext === null) {\n        throw new Error('The stacks must reach the root at the same time. This is a bug in React.');\n      }\n\n      popToNearestCommonAncestor(parentPrev, parentNext); // On the way back, we push the new ones that weren't common.\n\n      pushNode(next);\n    }\n  }\n}\n\nfunction popAllPrevious(prev) {\n  popNode(prev);\n  var parentPrev = prev.parent;\n\n  if (parentPrev !== null) {\n    popAllPrevious(parentPrev);\n  }\n}\n\nfunction pushAllNext(next) {\n  var parentNext = next.parent;\n\n  if (parentNext !== null) {\n    pushAllNext(parentNext);\n  }\n\n  pushNode(next);\n}\n\nfunction popPreviousToCommonLevel(prev, next) {\n  popNode(prev);\n  var parentPrev = prev.parent;\n\n  if (parentPrev === null) {\n    throw new Error('The depth must equal at least at zero before reaching the root. This is a bug in React.');\n  }\n\n  if (parentPrev.depth === next.depth) {\n    // We found the same level. Now we just need to find a shared ancestor.\n    popToNearestCommonAncestor(parentPrev, next);\n  } else {\n    // We must still be deeper.\n    popPreviousToCommonLevel(parentPrev, next);\n  }\n}\n\nfunction popNextToCommonLevel(prev, next) {\n  var parentNext = next.parent;\n\n  if (parentNext === null) {\n    throw new Error('The depth must equal at least at zero before reaching the root. This is a bug in React.');\n  }\n\n  if (prev.depth === parentNext.depth) {\n    // We found the same level. Now we just need to find a shared ancestor.\n    popToNearestCommonAncestor(prev, parentNext);\n  } else {\n    // We must still be deeper.\n    popNextToCommonLevel(prev, parentNext);\n  }\n\n  pushNode(next);\n} // Perform context switching to the new snapshot.\n// To make it cheap to read many contexts, while not suspending, we make the switch eagerly by\n// updating all the context's current values. That way reads, always just read the current value.\n// At the cost of updating contexts even if they're never read by this subtree.\n\n\nfunction switchContext(newSnapshot) {\n  // The basic algorithm we need to do is to pop back any contexts that are no longer on the stack.\n  // We also need to update any new contexts that are now on the stack with the deepest value.\n  // The easiest way to update new contexts is to just reapply them in reverse order from the\n  // perspective of the backpointers. To avoid allocating a lot when switching, we use the stack\n  // for that. Therefore this algorithm is recursive.\n  // 1) First we pop which ever snapshot tree was deepest. Popping old contexts as we go.\n  // 2) Then we find the nearest common ancestor from there. Popping old contexts as we go.\n  // 3) Then we reapply new contexts on the way back up the stack.\n  var prev = currentActiveSnapshot;\n  var next = newSnapshot;\n\n  if (prev !== next) {\n    if (prev === null) {\n      // $FlowFixMe: This has to be non-null since it's not equal to prev.\n      pushAllNext(next);\n    } else if (next === null) {\n      popAllPrevious(prev);\n    } else if (prev.depth === next.depth) {\n      popToNearestCommonAncestor(prev, next);\n    } else if (prev.depth > next.depth) {\n      popPreviousToCommonLevel(prev, next);\n    } else {\n      popNextToCommonLevel(prev, next);\n    }\n\n    currentActiveSnapshot = next;\n  }\n}\nfunction pushProvider(context, nextValue) {\n  var prevValue;\n\n  {\n    prevValue = context._currentValue;\n    context._currentValue = nextValue;\n\n    {\n      if (context._currentRenderer !== undefined && context._currentRenderer !== null && context._currentRenderer !== rendererSigil) {\n        error('Detected multiple renderers concurrently rendering the ' + 'same context provider. This is currently unsupported.');\n      }\n\n      context._currentRenderer = rendererSigil;\n    }\n  }\n\n  var prevNode = currentActiveSnapshot;\n  var newNode = {\n    parent: prevNode,\n    depth: prevNode === null ? 0 : prevNode.depth + 1,\n    context: context,\n    parentValue: prevValue,\n    value: nextValue\n  };\n  currentActiveSnapshot = newNode;\n  return newNode;\n}\nfunction popProvider() {\n  var prevSnapshot = currentActiveSnapshot;\n\n  if (prevSnapshot === null) {\n    throw new Error('Tried to pop a Context at the root of the app. This is a bug in React.');\n  }\n\n  {\n    var value = prevSnapshot.parentValue;\n\n    if (value === REACT_SERVER_CONTEXT_DEFAULT_VALUE_NOT_LOADED) {\n      prevSnapshot.context._currentValue = prevSnapshot.context._defaultValue;\n    } else {\n      prevSnapshot.context._currentValue = value;\n    }\n  }\n\n  return currentActiveSnapshot = prevSnapshot.parent;\n}\nfunction getActiveContext() {\n  return currentActiveSnapshot;\n}\nfunction readContext(context) {\n  var value =  context._currentValue ;\n  return value;\n}\n\nvar currentRequest = null;\nfunction prepareToUseHooksForRequest(request) {\n  currentRequest = request;\n}\nfunction resetHooksForRequest() {\n  currentRequest = null;\n}\n\nfunction readContext$1(context) {\n  {\n    if (context.$$typeof !== REACT_SERVER_CONTEXT_TYPE) {\n      error('Only ServerContext is supported in Flight');\n    }\n\n    if (currentCache === null) {\n      error('Context can only be read while React is rendering. ' + 'In classes, you can read it in the render method or getDerivedStateFromProps. ' + 'In function components, you can read it directly in the function body, but not ' + 'inside Hooks like useReducer() or useMemo().');\n    }\n  }\n\n  return readContext(context);\n}\n\nvar Dispatcher = {\n  useMemo: function (nextCreate) {\n    return nextCreate();\n  },\n  useCallback: function (callback) {\n    return callback;\n  },\n  useDebugValue: function () {},\n  useDeferredValue: unsupportedHook,\n  useTransition: unsupportedHook,\n  getCacheForType: function (resourceType) {\n    if (!currentCache) {\n      throw new Error('Reading the cache is only supported while rendering.');\n    }\n\n    var entry = currentCache.get(resourceType);\n\n    if (entry === undefined) {\n      entry = resourceType(); // TODO: Warn if undefined?\n\n      currentCache.set(resourceType, entry);\n    }\n\n    return entry;\n  },\n  readContext: readContext$1,\n  useContext: readContext$1,\n  useReducer: unsupportedHook,\n  useRef: unsupportedHook,\n  useState: unsupportedHook,\n  useInsertionEffect: unsupportedHook,\n  useLayoutEffect: unsupportedHook,\n  useImperativeHandle: unsupportedHook,\n  useEffect: unsupportedHook,\n  useId: useId,\n  useMutableSource: unsupportedHook,\n  useSyncExternalStore: unsupportedHook,\n  useCacheRefresh: function () {\n    return unsupportedRefresh;\n  }\n};\n\nfunction unsupportedHook() {\n  throw new Error('This Hook is not supported in Server Components.');\n}\n\nfunction unsupportedRefresh() {\n  if (!currentCache) {\n    throw new Error('Refreshing the cache is not supported in Server Components.');\n  }\n}\n\nvar currentCache = null;\nfunction setCurrentCache(cache) {\n  currentCache = cache;\n  return currentCache;\n}\nfunction getCurrentCache() {\n  return currentCache;\n}\n\nfunction useId() {\n  if (currentRequest === null) {\n    throw new Error('useId can only be used while React is rendering');\n  }\n\n  var id = currentRequest.identifierCount++; // use 'S' for Flight components to distinguish from 'R' and 'r' in Fizz/Client\n\n  return ':' + currentRequest.identifierPrefix + 'S' + id.toString(32) + ':';\n}\n\nvar ContextRegistry = ReactSharedInternals.ContextRegistry;\nfunction getOrCreateServerContext(globalName) {\n  if (!ContextRegistry[globalName]) {\n    ContextRegistry[globalName] = createServerContext(globalName, REACT_SERVER_CONTEXT_DEFAULT_VALUE_NOT_LOADED);\n  }\n\n  return ContextRegistry[globalName];\n}\n\nvar PENDING = 0;\nvar COMPLETED = 1;\nvar ABORTED = 3;\nvar ERRORED = 4;\nvar ReactCurrentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;\n\nfunction defaultErrorHandler(error) {\n  console['error'](error); // Don't transform to our wrapper\n}\n\nvar OPEN = 0;\nvar CLOSING = 1;\nvar CLOSED = 2;\nfunction createRequest(model, bundlerConfig, onError, context, identifierPrefix) {\n  var abortSet = new Set();\n  var pingedTasks = [];\n  var request = {\n    status: OPEN,\n    fatalError: null,\n    destination: null,\n    bundlerConfig: bundlerConfig,\n    cache: new Map(),\n    nextChunkId: 0,\n    pendingChunks: 0,\n    abortableTasks: abortSet,\n    pingedTasks: pingedTasks,\n    completedModuleChunks: [],\n    completedJSONChunks: [],\n    completedErrorChunks: [],\n    writtenSymbols: new Map(),\n    writtenModules: new Map(),\n    writtenProviders: new Map(),\n    identifierPrefix: identifierPrefix || '',\n    identifierCount: 1,\n    onError: onError === undefined ? defaultErrorHandler : onError,\n    toJSON: function (key, value) {\n      return resolveModelToJSON(request, this, key, value);\n    }\n  };\n  request.pendingChunks++;\n  var rootContext = createRootContext(context);\n  var rootTask = createTask(request, model, rootContext, abortSet);\n  pingedTasks.push(rootTask);\n  return request;\n}\n\nfunction createRootContext(reqContext) {\n  return importServerContexts(reqContext);\n}\n\nvar POP = {};\n\nfunction attemptResolveElement(type, key, ref, props) {\n  if (ref !== null && ref !== undefined) {\n    // When the ref moves to the regular props object this will implicitly\n    // throw for functions. We could probably relax it to a DEV warning for other\n    // cases.\n    throw new Error('Refs cannot be used in server components, nor passed to client components.');\n  }\n\n  if (typeof type === 'function') {\n    if (isModuleReference(type)) {\n      // This is a reference to a client component.\n      return [REACT_ELEMENT_TYPE, type, key, props];\n    } // This is a server-side component.\n\n\n    return type(props);\n  } else if (typeof type === 'string') {\n    // This is a host element. E.g. HTML.\n    return [REACT_ELEMENT_TYPE, type, key, props];\n  } else if (typeof type === 'symbol') {\n    if (type === REACT_FRAGMENT_TYPE) {\n      // For key-less fragments, we add a small optimization to avoid serializing\n      // it as a wrapper.\n      // TODO: If a key is specified, we should propagate its key to any children.\n      // Same as if a server component has a key.\n      return props.children;\n    } // This might be a built-in React component. We'll let the client decide.\n    // Any built-in works as long as its props are serializable.\n\n\n    return [REACT_ELEMENT_TYPE, type, key, props];\n  } else if (type != null && typeof type === 'object') {\n    if (isModuleReference(type)) {\n      // This is a reference to a client component.\n      return [REACT_ELEMENT_TYPE, type, key, props];\n    }\n\n    switch (type.$$typeof) {\n      case REACT_LAZY_TYPE:\n        {\n          var payload = type._payload;\n          var init = type._init;\n          var wrappedType = init(payload);\n          return attemptResolveElement(wrappedType, key, ref, props);\n        }\n\n      case REACT_FORWARD_REF_TYPE:\n        {\n          var render = type.render;\n          return render(props, undefined);\n        }\n\n      case REACT_MEMO_TYPE:\n        {\n          return attemptResolveElement(type.type, key, ref, props);\n        }\n\n      case REACT_PROVIDER_TYPE:\n        {\n          pushProvider(type._context, props.value);\n\n          {\n            var extraKeys = Object.keys(props).filter(function (value) {\n              if (value === 'children' || value === 'value') {\n                return false;\n              }\n\n              return true;\n            });\n\n            if (extraKeys.length !== 0) {\n              error('ServerContext can only have a value prop and children. Found: %s', JSON.stringify(extraKeys));\n            }\n          }\n\n          return [REACT_ELEMENT_TYPE, type, key, // Rely on __popProvider being serialized last to pop the provider.\n          {\n            value: props.value,\n            children: props.children,\n            __pop: POP\n          }];\n        }\n    }\n  }\n\n  throw new Error(\"Unsupported server component type: \" + describeValueForErrorMessage(type));\n}\n\nfunction pingTask(request, task) {\n  var pingedTasks = request.pingedTasks;\n  pingedTasks.push(task);\n\n  if (pingedTasks.length === 1) {\n    scheduleWork(function () {\n      return performWork(request);\n    });\n  }\n}\n\nfunction createTask(request, model, context, abortSet) {\n  var id = request.nextChunkId++;\n  var task = {\n    id: id,\n    status: PENDING,\n    model: model,\n    context: context,\n    ping: function () {\n      return pingTask(request, task);\n    }\n  };\n  abortSet.add(task);\n  return task;\n}\n\nfunction serializeByValueID(id) {\n  return '$' + id.toString(16);\n}\n\nfunction serializeByRefID(id) {\n  return '@' + id.toString(16);\n}\n\nfunction escapeStringValue(value) {\n  if (value[0] === '$' || value[0] === '@') {\n    // We need to escape $ or @ prefixed strings since we use those to encode\n    // references to IDs and as special symbol values.\n    return '$' + value;\n  } else {\n    return value;\n  }\n}\n\nfunction isObjectPrototype(object) {\n  if (!object) {\n    return false;\n  }\n\n  var ObjectPrototype = Object.prototype;\n\n  if (object === ObjectPrototype) {\n    return true;\n  } // It might be an object from a different Realm which is\n  // still just a plain simple object.\n\n\n  if (Object.getPrototypeOf(object)) {\n    return false;\n  }\n\n  var names = Object.getOwnPropertyNames(object);\n\n  for (var i = 0; i < names.length; i++) {\n    if (!(names[i] in ObjectPrototype)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction isSimpleObject(object) {\n  if (!isObjectPrototype(Object.getPrototypeOf(object))) {\n    return false;\n  }\n\n  var names = Object.getOwnPropertyNames(object);\n\n  for (var i = 0; i < names.length; i++) {\n    var descriptor = Object.getOwnPropertyDescriptor(object, names[i]);\n\n    if (!descriptor) {\n      return false;\n    }\n\n    if (!descriptor.enumerable) {\n      if ((names[i] === 'key' || names[i] === 'ref') && typeof descriptor.get === 'function') {\n        // React adds key and ref getters to props objects to issue warnings.\n        // Those getters will not be transferred to the client, but that's ok,\n        // so we'll special case them.\n        continue;\n      }\n\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction objectName(object) {\n  var name = Object.prototype.toString.call(object);\n  return name.replace(/^\\[object (.*)\\]$/, function (m, p0) {\n    return p0;\n  });\n}\n\nfunction describeKeyForErrorMessage(key) {\n  var encodedKey = JSON.stringify(key);\n  return '\"' + key + '\"' === encodedKey ? key : encodedKey;\n}\n\nfunction describeValueForErrorMessage(value) {\n  switch (typeof value) {\n    case 'string':\n      {\n        return JSON.stringify(value.length <= 10 ? value : value.substr(0, 10) + '...');\n      }\n\n    case 'object':\n      {\n        if (isArray(value)) {\n          return '[...]';\n        }\n\n        var name = objectName(value);\n\n        if (name === 'Object') {\n          return '{...}';\n        }\n\n        return name;\n      }\n\n    case 'function':\n      return 'function';\n\n    default:\n      // eslint-disable-next-line react-internal/safe-string-coercion\n      return String(value);\n  }\n}\n\nfunction describeObjectForErrorMessage(objectOrArray, expandedName) {\n  if (isArray(objectOrArray)) {\n    var str = '[';\n    var array = objectOrArray;\n\n    for (var i = 0; i < array.length; i++) {\n      if (i > 0) {\n        str += ', ';\n      }\n\n      if (i > 6) {\n        str += '...';\n        break;\n      }\n\n      var _value = array[i];\n\n      if ('' + i === expandedName && typeof _value === 'object' && _value !== null) {\n        str += describeObjectForErrorMessage(_value);\n      } else {\n        str += describeValueForErrorMessage(_value);\n      }\n    }\n\n    str += ']';\n    return str;\n  } else {\n    var _str = '{';\n    var object = objectOrArray;\n    var names = Object.keys(object);\n\n    for (var _i = 0; _i < names.length; _i++) {\n      if (_i > 0) {\n        _str += ', ';\n      }\n\n      if (_i > 6) {\n        _str += '...';\n        break;\n      }\n\n      var name = names[_i];\n      _str += describeKeyForErrorMessage(name) + ': ';\n      var _value2 = object[name];\n\n      if (name === expandedName && typeof _value2 === 'object' && _value2 !== null) {\n        _str += describeObjectForErrorMessage(_value2);\n      } else {\n        _str += describeValueForErrorMessage(_value2);\n      }\n    }\n\n    _str += '}';\n    return _str;\n  }\n}\n\nvar insideContextProps = null;\nvar isInsideContextValue = false;\nfunction resolveModelToJSON(request, parent, key, value) {\n  {\n    // $FlowFixMe\n    var originalValue = parent[key];\n\n    if (typeof originalValue === 'object' && originalValue !== value) {\n      error('Only plain objects can be passed to client components from server components. ' + 'Objects with toJSON methods are not supported. Convert it manually ' + 'to a simple value before passing it to props. ' + 'Remove %s from these props: %s', describeKeyForErrorMessage(key), describeObjectForErrorMessage(parent));\n    }\n  } // Special Symbols\n\n\n  switch (value) {\n    case REACT_ELEMENT_TYPE:\n      return '$';\n  }\n\n  {\n    if (parent[0] === REACT_ELEMENT_TYPE && parent[1] && parent[1].$$typeof === REACT_PROVIDER_TYPE && key === '3') {\n      insideContextProps = value;\n    } else if (insideContextProps === parent && key === 'value') {\n      isInsideContextValue = true;\n    } else if (insideContextProps === parent && key === 'children') {\n      isInsideContextValue = false;\n    }\n  } // Resolve server components.\n\n\n  while (typeof value === 'object' && value !== null && (value.$$typeof === REACT_ELEMENT_TYPE || value.$$typeof === REACT_LAZY_TYPE)) {\n    {\n      if (isInsideContextValue) {\n        error('React elements are not allowed in ServerContext');\n      }\n    }\n\n    try {\n      switch (value.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          {\n            // TODO: Concatenate keys of parents onto children.\n            var element = value; // Attempt to render the server component.\n\n            value = attemptResolveElement(element.type, element.key, element.ref, element.props);\n            break;\n          }\n\n        case REACT_LAZY_TYPE:\n          {\n            var payload = value._payload;\n            var init = value._init;\n            value = init(payload);\n            break;\n          }\n      }\n    } catch (x) {\n      if (typeof x === 'object' && x !== null && typeof x.then === 'function') {\n        // Something suspended, we'll need to create a new task and resolve it later.\n        request.pendingChunks++;\n        var newTask = createTask(request, value, getActiveContext(), request.abortableTasks);\n        var ping = newTask.ping;\n        x.then(ping, ping);\n        return serializeByRefID(newTask.id);\n      } else {\n        logRecoverableError(request, x); // Something errored. We'll still send everything we have up until this point.\n        // We'll replace this element with a lazy reference that throws on the client\n        // once it gets rendered.\n\n        request.pendingChunks++;\n        var errorId = request.nextChunkId++;\n        emitErrorChunk(request, errorId, x);\n        return serializeByRefID(errorId);\n      }\n    }\n  }\n\n  if (value == null) {\n    return value;\n  }\n\n  if (typeof value === 'object' || isModuleReference(value)) {\n    if (isModuleReference(value)) {\n      var moduleReference = value;\n      var moduleKey = getModuleKey(moduleReference);\n      var writtenModules = request.writtenModules;\n      var existingId = writtenModules.get(moduleKey);\n\n      if (existingId !== undefined) {\n        if (parent[0] === REACT_ELEMENT_TYPE && key === '1') {\n          // If we're encoding the \"type\" of an element, we can refer\n          // to that by a lazy reference instead of directly since React\n          // knows how to deal with lazy values. This lets us suspend\n          // on this component rather than its parent until the code has\n          // loaded.\n          return serializeByRefID(existingId);\n        }\n\n        return serializeByValueID(existingId);\n      }\n\n      try {\n        var moduleMetaData = resolveModuleMetaData(request.bundlerConfig, moduleReference);\n        request.pendingChunks++;\n        var moduleId = request.nextChunkId++;\n        emitModuleChunk(request, moduleId, moduleMetaData);\n        writtenModules.set(moduleKey, moduleId);\n\n        if (parent[0] === REACT_ELEMENT_TYPE && key === '1') {\n          // If we're encoding the \"type\" of an element, we can refer\n          // to that by a lazy reference instead of directly since React\n          // knows how to deal with lazy values. This lets us suspend\n          // on this component rather than its parent until the code has\n          // loaded.\n          return serializeByRefID(moduleId);\n        }\n\n        return serializeByValueID(moduleId);\n      } catch (x) {\n        request.pendingChunks++;\n\n        var _errorId = request.nextChunkId++;\n\n        emitErrorChunk(request, _errorId, x);\n        return serializeByValueID(_errorId);\n      }\n    } else if (value.$$typeof === REACT_PROVIDER_TYPE) {\n      var providerKey = value._context._globalName;\n      var writtenProviders = request.writtenProviders;\n      var providerId = writtenProviders.get(key);\n\n      if (providerId === undefined) {\n        request.pendingChunks++;\n        providerId = request.nextChunkId++;\n        writtenProviders.set(providerKey, providerId);\n        emitProviderChunk(request, providerId, providerKey);\n      }\n\n      return serializeByValueID(providerId);\n    } else if (value === POP) {\n      popProvider();\n\n      {\n        insideContextProps = null;\n        isInsideContextValue = false;\n      }\n\n      return undefined;\n    }\n\n    {\n      if (value !== null && !isArray(value)) {\n        // Verify that this is a simple plain object.\n        if (objectName(value) !== 'Object') {\n          error('Only plain objects can be passed to client components from server components. ' + 'Built-ins like %s are not supported. ' + 'Remove %s from these props: %s', objectName(value), describeKeyForErrorMessage(key), describeObjectForErrorMessage(parent));\n        } else if (typeof value === 'object' && !isSimpleObject(value)) {\n          error('Only plain objects can be passed to client components from server components. ' + 'Classes or other objects with methods are not supported. ' + 'Remove %s from these props: %s', describeKeyForErrorMessage(key), describeObjectForErrorMessage(parent, key));\n        } else if (Object.getOwnPropertySymbols) {\n          var symbols = Object.getOwnPropertySymbols(value);\n\n          if (symbols.length > 0) {\n            error('Only plain objects can be passed to client components from server components. ' + 'Objects with symbol properties like %s are not supported. ' + 'Remove %s from these props: %s', symbols[0].description, describeKeyForErrorMessage(key), describeObjectForErrorMessage(parent, key));\n          }\n        }\n      }\n    }\n\n    return value;\n  }\n\n  if (typeof value === 'string') {\n    return escapeStringValue(value);\n  }\n\n  if (typeof value === 'boolean' || typeof value === 'number' || typeof value === 'undefined') {\n    return value;\n  }\n\n  if (typeof value === 'function') {\n    if (/^on[A-Z]/.test(key)) {\n      throw new Error('Event handlers cannot be passed to client component props. ' + (\"Remove \" + describeKeyForErrorMessage(key) + \" from these props if possible: \" + describeObjectForErrorMessage(parent) + \"\\n\") + 'If you need interactivity, consider converting part of this to a client component.');\n    } else {\n      throw new Error('Functions cannot be passed directly to client components ' + \"because they're not serializable. \" + (\"Remove \" + describeKeyForErrorMessage(key) + \" (\" + (value.displayName || value.name || 'function') + \") from this object, or avoid the entire object: \" + describeObjectForErrorMessage(parent)));\n    }\n  }\n\n  if (typeof value === 'symbol') {\n    var writtenSymbols = request.writtenSymbols;\n\n    var _existingId = writtenSymbols.get(value);\n\n    if (_existingId !== undefined) {\n      return serializeByValueID(_existingId);\n    }\n\n    var name = value.description;\n\n    if (Symbol.for(name) !== value) {\n      throw new Error('Only global symbols received from Symbol.for(...) can be passed to client components. ' + (\"The symbol Symbol.for(\" + value.description + \") cannot be found among global symbols. \") + (\"Remove \" + describeKeyForErrorMessage(key) + \" from this object, or avoid the entire object: \" + describeObjectForErrorMessage(parent)));\n    }\n\n    request.pendingChunks++;\n    var symbolId = request.nextChunkId++;\n    emitSymbolChunk(request, symbolId, name);\n    writtenSymbols.set(value, symbolId);\n    return serializeByValueID(symbolId);\n  } // $FlowFixMe: bigint isn't added to Flow yet.\n\n\n  if (typeof value === 'bigint') {\n    throw new Error(\"BigInt (\" + value + \") is not yet supported in client component props. \" + (\"Remove \" + describeKeyForErrorMessage(key) + \" from this object or use a plain number instead: \" + describeObjectForErrorMessage(parent)));\n  }\n\n  throw new Error(\"Type \" + typeof value + \" is not supported in client component props. \" + (\"Remove \" + describeKeyForErrorMessage(key) + \" from this object, or avoid the entire object: \" + describeObjectForErrorMessage(parent)));\n}\n\nfunction logRecoverableError(request, error) {\n  var onError = request.onError;\n  onError(error);\n}\n\nfunction fatalError(request, error) {\n  // This is called outside error handling code such as if an error happens in React internals.\n  if (request.destination !== null) {\n    request.status = CLOSED;\n    closeWithError(request.destination, error);\n  } else {\n    request.status = CLOSING;\n    request.fatalError = error;\n  }\n}\n\nfunction emitErrorChunk(request, id, error) {\n  // TODO: We should not leak error messages to the client in prod.\n  // Give this an error code instead and log on the server.\n  // We can serialize the error in DEV as a convenience.\n  var message;\n  var stack = '';\n\n  try {\n    if (error instanceof Error) {\n      // eslint-disable-next-line react-internal/safe-string-coercion\n      message = String(error.message); // eslint-disable-next-line react-internal/safe-string-coercion\n\n      stack = String(error.stack);\n    } else {\n      message = 'Error: ' + error;\n    }\n  } catch (x) {\n    message = 'An error occurred but serializing the error message failed.';\n  }\n\n  var processedChunk = processErrorChunk(request, id, message, stack);\n  request.completedErrorChunks.push(processedChunk);\n}\n\nfunction emitModuleChunk(request, id, moduleMetaData) {\n  var processedChunk = processModuleChunk(request, id, moduleMetaData);\n  request.completedModuleChunks.push(processedChunk);\n}\n\nfunction emitSymbolChunk(request, id, name) {\n  var processedChunk = processSymbolChunk(request, id, name);\n  request.completedModuleChunks.push(processedChunk);\n}\n\nfunction emitProviderChunk(request, id, contextName) {\n  var processedChunk = processProviderChunk(request, id, contextName);\n  request.completedJSONChunks.push(processedChunk);\n}\n\nfunction retryTask(request, task) {\n  if (task.status !== PENDING) {\n    // We completed this by other means before we had a chance to retry it.\n    return;\n  }\n\n  switchContext(task.context);\n\n  try {\n    var _value3 = task.model;\n\n    while (typeof _value3 === 'object' && _value3 !== null && _value3.$$typeof === REACT_ELEMENT_TYPE) {\n      // TODO: Concatenate keys of parents onto children.\n      var element = _value3; // Attempt to render the server component.\n      // Doing this here lets us reuse this same task if the next component\n      // also suspends.\n\n      task.model = _value3;\n      _value3 = attemptResolveElement(element.type, element.key, element.ref, element.props);\n    }\n\n    var processedChunk = processModelChunk(request, task.id, _value3);\n    request.completedJSONChunks.push(processedChunk);\n    request.abortableTasks.delete(task);\n    task.status = COMPLETED;\n  } catch (x) {\n    if (typeof x === 'object' && x !== null && typeof x.then === 'function') {\n      // Something suspended again, let's pick it back up later.\n      var ping = task.ping;\n      x.then(ping, ping);\n      return;\n    } else {\n      request.abortableTasks.delete(task);\n      task.status = ERRORED;\n      logRecoverableError(request, x); // This errored, we need to serialize this error to the\n\n      emitErrorChunk(request, task.id, x);\n    }\n  }\n}\n\nfunction performWork(request) {\n  var prevDispatcher = ReactCurrentDispatcher.current;\n  var prevCache = getCurrentCache();\n  ReactCurrentDispatcher.current = Dispatcher;\n  setCurrentCache(request.cache);\n  prepareToUseHooksForRequest(request);\n\n  try {\n    var pingedTasks = request.pingedTasks;\n    request.pingedTasks = [];\n\n    for (var i = 0; i < pingedTasks.length; i++) {\n      var task = pingedTasks[i];\n      retryTask(request, task);\n    }\n\n    if (request.destination !== null) {\n      flushCompletedChunks(request, request.destination);\n    }\n  } catch (error) {\n    logRecoverableError(request, error);\n    fatalError(request, error);\n  } finally {\n    ReactCurrentDispatcher.current = prevDispatcher;\n    setCurrentCache(prevCache);\n    resetHooksForRequest();\n  }\n}\n\nfunction abortTask(task, request, errorId) {\n  task.status = ABORTED; // Instead of emitting an error per task.id, we emit a model that only\n  // has a single value referencing the error.\n\n  var ref = serializeByValueID(errorId);\n  var processedChunk = processReferenceChunk(request, task.id, ref);\n  request.completedJSONChunks.push(processedChunk);\n}\n\nfunction flushCompletedChunks(request, destination) {\n  beginWriting();\n\n  try {\n    // We emit module chunks first in the stream so that\n    // they can be preloaded as early as possible.\n    var moduleChunks = request.completedModuleChunks;\n    var i = 0;\n\n    for (; i < moduleChunks.length; i++) {\n      request.pendingChunks--;\n      var chunk = moduleChunks[i];\n      var keepWriting = writeChunkAndReturn(destination, chunk);\n\n      if (!keepWriting) {\n        request.destination = null;\n        i++;\n        break;\n      }\n    }\n\n    moduleChunks.splice(0, i); // Next comes model data.\n\n    var jsonChunks = request.completedJSONChunks;\n    i = 0;\n\n    for (; i < jsonChunks.length; i++) {\n      request.pendingChunks--;\n      var _chunk = jsonChunks[i];\n\n      var _keepWriting = writeChunkAndReturn(destination, _chunk);\n\n      if (!_keepWriting) {\n        request.destination = null;\n        i++;\n        break;\n      }\n    }\n\n    jsonChunks.splice(0, i); // Finally, errors are sent. The idea is that it's ok to delay\n    // any error messages and prioritize display of other parts of\n    // the page.\n\n    var errorChunks = request.completedErrorChunks;\n    i = 0;\n\n    for (; i < errorChunks.length; i++) {\n      request.pendingChunks--;\n      var _chunk2 = errorChunks[i];\n\n      var _keepWriting2 = writeChunkAndReturn(destination, _chunk2);\n\n      if (!_keepWriting2) {\n        request.destination = null;\n        i++;\n        break;\n      }\n    }\n\n    errorChunks.splice(0, i);\n  } finally {\n    completeWriting(destination);\n  }\n\n  if (request.pendingChunks === 0) {\n    // We're done.\n    close(destination);\n  }\n}\n\nfunction startWork(request) {\n  scheduleWork(function () {\n    return performWork(request);\n  });\n}\nfunction startFlowing(request, destination) {\n  if (request.status === CLOSING) {\n    request.status = CLOSED;\n    closeWithError(destination, request.fatalError);\n    return;\n  }\n\n  if (request.status === CLOSED) {\n    return;\n  }\n\n  if (request.destination !== null) {\n    // We're already flowing.\n    return;\n  }\n\n  request.destination = destination;\n\n  try {\n    flushCompletedChunks(request, destination);\n  } catch (error) {\n    logRecoverableError(request, error);\n    fatalError(request, error);\n  }\n} // This is called to early terminate a request. It creates an error at all pending tasks.\n\nfunction abort(request, reason) {\n  try {\n    var abortableTasks = request.abortableTasks;\n\n    if (abortableTasks.size > 0) {\n      // We have tasks to abort. We'll emit one error row and then emit a reference\n      // to that row from every row that's still remaining.\n      var _error = reason === undefined ? new Error('The render was aborted by the server without a reason.') : reason;\n\n      logRecoverableError(request, _error);\n      request.pendingChunks++;\n      var errorId = request.nextChunkId++;\n      emitErrorChunk(request, errorId, _error);\n      abortableTasks.forEach(function (task) {\n        return abortTask(task, request, errorId);\n      });\n      abortableTasks.clear();\n    }\n\n    if (request.destination !== null) {\n      flushCompletedChunks(request, request.destination);\n    }\n  } catch (error) {\n    logRecoverableError(request, error);\n    fatalError(request, error);\n  }\n}\n\nfunction importServerContexts(contexts) {\n  if (contexts) {\n    var prevContext = getActiveContext();\n    switchContext(rootContextSnapshot);\n\n    for (var i = 0; i < contexts.length; i++) {\n      var _contexts$i = contexts[i],\n          name = _contexts$i[0],\n          _value4 = _contexts$i[1];\n      var context = getOrCreateServerContext(name);\n      pushProvider(context, _value4);\n    }\n\n    var importedContext = getActiveContext();\n    switchContext(prevContext);\n    return importedContext;\n  }\n\n  return rootContextSnapshot;\n}\n\nfunction renderToReadableStream(model, options) {\n  var request = createRequest( // Wrap root in a dummy element that simply adds a flag\n  // to the current dispatcher to check later in the proxies.\n  assign({}, model, {\n    $$typeof: Symbol.for('react.element'),\n    props: {\n      children: model\n    },\n    type: function () {\n      __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher.current.isRsc = true;\n      return model;\n    }\n  }), {}, // Manifest, not used\n  options ? options.onError : undefined, options ? options.context : undefined, options ? options.identifierPrefix : undefined);\n\n  if (options && options.signal) {\n    var signal = options.signal;\n\n    if (signal.aborted) {\n      abort(request, signal.reason);\n    } else {\n      var listener = function () {\n        abort(request, signal.reason);\n        signal.removeEventListener('abort', listener);\n      };\n\n      signal.addEventListener('abort', listener);\n    }\n  }\n\n  var stream = new ReadableStream({\n    type: 'bytes',\n    start: function (controller) {\n      startWork(request);\n    },\n    pull: function (controller) {\n      startFlowing(request, controller);\n    },\n    cancel: function (reason) {}\n  }, // $FlowFixMe size() methods are not allowed on byte streams.\n  {\n    highWaterMark: 0\n  });\n  return stream;\n}\n\nexport { renderToReadableStream };\n","/**\n* @license React\n * react-server-dom-vite.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED, createServerContext } from 'react';\n\nfunction createStringDecoder() {\n  return new TextDecoder();\n}\nvar decoderOptions = {\n  stream: true\n};\nfunction readPartialStringChunk(decoder, buffer) {\n  return decoder.decode(buffer, decoderOptions);\n}\nfunction readFinalStringChunk(decoder, buffer) {\n  return decoder.decode(buffer);\n}\n\nfunction parseModel(response, json) {\n  return JSON.parse(json, response._fromJSON);\n}\n\nvar META_HOT = import.meta.hot;\nvar META_ENV_DEV = import.meta.env.DEV;\n\nfunction resolveModuleReference(bundlerConfig, moduleData) {\n  return moduleData;\n} // Vite import globs will be injected here.\n\nvar allClientComponents = {\n  __INJECTED_CLIENT_IMPORTERS__: null\n}; // Mock client component imports during testing\n\nif (META_ENV_DEV && typeof jest !== 'undefined') {\n  global.allClientComponents = allClientComponents;\n}\n\nfunction importClientComponent(moduleId) {\n  var modImport = allClientComponents[moduleId];\n\n  if (!modImport) {\n    var error = new Error(\"Could not find client component \" + moduleId);\n\n    if (META_HOT) {\n      META_HOT.send('rsc:cc404', {\n        id: moduleId\n      });\n      return new Promise(function (_, reject) {\n        return setTimeout(function () {\n          return reject(error);\n        }, 200);\n      });\n    }\n\n    return Promise.reject(error);\n  }\n\n  return typeof modImport === 'function' ? modImport() : Promise.resolve(modImport);\n} // The module cache contains all the modules we've preloaded so far.\n// If they're still pending they're a thenable.\n\n\nvar moduleCache = new Map(); // Start preloading the modules since we might need them soon.\n// This function doesn't suspend.\n\nfunction preloadModule(_ref) {\n  var id = _ref.id;\n  if (moduleCache.has(id)) return;\n\n  function cacheResult(mod) {\n    moduleCache.set(id, mod);\n    return mod;\n  } // Store the original promise first, then override cache with its result.\n\n\n  var promise = importClientComponent(id);\n  cacheResult(promise);\n  promise.then(cacheResult, cacheResult);\n} // Actually require the module or suspend if it's not yet ready.\n// Increase priority if necessary.\n\nfunction requireModule(_ref2) {\n  var id = _ref2.id,\n      name = _ref2.name;\n  var mod = moduleCache.get(id);\n\n  if (!mod || mod instanceof Promise || mod instanceof Error) {\n    // This module is still being downloaded or\n    // it has errored out. Pass it to Suspense.\n    throw mod;\n  }\n\n  return mod[name];\n}\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n// The Symbol used to tag the ReactElement-like types.\nvar REACT_ELEMENT_TYPE = Symbol.for('react.element');\nvar REACT_LAZY_TYPE = Symbol.for('react.lazy');\nvar REACT_SERVER_CONTEXT_DEFAULT_VALUE_NOT_LOADED = Symbol.for('react.default_value');\n\nvar ReactSharedInternals = __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nvar ContextRegistry = ReactSharedInternals.ContextRegistry;\nfunction getOrCreateServerContext(globalName) {\n  if (!ContextRegistry[globalName]) {\n    ContextRegistry[globalName] = createServerContext(globalName, REACT_SERVER_CONTEXT_DEFAULT_VALUE_NOT_LOADED);\n  }\n\n  return ContextRegistry[globalName];\n}\n\nvar PENDING = 0;\nvar RESOLVED_MODEL = 1;\nvar RESOLVED_MODULE = 2;\nvar INITIALIZED = 3;\nvar ERRORED = 4;\n\nfunction Chunk(status, value, response) {\n  this._status = status;\n  this._value = value;\n  this._response = response;\n}\n\nChunk.prototype.then = function (resolve) {\n  var chunk = this;\n\n  if (chunk._status === PENDING) {\n    if (chunk._value === null) {\n      chunk._value = [];\n    }\n\n    chunk._value.push(resolve);\n  } else {\n    resolve();\n  }\n};\n\nfunction readChunk(chunk) {\n  switch (chunk._status) {\n    case INITIALIZED:\n      return chunk._value;\n\n    case RESOLVED_MODEL:\n      return initializeModelChunk(chunk);\n\n    case RESOLVED_MODULE:\n      return initializeModuleChunk(chunk);\n\n    case PENDING:\n      // eslint-disable-next-line no-throw-literal\n      throw chunk;\n\n    default:\n      throw chunk._value;\n  }\n}\n\nfunction readRoot() {\n  var response = this;\n  var chunk = getChunk(response, 0);\n  return readChunk(chunk);\n}\n\nfunction createPendingChunk(response) {\n  return new Chunk(PENDING, null, response);\n}\n\nfunction createErrorChunk(response, error) {\n  return new Chunk(ERRORED, error, response);\n}\n\nfunction createInitializedChunk(response, value) {\n  return new Chunk(INITIALIZED, value, response);\n}\n\nfunction wakeChunk(listeners) {\n  if (listeners !== null) {\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n  }\n}\n\nfunction triggerErrorOnChunk(chunk, error) {\n  if (chunk._status !== PENDING) {\n    // We already resolved. We didn't expect to see this.\n    return;\n  }\n\n  var listeners = chunk._value;\n  var erroredChunk = chunk;\n  erroredChunk._status = ERRORED;\n  erroredChunk._value = error;\n  wakeChunk(listeners);\n}\n\nfunction createResolvedModelChunk(response, value) {\n  return new Chunk(RESOLVED_MODEL, value, response);\n}\n\nfunction createResolvedModuleChunk(response, value) {\n  return new Chunk(RESOLVED_MODULE, value, response);\n}\n\nfunction resolveModelChunk(chunk, value) {\n  if (chunk._status !== PENDING) {\n    // We already resolved. We didn't expect to see this.\n    return;\n  }\n\n  var listeners = chunk._value;\n  var resolvedChunk = chunk;\n  resolvedChunk._status = RESOLVED_MODEL;\n  resolvedChunk._value = value;\n  wakeChunk(listeners);\n}\n\nfunction resolveModuleChunk(chunk, value) {\n  if (chunk._status !== PENDING) {\n    // We already resolved. We didn't expect to see this.\n    return;\n  }\n\n  var listeners = chunk._value;\n  var resolvedChunk = chunk;\n  resolvedChunk._status = RESOLVED_MODULE;\n  resolvedChunk._value = value;\n  wakeChunk(listeners);\n}\n\nfunction initializeModelChunk(chunk) {\n  var value = parseModel(chunk._response, chunk._value);\n  var initializedChunk = chunk;\n  initializedChunk._status = INITIALIZED;\n  initializedChunk._value = value;\n  return value;\n}\n\nfunction initializeModuleChunk(chunk) {\n  var value = requireModule(chunk._value);\n  var initializedChunk = chunk;\n  initializedChunk._status = INITIALIZED;\n  initializedChunk._value = value;\n  return value;\n} // Report that any missing chunks in the model is now going to throw this\n// error upon read. Also notify any pending promises.\n\n\nfunction reportGlobalError(response, error) {\n  response._chunks.forEach(function (chunk) {\n    // If this chunk was already resolved or errored, it won't\n    // trigger an error but if it wasn't then we need to\n    // because we won't be getting any new data to resolve it.\n    triggerErrorOnChunk(chunk, error);\n  });\n}\n\nfunction createElement(type, key, props) {\n  var element = {\n    // This tag allows us to uniquely identify this as a React Element\n    $$typeof: REACT_ELEMENT_TYPE,\n    // Built-in properties that belong on the element\n    type: type,\n    key: key,\n    ref: null,\n    props: props,\n    // Record the component responsible for creating this element.\n    _owner: null\n  };\n\n  {\n    // We don't really need to add any of these but keeping them for good measure.\n    // Unfortunately, _store is enumerable in jest matchers so for equality to\n    // work, I need to keep it or make _store non-enumerable in the other file.\n    element._store = {};\n    Object.defineProperty(element._store, 'validated', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: true // This element has already been validated on the server.\n\n    });\n    Object.defineProperty(element, '_self', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: null\n    });\n    Object.defineProperty(element, '_source', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: null\n    });\n  }\n\n  return element;\n}\n\nfunction createLazyChunkWrapper(chunk) {\n  var lazyType = {\n    $$typeof: REACT_LAZY_TYPE,\n    _payload: chunk,\n    _init: readChunk\n  };\n  return lazyType;\n}\n\nfunction getChunk(response, id) {\n  var chunks = response._chunks;\n  var chunk = chunks.get(id);\n\n  if (!chunk) {\n    chunk = createPendingChunk(response);\n    chunks.set(id, chunk);\n  }\n\n  return chunk;\n}\n\nfunction parseModelString(response, parentObject, value) {\n  switch (value[0]) {\n    case '$':\n      {\n        if (value === '$') {\n          return REACT_ELEMENT_TYPE;\n        } else if (value[1] === '$' || value[1] === '@') {\n          // This was an escaped string value.\n          return value.substring(1);\n        } else {\n          var id = parseInt(value.substring(1), 16);\n          var chunk = getChunk(response, id);\n          return readChunk(chunk);\n        }\n      }\n\n    case '@':\n      {\n        var _id = parseInt(value.substring(1), 16);\n\n        var _chunk = getChunk(response, _id); // We create a React.lazy wrapper around any lazy values.\n        // When passed into React, we'll know how to suspend on this.\n\n\n        return createLazyChunkWrapper(_chunk);\n      }\n  }\n\n  return value;\n}\nfunction parseModelTuple(response, value) {\n  var tuple = value;\n\n  if (tuple[0] === REACT_ELEMENT_TYPE) {\n    // TODO: Consider having React just directly accept these arrays as elements.\n    // Or even change the ReactElement type to be an array.\n    return createElement(tuple[1], tuple[2], tuple[3]);\n  }\n\n  return value;\n}\nfunction createResponse(bundlerConfig) {\n  var chunks = new Map();\n  var response = {\n    _bundlerConfig: bundlerConfig,\n    _chunks: chunks,\n    readRoot: readRoot\n  };\n  return response;\n}\nfunction resolveModel(response, id, model) {\n  var chunks = response._chunks;\n  var chunk = chunks.get(id);\n\n  if (!chunk) {\n    chunks.set(id, createResolvedModelChunk(response, model));\n  } else {\n    resolveModelChunk(chunk, model);\n  }\n}\nfunction resolveProvider(response, id, contextName) {\n  var chunks = response._chunks;\n  chunks.set(id, createInitializedChunk(response, getOrCreateServerContext(contextName).Provider));\n}\nfunction resolveModule(response, id, model) {\n  var chunks = response._chunks;\n  var chunk = chunks.get(id);\n  var moduleMetaData = parseModel(response, model);\n  var moduleReference = resolveModuleReference(response._bundlerConfig, moduleMetaData); // TODO: Add an option to encode modules that are lazy loaded.\n  // For now we preload all modules as early as possible since it's likely\n  // that we'll need them.\n\n  preloadModule(moduleReference);\n\n  if (!chunk) {\n    chunks.set(id, createResolvedModuleChunk(response, moduleReference));\n  } else {\n    resolveModuleChunk(chunk, moduleReference);\n  }\n}\nfunction resolveSymbol(response, id, name) {\n  var chunks = response._chunks; // We assume that we'll always emit the symbol before anything references it\n  // to save a few bytes.\n\n  chunks.set(id, createInitializedChunk(response, Symbol.for(name)));\n}\nfunction resolveError(response, id, message, stack) {\n  // eslint-disable-next-line react-internal/prod-error-codes\n  var error = new Error(message);\n  error.stack = stack;\n  var chunks = response._chunks;\n  var chunk = chunks.get(id);\n\n  if (!chunk) {\n    chunks.set(id, createErrorChunk(response, error));\n  } else {\n    triggerErrorOnChunk(chunk, error);\n  }\n}\nfunction close(response) {\n  // In case there are any remaining unresolved chunks, they won't\n  // be resolved now. So we need to issue an error to those.\n  // Ideally we should be able to early bail out if we kept a\n  // ref count of pending chunks.\n  reportGlobalError(response, new Error('Connection closed.'));\n}\n\nfunction processFullRow(response, row) {\n  if (row === '') {\n    return;\n  }\n\n  var tag = row[0]; // When tags that are not text are added, check them here before\n  // parsing the row as text.\n  // switch (tag) {\n  // }\n\n  var colon = row.indexOf(':', 1);\n  var id = parseInt(row.substring(1, colon), 16);\n  var text = row.substring(colon + 1);\n\n  switch (tag) {\n    case 'J':\n      {\n        resolveModel(response, id, text);\n        return;\n      }\n\n    case 'M':\n      {\n        resolveModule(response, id, text);\n        return;\n      }\n\n    case 'P':\n      {\n        resolveProvider(response, id, text);\n        return;\n      }\n\n    case 'S':\n      {\n        resolveSymbol(response, id, JSON.parse(text));\n        return;\n      }\n\n    case 'E':\n      {\n        var errorInfo = JSON.parse(text);\n        resolveError(response, id, errorInfo.message, errorInfo.stack);\n        return;\n      }\n\n    default:\n      {\n        throw new Error(\"Error parsing the data. It's probably an error code or network corruption.\");\n      }\n  }\n}\n\nfunction processStringChunk(response, chunk, offset) {\n  var linebreak = chunk.indexOf('\\n', offset);\n\n  while (linebreak > -1) {\n    var fullrow = response._partialRow + chunk.substring(offset, linebreak);\n    processFullRow(response, fullrow);\n    response._partialRow = '';\n    offset = linebreak + 1;\n    linebreak = chunk.indexOf('\\n', offset);\n  }\n\n  response._partialRow += chunk.substring(offset);\n}\nfunction processBinaryChunk(response, chunk) {\n\n  var stringDecoder = response._stringDecoder;\n  var linebreak = chunk.indexOf(10); // newline\n\n  while (linebreak > -1) {\n    var fullrow = response._partialRow + readFinalStringChunk(stringDecoder, chunk.subarray(0, linebreak));\n    processFullRow(response, fullrow);\n    response._partialRow = '';\n    chunk = chunk.subarray(linebreak + 1);\n    linebreak = chunk.indexOf(10); // newline\n  }\n\n  response._partialRow += readPartialStringChunk(stringDecoder, chunk);\n}\n\nfunction createFromJSONCallback(response) {\n  return function (key, value) {\n    if (typeof value === 'string') {\n      // We can't use .bind here because we need the \"this\" value.\n      return parseModelString(response, this, value);\n    }\n\n    if (typeof value === 'object' && value !== null) {\n      return parseModelTuple(response, value);\n    }\n\n    return value;\n  };\n}\n\nfunction createResponse$1(bundlerConfig) {\n  // NOTE: CHECK THE COMPILER OUTPUT EACH TIME YOU CHANGE THIS.\n  // It should be inlined to one object literal but minor changes can break it.\n  var stringDecoder =  createStringDecoder() ;\n  var response = createResponse(bundlerConfig);\n  response._partialRow = '';\n\n  {\n    response._stringDecoder = stringDecoder;\n  } // Don't inline this call because it causes closure to outline the call above.\n\n\n  response._fromJSON = createFromJSONCallback(response);\n  return response;\n}\n\nfunction startReadingFromStream(response, stream) {\n  var reader = stream.getReader();\n\n  function progress(_ref) {\n    var done = _ref.done,\n        value = _ref.value;\n\n    if (done) {\n      close(response);\n      return;\n    }\n\n    var buffer = value;\n    processBinaryChunk(response, buffer);\n    return reader.read().then(progress, error);\n  }\n\n  function error(e) {\n    reportGlobalError(response, e);\n  }\n\n  reader.read().then(progress, error);\n}\n\nfunction createFromReadableStream(stream) {\n  var response = createResponse$1({});\n  startReadingFromStream(response, stream);\n  return response;\n}\n\nfunction createFromFetch(promiseForResponse) {\n  var response = createResponse$1({});\n  promiseForResponse.then(function (r) {\n    startReadingFromStream(response, r.body);\n  }, function (e) {\n    reportGlobalError(response, e);\n  });\n  return response;\n}\n\nfunction createFromXHR(request) {\n  var response = createResponse$1({});\n  var processedLength = 0;\n\n  function progress(e) {\n    var chunk = request.responseText;\n    processStringChunk(response, chunk, processedLength);\n    processedLength = chunk.length;\n  }\n\n  function load(e) {\n    progress();\n    close(response);\n  }\n\n  function error(e) {\n    reportGlobalError(response, new TypeError('Network error'));\n  }\n\n  request.addEventListener('progress', progress);\n  request.addEventListener('load', load);\n  request.addEventListener('error', error);\n  request.addEventListener('abort', error);\n  request.addEventListener('timeout', error);\n  return response;\n}\n\nexport { createFromFetch, createFromReadableStream, createFromXHR };\n","export { renderToPipeableStream as ssrRenderToPipeableStream, // Only available in Node context\nrenderToReadableStream as ssrRenderToReadableStream, // Only available in Browser/Worker context\n } from 'react-dom/server';\n// @ts-ignore\nimport { renderToReadableStream as _rscRenderToReadableStream } from '@shopify/hydrogen/vendor/react-server-dom-vite/writer.browser.server';\n// @ts-ignore\nimport { createFromReadableStream as _createFromReadableStream } from '@shopify/hydrogen/vendor/react-server-dom-vite';\nexport const rscRenderToReadableStream = _rscRenderToReadableStream;\nexport const createFromReadableStream = _createFromReadableStream;\nexport async function bufferReadableStream(reader, cb) {\n    const decoder = new TextDecoder();\n    let result = '';\n    while (true) {\n        const { done, value } = await reader.read();\n        if (done)\n            break;\n        const stringValue = typeof value === 'string' ? value : decoder.decode(value);\n        result += stringValue;\n        if (cb) {\n            cb(stringValue);\n        }\n    }\n    return result;\n}\n","/**\n * Strip out script `src` values from <script> tags in a given HTML template.\n * Returns two lists of scripts, split based on whether they are `type=\"module\"`.\n */\nfunction stripScriptsFromTemplate(template) {\n    const bootstrapScripts = [];\n    const bootstrapModules = [];\n    const scripts = template.matchAll(/<script\\n*?.+?src=\"(?<script>([^\"]+?))\"\\n*.*?><\\/script>/g);\n    for (const match of scripts) {\n        const scriptName = match.groups?.script;\n        if (!scriptName)\n            continue;\n        if (match[0].includes(`type=\"module\"`)) {\n            bootstrapModules.push(scriptName);\n        }\n        else {\n            bootstrapScripts.push(scriptName);\n        }\n        template = template.replace(match[0], '');\n    }\n    return { noScriptTemplate: template, bootstrapScripts, bootstrapModules };\n}\nfunction extractAttributes(string) {\n    const attributes = {};\n    for (const [, attr, value] of string.matchAll(/\\s([\\w-]+)=\"([^\"]*?)\"/gm)) {\n        attributes[attr] = value;\n    }\n    return attributes;\n}\nexport async function getTemplate(indexTemplate, url) {\n    let raw = typeof indexTemplate === 'function'\n        ? await indexTemplate(url?.toString() || '')\n        : indexTemplate;\n    if (raw && typeof raw !== 'string') {\n        raw = raw.default;\n    }\n    return {\n        raw,\n        linkHeader: createLinkHeader(raw),\n        ...stripScriptsFromTemplate(raw),\n    };\n}\nconst ALLOWED_REL_ATTRS = ['stylesheet', 'preconnect', 'preload'];\nfunction createLinkHeader(template) {\n    const assets = (template.match(/\\s*<link[^<>]+?>/gim) || []).map(extractAttributes);\n    const links = [];\n    for (const { href, rel = '', ...attrs } of assets) {\n        if (href && ALLOWED_REL_ATTRS.includes(rel)) {\n            const isStyle = rel === 'stylesheet';\n            if (isStyle && !attrs.as)\n                attrs.as = 'style';\n            links.push([\n                `<${encodeURI(href.replace(/^https?:/i, ''))}>`,\n                `rel=${isStyle ? 'preload' : rel}`,\n                ...Object.entries(attrs).map((entry) => entry.join('=')),\n            ].join('; '));\n        }\n    }\n    return links.join(', ');\n}\n","export const eventNames = {\n    PAGE_VIEW: 'page-view',\n    VIEWED_PRODUCT: 'viewed-product',\n    ADD_TO_CART: 'add-to-cart',\n    REMOVE_FROM_CART: 'remove-from-cart',\n    UPDATE_CART: 'update-cart',\n    DISCOUNT_CODE_UPDATED: 'discount-code-updated',\n    PERFORMANCE: 'performance',\n};\n","import { eventNames } from './const.js';\nconst RESERVED_EVENT_NAMES = Object.values(eventNames);\nexport function getNamedspacedEventname(eventname) {\n    // Any event name that is not in the reserved space will be prefix with `c-`\n    return RESERVED_EVENT_NAMES.indexOf(eventname) === -1\n        ? `c-${eventname}`\n        : eventname;\n}\nexport function isObject(item) {\n    return item && typeof item === 'object' && !Array.isArray(item);\n}\nexport function mergeDeep(target, ...sources) {\n    if (!sources.length)\n        return target;\n    const source = sources.shift();\n    if (isObject(target) && isObject(source)) {\n        for (const key in source) {\n            if (isObject(source[key])) {\n                if (!target[key])\n                    Object.assign(target, { [key]: {} });\n                mergeDeep(target[key], source[key]);\n            }\n            else {\n                Object.assign(target, { [key]: source[key] });\n            }\n        }\n    }\n    return mergeDeep(target, ...sources);\n}\n","import { useServerRequest } from '../ServerRequestProvider/index.js';\nimport { mergeDeep } from './utils.js';\nexport function useServerAnalytics(data) {\n    const request = useServerRequest();\n    if (data) {\n        request.ctx.analyticsData = mergeDeep(request.ctx.analyticsData, data);\n    }\n    return request.ctx.analyticsData;\n}\n","import { getNamedspacedEventname, mergeDeep } from './utils.js';\nimport { eventNames } from './const.js';\nimport { EVENT_PATHNAME } from '../../constants.js';\nimport { META_ENV_SSR } from '../ssr-interop.js';\nconst subscribers = {};\nlet pageAnalyticsData = {};\nlet isFirstPageViewSent = false;\nconst guardDupEvents = {};\nconst USAGE_ERROR = 'ClientAnalytics should only be used within the useEffect callback or event handlers';\nfunction isInvokedFromServer() {\n    if (META_ENV_SSR) {\n        console.warn(USAGE_ERROR);\n        return true;\n    }\n    return false;\n}\nfunction pushToPageAnalyticsData(data) {\n    if (isInvokedFromServer())\n        return;\n    pageAnalyticsData = mergeDeep(pageAnalyticsData, data);\n}\nfunction getPageAnalyticsData() {\n    if (isInvokedFromServer())\n        return;\n    return pageAnalyticsData;\n}\nfunction resetPageAnalyticsData() {\n    if (isInvokedFromServer())\n        return;\n    pageAnalyticsData = {};\n}\nfunction publish(eventname, guardDup = false, payload = {}) {\n    if (isInvokedFromServer())\n        return;\n    const namedspacedEventname = getNamedspacedEventname(eventname);\n    // De-dup events due to re-renders\n    if (guardDup) {\n        const eventGuardTimeout = guardDupEvents[namedspacedEventname];\n        if (eventGuardTimeout) {\n            clearTimeout(eventGuardTimeout);\n        }\n        const namespacedTimeout = setTimeout(() => {\n            publishEvent(namedspacedEventname, mergeDeep(pageAnalyticsData, payload));\n        }, 100);\n        guardDupEvents[namedspacedEventname] = namespacedTimeout;\n    }\n    else {\n        publishEvent(namedspacedEventname, mergeDeep(pageAnalyticsData, payload));\n    }\n}\nfunction publishEvent(eventname, payload) {\n    const subs = subscribers[eventname];\n    if (!isFirstPageViewSent && eventname === eventNames.PAGE_VIEW) {\n        isFirstPageViewSent = true;\n    }\n    if (subs) {\n        Object.keys(subs).forEach((key) => {\n            subs[key](payload);\n        });\n    }\n}\nfunction subscribe(eventname, callbackFunction) {\n    if (isInvokedFromServer())\n        return { unsubscribe: () => { } };\n    const namedspacedEventname = getNamedspacedEventname(eventname);\n    const subs = subscribers[namedspacedEventname];\n    if (!subs) {\n        subscribers[namedspacedEventname] = {};\n    }\n    const subscriberId = Date.now().toString();\n    subscribers[namedspacedEventname][subscriberId] = callbackFunction;\n    return {\n        unsubscribe: () => {\n            delete subscribers[namedspacedEventname][subscriberId];\n        },\n    };\n}\nfunction pushToServer(init, searchParam) {\n    return fetch(`${EVENT_PATHNAME}${searchParam ? `?${searchParam}` : ''}`, Object.assign({\n        method: 'post',\n        headers: {\n            'cache-control': 'no-cache',\n            'Content-Type': 'application/json',\n        },\n    }, init));\n}\nfunction hasSentFirstPageView() {\n    return isFirstPageViewSent;\n}\nexport const ClientAnalytics = {\n    pushToPageAnalyticsData,\n    getPageAnalyticsData,\n    resetPageAnalyticsData,\n    publish,\n    subscribe,\n    pushToServer,\n    eventNames,\n    hasSentFirstPageView,\n};\n","import { useEffect } from 'react';\nimport { ClientAnalytics } from './ClientAnalytics.js';\nexport function Analytics({ analyticsDataFromServer, }) {\n    useEffect(() => {\n        const urlParams = new URLSearchParams(window.location.search);\n        addUTMData(urlParams, 'id');\n        addUTMData(urlParams, 'source');\n        addUTMData(urlParams, 'campaign');\n        addUTMData(urlParams, 'medium');\n        addUTMData(urlParams, 'content');\n        addUTMData(urlParams, 'term');\n        ClientAnalytics.pushToPageAnalyticsData(analyticsDataFromServer);\n        ClientAnalytics.publish(ClientAnalytics.eventNames.PAGE_VIEW, true);\n        if (analyticsDataFromServer.publishEventsOnNavigate) {\n            analyticsDataFromServer.publishEventsOnNavigate.forEach((eventName) => {\n                ClientAnalytics.publish(eventName, true);\n            });\n        }\n    }, [analyticsDataFromServer]);\n    return null;\n}\nfunction addUTMData(urlParams, key) {\n    if (urlParams.has(`utm_${key}`)) {\n        ClientAnalytics.pushToPageAnalyticsData({\n            utm: {\n                [key]: urlParams.get(`utm_${key}`),\n            },\n        });\n    }\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/foundation/Analytics/Analytics.client.js?no-proxy';\n\nexport const Analytics = /* @__PURE__ */wrapInClientProxy({ name: 'Analytics', id: 'Analytics-LTE5ODU2OTE2NjY', value: allImports['Analytics'], isDefault: false });\n","import React from 'react';\nimport { ErrorBoundary } from 'react-error-boundary';\nexport default function AnalyticsErrorBoundary({ children, }) {\n    // Analytics fail to load, most likely due to an ad blocker\n    return (React.createElement(ErrorBoundary, { fallbackRender: () => {\n            return null;\n        } }, children));\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/foundation/AnalyticsErrorBoundary.client.js?no-proxy';\n\nexport default /* @__PURE__ */wrapInClientProxy({ name: 'AnalyticsErrorBoundary', id: 'AnalyticsErrorBoundary-MTIyMzA1NjQzOQ', value: allImports['default'], isDefault: true });\n","// TODO: Are there other CDNs missing from here?\nconst PRODUCTION_CDN_HOSTNAMES = [\n    'cdn.shopify.com',\n    'cdn.shopifycdn.net',\n    'shopify-assets.shopifycdn.com',\n    'shopify-assets.shopifycdn.net',\n];\nconst LOCAL_CDN_HOSTNAMES = ['spin.dev'];\nconst ALL_CDN_HOSTNAMES = [...PRODUCTION_CDN_HOSTNAMES, ...LOCAL_CDN_HOSTNAMES];\n// based on the default width sizes used by the Shopify liquid HTML tag img_tag plus a 2560 width to account for 2k resolutions\n// reference: https://shopify.dev/api/liquid/filters/html-filters#image_tag\nexport const IMG_SRC_SET_SIZES = [352, 832, 1200, 1920, 2560];\n/**\n * Adds image size parameters to an image URL hosted by Shopify's CDN\n */\nexport function addImageSizeParametersToUrl({ src, width, height, crop, scale, }) {\n    const newUrl = new URL(src);\n    const multipliedScale = scale ?? 1;\n    if (width) {\n        let finalWidth;\n        if (typeof width === 'string') {\n            finalWidth = (IMG_SRC_SET_SIZES[0] * multipliedScale).toString();\n        }\n        else {\n            finalWidth = (Number(width) * multipliedScale).toString();\n        }\n        newUrl.searchParams.append('width', finalWidth);\n    }\n    if (height && typeof height === 'number') {\n        newUrl.searchParams.append('height', (height * multipliedScale).toString());\n    }\n    crop && newUrl.searchParams.append('crop', crop);\n    // for now we intentionally leave off the scale param, and instead multiple width & height by scale instead\n    // scale && newUrl.searchParams.append('scale', scale.toString());\n    return newUrl.toString();\n}\nexport function shopifyImageLoader(params) {\n    const newSrc = new URL(params.src);\n    const isShopifyServedImage = ALL_CDN_HOSTNAMES.some((allowedHostname) => newSrc.hostname.endsWith(allowedHostname));\n    if (!isShopifyServedImage ||\n        (!params.width && !params.height && !params.crop && !params.scale)) {\n        return params.src;\n    }\n    return addImageSizeParametersToUrl(params);\n}\n/**\n * Width and height are determined using the followiing priority list:\n * 1. `loaderOptions`'s width/height\n * 2. `elementProps`'s width/height\n * 3. `data`'s width/height\n *\n * If only one of `width` or `height` are defined, then the other will attempt to be calculated based on the Image's aspect ratio,\n * provided that both `data.width` and `data.height` are available. If not, then the aspect ratio cannot be determined and the missing\n * value will reamin as `null`\n */\nexport function getShopifyImageDimensions({ data: sfapiImage, loaderOptions, elementProps, }) {\n    let aspectRatio = null;\n    if (sfapiImage?.width && sfapiImage?.height) {\n        aspectRatio = sfapiImage?.width / sfapiImage?.height;\n    }\n    //  * 1. `loaderOptions`'s width/height\n    if (loaderOptions?.width || loaderOptions?.height) {\n        return {\n            width: loaderOptions?.width ??\n                (aspectRatio && typeof loaderOptions.height === 'number'\n                    ? Math.round(aspectRatio * loaderOptions.height)\n                    : null),\n            height: loaderOptions?.height ??\n                (aspectRatio && typeof loaderOptions.width === 'number'\n                    ? Math.round(aspectRatio * loaderOptions.width)\n                    : null),\n        };\n    }\n    //  * 2. `elementProps`'s width/height\n    if (elementProps?.width || elementProps?.height) {\n        return {\n            width: elementProps?.width ??\n                (aspectRatio && typeof elementProps.height === 'number'\n                    ? Math.round(aspectRatio * elementProps.height)\n                    : null),\n            height: elementProps?.height ??\n                (aspectRatio && typeof elementProps.width === 'number'\n                    ? Math.round(aspectRatio * elementProps.width)\n                    : null),\n        };\n    }\n    //  * 3. `data`'s width/height\n    if (sfapiImage?.width || sfapiImage?.height) {\n        return {\n            // can't calculate the aspect ratio here\n            width: sfapiImage?.width ?? null,\n            height: sfapiImage?.height ?? null,\n        };\n    }\n    return { width: null, height: null };\n}\n","import { useMemo } from 'react';\nexport function addParametersToEmbeddedVideoUrl(url, parameters) {\n    if (parameters == null) {\n        return url;\n    }\n    const params = Object.keys(parameters).reduce((accumulator, param) => {\n        const value = parameters[param];\n        if (value == null) {\n            return accumulator;\n        }\n        return accumulator + `&${param}=${value}`;\n    }, '');\n    return `${url}?${params}`;\n}\nexport function useEmbeddedVideoUrl(url, parameters) {\n    return useMemo(() => {\n        if (!parameters) {\n            return url;\n        }\n        return addParametersToEmbeddedVideoUrl(url, parameters);\n    }, [url, parameters]);\n}\n","const SCRIPTS_LOADED = {};\nexport function loadScript(src, options) {\n    const isScriptLoaded = SCRIPTS_LOADED[src];\n    if (isScriptLoaded) {\n        return isScriptLoaded;\n    }\n    const promise = new Promise((resolve, reject) => {\n        const script = document.createElement('script');\n        if (options?.module) {\n            script.type = 'module';\n        }\n        script.src = src;\n        script.onload = () => {\n            resolve(true);\n        };\n        script.onerror = () => {\n            reject(false);\n        };\n        if (options?.in === 'head') {\n            document.head.appendChild(script);\n        }\n        else {\n            document.body.appendChild(script);\n        }\n    });\n    SCRIPTS_LOADED[src] = promise;\n    return promise;\n}\n","/**\n * The `flattenConnection` utility transforms a connection object from the Storefront API (for example, [Product-related connections](https://shopify.dev/api/storefront/reference/products/product)) into a flat array of nodes.\n * The utility works with either `nodes` or `edges.node`.\n */\nexport function flattenConnection(connection) {\n    if (connection.nodes) {\n        return connection.nodes;\n    }\n    if (connection.edges) {\n        return connection.edges.map((edge) => {\n            if (!edge?.node) {\n                throw new Error('Connection edges must contain nodes');\n            }\n            return edge.node;\n        });\n    }\n    return [];\n}\n","/** The `isClient` utility is a function that returns a boolean indicating\n * if the code was run in the browser.\n */\nexport function isBrowser() {\n    return typeof document !== 'undefined';\n}\n","export function htmlEncode(html) {\n    return html\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;')\n        .replace(/'/g, '&#39;');\n}\n","import * as React from 'react';\nimport { useServerAnalytics } from './hook.js';\nimport { Analytics as AnalyticsClient } from './Analytics.client.js';\nimport { useServerRequest } from '../ServerRequestProvider/index.js';\nimport AnalyticsErrorBoundary from '../AnalyticsErrorBoundary.client.js';\nimport { wrapPromise } from '../../utilities/index.js';\nconst DELAY_KEY_1 = 'analytics-delay-1';\nconst DELAY_KEY_2 = 'analytics-delay-2';\nexport function Analytics() {\n    const cache = useServerRequest().ctx.cache;\n    // If render cache is empty, create a 50 ms delay so that React doesn't resolve this\n    // component too early and potentially cause a mismatch in hydration\n    if (cache.size === 0 && !cache.has(DELAY_KEY_1)) {\n        analyticsDelay(cache, DELAY_KEY_1, 50);\n    }\n    // If this delay is created, execute it\n    cache.has(DELAY_KEY_1) && cache.get(DELAY_KEY_1).read();\n    // clean up this key so that it won't be saved to the preload cache\n    cache.delete(DELAY_KEY_1);\n    // Make sure all queries have returned before rendering the Analytics server component\n    cache.forEach((cacheFn) => {\n        if (cacheFn && typeof cacheFn === 'function') {\n            const result = cacheFn.call();\n            if (result instanceof Promise)\n                throw result;\n        }\n    });\n    // If all queries has returned (could be from cached queries),\n    // delay Analytic component by another 1ms (put this component\n    // to the end of the render queue) so that other scheduled\n    // render work can be processed by React's concurrent render first\n    if (cache.size > 1 && !cache.has(DELAY_KEY_2)) {\n        analyticsDelay(cache, DELAY_KEY_2, 1);\n    }\n    cache.has(DELAY_KEY_2) && cache.get(DELAY_KEY_2).read();\n    cache.delete(DELAY_KEY_2);\n    return (React.createElement(AnalyticsErrorBoundary, null,\n        React.createElement(AnalyticsClient, { analyticsDataFromServer: useServerAnalytics() })));\n}\nfunction analyticsDelay(cache, delayKey, delay) {\n    const delayPromise = wrapPromise(new Promise((resolve) => {\n        setTimeout(() => {\n            resolve(true);\n        }, delay);\n    }));\n    cache.set(delayKey, delayPromise);\n}\n","import React from 'react';\nexport const CloseIcon = () => (React.createElement(\"svg\", { style: {\n        height: '2.75em',\n        width: '2.75em',\n        padding: '1em',\n    }, viewBox: \"0 0 460.775 460.775\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n    React.createElement(\"path\", { fill: \"black\", d: \"M285.08,230.397L456.218,59.27c6.076-6.077,6.076-15.911,0-21.986L423.511,4.565c-2.913-2.911-6.866-4.55-10.992-4.55\\n\\tc-4.127,0-8.08,1.639-10.993,4.55l-171.138,171.14L59.25,4.565c-2.913-2.911-6.866-4.55-10.993-4.55\\n\\tc-4.126,0-8.08,1.639-10.992,4.55L4.558,37.284c-6.077,6.075-6.077,15.909,0,21.986l171.138,171.128L4.575,401.505\\n\\tc-6.074,6.077-6.074,15.911,0,21.986l32.709,32.719c2.911,2.911,6.865,4.55,10.992,4.55c4.127,0,8.08-1.639,10.994-4.55\\n\\tl171.117-171.12l171.118,171.12c2.913,2.911,6.866,4.55,10.993,4.55c4.128,0,8.081-1.639,10.992-4.55l32.709-32.719\\n\\tc6.074-6.075,6.074-15.909,0-21.986L285.08,230.397z\" })));\nexport const HydrogenIcon = () => (React.createElement(\"svg\", { style: {\n        height: '2.5em',\n        width: '2.5em',\n    }, width: \"131\", height: \"130\", viewBox: \"0 0 131 130\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n    React.createElement(\"path\", { d: \"M64.9548 106.281L27.1377 86.1894L40.0714 79.3723L54.6329 87.1049L66.851 80.6638L52.2895 72.9313L65.2231 66.0979L103.04 86.1894L90.1065 93.0064L76.35 85.6989L64.114 92.1563L77.8884 99.4638L64.9548 106.281Z\", fill: \"black\" }),\n    React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M65.2247 25L105.178 46.2267L90.105 54.1716L76.3488 46.8642L66.2525 52.1924L80.028 59.5005L64.9532 67.446L25 46.2196L40.0734 38.2748L54.6349 46.0073L64.713 40.6944L50.1533 32.9628L65.2247 25ZM54.4262 32.9673L68.9896 40.7008L54.6315 48.27L40.0699 40.5374L29.276 46.2267L64.9569 65.1833L75.7495 59.4947L61.9761 52.1878L76.3518 44.6012L90.1087 51.9088L100.902 46.2196L65.2221 27.2634L54.4262 32.9673Z\", fill: \"black\" })));\n","import React from 'react';\nimport { CloseIcon, HydrogenIcon } from './icons.js';\nexport function Interface({ children, onClose, onOpen, ...props }) {\n    const open = false || props.open;\n    return (React.createElement(\"div\", { id: \"hydrogen-dev-tools\", \"aria-hidden\": true, style: {\n            position: 'fixed',\n            zIndex: 100,\n            display: 'flex',\n            flexDirection: 'column',\n            right: 0,\n            bottom: 0,\n            padding: '1.5em',\n            maxWidth: '100%',\n            flexWrap: 'wrap',\n        } },\n        React.createElement(\"button\", { type: \"button\", style: {\n                position: 'relative',\n                background: 'white',\n                border: '1px solid',\n                padding: '0em 0.5em 0.25em 1.25em',\n                boxShadow: '10px 10px 0px black',\n                display: 'flex',\n                alignItems: 'center',\n                color: 'black',\n            }, onClick: onOpen },\n            React.createElement(\"div\", { style: { textAlign: 'left', flex: 1 } },\n                React.createElement(\"span\", { style: {\n                        fontFamily: 'monospace',\n                        fontWeight: 'bold',\n                        paddingRight: '0.5em',\n                    } }, \"Dev tools\")),\n            ' ',\n            open ? React.createElement(CloseIcon, null) : React.createElement(HydrogenIcon, null)),\n        React.createElement(\"div\", { style: {\n                display: open ? 'block' : 'none',\n                position: 'relative',\n                top: '-1px',\n                overflow: 'scroll',\n                color: 'black',\n                background: 'white',\n                border: '1px solid',\n                boxShadow: '10px 10px 0px black',\n                maxWidth: '50em',\n                width: '100vw',\n                height: '50vh',\n            } }, children)));\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/foundation/DevTools/components/Interface.client.js?no-proxy';\n\nexport const Interface = /* @__PURE__ */wrapInClientProxy({ name: 'Interface', id: 'Interface-MTQ4MTMyNTA4Mg', value: allImports['Interface'], isDefault: false });\n","import React from 'react';\nexport function Heading({ linkText, url, children, }) {\n    return (React.createElement(\"span\", { style: { display: 'flex', alignItems: 'baseline', padding: '0 0 0em' } },\n        React.createElement(\"span\", { style: { paddingRight: '0em', flex: 1, fontWeight: 'bold' } },\n            children,\n            ' '),\n        React.createElement(\"a\", { style: {\n                color: 'blue',\n                fontFamily: 'monospace',\n                textDecoration: 'underline',\n            }, href: url }, linkText)));\n}\n","import React from 'react';\nimport { Heading } from './Heading.js';\nexport function Performance({ navigations }) {\n    const navigationsMarkup = navigations.map(({ url, ttfb, fcp, size, duration, type }) => (React.createElement(\"li\", { key: url, style: { padding: '0.5em 0', borderBottom: '1px solid' } },\n        React.createElement(Item, { label: type, value: url.replace('http://localhost:3000', '') }),\n        React.createElement(\"div\", { style: { display: 'flex' } },\n            React.createElement(Item, { label: \"TTFB\", value: ttfb }),\n            React.createElement(Item, { label: \"Duration\", value: duration }),\n            React.createElement(Item, { label: \"FCP\", value: fcp })))));\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Heading, null, \"Performance\"),\n        React.createElement(\"ul\", null, navigationsMarkup)));\n}\nconst Item = ({ label, value, unit }) => {\n    if (!value) {\n        return null;\n    }\n    const val = typeof value === 'string' ? (React.createElement(\"span\", { style: { fontWeight: 'bold' } }, value)) : (`${Math.round(value)}${unit || 'ms'}`);\n    return (React.createElement(\"span\", { style: {\n            fontFamily: 'monospace',\n            padding: '0 2em 0 0',\n        } },\n        label && label.padEnd(10),\n        val));\n};\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/foundation/DevTools/components/Performance.client.js?no-proxy';\n\nexport const Performance = /* @__PURE__ */wrapInClientProxy({ name: 'Performance', id: 'Performance-NDY4MjA5NTUz', value: allImports['Performance'], isDefault: false });\n","import React from 'react';\nexport function Table({ items }) {\n    const itemsMarkup = items.map(({ key, value }) => (React.createElement(\"div\", { key: key, style: { display: 'flex', paddingBottom: '1em', flexDirection: 'column' } },\n        React.createElement(\"span\", { style: { fontWeight: 'bold' } }, key),\n        React.createElement(\"span\", { style: { width: '70%', fontFamily: 'monospace' } }, value))));\n    return React.createElement(\"ul\", null, itemsMarkup);\n}\n","import React from 'react';\nimport { Table } from './Table.js';\nconst KEY_MAP = {\n    locale: 'Locale',\n    storeDomain: 'Domain',\n    storefrontApiVersion: 'API Version',\n};\nexport function Settings(props) {\n    const items = Object.entries(props).map(([key, value]) => {\n        return {\n            key: KEY_MAP[key],\n            value,\n            type: typeof value,\n        };\n    });\n    return React.createElement(Table, { items: items });\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/foundation/DevTools/components/Settings.client.js?no-proxy';\n\nexport const Settings = /* @__PURE__ */wrapInClientProxy({ name: 'Settings', id: 'Settings-MjE0MzQ2MDI1NA', value: allImports['Settings'], isDefault: false });\n","import React, { useState, useEffect } from 'react';\nimport { ClientAnalytics } from '../../Analytics/index.js';\nimport { Performance } from './Performance.client.js';\nimport { Settings } from './Settings.client.js';\nconst isComponentPanel = (panel) => panel.component !== undefined;\nexport function Panels({ settings }) {\n    const [selectedPanel, setSelectedPanel] = useState(0);\n    const [navigations, setNavigations] = useState([]);\n    useEffect(() => {\n        ClientAnalytics.subscribe(ClientAnalytics.eventNames.PERFORMANCE, ({ response_start, navigation_start, first_contentful_paint, largest_contentful_paint, response_end, page_load_type, url, transfer_size, }) => {\n            setNavigations([\n                ...navigations,\n                {\n                    ttfb: response_start - navigation_start,\n                    fcp: first_contentful_paint,\n                    lcp: largest_contentful_paint,\n                    duration: response_end - navigation_start,\n                    type: `${page_load_type} load`,\n                    size: transfer_size,\n                    url,\n                },\n            ]);\n        });\n    }, [setNavigations, navigations]);\n    const panels = getPanels({ settings, performance: { navigations } });\n    const panelComponents = panels.map((obj, index) => isComponentPanel(obj) ? (React.createElement(\"div\", { key: obj.content, style: { display: selectedPanel === index ? 'block' : 'none' } }, obj.component)) : null);\n    return (React.createElement(\"div\", { style: { display: 'flex', height: '100%' } },\n        React.createElement(\"div\", { style: { borderRight: '1px solid', padding: '1em 0em' } }, panels.map((panel, index) => {\n            const active = selectedPanel === index;\n            const style = {\n                padding: '0em 1.25em',\n                fontWeight: 'bold',\n                textDecoration: active ? 'underline' : 'none',\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center',\n            };\n            if (isComponentPanel(panel)) {\n                return (React.createElement(\"button\", { key: panel.id, type: \"button\", style: style, onClick: () => setSelectedPanel(index) },\n                    React.createElement(\"span\", null, panel.content)));\n            }\n            return (React.createElement(\"a\", { style: style, target: \"_blank\", rel: \"noreferrer\", href: panel.url, key: panel.url },\n                panel.content,\n                React.createElement(\"span\", null, \"\\u2197\")));\n        })),\n        React.createElement(\"div\", { style: { padding: '1em', width: '100%' } }, panelComponents[selectedPanel ? selectedPanel : 0])));\n}\nfunction getPanels({ settings, performance }) {\n    const panels = {\n        settings: {\n            content: 'Settings',\n            component: React.createElement(Settings, { ...settings }),\n        },\n        performance: {\n            content: 'Performance',\n            component: React.createElement(Performance, { ...performance }),\n        },\n        graphiql: {\n            content: 'GraphiQL',\n            url: '/___graphql',\n        },\n    };\n    return Object.keys(panels).map((key) => {\n        return { ...panels[key], id: key };\n    });\n}\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { Interface, Panels } from './components/index.js';\nexport function DevTools({ dataFromServer }) {\n    const [open, setOpen] = useState(false);\n    const toggleOpen = useCallback(() => {\n        setOpen((state) => !state);\n    }, []);\n    const [hasMounted, setHasMounted] = useState(false);\n    useEffect(() => {\n        setHasMounted(true);\n    }, []);\n    if (hasMounted) {\n        return (React.createElement(Interface, { open: open, onClose: toggleOpen, onOpen: toggleOpen },\n            React.createElement(Panels, { ...dataFromServer })));\n    }\n    return null;\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/foundation/DevTools/DevTools.client.js?no-proxy';\n\nexport const DevTools = /* @__PURE__ */wrapInClientProxy({ name: 'DevTools', id: 'DevTools-MTcxMjEzMzQ0', value: allImports['DevTools'], isDefault: false });\n","/**\n * Calculates locale based on provided language and countryCode\n * 1. If language is extended with region, then hyphenate and use as locale\n * 2. Else merge language and countryCode\n */\nexport function getLocale(language, countryCode) {\n    if (!language || !countryCode) {\n        return '';\n    }\n    if (isLanguageExtended(language)) {\n        return hyphenateLanguage(language);\n    }\n    return `${language}-${countryCode}`;\n}\nfunction hyphenateLanguage(str) {\n    return str.replace('_', '-');\n}\nfunction isLanguageExtended(str) {\n    if (!str)\n        return false;\n    return str.includes('_') || str.includes('-');\n}\n","import React from 'react';\nimport { DevTools as DevToolsClient } from './DevTools.client.js';\nimport { useServerRequest } from '../ServerRequestProvider/index.js';\nimport { getLocale } from '../../utilities/locale/index.js';\nexport function DevTools() {\n    const serverRequest = useServerRequest();\n    const { shopifyConfig } = serverRequest.ctx;\n    const { defaultLanguageCode: languageCode, defaultCountryCode: countryCode, storeDomain, storefrontApiVersion, } = shopifyConfig || {};\n    const settings = {\n        locale: getLocale(languageCode, countryCode),\n        storeDomain,\n        storefrontApiVersion,\n    };\n    return React.createElement(DevToolsClient, { dataFromServer: { settings } });\n}\n","import { getCache } from '../runtime.js';\nimport { CacheShort, generateCacheControlHeader } from './strategies/index.js';\nimport { logCacheApiStatus } from '../../utilities/log/index.js';\nfunction getCacheControlSetting(userCacheOptions, options) {\n    if (userCacheOptions && options) {\n        return {\n            ...userCacheOptions,\n            ...options,\n        };\n    }\n    else {\n        return userCacheOptions || CacheShort();\n    }\n}\nexport function generateDefaultCacheControlHeader(userCacheOptions) {\n    return generateCacheControlHeader(getCacheControlSetting(userCacheOptions));\n}\n/**\n * Get an item from the cache. If a match is found, returns a tuple\n * containing the `JSON.parse` version of the response as well\n * as the response itself so it can be checked for staleness.\n */\nexport async function getItemFromCache(request) {\n    const cache = getCache();\n    if (!cache) {\n        return;\n    }\n    const response = await cache.match(request);\n    if (!response) {\n        logCacheApiStatus('MISS', request.url);\n        return;\n    }\n    logCacheApiStatus('HIT', request.url);\n    return response;\n}\n/**\n * Put an item into the cache.\n */\nexport async function setItemInCache(request, response, userCacheOptions) {\n    const cache = getCache();\n    if (!cache) {\n        return;\n    }\n    /**\n     * We are manually managing staled request by adding this workaround.\n     * Why? cache control header support is dependent on hosting platform\n     *\n     * For example:\n     *\n     * Cloudflare's Cache API does not support `stale-while-revalidate`.\n     * Cloudflare cache control header has a very odd behaviour.\n     * Say we have the following cache control header on a request:\n     *\n     *   public, max-age=15, stale-while-revalidate=30\n     *\n     * When there is a cache.match HIT, the cache control header would become\n     *\n     *   public, max-age=14400, stale-while-revalidate=30\n     *\n     * == `stale-while-revalidate` workaround ==\n     * Update response max-age so that:\n     *\n     *   max-age = max-age + stale-while-revalidate\n     *\n     * For example:\n     *\n     *   public, max-age=1, stale-while-revalidate=9\n     *                    |\n     *                    V\n     *   public, max-age=10, stale-while-revalidate=9\n     *\n     * Store the following information in the response header:\n     *\n     *   cache-put-date   - UTC time string of when this request is PUT into cache\n     *\n     * Note on `cache-put-date`: The `response.headers.get('date')` isn't static. I am\n     * not positive what date this is returning but it is never over 500 ms\n     * after subtracting from the current timestamp.\n     *\n     * `isStale` function will use the above information to test for stale-ness of a cached response\n     */\n    const cacheControl = getCacheControlSetting(userCacheOptions);\n    // The padded cache-control to mimic stale-while-revalidate\n    request.headers.set('cache-control', generateDefaultCacheControlHeader(getCacheControlSetting(cacheControl, {\n        maxAge: (cacheControl.maxAge || 0) + (cacheControl.staleWhileRevalidate || 0),\n    })));\n    // The cache-control we want to set on response\n    const cacheControlString = generateDefaultCacheControlHeader(getCacheControlSetting(cacheControl));\n    // CF will override cache-control, so we need to keep a\n    // non-modified real-cache-control\n    response.headers.set('real-cache-control', cacheControlString);\n    response.headers.set('cache-put-date', new Date().toUTCString());\n    logCacheApiStatus('PUT', request.url);\n    await cache.put(request, response);\n}\nexport async function deleteItemFromCache(request) {\n    const cache = getCache();\n    if (!cache)\n        return;\n    logCacheApiStatus('DELETE', request.url);\n    await cache.delete(request);\n}\n/**\n * Manually check the response to see if it's stale.\n */\nexport function isStale(request, response) {\n    const responseDate = response.headers.get('cache-put-date');\n    const cacheControl = response.headers.get('real-cache-control');\n    let responseMaxAge = 0;\n    if (cacheControl) {\n        const maxAgeMatch = cacheControl.match(/max-age=(\\d*)/);\n        if (maxAgeMatch && maxAgeMatch.length > 1) {\n            responseMaxAge = parseFloat(maxAgeMatch[1]);\n        }\n    }\n    if (!responseDate) {\n        return false;\n    }\n    const ageInMs = new Date().valueOf() - new Date(responseDate).valueOf();\n    const age = ageInMs / 1000;\n    const result = age > responseMaxAge;\n    if (result) {\n        logCacheApiStatus('STALE', request.url);\n    }\n    return result;\n}\n","import { log } from '../../utilities/log/index.js';\nconst analyticsDefaultResponse = new Response(null, {\n    status: 200,\n});\nexport async function ServerAnalyticsRoute(request, { hydrogenConfig }) {\n    const serverAnalyticsConnectors = hydrogenConfig.serverAnalyticsConnectors;\n    if (!serverAnalyticsConnectors) {\n        return analyticsDefaultResponse;\n    }\n    const requestHeader = request.headers;\n    const requestUrl = request.url;\n    let analyticsPromise;\n    if (requestHeader.get('Content-Length') === '0') {\n        analyticsPromise = Promise.resolve(true)\n            .then(async () => {\n            return Promise.all(serverAnalyticsConnectors.map(async (connector) => {\n                return await connector.request(requestUrl, requestHeader);\n            }));\n        })\n            .catch((error) => {\n            log.warn('Failed to resolve server analytics (no content length): ', error);\n        });\n    }\n    else if (requestHeader.get('Content-Type') === 'application/json') {\n        analyticsPromise = Promise.resolve(request.json())\n            .then((data) => {\n            return Promise.all(serverAnalyticsConnectors.map(async (connector) => {\n                return await connector.request(requestUrl, requestHeader, data, 'json');\n            }));\n        })\n            .catch((error) => {\n            log.warn('Fail to resolve server analytics (json): ', error);\n        });\n    }\n    else {\n        analyticsPromise = Promise.resolve(request.text())\n            .then(async (data) => {\n            await serverAnalyticsConnectors.forEach(async (connector) => {\n                await connector.request(requestUrl, requestHeader, data, 'text');\n            });\n            return Promise.all(serverAnalyticsConnectors.map(async (connector) => {\n                return await connector.request(requestUrl, requestHeader, data, 'text');\n            }));\n        })\n            .catch((error) => {\n            log.warn('Failed to resolve server analytics (text): ', error);\n        });\n    }\n    await analyticsPromise;\n    return analyticsDefaultResponse;\n}\n","export async function HealthCheck() {\n    return new Response(null, { status: 200 });\n}\n","import { EVENT_PATHNAME, EVENT_PATHNAME_REGEX } from '../../constants.js';\nimport { ServerAnalyticsRoute } from '../Analytics/ServerAnalyticsRoute.js';\nimport { HealthCheck } from './healthCheck.js';\nconst builtInRoutes = [\n    {\n        pathname: EVENT_PATHNAME,\n        regex: EVENT_PATHNAME_REGEX,\n        resource: ServerAnalyticsRoute,\n    },\n    {\n        pathname: '/__health',\n        resource: HealthCheck,\n    },\n];\nexport function getBuiltInRoute(url) {\n    for (const route of builtInRoutes) {\n        if (url.pathname === route.pathname ||\n            (route.regex && route.regex.test(url.pathname))) {\n            return route.resource;\n        }\n    }\n    return null;\n}\n","import React, { Suspense } from 'react';\nimport { logServerResponse, logCacheControlHeaders, logQueryTimings, getLoggerWithContext, setLogger, } from './utilities/log/index.js';\nimport { getErrorMarkup } from './utilities/error.js';\nimport { Html, applyHtmlHead } from './foundation/Html/Html.js';\nimport { HydrogenResponse } from './foundation/HydrogenResponse/HydrogenResponse.server.js';\nimport { HydrogenRequest } from './foundation/HydrogenRequest/HydrogenRequest.server.js';\nimport { preloadRequestCacheData, ServerRequestProvider, } from './foundation/ServerRequestProvider/index.js';\nimport { getApiRouteFromURL, renderApiRoute, getApiRoutes, } from './utilities/apiRoutes.js';\nimport { ServerPropsProvider } from './foundation/ServerPropsProvider/index.js';\nimport { isBotUA } from './utilities/bot-ua.js';\nimport { getCache, setCache } from './foundation/runtime.js';\nimport { ssrRenderToPipeableStream, ssrRenderToReadableStream, rscRenderToReadableStream, createFromReadableStream, bufferReadableStream, } from './streaming.server.js';\nimport { getTemplate } from './utilities/template.js';\nimport { Analytics } from './foundation/Analytics/Analytics.server.js';\nimport { DevTools } from './foundation/DevTools/DevTools.server.js';\nimport { getSyncSessionApi } from './foundation/session/session.js';\nimport { parseJSON } from './utilities/parse.js';\nimport { htmlEncode } from './utilities/index.js';\nimport { splitCookiesString } from 'set-cookie-parser';\nimport { deleteItemFromCache, getItemFromCache, isStale, setItemInCache, } from './foundation/Cache/cache.js';\nimport { CacheShort, NO_STORE } from './foundation/Cache/strategies/index.js';\nimport { getBuiltInRoute } from './foundation/BuiltInRoutes/BuiltInRoutes.js';\nimport { FORM_REDIRECT_COOKIE } from './constants.js';\n// Importing 'stream' directly breaks Vite resolve\n// when building for workers, even though this code\n// does not run in a worker. Looks like tree-shaking\n// kicks in after the import analysis/bundle.\n// @ts-ignore\nimport stream from 'virtual__stream';\nconst PassThrough = stream.PassThrough;\nconst DOCTYPE = '<!DOCTYPE html>';\nconst CONTENT_TYPE = 'Content-Type';\nconst HTML_CONTENT_TYPE = 'text/html; charset=UTF-8';\nexport const renderHydrogen = (App) => {\n    const handleRequest = async function (rawRequest, options) {\n        const { cache, context, buyerIpHeader, headers } = options;\n        const request = new HydrogenRequest(rawRequest);\n        const url = new URL(request.url);\n        let sessionApi = options.sessionApi;\n        const { default: importedConfig } = await import(\n        // @ts-ignore\n        'virtual__hydrogen.config.ts');\n        const inlineHydrogenConfig = typeof importedConfig === 'function' ? importedConfig() : importedConfig;\n        const { default: hydrogenRoutes } = await import(\n        // @ts-ignore\n        'virtual__hydrogen-routes.server.jsx');\n        const hydrogenConfig = {\n            ...inlineHydrogenConfig,\n            routes: hydrogenRoutes,\n        };\n        request.ctx.hydrogenConfig = hydrogenConfig;\n        request.ctx.buyerIpHeader = buyerIpHeader;\n        setLogger(hydrogenConfig.logger);\n        const log = getLoggerWithContext(request);\n        const response = new HydrogenResponse(request.url, null, {\n            headers: headers || {},\n        });\n        if (request.cookies.get(FORM_REDIRECT_COOKIE)) {\n            response.headers.set('SET-COOKIE', `${FORM_REDIRECT_COOKIE}=`);\n            response.doNotStream();\n        }\n        if (hydrogenConfig.poweredByHeader ?? true) {\n            // If undefined in the config, then always show the header\n            response.headers.set('powered-by', 'Shopify-Hydrogen');\n        }\n        sessionApi ??= hydrogenConfig.session?.(log);\n        request.ctx.session = getSyncSessionApi(request, response, log, sessionApi);\n        /**\n         * Inject the cache & context into the module loader so we can pull it out for subrequests.\n         */\n        request.ctx.runtime = context;\n        setCache(cache);\n        const builtInRouteResource = getBuiltInRoute(url);\n        if (builtInRouteResource) {\n            const apiResponse = await renderApiRoute(request, {\n                resource: builtInRouteResource,\n                params: {},\n                hasServerComponent: false,\n            }, hydrogenConfig, {\n                session: sessionApi,\n                suppressLog: true,\n            });\n            return apiResponse instanceof Request\n                ? handleRequest(apiResponse, {\n                    ...options,\n                    sessionApi,\n                    headers: apiResponse.headers,\n                })\n                : apiResponse;\n        }\n        // Check if we have cached response\n        if (cache) {\n            const cachedResponse = await getItemFromCache(request.cacheKey());\n            if (cachedResponse) {\n                if (isStale(request, cachedResponse)) {\n                    const lockCacheKey = request.cacheKey(true);\n                    const staleWhileRevalidatePromise = getItemFromCache(lockCacheKey).then(async (lockExists) => {\n                        if (lockExists)\n                            return;\n                        try {\n                            // Don't stream when creating a response for cache\n                            response.doNotStream();\n                            await setItemInCache(lockCacheKey, new Response(null), CacheShort({\n                                maxAge: 10,\n                            }));\n                            await processRequest(handleRequest, App, url, request, sessionApi, options, response, hydrogenConfig, true);\n                            response.markAsSent();\n                        }\n                        catch (e) {\n                            log.error('Cache revalidate error', e);\n                        }\n                    });\n                    // Asynchronously wait for it in workers\n                    request.ctx.runtime?.waitUntil?.(staleWhileRevalidatePromise);\n                }\n                return cachedResponse;\n            }\n        }\n        const result = await processRequest(handleRequest, App, url, request, sessionApi, options, response, hydrogenConfig);\n        response.markAsSent();\n        return result;\n    };\n    if (__HYDROGEN_WORKER__)\n        return handleRequest;\n    return ((rawRequest, options) => handleFetchResponseInNode(handleRequest(rawRequest, options), options.streamableResponse));\n};\nasync function processRequest(handleRequest, App, url, request, sessionApi, options, response, hydrogenConfig, revalidate = false) {\n    const { dev, nonce, indexTemplate, streamableResponse: nodeResponse } = options;\n    const log = getLoggerWithContext(request);\n    const isRSCRequest = request.isRscRequest();\n    const apiRoute = !isRSCRequest && getApiRoute(url, hydrogenConfig.routes);\n    // The API Route might have a default export, making it also a server component\n    // If it does, only render the API route if the request method is GET\n    if (apiRoute && (!apiRoute.hasServerComponent || request.method !== 'GET')) {\n        const apiResponse = await renderApiRoute(request, apiRoute, hydrogenConfig, {\n            session: sessionApi,\n        });\n        return apiResponse instanceof Request\n            ? handleRequest(apiResponse, {\n                ...options,\n                sessionApi,\n                headers: apiResponse.headers,\n            })\n            : apiResponse;\n    }\n    const state = isRSCRequest\n        ? parseJSON(decodeURIComponent(url.searchParams.get('state') || '{}'))\n        : {\n            pathname: decodeURIComponent(url.pathname),\n            search: decodeURIComponent(url.search),\n        };\n    const rsc = runRSC({ App, state, log, request, response });\n    if (isRSCRequest) {\n        const buffered = await bufferReadableStream(rsc.readable.getReader());\n        const rscDidError = !!rsc.didError();\n        postRequestTasks('rsc', rscDidError ? 500 : 200, request, response, rscDidError);\n        if (rscDidError) {\n            response.headers.set('cache-control', response.cacheControlHeader);\n            cacheResponse(response, request, [buffered], revalidate);\n        }\n        return new Response(buffered, {\n            headers: response.headers,\n        });\n    }\n    if (isBotUA(url, request.headers.get('user-agent'))) {\n        response.doNotStream();\n    }\n    return runSSR({\n        log,\n        dev,\n        rsc,\n        nonce,\n        state,\n        request,\n        response,\n        nodeResponse,\n        revalidate,\n        template: await getTemplate(indexTemplate, url),\n    });\n}\nfunction getApiRoute(url, routes) {\n    const apiRoutes = getApiRoutes(routes);\n    return getApiRouteFromURL(url, apiRoutes);\n}\nfunction assembleHtml({ ssrHtml, rscPayload, request, template, }) {\n    let html = applyHtmlHead(ssrHtml, request.ctx.head, template);\n    if (rscPayload) {\n        html = html.replace('</body>', \n        // This must be a function to avoid replacing\n        // special patterns like `$1` in `String.replace`.\n        () => flightContainer(rscPayload) + '</body>');\n    }\n    return html;\n}\n/**\n * Run the SSR/Fizz part of the App. If streaming is disabled,\n * this buffers the output and applies SEO enhancements.\n */\nasync function runSSR({ rsc, state, request, response, nodeResponse, nonce, dev, log, revalidate, template: { raw: template, noScriptTemplate, bootstrapModules, bootstrapScripts, linkHeader, }, }) {\n    let ssrDidError;\n    const didError = () => rsc.didError() ?? ssrDidError;\n    const [rscReadableForFizz, rscReadableForFlight] = rsc.readable.tee();\n    const rscResponse = createFromReadableStream(rscReadableForFizz);\n    const RscConsumer = () => rscResponse.readRoot();\n    const AppSSR = (React.createElement(Html, { template: response.canStream() ? noScriptTemplate : template, hydrogenConfig: request.ctx.hydrogenConfig },\n        React.createElement(ServerRequestProvider, { request: request },\n            React.createElement(ServerPropsProvider, { initialServerProps: state, setServerPropsForRsc: () => { }, setRscResponseFromApiRoute: () => { } },\n                React.createElement(Suspense, { fallback: null },\n                    React.createElement(RscConsumer, null))))));\n    if (linkHeader) {\n        const existingLinkHeader = response.headers.get('Link');\n        response.headers.set('Link', existingLinkHeader ? existingLinkHeader + ', ' + linkHeader : linkHeader);\n    }\n    log.trace('start ssr');\n    const rscReadable = response.canStream()\n        ? new ReadableStream({\n            start(controller) {\n                log.trace('rsc start chunks');\n                const encoder = new TextEncoder();\n                bufferReadableStream(rscReadableForFlight.getReader(), (chunk) => {\n                    const metaTag = flightContainer(chunk);\n                    controller.enqueue(encoder.encode(metaTag));\n                }).then(() => {\n                    log.trace('rsc finish chunks');\n                    return controller.close();\n                });\n            },\n        })\n        : rscReadableForFlight;\n    if (__HYDROGEN_WORKER__) {\n        const encoder = new TextEncoder();\n        const transform = new TransformStream();\n        const writable = transform.writable.getWriter();\n        const responseOptions = {};\n        const savedChunks = tagOnWrite(writable);\n        let ssrReadable;\n        try {\n            ssrReadable = await ssrRenderToReadableStream(AppSSR, {\n                nonce,\n                bootstrapScripts,\n                bootstrapModules,\n                onError(error) {\n                    ssrDidError = error;\n                    if (dev && !writable.closed && !!responseOptions.status) {\n                        writable.write(getErrorMarkup(error));\n                    }\n                    log.error(error);\n                },\n            });\n        }\n        catch (error) {\n            log.error(error);\n            return new Response(template + (dev ? getErrorMarkup(error) : ''), {\n                status: 500,\n                headers: { [CONTENT_TYPE]: HTML_CONTENT_TYPE },\n            });\n        }\n        if (response.canStream())\n            log.trace('worker ready to stream');\n        ssrReadable.allReady.then(() => log.trace('worker complete ssr'));\n        const prepareForStreaming = () => {\n            Object.assign(responseOptions, getResponseOptions(response, didError()));\n            if (responseOptions.status >= 400) {\n                responseOptions.headers.set('cache-control', 'no-store');\n            }\n            else {\n                /**\n                 * TODO: This assumes `response.cache()` has been called _before_ any\n                 * queries which might be caught behind Suspense. Clarify this or add\n                 * additional checks downstream?\n                 */\n                /**\n                 * TODO: Also add `Vary` headers for `accept-language` and any other keys\n                 * we want to shard our full-page cache for all Hydrogen storefronts.\n                 */\n                responseOptions.headers.set('cache-control', response.cacheControlHeader);\n            }\n            if (isRedirect(responseOptions)) {\n                return false;\n            }\n            responseOptions.headers.set(CONTENT_TYPE, HTML_CONTENT_TYPE);\n            writable.write(encoder.encode(DOCTYPE));\n            const error = didError();\n            if (error) {\n                // This error was delayed until the headers were properly sent.\n                writable.write(encoder.encode(dev ? getErrorMarkup(error) : template));\n            }\n            return true;\n        };\n        const shouldFlushBody = response.canStream()\n            ? prepareForStreaming()\n            : await ssrReadable.allReady.then(prepareForStreaming);\n        if (shouldFlushBody) {\n            let bufferedSsr = '';\n            let isPendingSsrWrite = false;\n            const writingSSR = bufferReadableStream(ssrReadable.getReader(), response.canStream()\n                ? (chunk) => {\n                    bufferedSsr += chunk;\n                    if (!isPendingSsrWrite) {\n                        isPendingSsrWrite = true;\n                        setTimeout(() => {\n                            isPendingSsrWrite = false;\n                            // React can write fractional chunks synchronously.\n                            // This timeout ensures we only write full HTML tags\n                            // in order to allow RSC writing concurrently.\n                            if (bufferedSsr) {\n                                writable.write(encoder.encode(bufferedSsr));\n                                bufferedSsr = '';\n                            }\n                        }, 0);\n                    }\n                }\n                : undefined);\n            const writingRSC = bufferReadableStream(rscReadable.getReader(), response.canStream()\n                ? (scriptTag) => writable.write(encoder.encode(scriptTag))\n                : undefined);\n            Promise.all([writingSSR, writingRSC]).then(([ssrHtml, rscPayload]) => {\n                if (!response.canStream()) {\n                    const html = assembleHtml({ ssrHtml, rscPayload, request, template });\n                    writable.write(encoder.encode(html));\n                }\n                // Last SSR write might be pending, delay closing the writable one tick\n                setTimeout(() => {\n                    writable.close();\n                    postRequestTasks('str', responseOptions.status, request, response, !!didError());\n                    response.status = responseOptions.status;\n                    cacheResponse(response, request, savedChunks, revalidate);\n                }, 0);\n            });\n        }\n        else {\n            // Redirects do not write body\n            writable.close();\n            postRequestTasks('str', responseOptions.status, request, response, !!didError());\n        }\n        if (response.canStream()) {\n            return new Response(transform.readable, responseOptions);\n        }\n        const bufferedBody = await bufferReadableStream(transform.readable.getReader());\n        return new Response(bufferedBody, responseOptions);\n    }\n    else if (nodeResponse) {\n        const savedChunks = tagOnWrite(nodeResponse);\n        nodeResponse.on('finish', () => {\n            response.status = nodeResponse.statusCode;\n            cacheResponse(response, request, savedChunks, revalidate);\n        });\n        const { pipe } = ssrRenderToPipeableStream(AppSSR, {\n            nonce,\n            bootstrapScripts,\n            bootstrapModules,\n            onShellReady() {\n                log.trace('node ready to stream');\n                /**\n                 * TODO: This assumes `response.cache()` has been called _before_ any\n                 * queries which might be caught behind Suspense. Clarify this or add\n                 * additional checks downstream?\n                 */\n                writeHeadToNodeResponse(nodeResponse, response, log, didError());\n                if (isRedirect(nodeResponse)) {\n                    // Return redirects early without further rendering/streaming\n                    return nodeResponse.end();\n                }\n                if (!response.canStream())\n                    return;\n                startWritingToNodeResponse(nodeResponse, dev ? didError() : undefined);\n                setTimeout(() => {\n                    log.trace('node pipe response');\n                    if (!nodeResponse.writableEnded)\n                        pipe(nodeResponse);\n                }, 0);\n                bufferReadableStream(rscReadable.getReader(), (chunk) => {\n                    log.trace('rsc chunk');\n                    if (!nodeResponse.writableEnded)\n                        nodeResponse.write(chunk);\n                });\n            },\n            async onAllReady() {\n                log.trace('node complete ssr');\n                if (!revalidate &&\n                    (response.canStream() || nodeResponse.writableEnded)) {\n                    postRequestTasks('str', nodeResponse.statusCode, request, response, !!didError());\n                    return;\n                }\n                writeHeadToNodeResponse(nodeResponse, response, log, didError());\n                if (isRedirect(nodeResponse)) {\n                    // Redirects found after any async code\n                    return nodeResponse.end();\n                }\n                const bufferedResponse = new PassThrough();\n                const bufferedRscPromise = bufferReadableStream(rscReadable.getReader());\n                let ssrHtml = '';\n                bufferedResponse.on('data', (chunk) => (ssrHtml += chunk.toString()));\n                bufferedResponse.once('error', (error) => (ssrDidError = error));\n                bufferedResponse.once('end', async () => {\n                    const rscPayload = await bufferedRscPromise;\n                    const error = didError();\n                    startWritingToNodeResponse(nodeResponse, dev ? error : undefined);\n                    let html = template;\n                    if (!error) {\n                        html = assembleHtml({ ssrHtml, rscPayload, request, template });\n                    }\n                    postRequestTasks('ssr', nodeResponse.statusCode, request, response, !!didError());\n                    if (!nodeResponse.writableEnded) {\n                        nodeResponse.write(html);\n                        nodeResponse.end();\n                    }\n                });\n                pipe(bufferedResponse);\n            },\n            onShellError(error) {\n                log.error(error);\n                if (!nodeResponse.writableEnded) {\n                    writeHeadToNodeResponse(nodeResponse, response, log, error);\n                    startWritingToNodeResponse(nodeResponse, dev ? error : undefined);\n                    nodeResponse.write(template);\n                    nodeResponse.end();\n                }\n            },\n            onError(error) {\n                if (error.message?.includes('stream closed early')) {\n                    // This seems to happen when Fizz is still streaming\n                    // but nodeResponse has been closed by the browser.\n                    // This is common in tests and during development\n                    // due to frequent page refresh.\n                    return;\n                }\n                ssrDidError = error;\n                if (dev && nodeResponse.headersSent && !nodeResponse.writableEnded) {\n                    // Calling write would flush headers automatically.\n                    // Delay this error until headers are properly sent.\n                    nodeResponse.write(getErrorMarkup(error));\n                }\n                log.error(error);\n            },\n        });\n    }\n}\n/**\n * Run the RSC/Flight part of the App\n */\nfunction runRSC({ App, state, log, request, response }) {\n    const serverProps = { ...state, request, response, log };\n    request.ctx.router.serverProps = serverProps;\n    preloadRequestCacheData(request);\n    const AppRSC = (React.createElement(ServerRequestProvider, { request: request },\n        React.createElement(App, { ...serverProps }),\n        React.createElement(Suspense, { fallback: null },\n            React.createElement(Analytics, null)),\n        request.ctx.hydrogenConfig?.__EXPERIMENTAL__devTools && (React.createElement(Suspense, { fallback: null },\n            React.createElement(DevTools, null)))));\n    let rscDidError;\n    const rscReadable = rscRenderToReadableStream(AppRSC, {\n        onError(e) {\n            rscDidError = e;\n            log.error(e);\n        },\n    });\n    return { readable: rscReadable, didError: () => rscDidError };\n}\nexport default renderHydrogen;\nfunction startWritingToNodeResponse(nodeResponse, error) {\n    if (nodeResponse.writableEnded)\n        return;\n    if (!nodeResponse.headersSent) {\n        nodeResponse.setHeader(CONTENT_TYPE, HTML_CONTENT_TYPE);\n        nodeResponse.write(DOCTYPE);\n    }\n    if (error) {\n        // This error was delayed until the headers were properly sent.\n        nodeResponse.write(getErrorMarkup(error));\n    }\n}\nfunction getResponseOptions({ headers, status, statusText }, error) {\n    const responseInit = {\n        headers,\n        status: error ? 500 : status,\n    };\n    if (!error && statusText) {\n        responseInit.statusText = statusText;\n    }\n    return responseInit;\n}\nfunction writeHeadToNodeResponse(nodeResponse, componentResponse, log, error) {\n    if (nodeResponse.headersSent)\n        return;\n    log.trace('writeHeadToNodeResponse');\n    const { headers, status, statusText } = getResponseOptions(componentResponse, error);\n    if (status >= 400) {\n        nodeResponse.setHeader('cache-control', 'no-store');\n    }\n    else {\n        /**\n         * TODO: Also add `Vary` headers for `accept-language` and any other keys\n         * we want to shard our full-page cache for all Hydrogen storefronts.\n         */\n        nodeResponse.setHeader('cache-control', componentResponse.cacheControlHeader);\n    }\n    nodeResponse.statusCode = status;\n    if (statusText) {\n        nodeResponse.statusMessage = statusText;\n    }\n    setNodeHeaders(headers, nodeResponse);\n}\nfunction isRedirect(response) {\n    const status = response.status ?? response.statusCode ?? 0;\n    return status >= 300 && status < 400;\n}\nfunction flightContainer(chunk) {\n    return `<meta data-flight=\"${htmlEncode(chunk)}\" />`;\n}\nfunction postRequestTasks(type, status, request, response, didError) {\n    logServerResponse(type, request, status, didError);\n    logCacheControlHeaders(type, request, response);\n    logQueryTimings(type, request);\n    request.savePreloadQueries();\n}\n/**\n * Ensure Node.js environments handle the fetch Response correctly.\n */\nfunction handleFetchResponseInNode(fetchResponsePromise, nodeResponse) {\n    if (nodeResponse) {\n        fetchResponsePromise.then((response) => {\n            if (!response || nodeResponse.writableEnded)\n                return;\n            setNodeHeaders(response.headers, nodeResponse);\n            nodeResponse.statusCode = response.status;\n            if (response.body) {\n                if (response.body instanceof ReadableStream) {\n                    bufferReadableStream(response.body.getReader(), (chunk) => {\n                        nodeResponse.write(chunk);\n                    }).then(() => nodeResponse.end());\n                }\n                else {\n                    nodeResponse.write(response.body);\n                    nodeResponse.end();\n                }\n            }\n            else {\n                nodeResponse.end();\n            }\n        });\n    }\n    return fetchResponsePromise;\n}\n/**\n * Convert Headers to outgoing Node.js headers.\n * Specifically, parse set-cookie headers to split them properly as separate\n * `set-cookie` headers rather than a single, combined header.\n */\nfunction setNodeHeaders(headers, nodeResponse) {\n    for (const [key, value] of headers.entries()) {\n        if (key.toLowerCase() === 'set-cookie') {\n            nodeResponse.setHeader(key, splitCookiesString(value));\n        }\n        else {\n            nodeResponse.setHeader(key, value);\n        }\n    }\n}\nfunction tagOnWrite(response) {\n    const originalWrite = response.write;\n    const decoder = new TextDecoder();\n    const savedChunks = [];\n    response.write = (arg) => {\n        if (arg instanceof Uint8Array) {\n            savedChunks.push(decoder.decode(arg));\n        }\n        else {\n            savedChunks.push(arg);\n        }\n        // @ts-ignore\n        return originalWrite.apply(response, [arg]);\n    };\n    return savedChunks;\n}\nasync function cacheResponse(response, request, chunks, revalidate) {\n    const cache = getCache();\n    /**\n     * Only full page cache on cachable responses where response\n     *\n     * - have content to cache\n     * - have status 200\n     * - does not have no-store on cache-control header\n     * - does not have set-cookie header\n     * - is a GET request\n     * - does not have a session or does not have an active customer access token\n     */\n    if (cache &&\n        chunks.length > 0 &&\n        response.status === 200 &&\n        response.cache().mode !== NO_STORE &&\n        !response.headers.has('Set-Cookie') &&\n        /get/i.test(request.method) &&\n        !sessionHasCustomerAccessToken(request)) {\n        if (revalidate) {\n            await saveCacheResponse(response, request, chunks);\n        }\n        else {\n            const cachePutPromise = Promise.resolve(true).then(() => saveCacheResponse(response, request, chunks));\n            request.ctx.runtime?.waitUntil?.(cachePutPromise);\n        }\n    }\n}\nfunction sessionHasCustomerAccessToken(request) {\n    const session = request.ctx.session;\n    // Need to wrap this in a try catch because session.get can\n    // throw a promise if it is not ready\n    try {\n        const sessionData = session?.get();\n        return sessionData && sessionData['customerAccessToken'];\n    }\n    catch (error) {\n        return false;\n    }\n}\nasync function saveCacheResponse(response, request, chunks) {\n    const cache = getCache();\n    if (cache && chunks.length > 0) {\n        const { headers, status, statusText } = getResponseOptions(response);\n        headers.set('cache-control', response.cacheControlHeader);\n        const currentHeader = headers.get('Content-Type');\n        if (!currentHeader && !request.isRscRequest()) {\n            headers.set('Content-Type', HTML_CONTENT_TYPE);\n        }\n        await setItemInCache(request.cacheKey(), new Response(chunks.join(''), {\n            status,\n            statusText,\n            headers,\n        }), response.cache());\n        deleteItemFromCache(request.cacheKey(true));\n    }\n}\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { useLocation } from '../../foundation/Router/BrowserRouter.client.js';\nimport { createPath } from 'history';\nimport { buildPath, useNavigate, } from '../../foundation/useNavigate/useNavigate.js';\nimport { RSC_PATHNAME } from '../../constants.js';\nimport { useInternalServerProps } from '../../foundation/useServerProps/use-server-props.js';\nimport { useBasePath } from '../../foundation/useRouteParams/RouteParamsProvider.client.js';\n/**\n * The `Link` component is used to navigate between routes. Because it renders an underlying `<a>` element, all\n * properties available to the `<a>` element are also available to the `Link` component.\n * For more information, refer to the [`<a>` element documentation](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#attributes).\n */\nexport const Link = React.forwardRef(function Link(props, ref) {\n    const navigate = useNavigate();\n    const location = useLocation();\n    const [_, startTransition] = React.useTransition();\n    const routeBasePath = useBasePath();\n    /**\n     * Inspired by Remix's Link component\n     */\n    const [shouldPrefetch, setShouldPrefetch] = useState(false);\n    const [maybePrefetch, setMaybePrefetch] = useState(false);\n    const { reloadDocument, target, replace: _replace, onClick, clientState, prefetch = true, scroll = true, } = props;\n    const to = buildPath(props.basePath ?? routeBasePath, props.to);\n    const internalClick = useCallback((e) => {\n        if (onClick)\n            onClick(e);\n        if (!reloadDocument && // do regular browser stuff\n            e.button === 0 && // Ignore everything but left clicks\n            (!target || target === '_self') && // Let browser handle \"target=_blank\"\n            !isModifiedEvent(e) // Ignore modifier key clicks\n        ) {\n            e.preventDefault();\n            // If the URL hasn't changed, the regular <a> will do a replace\n            const replace = !!_replace || createPath(location) === createPath({ pathname: to });\n            navigate(to, {\n                replace,\n                scroll,\n                clientState,\n                basePath: '/', // path was already resolved with the base\n            });\n        }\n    }, [\n        onClick,\n        reloadDocument,\n        target,\n        _replace,\n        location,\n        to,\n        navigate,\n        clientState,\n        scroll,\n    ]);\n    const signalPrefetchIntent = () => {\n        /**\n         * startTransition to yield to more important updates\n         */\n        startTransition(() => {\n            if (prefetch && !!to) {\n                setMaybePrefetch(true);\n            }\n        });\n    };\n    const cancelPrefetchIntent = () => {\n        /**\n         * startTransition to yield to more important updates\n         */\n        startTransition(() => {\n            if (prefetch) {\n                setMaybePrefetch(false);\n            }\n        });\n    };\n    /**\n     * Wrapping `maybePrefetch` inside useEffect allows the user to quickly graze over\n     * a link without triggering a prefetch.\n     */\n    useEffect(() => {\n        if (maybePrefetch) {\n            const id = setTimeout(() => {\n                setShouldPrefetch(true);\n            }, 100);\n            return () => {\n                clearTimeout(id);\n            };\n        }\n    }, [maybePrefetch]);\n    const onMouseEnter = composeEventHandlers(props.onMouseEnter, signalPrefetchIntent);\n    const onMouseLeave = composeEventHandlers(props.onMouseLeave, cancelPrefetchIntent);\n    const onFocus = composeEventHandlers(props.onFocus, signalPrefetchIntent);\n    const onBlur = composeEventHandlers(props.onBlur, cancelPrefetchIntent);\n    const onTouchStart = composeEventHandlers(props.onTouchStart, signalPrefetchIntent);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"a\", { ...without(props, [\n                'to',\n                'replace',\n                'clientState',\n                'reloadDocument',\n                'prefetch',\n                'scroll',\n            ]), ref: ref, rel: props.rel ??\n                (to.startsWith('http') || to.startsWith('//')\n                    ? 'noreferrer noopener'\n                    : undefined), onClick: internalClick, onMouseEnter: onMouseEnter, onMouseLeave: onMouseLeave, onFocus: onFocus, onBlur: onBlur, onTouchStart: onTouchStart, href: to }, props.children),\n        shouldPrefetch && React.createElement(Prefetch, { pathname: to })));\n});\nfunction Prefetch({ pathname }) {\n    const { getProposedLocationServerProps } = useInternalServerProps();\n    const location = useLocation();\n    const newPath = createPath({ pathname });\n    if (pathname.startsWith('http') || newPath === createPath(location)) {\n        return null;\n    }\n    const newLocation = new URL(newPath, window.location.href);\n    const proposedServerState = getProposedLocationServerProps({\n        pathname: newLocation.pathname,\n        search: newLocation.search,\n    });\n    const href = `${RSC_PATHNAME}?state=` +\n        encodeURIComponent(JSON.stringify(proposedServerState));\n    return React.createElement(\"link\", { rel: \"prefetch\", as: \"fetch\", href: href });\n}\n/**\n * Credit: Remix's <Link> component.\n */\nexport function composeEventHandlers(theirHandler, ourHandler) {\n    return (event) => {\n        theirHandler?.(event);\n        if (!event.defaultPrevented) {\n            ourHandler(event);\n        }\n    };\n}\nfunction isModifiedEvent(event) {\n    return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\nfunction without(obj, props) {\n    const newObj = {};\n    for (const key of Object.keys(obj)) {\n        if (!props.includes(key)) {\n            newObj[key] = obj[key];\n        }\n    }\n    return newObj;\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/components/Link/Link.client.js?no-proxy';\n\nexport const Link = /* @__PURE__ */wrapInClientProxy({ name: 'Link', id: 'Link-LTE3ODM5MjI0Mjk', value: allImports['Link'], isDefault: false });\nexport const composeEventHandlers = /* @__PURE__ */wrapInClientProxy({ name: 'composeEventHandlers', id: 'Link-LTE3ODM5MjI0Mjk', value: allImports['composeEventHandlers'], isDefault: false });\n","import * as React from 'react';\nimport { getShopifyImageDimensions, shopifyImageLoader, addImageSizeParametersToUrl, IMG_SRC_SET_SIZES, } from '../../utilities/index.js';\n/**\n * The `Image` component renders an image for the Storefront API's\n * [Image object](https://shopify.dev/api/storefront/reference/common-objects/image) by using the `data` prop, or a custom location by using the `src` prop. You can [customize this component](https://shopify.dev/api/hydrogen/components#customizing-hydrogen-components) using passthrough props.\n *\n * An image's width and height are determined using the following priority list:\n * 1. The width and height values for the `loaderOptions` prop\n * 2. The width and height values for bare props\n * 3. The width and height values for the `data` prop\n *\n * If only one of `width` or `height` are defined, then the other will attempt to be calculated based on the image's aspect ratio,\n * provided that both `data.width` and `data.height` are available. If `data.width` and `data.height` aren't available, then the aspect ratio cannot be determined and the missing\n * value will remain as `null`\n */\nexport function Image(props) {\n    if (!props.data && !props.src) {\n        throw new Error(`<Image/>: requires either a 'data' or 'src' prop.`);\n    }\n    if (__HYDROGEN_DEV__ && props.data && props.src) {\n        console.warn(`<Image/>: using both 'data' and 'src' props is not supported; using the 'data' prop by default`);\n    }\n    if (props.data) {\n        return React.createElement(ShopifyImage, { ...props });\n    }\n    else {\n        return React.createElement(ExternalImage, { ...props });\n    }\n}\nfunction ShopifyImage({ data, width, height, loading, loader = shopifyImageLoader, loaderOptions, widths, decoding = 'async', ...rest }) {\n    if (!data.url) {\n        throw new Error(`<Image/>: the 'data' prop requires the 'url' property`);\n    }\n    if (__HYDROGEN_DEV__ && !data.altText && !rest.alt) {\n        console.warn(`<Image/>: the 'data' prop should have the 'altText' property, or the 'alt' prop, and one of them should not be empty. ${`Image: ${data.id ?? data.url}`}`);\n    }\n    const { width: imgElementWidth, height: imgElementHeight } = getShopifyImageDimensions({\n        data,\n        loaderOptions,\n        elementProps: {\n            width,\n            height,\n        },\n    });\n    if (__HYDROGEN_DEV__ && (!imgElementWidth || !imgElementHeight)) {\n        console.warn(`<Image/>: the 'data' prop requires either 'width' or 'data.width', and 'height' or 'data.height' properties. ${`Image: ${data.id ?? data.url}`}`);\n    }\n    let finalSrc = data.url;\n    if (loader) {\n        finalSrc = loader({\n            ...loaderOptions,\n            src: data.url,\n            width: imgElementWidth,\n            height: imgElementHeight,\n        });\n        if (typeof finalSrc !== 'string' || !finalSrc) {\n            throw new Error(`<Image/>: 'loader' did not return a valid string. ${`Image: ${data.id ?? data.url}`}`);\n        }\n    }\n    // determining what the intended width of the image is. For example, if the width is specified and lower than the image width, then that is the maximum image width\n    // to prevent generating a srcset with widths bigger than needed or to generate images that would distort because of being larger than original\n    const maxWidth = width && imgElementWidth && width < imgElementWidth\n        ? width\n        : imgElementWidth;\n    const finalSrcset = rest.srcSet ??\n        internalImageSrcSet({\n            ...loaderOptions,\n            widths,\n            src: data.url,\n            width: maxWidth,\n            height: imgElementHeight,\n            loader,\n        });\n    /* eslint-disable hydrogen/prefer-image-component */\n    return (React.createElement(\"img\", { id: data.id ?? '', alt: data.altText ?? rest.alt ?? '', loading: loading ?? 'lazy', ...rest, src: finalSrc, width: imgElementWidth ?? undefined, height: imgElementHeight ?? undefined, srcSet: finalSrcset, decoding: decoding }));\n    /* eslint-enable hydrogen/prefer-image-component */\n}\nfunction ExternalImage({ src, width, height, alt, loader, loaderOptions, widths, loading, decoding = 'async', ...rest }) {\n    if (!width || !height) {\n        throw new Error(`<Image/>: when 'src' is provided, 'width' and 'height' are required and need to be valid values (i.e. greater than zero). Provided values: 'src': ${src}, 'width': ${width}, 'height': ${height}`);\n    }\n    if (__HYDROGEN_DEV__ && !alt) {\n        console.warn(`<Image/>: when 'src' is provided, 'alt' should also be provided. ${`Image: ${src}`}`);\n    }\n    if (widths &&\n        Array.isArray(widths) &&\n        widths.some((size) => isNaN(size)))\n        throw new Error(`<Image/>: the 'widths' property must be an array of numbers`);\n    let finalSrc = src;\n    if (loader) {\n        finalSrc = loader({ src, width, height, ...loaderOptions });\n        if (typeof finalSrc !== 'string' || !finalSrc) {\n            throw new Error(`<Image/>: 'loader' did not return a valid string`);\n        }\n    }\n    let finalSrcset = rest.srcSet ?? undefined;\n    if (!finalSrcset && loader && widths) {\n        // Height is a requirement in the LoaderProps, so  to keep the aspect ratio, we must determine the height based on the default values\n        const heightToWidthRatio = parseInt(height.toString()) / parseInt(width.toString());\n        finalSrcset = widths\n            ?.map((width) => parseInt(width, 10))\n            ?.map((width) => `${loader({\n            ...loaderOptions,\n            src,\n            width,\n            height: Math.floor(width * heightToWidthRatio),\n        })} ${width}w`)\n            .join(', ');\n    }\n    /* eslint-disable hydrogen/prefer-image-component */\n    return (React.createElement(\"img\", { ...rest, src: finalSrc, \n        // @ts-expect-error TS doesn't understand that it could exist\n        width: loaderOptions?.width ?? width, \n        // @ts-expect-error TS doesn't understand that it could exist\n        height: loaderOptions?.height ?? height, alt: alt ?? '', loading: loading ?? 'lazy', srcSet: finalSrcset, decoding: decoding }));\n    /* eslint-enable hydrogen/prefer-image-component */\n}\nfunction internalImageSrcSet({ src, width, crop, scale, widths, loader, height, }) {\n    const hasCustomWidths = widths && Array.isArray(widths);\n    if (hasCustomWidths && widths.some((size) => isNaN(size))) {\n        throw new Error(`<Image/>: the 'widths' must be an array of numbers`);\n    }\n    let aspectRatio = 1;\n    if (width && height) {\n        aspectRatio = Number(height) / Number(width);\n    }\n    let setSizes = hasCustomWidths ? widths : IMG_SRC_SET_SIZES;\n    if (!hasCustomWidths &&\n        width &&\n        width < IMG_SRC_SET_SIZES[IMG_SRC_SET_SIZES.length - 1]) {\n        setSizes = IMG_SRC_SET_SIZES.filter((size) => size <= width);\n    }\n    const srcGenerator = loader ? loader : addImageSizeParametersToUrl;\n    return setSizes\n        .map((size) => `${srcGenerator({\n        src,\n        width: size,\n        // height is not applied if there is no crop\n        // if there is crop, then height is applied as a ratio of the original width + height aspect ratio * size\n        height: crop ? Number(size) * aspectRatio : undefined,\n        crop,\n        scale,\n    })} ${size}w`)\n        .join(', ');\n}\n","import React from 'react';\nimport { shopifyImageLoader } from '../../utilities/index.js';\n/**\n * The `Video` component renders a `video` for the Storefront API's [Video object](https://shopify.dev/api/storefront/reference/products/video).\n */\nexport function Video(props) {\n    const { data, previewImageOptions, id = data.id, playsInline = true, controls = true, sourceProps = {}, ...passthroughProps } = props;\n    const posterUrl = shopifyImageLoader({\n        src: data.previewImage?.url ?? '',\n        ...previewImageOptions,\n    });\n    if (!data.sources) {\n        throw new Error(`<Video/> requires a 'data.sources' array`);\n    }\n    return (\n    // eslint-disable-next-line jsx-a11y/media-has-caption\n    React.createElement(\"video\", { ...passthroughProps, id: id, playsInline: playsInline, controls: controls, poster: posterUrl }, data.sources.map((source) => {\n        if (!(source?.url && source?.mimeType)) {\n            throw new Error(`<Video/> needs 'source.url' and 'source.mimeType'`);\n        }\n        return (React.createElement(\"source\", { ...sourceProps, key: source.url, src: source.url, type: source.mimeType }));\n    })));\n}\n","import React from 'react';\nimport { useEmbeddedVideoUrl } from '../../utilities/index.js';\n/**\n * The `ExternalVideo` component renders an embedded video for the Storefront\n * API's [ExternalVideo object](https://shopify.dev/api/storefront/reference/products/externalvideo).\n */\nexport function ExternalVideo(props) {\n    const { data, options, id = data.id, frameBorder = '0', allow = 'accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture', allowFullScreen = true, loading = 'lazy', ...passthroughProps } = props;\n    if (!data.embedUrl) {\n        throw new Error(`<ExternalVideo/> requires the 'embedUrl' property`);\n    }\n    const url = useEmbeddedVideoUrl(data.embedUrl, options);\n    return (React.createElement(\"iframe\", { ...passthroughProps, id: id ?? data.embedUrl, frameBorder: frameBorder, allow: allow, allowFullScreen: allowFullScreen, src: url, loading: loading }));\n}\n","import { loadScript } from '../../utilities/load_script.js';\nimport { useState, useEffect } from 'react';\n/**\n * The `useLoadScript` hook loads an external script tag on the client-side.\n */\nexport function useLoadScript(url, options) {\n    const [status, setStatus] = useState('loading');\n    const stringifiedOptions = JSON.stringify(options);\n    useEffect(() => {\n        async function loadScriptWrapper() {\n            try {\n                setStatus('loading');\n                await loadScript(url, options);\n                setStatus('done');\n            }\n            catch (error) {\n                setStatus('error');\n            }\n        }\n        loadScriptWrapper();\n    }, [url, stringifiedOptions, options]);\n    return status;\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/hooks/useLoadScript/useLoadScript.client.js?no-proxy';\n\nexport const useLoadScript = /* @__PURE__ */wrapInClientProxy({ name: 'useLoadScript', id: 'useLoadScript-NDQ3Nzk3MDA5', value: allImports['useLoadScript'], isDefault: false });\n","import React, { useState, useEffect, useCallback, } from 'react';\nimport { useLoadScript } from '../../hooks/useLoadScript/useLoadScript.client.js';\n/**\n * The `ModelViewer` component renders a 3D model (with the `model-viewer` tag) for\n * the Storefront API's [Model3d object](https://shopify.dev/api/storefront/reference/products/model3d).\n */\nexport function ModelViewer(props) {\n    const [modelViewer, setModelViewer] = useState(undefined);\n    const callbackRef = useCallback((node) => {\n        setModelViewer(node);\n    }, []);\n    const { data, id = data.id, children, className, ...passthroughProps } = props;\n    const modelViewerLoadedStatus = useLoadScript('https://unpkg.com/@google/model-viewer@v1.8.0/dist/model-viewer.min.js', {\n        module: true,\n    });\n    useEffect(() => {\n        if (modelViewer == null) {\n            return;\n        }\n        if (passthroughProps.onError)\n            modelViewer.addEventListener('error', passthroughProps.onError);\n        if (passthroughProps.onLoad)\n            modelViewer.addEventListener('load', passthroughProps.onLoad);\n        if (passthroughProps.onPreload)\n            modelViewer.addEventListener('preload', passthroughProps.onPreload);\n        if (passthroughProps.onModelVisibility)\n            modelViewer.addEventListener('model-visibility', passthroughProps.onModelVisibility);\n        if (passthroughProps.onProgress)\n            modelViewer.addEventListener('progress', passthroughProps.onProgress);\n        if (passthroughProps.onArStatus)\n            modelViewer.addEventListener('ar-status', passthroughProps.onArStatus);\n        if (passthroughProps.onArTracking)\n            modelViewer.addEventListener('ar-tracking', passthroughProps.onArTracking);\n        if (passthroughProps.onQuickLookButtonTapped)\n            modelViewer.addEventListener('quick-look-button-tapped', passthroughProps.onQuickLookButtonTapped);\n        if (passthroughProps.onCameraChange)\n            modelViewer.addEventListener('camera-change', passthroughProps.onCameraChange);\n        if (passthroughProps.onEnvironmentChange)\n            modelViewer.addEventListener('environment-change', passthroughProps.onEnvironmentChange);\n        if (passthroughProps.onPlay)\n            modelViewer.addEventListener('play', passthroughProps.onPlay);\n        if (passthroughProps.onPause)\n            modelViewer.addEventListener('ar-status', passthroughProps.onPause);\n        if (passthroughProps.onSceneGraphReady)\n            modelViewer.addEventListener('scene-graph-ready', passthroughProps.onSceneGraphReady);\n        return () => {\n            if (modelViewer == null) {\n                return;\n            }\n            if (passthroughProps.onError)\n                modelViewer.removeEventListener('error', passthroughProps.onError);\n            if (passthroughProps.onLoad)\n                modelViewer.removeEventListener('load', passthroughProps.onLoad);\n            if (passthroughProps.onPreload)\n                modelViewer.removeEventListener('preload', passthroughProps.onPreload);\n            if (passthroughProps.onModelVisibility)\n                modelViewer.removeEventListener('model-visibility', passthroughProps.onModelVisibility);\n            if (passthroughProps.onProgress)\n                modelViewer.removeEventListener('progress', passthroughProps.onProgress);\n            if (passthroughProps.onArStatus)\n                modelViewer.removeEventListener('ar-status', passthroughProps.onArStatus);\n            if (passthroughProps.onArTracking)\n                modelViewer.removeEventListener('ar-tracking', passthroughProps.onArTracking);\n            if (passthroughProps.onQuickLookButtonTapped)\n                modelViewer.removeEventListener('quick-look-button-tapped', passthroughProps.onQuickLookButtonTapped);\n            if (passthroughProps.onCameraChange)\n                modelViewer.removeEventListener('camera-change', passthroughProps.onCameraChange);\n            if (passthroughProps.onEnvironmentChange)\n                modelViewer.removeEventListener('environment-change', passthroughProps.onEnvironmentChange);\n            if (passthroughProps.onPlay)\n                modelViewer.removeEventListener('play', passthroughProps.onPlay);\n            if (passthroughProps.onPause)\n                modelViewer.removeEventListener('ar-status', passthroughProps.onPause);\n            if (passthroughProps.onSceneGraphReady)\n                modelViewer.removeEventListener('scene-graph-ready', passthroughProps.onSceneGraphReady);\n        };\n    }, [\n        modelViewer,\n        passthroughProps.onArStatus,\n        passthroughProps.onArTracking,\n        passthroughProps.onCameraChange,\n        passthroughProps.onEnvironmentChange,\n        passthroughProps.onError,\n        passthroughProps.onLoad,\n        passthroughProps.onModelVisibility,\n        passthroughProps.onPause,\n        passthroughProps.onPlay,\n        passthroughProps.onPreload,\n        passthroughProps.onProgress,\n        passthroughProps.onQuickLookButtonTapped,\n        passthroughProps.onSceneGraphReady,\n    ]);\n    if (modelViewerLoadedStatus !== 'done') {\n        // TODO: What do we want to display while the model-viewer library loads?\n        return null;\n    }\n    if (!data.sources?.[0]?.url) {\n        throw new Error(`<ModelViewer/> requires 'data.sources' prop to be an array, with an object that has a property 'url' on it`);\n    }\n    if (!data.alt) {\n        console.warn(`<ModelViewer/> requires the 'data.alt' prop for accessibility`);\n    }\n    return (React.createElement(\"model-viewer\", { ref: callbackRef, ...passthroughProps, class: className, id: id, src: data.sources[0].url, alt: data.alt, \"camera-controls\": passthroughProps.cameraControls ?? true, poster: passthroughProps.poster || data.previewImage?.url, autoplay: passthroughProps.autoplay ?? true, loading: passthroughProps.loading, reveal: passthroughProps.reveal, ar: passthroughProps.ar, \"ar-modes\": passthroughProps.arModes, \"ar-scale\": passthroughProps.arScale, \"ar-placement\": passthroughProps.arPlacement, \"ios-src\": passthroughProps.iosSrc, \"touch-action\": passthroughProps.touchAction, \"disable-zoom\": passthroughProps.disableZoom, \"orbit-sensitivity\": passthroughProps.orbitSensitivity, \"auto-rotate\": passthroughProps.autoRotate, \"auto-rotate-delay\": passthroughProps.autoRotateDelay, \"rotation-per-second\": passthroughProps.rotationPerSecond, \"interaction-policy\": passthroughProps.interactionPolicy, \"interaction-prompt\": passthroughProps.interactionPrompt, \"interaction-prompt-style\": passthroughProps.interactionPromptStyle, \"interaction-prompt-threshold\": passthroughProps.interactionPromptThreshold, \"camera-orbit\": passthroughProps.cameraOrbit, \"camera-target\": passthroughProps.cameraTarget, \"field-of-view\": passthroughProps.fieldOfView, \"max-camera-orbit\": passthroughProps.maxCameraOrbit, \"min-camera-orbit\": passthroughProps.minCameraOrbit, \"max-field-of-view\": passthroughProps.maxFieldOfView, \"min-field-of-view\": passthroughProps.minFieldOfView, bounds: passthroughProps.bounds, \"interpolation-decay\": passthroughProps.interpolationDecay ?? 100, \"skybox-image\": passthroughProps.skyboxImage, \"environment-image\": passthroughProps.environmentImage, exposure: passthroughProps.exposure, \"shadow-intensity\": passthroughProps.shadowIntensity ?? 0, \"shadow-softness\": passthroughProps.shadowSoftness ?? 0, \"animation-name\": passthroughProps.animationName, \"animation-crossfade-duration\": passthroughProps.animationCrossfadeDuration, \"variant-name\": passthroughProps.variantName, orientation: passthroughProps.orientation, scale: passthroughProps.scale }, children));\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/components/ModelViewer/ModelViewer.client.js?no-proxy';\n\nexport const ModelViewer = /* @__PURE__ */wrapInClientProxy({ name: 'ModelViewer', id: 'ModelViewer-MTY2Mzc0MTA1MQ', value: allImports['ModelViewer'], isDefault: false });\n","import React from 'react';\nimport { Image } from '../Image/index.js';\nimport { Video } from '../Video/index.js';\nimport { ExternalVideo } from '../ExternalVideo/index.js';\nimport { ModelViewer } from '../ModelViewer/index.js';\n/**\n * The `MediaFile` component renders the media for the Storefront API's\n * [Media object](https://shopify.dev/api/storefront/reference/products/media). It renders an `Image`, a\n * `Video`, an `ExternalVideo`, or a `ModelViewer` depending on the `mediaContentType` of the\n * `media` provided as a prop.\n */\nexport function MediaFile({ data, options, ...passthroughProps }) {\n    switch (data.mediaContentType) {\n        case 'IMAGE': {\n            const dataImage = data\n                .image;\n            if (!dataImage || !dataImage.url) {\n                console.warn(`No \"image\" property was found on the \"data\" prop for <MediaFile/>, for the \"type='image'\"`);\n                return null;\n            }\n            return (React.createElement(Image, { ...passthroughProps, data: dataImage, loaderOptions: options }));\n        }\n        case 'VIDEO':\n            return (React.createElement(Video, { ...passthroughProps, data: data, previewImageOptions: options }));\n        case 'EXTERNAL_VIDEO':\n            return (React.createElement(ExternalVideo, { ...passthroughProps, data: data, options: options }));\n        case 'MODEL_3D':\n            return (React.createElement(ModelViewer, { ...passthroughProps, data: data }));\n        default:\n            return null;\n    }\n}\n","export const CartLineAdd = (cartFragment) => `\nmutation CartLineAdd($cartId: ID!, $lines: [CartLineInput!]!, $numCartLines: Int = 250, $country: CountryCode = ZZ) @inContext(country: $country) {\n  cartLinesAdd(cartId: $cartId, lines: $lines) {\n    cart {\n      ...CartFragment\n    }\n  }\n}\n\n${cartFragment}\n`;\nexport const CartCreate = (cartFragment) => `\nmutation CartCreate($input: CartInput!, $numCartLines: Int = 250, $country: CountryCode = ZZ) @inContext(country: $country) {\n  cartCreate(input: $input) {\n    cart {\n      ...CartFragment\n    }\n  }\n}\n\n${cartFragment}\n`;\nexport const CartLineRemove = (cartFragment) => `\nmutation CartLineRemove($cartId: ID!, $lines: [ID!]!, $numCartLines: Int = 250, $country: CountryCode = ZZ) @inContext(country: $country) {\n  cartLinesRemove(cartId: $cartId, lineIds: $lines) {\n    cart {\n      ...CartFragment\n    }\n  }\n}\n\n${cartFragment}\n`;\nexport const CartLineUpdate = (cartFragment) => `\nmutation CartLineUpdate($cartId: ID!, $lines: [CartLineUpdateInput!]!, $numCartLines: Int = 250, $country: CountryCode = ZZ) @inContext(country: $country) {\n  cartLinesUpdate(cartId: $cartId, lines: $lines) {\n    cart {\n      ...CartFragment\n    }\n  }\n}\n\n${cartFragment}\n`;\nexport const CartNoteUpdate = (cartFragment) => `\nmutation CartNoteUpdate($cartId: ID!, $note: String, $numCartLines: Int = 250, $country: CountryCode = ZZ) @inContext(country: $country) {\n  cartNoteUpdate(cartId: $cartId, note: $note) {\n    cart {\n      ...CartFragment\n    }\n  }\n}\n\n${cartFragment}\n`;\nexport const CartBuyerIdentityUpdate = (cartFragment) => `\nmutation CartBuyerIdentityUpdate(\n  $cartId: ID!\n  $buyerIdentity: CartBuyerIdentityInput!\n  $numCartLines: Int = 250\n  $country: CountryCode = ZZ\n) @inContext(country: $country) {\n  cartBuyerIdentityUpdate(cartId: $cartId, buyerIdentity: $buyerIdentity) {\n    cart {\n      ...CartFragment\n    }\n  }\n}\n\n${cartFragment}\n`;\nexport const CartAttributesUpdate = (cartFragment) => `\nmutation CartAttributesUpdate($attributes: [AttributeInput!]!, $cartId: ID!, $numCartLines: Int = 250, $country: CountryCode = ZZ) @inContext(country: $country) {\n  cartAttributesUpdate(attributes: $attributes, cartId: $cartId) {\n    cart {\n      ...CartFragment\n    }\n  }\n}\n\n${cartFragment}\n`;\nexport const CartDiscountCodesUpdate = (cartFragment) => `\nmutation CartDiscountCodesUpdate($cartId: ID!, $discountCodes: [String!], $numCartLines: Int = 250, $country: CountryCode = ZZ) @inContext(country: $country) {\n  cartDiscountCodesUpdate(cartId: $cartId, discountCodes: $discountCodes) {\n    cart {\n      ...CartFragment\n    }\n  }\n}\n\n${cartFragment}\n`;\nexport const CartQuery = (cartFragment) => `\nquery CartQuery($id: ID!, $numCartLines: Int = 250, $country: CountryCode = ZZ) @inContext(country: $country) {\n  cart(id: $id) {\n    ...CartFragment\n  }\n}\n\n${cartFragment}\n`;\nexport const defaultCartFragment = `\nfragment CartFragment on Cart {\n  id\n  checkoutUrl\n  totalQuantity\n  buyerIdentity {\n    countryCode\n    customer {\n      id\n      email\n      firstName\n      lastName\n      displayName\n    }\n    email\n    phone\n  }\n  lines(first: $numCartLines) {\n    edges {\n      node {\n        id\n        quantity\n        attributes {\n          key\n          value\n        }\n        cost {\n          totalAmount {\n            amount\n            currencyCode\n          }\n          compareAtAmountPerQuantity {\n            amount\n            currencyCode\n          }\n        }\n        merchandise {\n          ... on ProductVariant {\n            id\n            availableForSale\n            compareAtPriceV2 {\n              ...MoneyFragment\n            }\n            priceV2 {\n              ...MoneyFragment\n            }\n            requiresShipping\n            title\n            image {\n              ...ImageFragment\n            }\n            product {\n              handle\n              title\n              id\n            }\n            selectedOptions {\n              name\n              value\n            }\n          }\n        }\n      }\n    }\n  }\n  cost {\n    subtotalAmount {\n      ...MoneyFragment\n    }\n    totalAmount {\n      ...MoneyFragment\n    }\n    totalDutyAmount {\n      ...MoneyFragment\n    }\n    totalTaxAmount {\n      ...MoneyFragment\n    }\n  }\n  note\n  attributes {\n    key\n    value\n  }\n  discountCodes {\n    code\n  }\n}\n\nfragment MoneyFragment on MoneyV2 {\n  currencyCode\n  amount\n}\nfragment ImageFragment on Image {\n  id\n  url\n  altText\n  width\n  height\n}\n`;\n","/** The set of valid sort keys for the Article query. */\nexport var ArticleSortKeys;\n(function (ArticleSortKeys) {\n    /** Sort by the `author` value. */\n    ArticleSortKeys[\"Author\"] = \"AUTHOR\";\n    /** Sort by the `blog_title` value. */\n    ArticleSortKeys[\"BlogTitle\"] = \"BLOG_TITLE\";\n    /** Sort by the `id` value. */\n    ArticleSortKeys[\"Id\"] = \"ID\";\n    /** Sort by the `published_at` value. */\n    ArticleSortKeys[\"PublishedAt\"] = \"PUBLISHED_AT\";\n    /**\n     * Sort by relevance to the search terms when the `query` parameter is specified on the connection.\n     * Don't use this sort key when no search query is specified.\n     *\n     */\n    ArticleSortKeys[\"Relevance\"] = \"RELEVANCE\";\n    /** Sort by the `title` value. */\n    ArticleSortKeys[\"Title\"] = \"TITLE\";\n    /** Sort by the `updated_at` value. */\n    ArticleSortKeys[\"UpdatedAt\"] = \"UPDATED_AT\";\n})(ArticleSortKeys || (ArticleSortKeys = {}));\n/** The set of valid sort keys for the Blog query. */\nexport var BlogSortKeys;\n(function (BlogSortKeys) {\n    /** Sort by the `handle` value. */\n    BlogSortKeys[\"Handle\"] = \"HANDLE\";\n    /** Sort by the `id` value. */\n    BlogSortKeys[\"Id\"] = \"ID\";\n    /**\n     * Sort by relevance to the search terms when the `query` parameter is specified on the connection.\n     * Don't use this sort key when no search query is specified.\n     *\n     */\n    BlogSortKeys[\"Relevance\"] = \"RELEVANCE\";\n    /** Sort by the `title` value. */\n    BlogSortKeys[\"Title\"] = \"TITLE\";\n})(BlogSortKeys || (BlogSortKeys = {}));\n/** Card brand, such as Visa or Mastercard, which can be used for payments. */\nexport var CardBrand;\n(function (CardBrand) {\n    /** American Express. */\n    CardBrand[\"AmericanExpress\"] = \"AMERICAN_EXPRESS\";\n    /** Diners Club. */\n    CardBrand[\"DinersClub\"] = \"DINERS_CLUB\";\n    /** Discover. */\n    CardBrand[\"Discover\"] = \"DISCOVER\";\n    /** JCB. */\n    CardBrand[\"Jcb\"] = \"JCB\";\n    /** Mastercard. */\n    CardBrand[\"Mastercard\"] = \"MASTERCARD\";\n    /** Visa. */\n    CardBrand[\"Visa\"] = \"VISA\";\n})(CardBrand || (CardBrand = {}));\n/** Possible error codes that can be returned by `CartUserError`. */\nexport var CartErrorCode;\n(function (CartErrorCode) {\n    /** The input value is invalid. */\n    CartErrorCode[\"Invalid\"] = \"INVALID\";\n    /** Merchandise line was not found in cart. */\n    CartErrorCode[\"InvalidMerchandiseLine\"] = \"INVALID_MERCHANDISE_LINE\";\n    /** The input value should be less than the maximum value allowed. */\n    CartErrorCode[\"LessThan\"] = \"LESS_THAN\";\n    /** Missing discount code. */\n    CartErrorCode[\"MissingDiscountCode\"] = \"MISSING_DISCOUNT_CODE\";\n    /** Missing note. */\n    CartErrorCode[\"MissingNote\"] = \"MISSING_NOTE\";\n})(CartErrorCode || (CartErrorCode = {}));\n/** Possible error codes that can be returned by `CheckoutUserError`. */\nexport var CheckoutErrorCode;\n(function (CheckoutErrorCode) {\n    /** Checkout is already completed. */\n    CheckoutErrorCode[\"AlreadyCompleted\"] = \"ALREADY_COMPLETED\";\n    /** Input email contains an invalid domain name. */\n    CheckoutErrorCode[\"BadDomain\"] = \"BAD_DOMAIN\";\n    /** The input value is blank. */\n    CheckoutErrorCode[\"Blank\"] = \"BLANK\";\n    /** Cart does not meet discount requirements notice. */\n    CheckoutErrorCode[\"CartDoesNotMeetDiscountRequirementsNotice\"] = \"CART_DOES_NOT_MEET_DISCOUNT_REQUIREMENTS_NOTICE\";\n    /** Customer already used once per customer discount notice. */\n    CheckoutErrorCode[\"CustomerAlreadyUsedOncePerCustomerDiscountNotice\"] = \"CUSTOMER_ALREADY_USED_ONCE_PER_CUSTOMER_DISCOUNT_NOTICE\";\n    /** Discount already applied. */\n    CheckoutErrorCode[\"DiscountAlreadyApplied\"] = \"DISCOUNT_ALREADY_APPLIED\";\n    /** Discount disabled. */\n    CheckoutErrorCode[\"DiscountDisabled\"] = \"DISCOUNT_DISABLED\";\n    /** Discount expired. */\n    CheckoutErrorCode[\"DiscountExpired\"] = \"DISCOUNT_EXPIRED\";\n    /** Discount limit reached. */\n    CheckoutErrorCode[\"DiscountLimitReached\"] = \"DISCOUNT_LIMIT_REACHED\";\n    /** Discount not found. */\n    CheckoutErrorCode[\"DiscountNotFound\"] = \"DISCOUNT_NOT_FOUND\";\n    /** Checkout is already completed. */\n    CheckoutErrorCode[\"Empty\"] = \"EMPTY\";\n    /** Queue token has expired. */\n    CheckoutErrorCode[\"ExpiredQueueToken\"] = \"EXPIRED_QUEUE_TOKEN\";\n    /** Gift card has already been applied. */\n    CheckoutErrorCode[\"GiftCardAlreadyApplied\"] = \"GIFT_CARD_ALREADY_APPLIED\";\n    /** Gift card code is invalid. */\n    CheckoutErrorCode[\"GiftCardCodeInvalid\"] = \"GIFT_CARD_CODE_INVALID\";\n    /** Gift card currency does not match checkout currency. */\n    CheckoutErrorCode[\"GiftCardCurrencyMismatch\"] = \"GIFT_CARD_CURRENCY_MISMATCH\";\n    /** Gift card has no funds left. */\n    CheckoutErrorCode[\"GiftCardDepleted\"] = \"GIFT_CARD_DEPLETED\";\n    /** Gift card is disabled. */\n    CheckoutErrorCode[\"GiftCardDisabled\"] = \"GIFT_CARD_DISABLED\";\n    /** Gift card is expired. */\n    CheckoutErrorCode[\"GiftCardExpired\"] = \"GIFT_CARD_EXPIRED\";\n    /** Gift card was not found. */\n    CheckoutErrorCode[\"GiftCardNotFound\"] = \"GIFT_CARD_NOT_FOUND\";\n    /** Gift card cannot be applied to a checkout that contains a gift card. */\n    CheckoutErrorCode[\"GiftCardUnusable\"] = \"GIFT_CARD_UNUSABLE\";\n    /** The input value should be greater than or equal to the minimum value allowed. */\n    CheckoutErrorCode[\"GreaterThanOrEqualTo\"] = \"GREATER_THAN_OR_EQUAL_TO\";\n    /** Higher value discount applied. */\n    CheckoutErrorCode[\"HigherValueDiscountApplied\"] = \"HIGHER_VALUE_DISCOUNT_APPLIED\";\n    /** The input value is invalid. */\n    CheckoutErrorCode[\"Invalid\"] = \"INVALID\";\n    /** Cannot specify country and presentment currency code. */\n    CheckoutErrorCode[\"InvalidCountryAndCurrency\"] = \"INVALID_COUNTRY_AND_CURRENCY\";\n    /** Input Zip is invalid for country provided. */\n    CheckoutErrorCode[\"InvalidForCountry\"] = \"INVALID_FOR_COUNTRY\";\n    /** Input Zip is invalid for country and province provided. */\n    CheckoutErrorCode[\"InvalidForCountryAndProvince\"] = \"INVALID_FOR_COUNTRY_AND_PROVINCE\";\n    /** Invalid province in country. */\n    CheckoutErrorCode[\"InvalidProvinceInCountry\"] = \"INVALID_PROVINCE_IN_COUNTRY\";\n    /** Queue token is invalid. */\n    CheckoutErrorCode[\"InvalidQueueToken\"] = \"INVALID_QUEUE_TOKEN\";\n    /** Invalid region in country. */\n    CheckoutErrorCode[\"InvalidRegionInCountry\"] = \"INVALID_REGION_IN_COUNTRY\";\n    /** Invalid state in country. */\n    CheckoutErrorCode[\"InvalidStateInCountry\"] = \"INVALID_STATE_IN_COUNTRY\";\n    /** The input value should be less than the maximum value allowed. */\n    CheckoutErrorCode[\"LessThan\"] = \"LESS_THAN\";\n    /** The input value should be less than or equal to the maximum value allowed. */\n    CheckoutErrorCode[\"LessThanOrEqualTo\"] = \"LESS_THAN_OR_EQUAL_TO\";\n    /** Line item was not found in checkout. */\n    CheckoutErrorCode[\"LineItemNotFound\"] = \"LINE_ITEM_NOT_FOUND\";\n    /** Checkout is locked. */\n    CheckoutErrorCode[\"Locked\"] = \"LOCKED\";\n    /** Missing payment input. */\n    CheckoutErrorCode[\"MissingPaymentInput\"] = \"MISSING_PAYMENT_INPUT\";\n    /** Not enough in stock. */\n    CheckoutErrorCode[\"NotEnoughInStock\"] = \"NOT_ENOUGH_IN_STOCK\";\n    /** Input value is not supported. */\n    CheckoutErrorCode[\"NotSupported\"] = \"NOT_SUPPORTED\";\n    /** The input value needs to be blank. */\n    CheckoutErrorCode[\"Present\"] = \"PRESENT\";\n    /** Shipping rate expired. */\n    CheckoutErrorCode[\"ShippingRateExpired\"] = \"SHIPPING_RATE_EXPIRED\";\n    /** Throttled during checkout. */\n    CheckoutErrorCode[\"ThrottledDuringCheckout\"] = \"THROTTLED_DURING_CHECKOUT\";\n    /** The input value is too long. */\n    CheckoutErrorCode[\"TooLong\"] = \"TOO_LONG\";\n    /** The amount of the payment does not match the value to be paid. */\n    CheckoutErrorCode[\"TotalPriceMismatch\"] = \"TOTAL_PRICE_MISMATCH\";\n    /** Unable to apply discount. */\n    CheckoutErrorCode[\"UnableToApply\"] = \"UNABLE_TO_APPLY\";\n})(CheckoutErrorCode || (CheckoutErrorCode = {}));\n/** The set of valid sort keys for the Collection query. */\nexport var CollectionSortKeys;\n(function (CollectionSortKeys) {\n    /** Sort by the `id` value. */\n    CollectionSortKeys[\"Id\"] = \"ID\";\n    /**\n     * Sort by relevance to the search terms when the `query` parameter is specified on the connection.\n     * Don't use this sort key when no search query is specified.\n     *\n     */\n    CollectionSortKeys[\"Relevance\"] = \"RELEVANCE\";\n    /** Sort by the `title` value. */\n    CollectionSortKeys[\"Title\"] = \"TITLE\";\n    /** Sort by the `updated_at` value. */\n    CollectionSortKeys[\"UpdatedAt\"] = \"UPDATED_AT\";\n})(CollectionSortKeys || (CollectionSortKeys = {}));\n/**\n * The code designating a country/region, which generally follows ISO 3166-1 alpha-2 guidelines.\n * If a territory doesn't have a country code value in the `CountryCode` enum, then it might be considered a subdivision\n * of another country. For example, the territories associated with Spain are represented by the country code `ES`,\n * and the territories associated with the United States of America are represented by the country code `US`.\n *\n */\nexport var CountryCode;\n(function (CountryCode) {\n    /** Ascension Island. */\n    CountryCode[\"Ac\"] = \"AC\";\n    /** Andorra. */\n    CountryCode[\"Ad\"] = \"AD\";\n    /** United Arab Emirates. */\n    CountryCode[\"Ae\"] = \"AE\";\n    /** Afghanistan. */\n    CountryCode[\"Af\"] = \"AF\";\n    /** Antigua & Barbuda. */\n    CountryCode[\"Ag\"] = \"AG\";\n    /** Anguilla. */\n    CountryCode[\"Ai\"] = \"AI\";\n    /** Albania. */\n    CountryCode[\"Al\"] = \"AL\";\n    /** Armenia. */\n    CountryCode[\"Am\"] = \"AM\";\n    /** Netherlands Antilles. */\n    CountryCode[\"An\"] = \"AN\";\n    /** Angola. */\n    CountryCode[\"Ao\"] = \"AO\";\n    /** Argentina. */\n    CountryCode[\"Ar\"] = \"AR\";\n    /** Austria. */\n    CountryCode[\"At\"] = \"AT\";\n    /** Australia. */\n    CountryCode[\"Au\"] = \"AU\";\n    /** Aruba. */\n    CountryCode[\"Aw\"] = \"AW\";\n    /** land Islands. */\n    CountryCode[\"Ax\"] = \"AX\";\n    /** Azerbaijan. */\n    CountryCode[\"Az\"] = \"AZ\";\n    /** Bosnia & Herzegovina. */\n    CountryCode[\"Ba\"] = \"BA\";\n    /** Barbados. */\n    CountryCode[\"Bb\"] = \"BB\";\n    /** Bangladesh. */\n    CountryCode[\"Bd\"] = \"BD\";\n    /** Belgium. */\n    CountryCode[\"Be\"] = \"BE\";\n    /** Burkina Faso. */\n    CountryCode[\"Bf\"] = \"BF\";\n    /** Bulgaria. */\n    CountryCode[\"Bg\"] = \"BG\";\n    /** Bahrain. */\n    CountryCode[\"Bh\"] = \"BH\";\n    /** Burundi. */\n    CountryCode[\"Bi\"] = \"BI\";\n    /** Benin. */\n    CountryCode[\"Bj\"] = \"BJ\";\n    /** St. Barthlemy. */\n    CountryCode[\"Bl\"] = \"BL\";\n    /** Bermuda. */\n    CountryCode[\"Bm\"] = \"BM\";\n    /** Brunei. */\n    CountryCode[\"Bn\"] = \"BN\";\n    /** Bolivia. */\n    CountryCode[\"Bo\"] = \"BO\";\n    /** Caribbean Netherlands. */\n    CountryCode[\"Bq\"] = \"BQ\";\n    /** Brazil. */\n    CountryCode[\"Br\"] = \"BR\";\n    /** Bahamas. */\n    CountryCode[\"Bs\"] = \"BS\";\n    /** Bhutan. */\n    CountryCode[\"Bt\"] = \"BT\";\n    /** Bouvet Island. */\n    CountryCode[\"Bv\"] = \"BV\";\n    /** Botswana. */\n    CountryCode[\"Bw\"] = \"BW\";\n    /** Belarus. */\n    CountryCode[\"By\"] = \"BY\";\n    /** Belize. */\n    CountryCode[\"Bz\"] = \"BZ\";\n    /** Canada. */\n    CountryCode[\"Ca\"] = \"CA\";\n    /** Cocos (Keeling) Islands. */\n    CountryCode[\"Cc\"] = \"CC\";\n    /** Congo - Kinshasa. */\n    CountryCode[\"Cd\"] = \"CD\";\n    /** Central African Republic. */\n    CountryCode[\"Cf\"] = \"CF\";\n    /** Congo - Brazzaville. */\n    CountryCode[\"Cg\"] = \"CG\";\n    /** Switzerland. */\n    CountryCode[\"Ch\"] = \"CH\";\n    /** Cte dIvoire. */\n    CountryCode[\"Ci\"] = \"CI\";\n    /** Cook Islands. */\n    CountryCode[\"Ck\"] = \"CK\";\n    /** Chile. */\n    CountryCode[\"Cl\"] = \"CL\";\n    /** Cameroon. */\n    CountryCode[\"Cm\"] = \"CM\";\n    /** China. */\n    CountryCode[\"Cn\"] = \"CN\";\n    /** Colombia. */\n    CountryCode[\"Co\"] = \"CO\";\n    /** Costa Rica. */\n    CountryCode[\"Cr\"] = \"CR\";\n    /** Cuba. */\n    CountryCode[\"Cu\"] = \"CU\";\n    /** Cape Verde. */\n    CountryCode[\"Cv\"] = \"CV\";\n    /** Curaao. */\n    CountryCode[\"Cw\"] = \"CW\";\n    /** Christmas Island. */\n    CountryCode[\"Cx\"] = \"CX\";\n    /** Cyprus. */\n    CountryCode[\"Cy\"] = \"CY\";\n    /** Czechia. */\n    CountryCode[\"Cz\"] = \"CZ\";\n    /** Germany. */\n    CountryCode[\"De\"] = \"DE\";\n    /** Djibouti. */\n    CountryCode[\"Dj\"] = \"DJ\";\n    /** Denmark. */\n    CountryCode[\"Dk\"] = \"DK\";\n    /** Dominica. */\n    CountryCode[\"Dm\"] = \"DM\";\n    /** Dominican Republic. */\n    CountryCode[\"Do\"] = \"DO\";\n    /** Algeria. */\n    CountryCode[\"Dz\"] = \"DZ\";\n    /** Ecuador. */\n    CountryCode[\"Ec\"] = \"EC\";\n    /** Estonia. */\n    CountryCode[\"Ee\"] = \"EE\";\n    /** Egypt. */\n    CountryCode[\"Eg\"] = \"EG\";\n    /** Western Sahara. */\n    CountryCode[\"Eh\"] = \"EH\";\n    /** Eritrea. */\n    CountryCode[\"Er\"] = \"ER\";\n    /** Spain. */\n    CountryCode[\"Es\"] = \"ES\";\n    /** Ethiopia. */\n    CountryCode[\"Et\"] = \"ET\";\n    /** Finland. */\n    CountryCode[\"Fi\"] = \"FI\";\n    /** Fiji. */\n    CountryCode[\"Fj\"] = \"FJ\";\n    /** Falkland Islands. */\n    CountryCode[\"Fk\"] = \"FK\";\n    /** Faroe Islands. */\n    CountryCode[\"Fo\"] = \"FO\";\n    /** France. */\n    CountryCode[\"Fr\"] = \"FR\";\n    /** Gabon. */\n    CountryCode[\"Ga\"] = \"GA\";\n    /** United Kingdom. */\n    CountryCode[\"Gb\"] = \"GB\";\n    /** Grenada. */\n    CountryCode[\"Gd\"] = \"GD\";\n    /** Georgia. */\n    CountryCode[\"Ge\"] = \"GE\";\n    /** French Guiana. */\n    CountryCode[\"Gf\"] = \"GF\";\n    /** Guernsey. */\n    CountryCode[\"Gg\"] = \"GG\";\n    /** Ghana. */\n    CountryCode[\"Gh\"] = \"GH\";\n    /** Gibraltar. */\n    CountryCode[\"Gi\"] = \"GI\";\n    /** Greenland. */\n    CountryCode[\"Gl\"] = \"GL\";\n    /** Gambia. */\n    CountryCode[\"Gm\"] = \"GM\";\n    /** Guinea. */\n    CountryCode[\"Gn\"] = \"GN\";\n    /** Guadeloupe. */\n    CountryCode[\"Gp\"] = \"GP\";\n    /** Equatorial Guinea. */\n    CountryCode[\"Gq\"] = \"GQ\";\n    /** Greece. */\n    CountryCode[\"Gr\"] = \"GR\";\n    /** South Georgia & South Sandwich Islands. */\n    CountryCode[\"Gs\"] = \"GS\";\n    /** Guatemala. */\n    CountryCode[\"Gt\"] = \"GT\";\n    /** Guinea-Bissau. */\n    CountryCode[\"Gw\"] = \"GW\";\n    /** Guyana. */\n    CountryCode[\"Gy\"] = \"GY\";\n    /** Hong Kong SAR. */\n    CountryCode[\"Hk\"] = \"HK\";\n    /** Heard & McDonald Islands. */\n    CountryCode[\"Hm\"] = \"HM\";\n    /** Honduras. */\n    CountryCode[\"Hn\"] = \"HN\";\n    /** Croatia. */\n    CountryCode[\"Hr\"] = \"HR\";\n    /** Haiti. */\n    CountryCode[\"Ht\"] = \"HT\";\n    /** Hungary. */\n    CountryCode[\"Hu\"] = \"HU\";\n    /** Indonesia. */\n    CountryCode[\"Id\"] = \"ID\";\n    /** Ireland. */\n    CountryCode[\"Ie\"] = \"IE\";\n    /** Israel. */\n    CountryCode[\"Il\"] = \"IL\";\n    /** Isle of Man. */\n    CountryCode[\"Im\"] = \"IM\";\n    /** India. */\n    CountryCode[\"In\"] = \"IN\";\n    /** British Indian Ocean Territory. */\n    CountryCode[\"Io\"] = \"IO\";\n    /** Iraq. */\n    CountryCode[\"Iq\"] = \"IQ\";\n    /** Iran. */\n    CountryCode[\"Ir\"] = \"IR\";\n    /** Iceland. */\n    CountryCode[\"Is\"] = \"IS\";\n    /** Italy. */\n    CountryCode[\"It\"] = \"IT\";\n    /** Jersey. */\n    CountryCode[\"Je\"] = \"JE\";\n    /** Jamaica. */\n    CountryCode[\"Jm\"] = \"JM\";\n    /** Jordan. */\n    CountryCode[\"Jo\"] = \"JO\";\n    /** Japan. */\n    CountryCode[\"Jp\"] = \"JP\";\n    /** Kenya. */\n    CountryCode[\"Ke\"] = \"KE\";\n    /** Kyrgyzstan. */\n    CountryCode[\"Kg\"] = \"KG\";\n    /** Cambodia. */\n    CountryCode[\"Kh\"] = \"KH\";\n    /** Kiribati. */\n    CountryCode[\"Ki\"] = \"KI\";\n    /** Comoros. */\n    CountryCode[\"Km\"] = \"KM\";\n    /** St. Kitts & Nevis. */\n    CountryCode[\"Kn\"] = \"KN\";\n    /** North Korea. */\n    CountryCode[\"Kp\"] = \"KP\";\n    /** South Korea. */\n    CountryCode[\"Kr\"] = \"KR\";\n    /** Kuwait. */\n    CountryCode[\"Kw\"] = \"KW\";\n    /** Cayman Islands. */\n    CountryCode[\"Ky\"] = \"KY\";\n    /** Kazakhstan. */\n    CountryCode[\"Kz\"] = \"KZ\";\n    /** Laos. */\n    CountryCode[\"La\"] = \"LA\";\n    /** Lebanon. */\n    CountryCode[\"Lb\"] = \"LB\";\n    /** St. Lucia. */\n    CountryCode[\"Lc\"] = \"LC\";\n    /** Liechtenstein. */\n    CountryCode[\"Li\"] = \"LI\";\n    /** Sri Lanka. */\n    CountryCode[\"Lk\"] = \"LK\";\n    /** Liberia. */\n    CountryCode[\"Lr\"] = \"LR\";\n    /** Lesotho. */\n    CountryCode[\"Ls\"] = \"LS\";\n    /** Lithuania. */\n    CountryCode[\"Lt\"] = \"LT\";\n    /** Luxembourg. */\n    CountryCode[\"Lu\"] = \"LU\";\n    /** Latvia. */\n    CountryCode[\"Lv\"] = \"LV\";\n    /** Libya. */\n    CountryCode[\"Ly\"] = \"LY\";\n    /** Morocco. */\n    CountryCode[\"Ma\"] = \"MA\";\n    /** Monaco. */\n    CountryCode[\"Mc\"] = \"MC\";\n    /** Moldova. */\n    CountryCode[\"Md\"] = \"MD\";\n    /** Montenegro. */\n    CountryCode[\"Me\"] = \"ME\";\n    /** St. Martin. */\n    CountryCode[\"Mf\"] = \"MF\";\n    /** Madagascar. */\n    CountryCode[\"Mg\"] = \"MG\";\n    /** North Macedonia. */\n    CountryCode[\"Mk\"] = \"MK\";\n    /** Mali. */\n    CountryCode[\"Ml\"] = \"ML\";\n    /** Myanmar (Burma). */\n    CountryCode[\"Mm\"] = \"MM\";\n    /** Mongolia. */\n    CountryCode[\"Mn\"] = \"MN\";\n    /** Macao SAR. */\n    CountryCode[\"Mo\"] = \"MO\";\n    /** Martinique. */\n    CountryCode[\"Mq\"] = \"MQ\";\n    /** Mauritania. */\n    CountryCode[\"Mr\"] = \"MR\";\n    /** Montserrat. */\n    CountryCode[\"Ms\"] = \"MS\";\n    /** Malta. */\n    CountryCode[\"Mt\"] = \"MT\";\n    /** Mauritius. */\n    CountryCode[\"Mu\"] = \"MU\";\n    /** Maldives. */\n    CountryCode[\"Mv\"] = \"MV\";\n    /** Malawi. */\n    CountryCode[\"Mw\"] = \"MW\";\n    /** Mexico. */\n    CountryCode[\"Mx\"] = \"MX\";\n    /** Malaysia. */\n    CountryCode[\"My\"] = \"MY\";\n    /** Mozambique. */\n    CountryCode[\"Mz\"] = \"MZ\";\n    /** Namibia. */\n    CountryCode[\"Na\"] = \"NA\";\n    /** New Caledonia. */\n    CountryCode[\"Nc\"] = \"NC\";\n    /** Niger. */\n    CountryCode[\"Ne\"] = \"NE\";\n    /** Norfolk Island. */\n    CountryCode[\"Nf\"] = \"NF\";\n    /** Nigeria. */\n    CountryCode[\"Ng\"] = \"NG\";\n    /** Nicaragua. */\n    CountryCode[\"Ni\"] = \"NI\";\n    /** Netherlands. */\n    CountryCode[\"Nl\"] = \"NL\";\n    /** Norway. */\n    CountryCode[\"No\"] = \"NO\";\n    /** Nepal. */\n    CountryCode[\"Np\"] = \"NP\";\n    /** Nauru. */\n    CountryCode[\"Nr\"] = \"NR\";\n    /** Niue. */\n    CountryCode[\"Nu\"] = \"NU\";\n    /** New Zealand. */\n    CountryCode[\"Nz\"] = \"NZ\";\n    /** Oman. */\n    CountryCode[\"Om\"] = \"OM\";\n    /** Panama. */\n    CountryCode[\"Pa\"] = \"PA\";\n    /** Peru. */\n    CountryCode[\"Pe\"] = \"PE\";\n    /** French Polynesia. */\n    CountryCode[\"Pf\"] = \"PF\";\n    /** Papua New Guinea. */\n    CountryCode[\"Pg\"] = \"PG\";\n    /** Philippines. */\n    CountryCode[\"Ph\"] = \"PH\";\n    /** Pakistan. */\n    CountryCode[\"Pk\"] = \"PK\";\n    /** Poland. */\n    CountryCode[\"Pl\"] = \"PL\";\n    /** St. Pierre & Miquelon. */\n    CountryCode[\"Pm\"] = \"PM\";\n    /** Pitcairn Islands. */\n    CountryCode[\"Pn\"] = \"PN\";\n    /** Palestinian Territories. */\n    CountryCode[\"Ps\"] = \"PS\";\n    /** Portugal. */\n    CountryCode[\"Pt\"] = \"PT\";\n    /** Paraguay. */\n    CountryCode[\"Py\"] = \"PY\";\n    /** Qatar. */\n    CountryCode[\"Qa\"] = \"QA\";\n    /** Runion. */\n    CountryCode[\"Re\"] = \"RE\";\n    /** Romania. */\n    CountryCode[\"Ro\"] = \"RO\";\n    /** Serbia. */\n    CountryCode[\"Rs\"] = \"RS\";\n    /** Russia. */\n    CountryCode[\"Ru\"] = \"RU\";\n    /** Rwanda. */\n    CountryCode[\"Rw\"] = \"RW\";\n    /** Saudi Arabia. */\n    CountryCode[\"Sa\"] = \"SA\";\n    /** Solomon Islands. */\n    CountryCode[\"Sb\"] = \"SB\";\n    /** Seychelles. */\n    CountryCode[\"Sc\"] = \"SC\";\n    /** Sudan. */\n    CountryCode[\"Sd\"] = \"SD\";\n    /** Sweden. */\n    CountryCode[\"Se\"] = \"SE\";\n    /** Singapore. */\n    CountryCode[\"Sg\"] = \"SG\";\n    /** St. Helena. */\n    CountryCode[\"Sh\"] = \"SH\";\n    /** Slovenia. */\n    CountryCode[\"Si\"] = \"SI\";\n    /** Svalbard & Jan Mayen. */\n    CountryCode[\"Sj\"] = \"SJ\";\n    /** Slovakia. */\n    CountryCode[\"Sk\"] = \"SK\";\n    /** Sierra Leone. */\n    CountryCode[\"Sl\"] = \"SL\";\n    /** San Marino. */\n    CountryCode[\"Sm\"] = \"SM\";\n    /** Senegal. */\n    CountryCode[\"Sn\"] = \"SN\";\n    /** Somalia. */\n    CountryCode[\"So\"] = \"SO\";\n    /** Suriname. */\n    CountryCode[\"Sr\"] = \"SR\";\n    /** South Sudan. */\n    CountryCode[\"Ss\"] = \"SS\";\n    /** So Tom & Prncipe. */\n    CountryCode[\"St\"] = \"ST\";\n    /** El Salvador. */\n    CountryCode[\"Sv\"] = \"SV\";\n    /** Sint Maarten. */\n    CountryCode[\"Sx\"] = \"SX\";\n    /** Syria. */\n    CountryCode[\"Sy\"] = \"SY\";\n    /** Eswatini. */\n    CountryCode[\"Sz\"] = \"SZ\";\n    /** Tristan da Cunha. */\n    CountryCode[\"Ta\"] = \"TA\";\n    /** Turks & Caicos Islands. */\n    CountryCode[\"Tc\"] = \"TC\";\n    /** Chad. */\n    CountryCode[\"Td\"] = \"TD\";\n    /** French Southern Territories. */\n    CountryCode[\"Tf\"] = \"TF\";\n    /** Togo. */\n    CountryCode[\"Tg\"] = \"TG\";\n    /** Thailand. */\n    CountryCode[\"Th\"] = \"TH\";\n    /** Tajikistan. */\n    CountryCode[\"Tj\"] = \"TJ\";\n    /** Tokelau. */\n    CountryCode[\"Tk\"] = \"TK\";\n    /** Timor-Leste. */\n    CountryCode[\"Tl\"] = \"TL\";\n    /** Turkmenistan. */\n    CountryCode[\"Tm\"] = \"TM\";\n    /** Tunisia. */\n    CountryCode[\"Tn\"] = \"TN\";\n    /** Tonga. */\n    CountryCode[\"To\"] = \"TO\";\n    /** Turkey. */\n    CountryCode[\"Tr\"] = \"TR\";\n    /** Trinidad & Tobago. */\n    CountryCode[\"Tt\"] = \"TT\";\n    /** Tuvalu. */\n    CountryCode[\"Tv\"] = \"TV\";\n    /** Taiwan. */\n    CountryCode[\"Tw\"] = \"TW\";\n    /** Tanzania. */\n    CountryCode[\"Tz\"] = \"TZ\";\n    /** Ukraine. */\n    CountryCode[\"Ua\"] = \"UA\";\n    /** Uganda. */\n    CountryCode[\"Ug\"] = \"UG\";\n    /** U.S. Outlying Islands. */\n    CountryCode[\"Um\"] = \"UM\";\n    /** United States. */\n    CountryCode[\"Us\"] = \"US\";\n    /** Uruguay. */\n    CountryCode[\"Uy\"] = \"UY\";\n    /** Uzbekistan. */\n    CountryCode[\"Uz\"] = \"UZ\";\n    /** Vatican City. */\n    CountryCode[\"Va\"] = \"VA\";\n    /** St. Vincent & Grenadines. */\n    CountryCode[\"Vc\"] = \"VC\";\n    /** Venezuela. */\n    CountryCode[\"Ve\"] = \"VE\";\n    /** British Virgin Islands. */\n    CountryCode[\"Vg\"] = \"VG\";\n    /** Vietnam. */\n    CountryCode[\"Vn\"] = \"VN\";\n    /** Vanuatu. */\n    CountryCode[\"Vu\"] = \"VU\";\n    /** Wallis & Futuna. */\n    CountryCode[\"Wf\"] = \"WF\";\n    /** Samoa. */\n    CountryCode[\"Ws\"] = \"WS\";\n    /** Kosovo. */\n    CountryCode[\"Xk\"] = \"XK\";\n    /** Yemen. */\n    CountryCode[\"Ye\"] = \"YE\";\n    /** Mayotte. */\n    CountryCode[\"Yt\"] = \"YT\";\n    /** South Africa. */\n    CountryCode[\"Za\"] = \"ZA\";\n    /** Zambia. */\n    CountryCode[\"Zm\"] = \"ZM\";\n    /** Zimbabwe. */\n    CountryCode[\"Zw\"] = \"ZW\";\n    /** Unknown Region. */\n    CountryCode[\"Zz\"] = \"ZZ\";\n})(CountryCode || (CountryCode = {}));\n/** The part of the image that should remain after cropping. */\nexport var CropRegion;\n(function (CropRegion) {\n    /** Keep the bottom of the image. */\n    CropRegion[\"Bottom\"] = \"BOTTOM\";\n    /** Keep the center of the image. */\n    CropRegion[\"Center\"] = \"CENTER\";\n    /** Keep the left of the image. */\n    CropRegion[\"Left\"] = \"LEFT\";\n    /** Keep the right of the image. */\n    CropRegion[\"Right\"] = \"RIGHT\";\n    /** Keep the top of the image. */\n    CropRegion[\"Top\"] = \"TOP\";\n})(CropRegion || (CropRegion = {}));\n/**\n * The three-letter currency codes that represent the world currencies used in stores. These include standard ISO 4217 codes, legacy codes,\n * and non-standard codes.\n *\n */\nexport var CurrencyCode;\n(function (CurrencyCode) {\n    /** United Arab Emirates Dirham (AED). */\n    CurrencyCode[\"Aed\"] = \"AED\";\n    /** Afghan Afghani (AFN). */\n    CurrencyCode[\"Afn\"] = \"AFN\";\n    /** Albanian Lek (ALL). */\n    CurrencyCode[\"All\"] = \"ALL\";\n    /** Armenian Dram (AMD). */\n    CurrencyCode[\"Amd\"] = \"AMD\";\n    /** Netherlands Antillean Guilder. */\n    CurrencyCode[\"Ang\"] = \"ANG\";\n    /** Angolan Kwanza (AOA). */\n    CurrencyCode[\"Aoa\"] = \"AOA\";\n    /** Argentine Pesos (ARS). */\n    CurrencyCode[\"Ars\"] = \"ARS\";\n    /** Australian Dollars (AUD). */\n    CurrencyCode[\"Aud\"] = \"AUD\";\n    /** Aruban Florin (AWG). */\n    CurrencyCode[\"Awg\"] = \"AWG\";\n    /** Azerbaijani Manat (AZN). */\n    CurrencyCode[\"Azn\"] = \"AZN\";\n    /** Bosnia and Herzegovina Convertible Mark (BAM). */\n    CurrencyCode[\"Bam\"] = \"BAM\";\n    /** Barbadian Dollar (BBD). */\n    CurrencyCode[\"Bbd\"] = \"BBD\";\n    /** Bangladesh Taka (BDT). */\n    CurrencyCode[\"Bdt\"] = \"BDT\";\n    /** Bulgarian Lev (BGN). */\n    CurrencyCode[\"Bgn\"] = \"BGN\";\n    /** Bahraini Dinar (BHD). */\n    CurrencyCode[\"Bhd\"] = \"BHD\";\n    /** Burundian Franc (BIF). */\n    CurrencyCode[\"Bif\"] = \"BIF\";\n    /** Bermudian Dollar (BMD). */\n    CurrencyCode[\"Bmd\"] = \"BMD\";\n    /** Brunei Dollar (BND). */\n    CurrencyCode[\"Bnd\"] = \"BND\";\n    /** Bolivian Boliviano (BOB). */\n    CurrencyCode[\"Bob\"] = \"BOB\";\n    /** Brazilian Real (BRL). */\n    CurrencyCode[\"Brl\"] = \"BRL\";\n    /** Bahamian Dollar (BSD). */\n    CurrencyCode[\"Bsd\"] = \"BSD\";\n    /** Bhutanese Ngultrum (BTN). */\n    CurrencyCode[\"Btn\"] = \"BTN\";\n    /** Botswana Pula (BWP). */\n    CurrencyCode[\"Bwp\"] = \"BWP\";\n    /** Belarusian Ruble (BYN). */\n    CurrencyCode[\"Byn\"] = \"BYN\";\n    /** Belarusian Ruble (BYR). */\n    CurrencyCode[\"Byr\"] = \"BYR\";\n    /** Belize Dollar (BZD). */\n    CurrencyCode[\"Bzd\"] = \"BZD\";\n    /** Canadian Dollars (CAD). */\n    CurrencyCode[\"Cad\"] = \"CAD\";\n    /** Congolese franc (CDF). */\n    CurrencyCode[\"Cdf\"] = \"CDF\";\n    /** Swiss Francs (CHF). */\n    CurrencyCode[\"Chf\"] = \"CHF\";\n    /** Chilean Peso (CLP). */\n    CurrencyCode[\"Clp\"] = \"CLP\";\n    /** Chinese Yuan Renminbi (CNY). */\n    CurrencyCode[\"Cny\"] = \"CNY\";\n    /** Colombian Peso (COP). */\n    CurrencyCode[\"Cop\"] = \"COP\";\n    /** Costa Rican Colones (CRC). */\n    CurrencyCode[\"Crc\"] = \"CRC\";\n    /** Cape Verdean escudo (CVE). */\n    CurrencyCode[\"Cve\"] = \"CVE\";\n    /** Czech Koruny (CZK). */\n    CurrencyCode[\"Czk\"] = \"CZK\";\n    /** Djiboutian Franc (DJF). */\n    CurrencyCode[\"Djf\"] = \"DJF\";\n    /** Danish Kroner (DKK). */\n    CurrencyCode[\"Dkk\"] = \"DKK\";\n    /** Dominican Peso (DOP). */\n    CurrencyCode[\"Dop\"] = \"DOP\";\n    /** Algerian Dinar (DZD). */\n    CurrencyCode[\"Dzd\"] = \"DZD\";\n    /** Egyptian Pound (EGP). */\n    CurrencyCode[\"Egp\"] = \"EGP\";\n    /** Eritrean Nakfa (ERN). */\n    CurrencyCode[\"Ern\"] = \"ERN\";\n    /** Ethiopian Birr (ETB). */\n    CurrencyCode[\"Etb\"] = \"ETB\";\n    /** Euro (EUR). */\n    CurrencyCode[\"Eur\"] = \"EUR\";\n    /** Fijian Dollars (FJD). */\n    CurrencyCode[\"Fjd\"] = \"FJD\";\n    /** Falkland Islands Pounds (FKP). */\n    CurrencyCode[\"Fkp\"] = \"FKP\";\n    /** United Kingdom Pounds (GBP). */\n    CurrencyCode[\"Gbp\"] = \"GBP\";\n    /** Georgian Lari (GEL). */\n    CurrencyCode[\"Gel\"] = \"GEL\";\n    /** Ghanaian Cedi (GHS). */\n    CurrencyCode[\"Ghs\"] = \"GHS\";\n    /** Gibraltar Pounds (GIP). */\n    CurrencyCode[\"Gip\"] = \"GIP\";\n    /** Gambian Dalasi (GMD). */\n    CurrencyCode[\"Gmd\"] = \"GMD\";\n    /** Guinean Franc (GNF). */\n    CurrencyCode[\"Gnf\"] = \"GNF\";\n    /** Guatemalan Quetzal (GTQ). */\n    CurrencyCode[\"Gtq\"] = \"GTQ\";\n    /** Guyanese Dollar (GYD). */\n    CurrencyCode[\"Gyd\"] = \"GYD\";\n    /** Hong Kong Dollars (HKD). */\n    CurrencyCode[\"Hkd\"] = \"HKD\";\n    /** Honduran Lempira (HNL). */\n    CurrencyCode[\"Hnl\"] = \"HNL\";\n    /** Croatian Kuna (HRK). */\n    CurrencyCode[\"Hrk\"] = \"HRK\";\n    /** Haitian Gourde (HTG). */\n    CurrencyCode[\"Htg\"] = \"HTG\";\n    /** Hungarian Forint (HUF). */\n    CurrencyCode[\"Huf\"] = \"HUF\";\n    /** Indonesian Rupiah (IDR). */\n    CurrencyCode[\"Idr\"] = \"IDR\";\n    /** Israeli New Shekel (NIS). */\n    CurrencyCode[\"Ils\"] = \"ILS\";\n    /** Indian Rupees (INR). */\n    CurrencyCode[\"Inr\"] = \"INR\";\n    /** Iraqi Dinar (IQD). */\n    CurrencyCode[\"Iqd\"] = \"IQD\";\n    /** Iranian Rial (IRR). */\n    CurrencyCode[\"Irr\"] = \"IRR\";\n    /** Icelandic Kronur (ISK). */\n    CurrencyCode[\"Isk\"] = \"ISK\";\n    /** Jersey Pound. */\n    CurrencyCode[\"Jep\"] = \"JEP\";\n    /** Jamaican Dollars (JMD). */\n    CurrencyCode[\"Jmd\"] = \"JMD\";\n    /** Jordanian Dinar (JOD). */\n    CurrencyCode[\"Jod\"] = \"JOD\";\n    /** Japanese Yen (JPY). */\n    CurrencyCode[\"Jpy\"] = \"JPY\";\n    /** Kenyan Shilling (KES). */\n    CurrencyCode[\"Kes\"] = \"KES\";\n    /** Kyrgyzstani Som (KGS). */\n    CurrencyCode[\"Kgs\"] = \"KGS\";\n    /** Cambodian Riel. */\n    CurrencyCode[\"Khr\"] = \"KHR\";\n    /** Kiribati Dollar (KID). */\n    CurrencyCode[\"Kid\"] = \"KID\";\n    /** Comorian Franc (KMF). */\n    CurrencyCode[\"Kmf\"] = \"KMF\";\n    /** South Korean Won (KRW). */\n    CurrencyCode[\"Krw\"] = \"KRW\";\n    /** Kuwaiti Dinar (KWD). */\n    CurrencyCode[\"Kwd\"] = \"KWD\";\n    /** Cayman Dollars (KYD). */\n    CurrencyCode[\"Kyd\"] = \"KYD\";\n    /** Kazakhstani Tenge (KZT). */\n    CurrencyCode[\"Kzt\"] = \"KZT\";\n    /** Laotian Kip (LAK). */\n    CurrencyCode[\"Lak\"] = \"LAK\";\n    /** Lebanese Pounds (LBP). */\n    CurrencyCode[\"Lbp\"] = \"LBP\";\n    /** Sri Lankan Rupees (LKR). */\n    CurrencyCode[\"Lkr\"] = \"LKR\";\n    /** Liberian Dollar (LRD). */\n    CurrencyCode[\"Lrd\"] = \"LRD\";\n    /** Lesotho Loti (LSL). */\n    CurrencyCode[\"Lsl\"] = \"LSL\";\n    /** Lithuanian Litai (LTL). */\n    CurrencyCode[\"Ltl\"] = \"LTL\";\n    /** Latvian Lati (LVL). */\n    CurrencyCode[\"Lvl\"] = \"LVL\";\n    /** Libyan Dinar (LYD). */\n    CurrencyCode[\"Lyd\"] = \"LYD\";\n    /** Moroccan Dirham. */\n    CurrencyCode[\"Mad\"] = \"MAD\";\n    /** Moldovan Leu (MDL). */\n    CurrencyCode[\"Mdl\"] = \"MDL\";\n    /** Malagasy Ariary (MGA). */\n    CurrencyCode[\"Mga\"] = \"MGA\";\n    /** Macedonia Denar (MKD). */\n    CurrencyCode[\"Mkd\"] = \"MKD\";\n    /** Burmese Kyat (MMK). */\n    CurrencyCode[\"Mmk\"] = \"MMK\";\n    /** Mongolian Tugrik. */\n    CurrencyCode[\"Mnt\"] = \"MNT\";\n    /** Macanese Pataca (MOP). */\n    CurrencyCode[\"Mop\"] = \"MOP\";\n    /** Mauritanian Ouguiya (MRU). */\n    CurrencyCode[\"Mru\"] = \"MRU\";\n    /** Mauritian Rupee (MUR). */\n    CurrencyCode[\"Mur\"] = \"MUR\";\n    /** Maldivian Rufiyaa (MVR). */\n    CurrencyCode[\"Mvr\"] = \"MVR\";\n    /** Malawian Kwacha (MWK). */\n    CurrencyCode[\"Mwk\"] = \"MWK\";\n    /** Mexican Pesos (MXN). */\n    CurrencyCode[\"Mxn\"] = \"MXN\";\n    /** Malaysian Ringgits (MYR). */\n    CurrencyCode[\"Myr\"] = \"MYR\";\n    /** Mozambican Metical. */\n    CurrencyCode[\"Mzn\"] = \"MZN\";\n    /** Namibian Dollar. */\n    CurrencyCode[\"Nad\"] = \"NAD\";\n    /** Nigerian Naira (NGN). */\n    CurrencyCode[\"Ngn\"] = \"NGN\";\n    /** Nicaraguan Crdoba (NIO). */\n    CurrencyCode[\"Nio\"] = \"NIO\";\n    /** Norwegian Kroner (NOK). */\n    CurrencyCode[\"Nok\"] = \"NOK\";\n    /** Nepalese Rupee (NPR). */\n    CurrencyCode[\"Npr\"] = \"NPR\";\n    /** New Zealand Dollars (NZD). */\n    CurrencyCode[\"Nzd\"] = \"NZD\";\n    /** Omani Rial (OMR). */\n    CurrencyCode[\"Omr\"] = \"OMR\";\n    /** Panamian Balboa (PAB). */\n    CurrencyCode[\"Pab\"] = \"PAB\";\n    /** Peruvian Nuevo Sol (PEN). */\n    CurrencyCode[\"Pen\"] = \"PEN\";\n    /** Papua New Guinean Kina (PGK). */\n    CurrencyCode[\"Pgk\"] = \"PGK\";\n    /** Philippine Peso (PHP). */\n    CurrencyCode[\"Php\"] = \"PHP\";\n    /** Pakistani Rupee (PKR). */\n    CurrencyCode[\"Pkr\"] = \"PKR\";\n    /** Polish Zlotych (PLN). */\n    CurrencyCode[\"Pln\"] = \"PLN\";\n    /** Paraguayan Guarani (PYG). */\n    CurrencyCode[\"Pyg\"] = \"PYG\";\n    /** Qatari Rial (QAR). */\n    CurrencyCode[\"Qar\"] = \"QAR\";\n    /** Romanian Lei (RON). */\n    CurrencyCode[\"Ron\"] = \"RON\";\n    /** Serbian dinar (RSD). */\n    CurrencyCode[\"Rsd\"] = \"RSD\";\n    /** Russian Rubles (RUB). */\n    CurrencyCode[\"Rub\"] = \"RUB\";\n    /** Rwandan Franc (RWF). */\n    CurrencyCode[\"Rwf\"] = \"RWF\";\n    /** Saudi Riyal (SAR). */\n    CurrencyCode[\"Sar\"] = \"SAR\";\n    /** Solomon Islands Dollar (SBD). */\n    CurrencyCode[\"Sbd\"] = \"SBD\";\n    /** Seychellois Rupee (SCR). */\n    CurrencyCode[\"Scr\"] = \"SCR\";\n    /** Sudanese Pound (SDG). */\n    CurrencyCode[\"Sdg\"] = \"SDG\";\n    /** Swedish Kronor (SEK). */\n    CurrencyCode[\"Sek\"] = \"SEK\";\n    /** Singapore Dollars (SGD). */\n    CurrencyCode[\"Sgd\"] = \"SGD\";\n    /** Saint Helena Pounds (SHP). */\n    CurrencyCode[\"Shp\"] = \"SHP\";\n    /** Sierra Leonean Leone (SLL). */\n    CurrencyCode[\"Sll\"] = \"SLL\";\n    /** Somali Shilling (SOS). */\n    CurrencyCode[\"Sos\"] = \"SOS\";\n    /** Surinamese Dollar (SRD). */\n    CurrencyCode[\"Srd\"] = \"SRD\";\n    /** South Sudanese Pound (SSP). */\n    CurrencyCode[\"Ssp\"] = \"SSP\";\n    /** Sao Tome And Principe Dobra (STD). */\n    CurrencyCode[\"Std\"] = \"STD\";\n    /** Sao Tome And Principe Dobra (STN). */\n    CurrencyCode[\"Stn\"] = \"STN\";\n    /** Syrian Pound (SYP). */\n    CurrencyCode[\"Syp\"] = \"SYP\";\n    /** Swazi Lilangeni (SZL). */\n    CurrencyCode[\"Szl\"] = \"SZL\";\n    /** Thai baht (THB). */\n    CurrencyCode[\"Thb\"] = \"THB\";\n    /** Tajikistani Somoni (TJS). */\n    CurrencyCode[\"Tjs\"] = \"TJS\";\n    /** Turkmenistani Manat (TMT). */\n    CurrencyCode[\"Tmt\"] = \"TMT\";\n    /** Tunisian Dinar (TND). */\n    CurrencyCode[\"Tnd\"] = \"TND\";\n    /** Tongan Pa'anga (TOP). */\n    CurrencyCode[\"Top\"] = \"TOP\";\n    /** Turkish Lira (TRY). */\n    CurrencyCode[\"Try\"] = \"TRY\";\n    /** Trinidad and Tobago Dollars (TTD). */\n    CurrencyCode[\"Ttd\"] = \"TTD\";\n    /** Taiwan Dollars (TWD). */\n    CurrencyCode[\"Twd\"] = \"TWD\";\n    /** Tanzanian Shilling (TZS). */\n    CurrencyCode[\"Tzs\"] = \"TZS\";\n    /** Ukrainian Hryvnia (UAH). */\n    CurrencyCode[\"Uah\"] = \"UAH\";\n    /** Ugandan Shilling (UGX). */\n    CurrencyCode[\"Ugx\"] = \"UGX\";\n    /** United States Dollars (USD). */\n    CurrencyCode[\"Usd\"] = \"USD\";\n    /** Uruguayan Pesos (UYU). */\n    CurrencyCode[\"Uyu\"] = \"UYU\";\n    /** Uzbekistan som (UZS). */\n    CurrencyCode[\"Uzs\"] = \"UZS\";\n    /** Venezuelan Bolivares (VED). */\n    CurrencyCode[\"Ved\"] = \"VED\";\n    /** Venezuelan Bolivares (VEF). */\n    CurrencyCode[\"Vef\"] = \"VEF\";\n    /** Venezuelan Bolivares (VES). */\n    CurrencyCode[\"Ves\"] = \"VES\";\n    /** Vietnamese ng (VND). */\n    CurrencyCode[\"Vnd\"] = \"VND\";\n    /** Vanuatu Vatu (VUV). */\n    CurrencyCode[\"Vuv\"] = \"VUV\";\n    /** Samoan Tala (WST). */\n    CurrencyCode[\"Wst\"] = \"WST\";\n    /** Central African CFA Franc (XAF). */\n    CurrencyCode[\"Xaf\"] = \"XAF\";\n    /** East Caribbean Dollar (XCD). */\n    CurrencyCode[\"Xcd\"] = \"XCD\";\n    /** West African CFA franc (XOF). */\n    CurrencyCode[\"Xof\"] = \"XOF\";\n    /** CFP Franc (XPF). */\n    CurrencyCode[\"Xpf\"] = \"XPF\";\n    /** Unrecognized currency. */\n    CurrencyCode[\"Xxx\"] = \"XXX\";\n    /** Yemeni Rial (YER). */\n    CurrencyCode[\"Yer\"] = \"YER\";\n    /** South African Rand (ZAR). */\n    CurrencyCode[\"Zar\"] = \"ZAR\";\n    /** Zambian Kwacha (ZMW). */\n    CurrencyCode[\"Zmw\"] = \"ZMW\";\n})(CurrencyCode || (CurrencyCode = {}));\n/** Possible error codes that can be returned by `CustomerUserError`. */\nexport var CustomerErrorCode;\n(function (CustomerErrorCode) {\n    /** Customer already enabled. */\n    CustomerErrorCode[\"AlreadyEnabled\"] = \"ALREADY_ENABLED\";\n    /** Input email contains an invalid domain name. */\n    CustomerErrorCode[\"BadDomain\"] = \"BAD_DOMAIN\";\n    /** The input value is blank. */\n    CustomerErrorCode[\"Blank\"] = \"BLANK\";\n    /** Input contains HTML tags. */\n    CustomerErrorCode[\"ContainsHtmlTags\"] = \"CONTAINS_HTML_TAGS\";\n    /** Input contains URL. */\n    CustomerErrorCode[\"ContainsUrl\"] = \"CONTAINS_URL\";\n    /** Customer is disabled. */\n    CustomerErrorCode[\"CustomerDisabled\"] = \"CUSTOMER_DISABLED\";\n    /** The input value is invalid. */\n    CustomerErrorCode[\"Invalid\"] = \"INVALID\";\n    /** Multipass token is not valid. */\n    CustomerErrorCode[\"InvalidMultipassRequest\"] = \"INVALID_MULTIPASS_REQUEST\";\n    /** Address does not exist. */\n    CustomerErrorCode[\"NotFound\"] = \"NOT_FOUND\";\n    /** Input password starts or ends with whitespace. */\n    CustomerErrorCode[\"PasswordStartsOrEndsWithWhitespace\"] = \"PASSWORD_STARTS_OR_ENDS_WITH_WHITESPACE\";\n    /** The input value is already taken. */\n    CustomerErrorCode[\"Taken\"] = \"TAKEN\";\n    /** Invalid activation token. */\n    CustomerErrorCode[\"TokenInvalid\"] = \"TOKEN_INVALID\";\n    /** The input value is too long. */\n    CustomerErrorCode[\"TooLong\"] = \"TOO_LONG\";\n    /** The input value is too short. */\n    CustomerErrorCode[\"TooShort\"] = \"TOO_SHORT\";\n    /** Unidentified customer. */\n    CustomerErrorCode[\"UnidentifiedCustomer\"] = \"UNIDENTIFIED_CUSTOMER\";\n})(CustomerErrorCode || (CustomerErrorCode = {}));\n/** List of different delivery method types. */\nexport var DeliveryMethodType;\n(function (DeliveryMethodType) {\n    /** Local Delivery. */\n    DeliveryMethodType[\"Local\"] = \"LOCAL\";\n    /** None. */\n    DeliveryMethodType[\"None\"] = \"NONE\";\n    /** Shipping to a Pickup Point. */\n    DeliveryMethodType[\"PickupPoint\"] = \"PICKUP_POINT\";\n    /** Local Pickup. */\n    DeliveryMethodType[\"PickUp\"] = \"PICK_UP\";\n    /** Retail. */\n    DeliveryMethodType[\"Retail\"] = \"RETAIL\";\n    /** Shipping. */\n    DeliveryMethodType[\"Shipping\"] = \"SHIPPING\";\n})(DeliveryMethodType || (DeliveryMethodType = {}));\n/** Digital wallet, such as Apple Pay, which can be used for accelerated checkouts. */\nexport var DigitalWallet;\n(function (DigitalWallet) {\n    /** Android Pay. */\n    DigitalWallet[\"AndroidPay\"] = \"ANDROID_PAY\";\n    /** Apple Pay. */\n    DigitalWallet[\"ApplePay\"] = \"APPLE_PAY\";\n    /** Google Pay. */\n    DigitalWallet[\"GooglePay\"] = \"GOOGLE_PAY\";\n    /** Shopify Pay. */\n    DigitalWallet[\"ShopifyPay\"] = \"SHOPIFY_PAY\";\n})(DigitalWallet || (DigitalWallet = {}));\n/** The method by which the discount's value is allocated onto its entitled lines. */\nexport var DiscountApplicationAllocationMethod;\n(function (DiscountApplicationAllocationMethod) {\n    /** The value is spread across all entitled lines. */\n    DiscountApplicationAllocationMethod[\"Across\"] = \"ACROSS\";\n    /** The value is applied onto every entitled line. */\n    DiscountApplicationAllocationMethod[\"Each\"] = \"EACH\";\n    /** The value is specifically applied onto a particular line. */\n    DiscountApplicationAllocationMethod[\"One\"] = \"ONE\";\n})(DiscountApplicationAllocationMethod || (DiscountApplicationAllocationMethod = {}));\n/**\n * The lines on the order to which the discount is applied, of the type defined by\n * the discount application's `targetType`. For example, the value `ENTITLED`, combined with a `targetType` of\n * `LINE_ITEM`, applies the discount on all line items that are entitled to the discount.\n * The value `ALL`, combined with a `targetType` of `SHIPPING_LINE`, applies the discount on all shipping lines.\n *\n */\nexport var DiscountApplicationTargetSelection;\n(function (DiscountApplicationTargetSelection) {\n    /** The discount is allocated onto all the lines. */\n    DiscountApplicationTargetSelection[\"All\"] = \"ALL\";\n    /** The discount is allocated onto only the lines that it's entitled for. */\n    DiscountApplicationTargetSelection[\"Entitled\"] = \"ENTITLED\";\n    /** The discount is allocated onto explicitly chosen lines. */\n    DiscountApplicationTargetSelection[\"Explicit\"] = \"EXPLICIT\";\n})(DiscountApplicationTargetSelection || (DiscountApplicationTargetSelection = {}));\n/**\n * The type of line (i.e. line item or shipping line) on an order that the discount is applicable towards.\n *\n */\nexport var DiscountApplicationTargetType;\n(function (DiscountApplicationTargetType) {\n    /** The discount applies onto line items. */\n    DiscountApplicationTargetType[\"LineItem\"] = \"LINE_ITEM\";\n    /** The discount applies onto shipping lines. */\n    DiscountApplicationTargetType[\"ShippingLine\"] = \"SHIPPING_LINE\";\n})(DiscountApplicationTargetType || (DiscountApplicationTargetType = {}));\n/**\n * The type of data that the filter group represents.\n *\n * For more information, refer to [Filter products in a collection with the Storefront API]\n * (https://shopify.dev/api/examples/filter-products).\n *\n */\nexport var FilterType;\n(function (FilterType) {\n    /** A boolean value. */\n    FilterType[\"Boolean\"] = \"BOOLEAN\";\n    /** A list of selectable values. */\n    FilterType[\"List\"] = \"LIST\";\n    /** A range of prices. */\n    FilterType[\"PriceRange\"] = \"PRICE_RANGE\";\n})(FilterType || (FilterType = {}));\n/** List of supported image content types. */\nexport var ImageContentType;\n(function (ImageContentType) {\n    /** A JPG image. */\n    ImageContentType[\"Jpg\"] = \"JPG\";\n    /** A PNG image. */\n    ImageContentType[\"Png\"] = \"PNG\";\n    /** A WEBP image. */\n    ImageContentType[\"Webp\"] = \"WEBP\";\n})(ImageContentType || (ImageContentType = {}));\n/** ISO 639-1 language codes supported by Shopify. */\nexport var LanguageCode;\n(function (LanguageCode) {\n    /** Afrikaans. */\n    LanguageCode[\"Af\"] = \"AF\";\n    /** Akan. */\n    LanguageCode[\"Ak\"] = \"AK\";\n    /** Amharic. */\n    LanguageCode[\"Am\"] = \"AM\";\n    /** Arabic. */\n    LanguageCode[\"Ar\"] = \"AR\";\n    /** Assamese. */\n    LanguageCode[\"As\"] = \"AS\";\n    /** Azerbaijani. */\n    LanguageCode[\"Az\"] = \"AZ\";\n    /** Belarusian. */\n    LanguageCode[\"Be\"] = \"BE\";\n    /** Bulgarian. */\n    LanguageCode[\"Bg\"] = \"BG\";\n    /** Bambara. */\n    LanguageCode[\"Bm\"] = \"BM\";\n    /** Bangla. */\n    LanguageCode[\"Bn\"] = \"BN\";\n    /** Tibetan. */\n    LanguageCode[\"Bo\"] = \"BO\";\n    /** Breton. */\n    LanguageCode[\"Br\"] = \"BR\";\n    /** Bosnian. */\n    LanguageCode[\"Bs\"] = \"BS\";\n    /** Catalan. */\n    LanguageCode[\"Ca\"] = \"CA\";\n    /** Chechen. */\n    LanguageCode[\"Ce\"] = \"CE\";\n    /** Czech. */\n    LanguageCode[\"Cs\"] = \"CS\";\n    /** Church Slavic. */\n    LanguageCode[\"Cu\"] = \"CU\";\n    /** Welsh. */\n    LanguageCode[\"Cy\"] = \"CY\";\n    /** Danish. */\n    LanguageCode[\"Da\"] = \"DA\";\n    /** German. */\n    LanguageCode[\"De\"] = \"DE\";\n    /** Dzongkha. */\n    LanguageCode[\"Dz\"] = \"DZ\";\n    /** Ewe. */\n    LanguageCode[\"Ee\"] = \"EE\";\n    /** Greek. */\n    LanguageCode[\"El\"] = \"EL\";\n    /** English. */\n    LanguageCode[\"En\"] = \"EN\";\n    /** Esperanto. */\n    LanguageCode[\"Eo\"] = \"EO\";\n    /** Spanish. */\n    LanguageCode[\"Es\"] = \"ES\";\n    /** Estonian. */\n    LanguageCode[\"Et\"] = \"ET\";\n    /** Basque. */\n    LanguageCode[\"Eu\"] = \"EU\";\n    /** Persian. */\n    LanguageCode[\"Fa\"] = \"FA\";\n    /** Fulah. */\n    LanguageCode[\"Ff\"] = \"FF\";\n    /** Finnish. */\n    LanguageCode[\"Fi\"] = \"FI\";\n    /** Faroese. */\n    LanguageCode[\"Fo\"] = \"FO\";\n    /** French. */\n    LanguageCode[\"Fr\"] = \"FR\";\n    /** Western Frisian. */\n    LanguageCode[\"Fy\"] = \"FY\";\n    /** Irish. */\n    LanguageCode[\"Ga\"] = \"GA\";\n    /** Scottish Gaelic. */\n    LanguageCode[\"Gd\"] = \"GD\";\n    /** Galician. */\n    LanguageCode[\"Gl\"] = \"GL\";\n    /** Gujarati. */\n    LanguageCode[\"Gu\"] = \"GU\";\n    /** Manx. */\n    LanguageCode[\"Gv\"] = \"GV\";\n    /** Hausa. */\n    LanguageCode[\"Ha\"] = \"HA\";\n    /** Hebrew. */\n    LanguageCode[\"He\"] = \"HE\";\n    /** Hindi. */\n    LanguageCode[\"Hi\"] = \"HI\";\n    /** Croatian. */\n    LanguageCode[\"Hr\"] = \"HR\";\n    /** Hungarian. */\n    LanguageCode[\"Hu\"] = \"HU\";\n    /** Armenian. */\n    LanguageCode[\"Hy\"] = \"HY\";\n    /** Interlingua. */\n    LanguageCode[\"Ia\"] = \"IA\";\n    /** Indonesian. */\n    LanguageCode[\"Id\"] = \"ID\";\n    /** Igbo. */\n    LanguageCode[\"Ig\"] = \"IG\";\n    /** Sichuan Yi. */\n    LanguageCode[\"Ii\"] = \"II\";\n    /** Icelandic. */\n    LanguageCode[\"Is\"] = \"IS\";\n    /** Italian. */\n    LanguageCode[\"It\"] = \"IT\";\n    /** Japanese. */\n    LanguageCode[\"Ja\"] = \"JA\";\n    /** Javanese. */\n    LanguageCode[\"Jv\"] = \"JV\";\n    /** Georgian. */\n    LanguageCode[\"Ka\"] = \"KA\";\n    /** Kikuyu. */\n    LanguageCode[\"Ki\"] = \"KI\";\n    /** Kazakh. */\n    LanguageCode[\"Kk\"] = \"KK\";\n    /** Kalaallisut. */\n    LanguageCode[\"Kl\"] = \"KL\";\n    /** Khmer. */\n    LanguageCode[\"Km\"] = \"KM\";\n    /** Kannada. */\n    LanguageCode[\"Kn\"] = \"KN\";\n    /** Korean. */\n    LanguageCode[\"Ko\"] = \"KO\";\n    /** Kashmiri. */\n    LanguageCode[\"Ks\"] = \"KS\";\n    /** Kurdish. */\n    LanguageCode[\"Ku\"] = \"KU\";\n    /** Cornish. */\n    LanguageCode[\"Kw\"] = \"KW\";\n    /** Kyrgyz. */\n    LanguageCode[\"Ky\"] = \"KY\";\n    /** Luxembourgish. */\n    LanguageCode[\"Lb\"] = \"LB\";\n    /** Ganda. */\n    LanguageCode[\"Lg\"] = \"LG\";\n    /** Lingala. */\n    LanguageCode[\"Ln\"] = \"LN\";\n    /** Lao. */\n    LanguageCode[\"Lo\"] = \"LO\";\n    /** Lithuanian. */\n    LanguageCode[\"Lt\"] = \"LT\";\n    /** Luba-Katanga. */\n    LanguageCode[\"Lu\"] = \"LU\";\n    /** Latvian. */\n    LanguageCode[\"Lv\"] = \"LV\";\n    /** Malagasy. */\n    LanguageCode[\"Mg\"] = \"MG\";\n    /** Mori. */\n    LanguageCode[\"Mi\"] = \"MI\";\n    /** Macedonian. */\n    LanguageCode[\"Mk\"] = \"MK\";\n    /** Malayalam. */\n    LanguageCode[\"Ml\"] = \"ML\";\n    /** Mongolian. */\n    LanguageCode[\"Mn\"] = \"MN\";\n    /** Marathi. */\n    LanguageCode[\"Mr\"] = \"MR\";\n    /** Malay. */\n    LanguageCode[\"Ms\"] = \"MS\";\n    /** Maltese. */\n    LanguageCode[\"Mt\"] = \"MT\";\n    /** Burmese. */\n    LanguageCode[\"My\"] = \"MY\";\n    /** Norwegian (Bokml). */\n    LanguageCode[\"Nb\"] = \"NB\";\n    /** North Ndebele. */\n    LanguageCode[\"Nd\"] = \"ND\";\n    /** Nepali. */\n    LanguageCode[\"Ne\"] = \"NE\";\n    /** Dutch. */\n    LanguageCode[\"Nl\"] = \"NL\";\n    /** Norwegian Nynorsk. */\n    LanguageCode[\"Nn\"] = \"NN\";\n    /** Norwegian. */\n    LanguageCode[\"No\"] = \"NO\";\n    /** Oromo. */\n    LanguageCode[\"Om\"] = \"OM\";\n    /** Odia. */\n    LanguageCode[\"Or\"] = \"OR\";\n    /** Ossetic. */\n    LanguageCode[\"Os\"] = \"OS\";\n    /** Punjabi. */\n    LanguageCode[\"Pa\"] = \"PA\";\n    /** Polish. */\n    LanguageCode[\"Pl\"] = \"PL\";\n    /** Pashto. */\n    LanguageCode[\"Ps\"] = \"PS\";\n    /** Portuguese. */\n    LanguageCode[\"Pt\"] = \"PT\";\n    /** Portuguese (Brazil). */\n    LanguageCode[\"PtBr\"] = \"PT_BR\";\n    /** Portuguese (Portugal). */\n    LanguageCode[\"PtPt\"] = \"PT_PT\";\n    /** Quechua. */\n    LanguageCode[\"Qu\"] = \"QU\";\n    /** Romansh. */\n    LanguageCode[\"Rm\"] = \"RM\";\n    /** Rundi. */\n    LanguageCode[\"Rn\"] = \"RN\";\n    /** Romanian. */\n    LanguageCode[\"Ro\"] = \"RO\";\n    /** Russian. */\n    LanguageCode[\"Ru\"] = \"RU\";\n    /** Kinyarwanda. */\n    LanguageCode[\"Rw\"] = \"RW\";\n    /** Sindhi. */\n    LanguageCode[\"Sd\"] = \"SD\";\n    /** Northern Sami. */\n    LanguageCode[\"Se\"] = \"SE\";\n    /** Sango. */\n    LanguageCode[\"Sg\"] = \"SG\";\n    /** Sinhala. */\n    LanguageCode[\"Si\"] = \"SI\";\n    /** Slovak. */\n    LanguageCode[\"Sk\"] = \"SK\";\n    /** Slovenian. */\n    LanguageCode[\"Sl\"] = \"SL\";\n    /** Shona. */\n    LanguageCode[\"Sn\"] = \"SN\";\n    /** Somali. */\n    LanguageCode[\"So\"] = \"SO\";\n    /** Albanian. */\n    LanguageCode[\"Sq\"] = \"SQ\";\n    /** Serbian. */\n    LanguageCode[\"Sr\"] = \"SR\";\n    /** Sundanese. */\n    LanguageCode[\"Su\"] = \"SU\";\n    /** Swedish. */\n    LanguageCode[\"Sv\"] = \"SV\";\n    /** Swahili. */\n    LanguageCode[\"Sw\"] = \"SW\";\n    /** Tamil. */\n    LanguageCode[\"Ta\"] = \"TA\";\n    /** Telugu. */\n    LanguageCode[\"Te\"] = \"TE\";\n    /** Tajik. */\n    LanguageCode[\"Tg\"] = \"TG\";\n    /** Thai. */\n    LanguageCode[\"Th\"] = \"TH\";\n    /** Tigrinya. */\n    LanguageCode[\"Ti\"] = \"TI\";\n    /** Turkmen. */\n    LanguageCode[\"Tk\"] = \"TK\";\n    /** Tongan. */\n    LanguageCode[\"To\"] = \"TO\";\n    /** Turkish. */\n    LanguageCode[\"Tr\"] = \"TR\";\n    /** Tatar. */\n    LanguageCode[\"Tt\"] = \"TT\";\n    /** Uyghur. */\n    LanguageCode[\"Ug\"] = \"UG\";\n    /** Ukrainian. */\n    LanguageCode[\"Uk\"] = \"UK\";\n    /** Urdu. */\n    LanguageCode[\"Ur\"] = \"UR\";\n    /** Uzbek. */\n    LanguageCode[\"Uz\"] = \"UZ\";\n    /** Vietnamese. */\n    LanguageCode[\"Vi\"] = \"VI\";\n    /** Volapk. */\n    LanguageCode[\"Vo\"] = \"VO\";\n    /** Wolof. */\n    LanguageCode[\"Wo\"] = \"WO\";\n    /** Xhosa. */\n    LanguageCode[\"Xh\"] = \"XH\";\n    /** Yiddish. */\n    LanguageCode[\"Yi\"] = \"YI\";\n    /** Yoruba. */\n    LanguageCode[\"Yo\"] = \"YO\";\n    /** Chinese. */\n    LanguageCode[\"Zh\"] = \"ZH\";\n    /** Chinese (Simplified). */\n    LanguageCode[\"ZhCn\"] = \"ZH_CN\";\n    /** Chinese (Traditional). */\n    LanguageCode[\"ZhTw\"] = \"ZH_TW\";\n    /** Zulu. */\n    LanguageCode[\"Zu\"] = \"ZU\";\n})(LanguageCode || (LanguageCode = {}));\n/** The set of valid sort keys for the Location query. */\nexport var LocationSortKeys;\n(function (LocationSortKeys) {\n    /** Sort by the `city` value. */\n    LocationSortKeys[\"City\"] = \"CITY\";\n    /** Sort by the `distance` value. */\n    LocationSortKeys[\"Distance\"] = \"DISTANCE\";\n    /** Sort by the `id` value. */\n    LocationSortKeys[\"Id\"] = \"ID\";\n    /** Sort by the `name` value. */\n    LocationSortKeys[\"Name\"] = \"NAME\";\n})(LocationSortKeys || (LocationSortKeys = {}));\n/** The possible content types for a media object. */\nexport var MediaContentType;\n(function (MediaContentType) {\n    /** An externally hosted video. */\n    MediaContentType[\"ExternalVideo\"] = \"EXTERNAL_VIDEO\";\n    /** A Shopify hosted image. */\n    MediaContentType[\"Image\"] = \"IMAGE\";\n    /** A 3d model. */\n    MediaContentType[\"Model_3D\"] = \"MODEL_3D\";\n    /** A Shopify hosted video. */\n    MediaContentType[\"Video\"] = \"VIDEO\";\n})(MediaContentType || (MediaContentType = {}));\n/** Host for a Media Resource. */\nexport var MediaHost;\n(function (MediaHost) {\n    /** Host for Vimeo embedded videos. */\n    MediaHost[\"Vimeo\"] = \"VIMEO\";\n    /** Host for YouTube embedded videos. */\n    MediaHost[\"Youtube\"] = \"YOUTUBE\";\n})(MediaHost || (MediaHost = {}));\n/** A menu item type. */\nexport var MenuItemType;\n(function (MenuItemType) {\n    /** An article link. */\n    MenuItemType[\"Article\"] = \"ARTICLE\";\n    /** A blog link. */\n    MenuItemType[\"Blog\"] = \"BLOG\";\n    /** A catalog link. */\n    MenuItemType[\"Catalog\"] = \"CATALOG\";\n    /** A collection link. */\n    MenuItemType[\"Collection\"] = \"COLLECTION\";\n    /** A collection link. */\n    MenuItemType[\"Collections\"] = \"COLLECTIONS\";\n    /** A frontpage link. */\n    MenuItemType[\"Frontpage\"] = \"FRONTPAGE\";\n    /** An http link. */\n    MenuItemType[\"Http\"] = \"HTTP\";\n    /** A page link. */\n    MenuItemType[\"Page\"] = \"PAGE\";\n    /** A product link. */\n    MenuItemType[\"Product\"] = \"PRODUCT\";\n    /** A search link. */\n    MenuItemType[\"Search\"] = \"SEARCH\";\n    /** A shop policy link. */\n    MenuItemType[\"ShopPolicy\"] = \"SHOP_POLICY\";\n})(MenuItemType || (MenuItemType = {}));\n/** Represents the reason for the order's cancellation. */\nexport var OrderCancelReason;\n(function (OrderCancelReason) {\n    /** The customer wanted to cancel the order. */\n    OrderCancelReason[\"Customer\"] = \"CUSTOMER\";\n    /** Payment was declined. */\n    OrderCancelReason[\"Declined\"] = \"DECLINED\";\n    /** The order was fraudulent. */\n    OrderCancelReason[\"Fraud\"] = \"FRAUD\";\n    /** There was insufficient inventory. */\n    OrderCancelReason[\"Inventory\"] = \"INVENTORY\";\n    /** The order was canceled for an unlisted reason. */\n    OrderCancelReason[\"Other\"] = \"OTHER\";\n})(OrderCancelReason || (OrderCancelReason = {}));\n/** Represents the order's current financial status. */\nexport var OrderFinancialStatus;\n(function (OrderFinancialStatus) {\n    /** Displayed as **Authorized**. */\n    OrderFinancialStatus[\"Authorized\"] = \"AUTHORIZED\";\n    /** Displayed as **Paid**. */\n    OrderFinancialStatus[\"Paid\"] = \"PAID\";\n    /** Displayed as **Partially paid**. */\n    OrderFinancialStatus[\"PartiallyPaid\"] = \"PARTIALLY_PAID\";\n    /** Displayed as **Partially refunded**. */\n    OrderFinancialStatus[\"PartiallyRefunded\"] = \"PARTIALLY_REFUNDED\";\n    /** Displayed as **Pending**. */\n    OrderFinancialStatus[\"Pending\"] = \"PENDING\";\n    /** Displayed as **Refunded**. */\n    OrderFinancialStatus[\"Refunded\"] = \"REFUNDED\";\n    /** Displayed as **Voided**. */\n    OrderFinancialStatus[\"Voided\"] = \"VOIDED\";\n})(OrderFinancialStatus || (OrderFinancialStatus = {}));\n/** Represents the order's aggregated fulfillment status for display purposes. */\nexport var OrderFulfillmentStatus;\n(function (OrderFulfillmentStatus) {\n    /** Displayed as **Fulfilled**. All of the items in the order have been fulfilled. */\n    OrderFulfillmentStatus[\"Fulfilled\"] = \"FULFILLED\";\n    /** Displayed as **In progress**. Some of the items in the order have been fulfilled, or a request for fulfillment has been sent to the fulfillment service. */\n    OrderFulfillmentStatus[\"InProgress\"] = \"IN_PROGRESS\";\n    /** Displayed as **On hold**. All of the unfulfilled items in this order are on hold. */\n    OrderFulfillmentStatus[\"OnHold\"] = \"ON_HOLD\";\n    /** Displayed as **Open**. None of the items in the order have been fulfilled. Replaced by \"UNFULFILLED\" status. */\n    OrderFulfillmentStatus[\"Open\"] = \"OPEN\";\n    /** Displayed as **Partially fulfilled**. Some of the items in the order have been fulfilled. */\n    OrderFulfillmentStatus[\"PartiallyFulfilled\"] = \"PARTIALLY_FULFILLED\";\n    /** Displayed as **Pending fulfillment**. A request for fulfillment of some items awaits a response from the fulfillment service. Replaced by \"IN_PROGRESS\" status. */\n    OrderFulfillmentStatus[\"PendingFulfillment\"] = \"PENDING_FULFILLMENT\";\n    /** Displayed as **Restocked**. All of the items in the order have been restocked. Replaced by \"UNFULFILLED\" status. */\n    OrderFulfillmentStatus[\"Restocked\"] = \"RESTOCKED\";\n    /** Displayed as **Scheduled**. All of the unfulfilled items in this order are scheduled for fulfillment at later time. */\n    OrderFulfillmentStatus[\"Scheduled\"] = \"SCHEDULED\";\n    /** Displayed as **Unfulfilled**. None of the items in the order have been fulfilled. */\n    OrderFulfillmentStatus[\"Unfulfilled\"] = \"UNFULFILLED\";\n})(OrderFulfillmentStatus || (OrderFulfillmentStatus = {}));\n/** The set of valid sort keys for the Order query. */\nexport var OrderSortKeys;\n(function (OrderSortKeys) {\n    /** Sort by the `id` value. */\n    OrderSortKeys[\"Id\"] = \"ID\";\n    /** Sort by the `processed_at` value. */\n    OrderSortKeys[\"ProcessedAt\"] = \"PROCESSED_AT\";\n    /**\n     * Sort by relevance to the search terms when the `query` parameter is specified on the connection.\n     * Don't use this sort key when no search query is specified.\n     *\n     */\n    OrderSortKeys[\"Relevance\"] = \"RELEVANCE\";\n    /** Sort by the `total_price` value. */\n    OrderSortKeys[\"TotalPrice\"] = \"TOTAL_PRICE\";\n})(OrderSortKeys || (OrderSortKeys = {}));\n/** The set of valid sort keys for the Page query. */\nexport var PageSortKeys;\n(function (PageSortKeys) {\n    /** Sort by the `id` value. */\n    PageSortKeys[\"Id\"] = \"ID\";\n    /**\n     * Sort by relevance to the search terms when the `query` parameter is specified on the connection.\n     * Don't use this sort key when no search query is specified.\n     *\n     */\n    PageSortKeys[\"Relevance\"] = \"RELEVANCE\";\n    /** Sort by the `title` value. */\n    PageSortKeys[\"Title\"] = \"TITLE\";\n    /** Sort by the `updated_at` value. */\n    PageSortKeys[\"UpdatedAt\"] = \"UPDATED_AT\";\n})(PageSortKeys || (PageSortKeys = {}));\n/** The valid values for the types of payment token. */\nexport var PaymentTokenType;\n(function (PaymentTokenType) {\n    /** Apple Pay token type. */\n    PaymentTokenType[\"ApplePay\"] = \"APPLE_PAY\";\n    /** Google Pay token type. */\n    PaymentTokenType[\"GooglePay\"] = \"GOOGLE_PAY\";\n    /** Shopify Pay token type. */\n    PaymentTokenType[\"ShopifyPay\"] = \"SHOPIFY_PAY\";\n    /** Stripe token type. */\n    PaymentTokenType[\"StripeVaultToken\"] = \"STRIPE_VAULT_TOKEN\";\n    /** Vault payment token type. */\n    PaymentTokenType[\"Vault\"] = \"VAULT\";\n})(PaymentTokenType || (PaymentTokenType = {}));\n/** The set of valid sort keys for the ProductCollection query. */\nexport var ProductCollectionSortKeys;\n(function (ProductCollectionSortKeys) {\n    /** Sort by the `best-selling` value. */\n    ProductCollectionSortKeys[\"BestSelling\"] = \"BEST_SELLING\";\n    /** Sort by the `collection-default` value. */\n    ProductCollectionSortKeys[\"CollectionDefault\"] = \"COLLECTION_DEFAULT\";\n    /** Sort by the `created` value. */\n    ProductCollectionSortKeys[\"Created\"] = \"CREATED\";\n    /** Sort by the `id` value. */\n    ProductCollectionSortKeys[\"Id\"] = \"ID\";\n    /** Sort by the `manual` value. */\n    ProductCollectionSortKeys[\"Manual\"] = \"MANUAL\";\n    /** Sort by the `price` value. */\n    ProductCollectionSortKeys[\"Price\"] = \"PRICE\";\n    /**\n     * Sort by relevance to the search terms when the `query` parameter is specified on the connection.\n     * Don't use this sort key when no search query is specified.\n     *\n     */\n    ProductCollectionSortKeys[\"Relevance\"] = \"RELEVANCE\";\n    /** Sort by the `title` value. */\n    ProductCollectionSortKeys[\"Title\"] = \"TITLE\";\n})(ProductCollectionSortKeys || (ProductCollectionSortKeys = {}));\n/** The set of valid sort keys for the ProductImage query. */\nexport var ProductImageSortKeys;\n(function (ProductImageSortKeys) {\n    /** Sort by the `created_at` value. */\n    ProductImageSortKeys[\"CreatedAt\"] = \"CREATED_AT\";\n    /** Sort by the `id` value. */\n    ProductImageSortKeys[\"Id\"] = \"ID\";\n    /** Sort by the `position` value. */\n    ProductImageSortKeys[\"Position\"] = \"POSITION\";\n    /**\n     * Sort by relevance to the search terms when the `query` parameter is specified on the connection.\n     * Don't use this sort key when no search query is specified.\n     *\n     */\n    ProductImageSortKeys[\"Relevance\"] = \"RELEVANCE\";\n})(ProductImageSortKeys || (ProductImageSortKeys = {}));\n/** The set of valid sort keys for the ProductMedia query. */\nexport var ProductMediaSortKeys;\n(function (ProductMediaSortKeys) {\n    /** Sort by the `id` value. */\n    ProductMediaSortKeys[\"Id\"] = \"ID\";\n    /** Sort by the `position` value. */\n    ProductMediaSortKeys[\"Position\"] = \"POSITION\";\n    /**\n     * Sort by relevance to the search terms when the `query` parameter is specified on the connection.\n     * Don't use this sort key when no search query is specified.\n     *\n     */\n    ProductMediaSortKeys[\"Relevance\"] = \"RELEVANCE\";\n})(ProductMediaSortKeys || (ProductMediaSortKeys = {}));\n/** The set of valid sort keys for the Product query. */\nexport var ProductSortKeys;\n(function (ProductSortKeys) {\n    /** Sort by the `best_selling` value. */\n    ProductSortKeys[\"BestSelling\"] = \"BEST_SELLING\";\n    /** Sort by the `created_at` value. */\n    ProductSortKeys[\"CreatedAt\"] = \"CREATED_AT\";\n    /** Sort by the `id` value. */\n    ProductSortKeys[\"Id\"] = \"ID\";\n    /** Sort by the `price` value. */\n    ProductSortKeys[\"Price\"] = \"PRICE\";\n    /** Sort by the `product_type` value. */\n    ProductSortKeys[\"ProductType\"] = \"PRODUCT_TYPE\";\n    /**\n     * Sort by relevance to the search terms when the `query` parameter is specified on the connection.\n     * Don't use this sort key when no search query is specified.\n     *\n     */\n    ProductSortKeys[\"Relevance\"] = \"RELEVANCE\";\n    /** Sort by the `title` value. */\n    ProductSortKeys[\"Title\"] = \"TITLE\";\n    /** Sort by the `updated_at` value. */\n    ProductSortKeys[\"UpdatedAt\"] = \"UPDATED_AT\";\n    /** Sort by the `vendor` value. */\n    ProductSortKeys[\"Vendor\"] = \"VENDOR\";\n})(ProductSortKeys || (ProductSortKeys = {}));\n/** The set of valid sort keys for the ProductVariant query. */\nexport var ProductVariantSortKeys;\n(function (ProductVariantSortKeys) {\n    /** Sort by the `id` value. */\n    ProductVariantSortKeys[\"Id\"] = \"ID\";\n    /** Sort by the `position` value. */\n    ProductVariantSortKeys[\"Position\"] = \"POSITION\";\n    /**\n     * Sort by relevance to the search terms when the `query` parameter is specified on the connection.\n     * Don't use this sort key when no search query is specified.\n     *\n     */\n    ProductVariantSortKeys[\"Relevance\"] = \"RELEVANCE\";\n    /** Sort by the `sku` value. */\n    ProductVariantSortKeys[\"Sku\"] = \"SKU\";\n    /** Sort by the `title` value. */\n    ProductVariantSortKeys[\"Title\"] = \"TITLE\";\n})(ProductVariantSortKeys || (ProductVariantSortKeys = {}));\n/** The checkout charge when the full amount isn't charged at checkout. */\nexport var SellingPlanCheckoutChargeType;\n(function (SellingPlanCheckoutChargeType) {\n    /** The checkout charge is a percentage of the product or variant price. */\n    SellingPlanCheckoutChargeType[\"Percentage\"] = \"PERCENTAGE\";\n    /** The checkout charge is a fixed price amount. */\n    SellingPlanCheckoutChargeType[\"Price\"] = \"PRICE\";\n})(SellingPlanCheckoutChargeType || (SellingPlanCheckoutChargeType = {}));\n/** The different kinds of order transactions. */\nexport var TransactionKind;\n(function (TransactionKind) {\n    /**\n     * An amount reserved against the cardholder's funding source.\n     * Money does not change hands until the authorization is captured.\n     *\n     */\n    TransactionKind[\"Authorization\"] = \"AUTHORIZATION\";\n    /** A transfer of the money that was reserved during the authorization stage. */\n    TransactionKind[\"Capture\"] = \"CAPTURE\";\n    /** Money returned to the customer when they have paid too much. */\n    TransactionKind[\"Change\"] = \"CHANGE\";\n    /** An authorization for a payment taken with an EMV credit card reader. */\n    TransactionKind[\"EmvAuthorization\"] = \"EMV_AUTHORIZATION\";\n    /** An authorization and capture performed together in a single step. */\n    TransactionKind[\"Sale\"] = \"SALE\";\n})(TransactionKind || (TransactionKind = {}));\n/** Transaction statuses describe the status of a transaction. */\nexport var TransactionStatus;\n(function (TransactionStatus) {\n    /** There was an error while processing the transaction. */\n    TransactionStatus[\"Error\"] = \"ERROR\";\n    /** The transaction failed. */\n    TransactionStatus[\"Failure\"] = \"FAILURE\";\n    /** The transaction is pending. */\n    TransactionStatus[\"Pending\"] = \"PENDING\";\n    /** The transaction succeeded. */\n    TransactionStatus[\"Success\"] = \"SUCCESS\";\n})(TransactionStatus || (TransactionStatus = {}));\n/** The accepted types of unit of measurement. */\nexport var UnitPriceMeasurementMeasuredType;\n(function (UnitPriceMeasurementMeasuredType) {\n    /** Unit of measurements representing areas. */\n    UnitPriceMeasurementMeasuredType[\"Area\"] = \"AREA\";\n    /** Unit of measurements representing lengths. */\n    UnitPriceMeasurementMeasuredType[\"Length\"] = \"LENGTH\";\n    /** Unit of measurements representing volumes. */\n    UnitPriceMeasurementMeasuredType[\"Volume\"] = \"VOLUME\";\n    /** Unit of measurements representing weights. */\n    UnitPriceMeasurementMeasuredType[\"Weight\"] = \"WEIGHT\";\n})(UnitPriceMeasurementMeasuredType || (UnitPriceMeasurementMeasuredType = {}));\n/** The valid units of measurement for a unit price measurement. */\nexport var UnitPriceMeasurementMeasuredUnit;\n(function (UnitPriceMeasurementMeasuredUnit) {\n    /** 100 centiliters equals 1 liter. */\n    UnitPriceMeasurementMeasuredUnit[\"Cl\"] = \"CL\";\n    /** 100 centimeters equals 1 meter. */\n    UnitPriceMeasurementMeasuredUnit[\"Cm\"] = \"CM\";\n    /** Metric system unit of weight. */\n    UnitPriceMeasurementMeasuredUnit[\"G\"] = \"G\";\n    /** 1 kilogram equals 1000 grams. */\n    UnitPriceMeasurementMeasuredUnit[\"Kg\"] = \"KG\";\n    /** Metric system unit of volume. */\n    UnitPriceMeasurementMeasuredUnit[\"L\"] = \"L\";\n    /** Metric system unit of length. */\n    UnitPriceMeasurementMeasuredUnit[\"M\"] = \"M\";\n    /** Metric system unit of area. */\n    UnitPriceMeasurementMeasuredUnit[\"M2\"] = \"M2\";\n    /** 1 cubic meter equals 1000 liters. */\n    UnitPriceMeasurementMeasuredUnit[\"M3\"] = \"M3\";\n    /** 1000 milligrams equals 1 gram. */\n    UnitPriceMeasurementMeasuredUnit[\"Mg\"] = \"MG\";\n    /** 1000 milliliters equals 1 liter. */\n    UnitPriceMeasurementMeasuredUnit[\"Ml\"] = \"ML\";\n    /** 1000 millimeters equals 1 meter. */\n    UnitPriceMeasurementMeasuredUnit[\"Mm\"] = \"MM\";\n})(UnitPriceMeasurementMeasuredUnit || (UnitPriceMeasurementMeasuredUnit = {}));\n/** Systems of weights and measures. */\nexport var UnitSystem;\n(function (UnitSystem) {\n    /** Imperial system of weights and measures. */\n    UnitSystem[\"ImperialSystem\"] = \"IMPERIAL_SYSTEM\";\n    /** Metric system of weights and measures. */\n    UnitSystem[\"MetricSystem\"] = \"METRIC_SYSTEM\";\n})(UnitSystem || (UnitSystem = {}));\n/** Units of measurement for weight. */\nexport var WeightUnit;\n(function (WeightUnit) {\n    /** Metric system unit of mass. */\n    WeightUnit[\"Grams\"] = \"GRAMS\";\n    /** 1 kilogram equals 1000 grams. */\n    WeightUnit[\"Kilograms\"] = \"KILOGRAMS\";\n    /** Imperial system unit of mass. */\n    WeightUnit[\"Ounces\"] = \"OUNCES\";\n    /** 1 pound equals 16 ounces. */\n    WeightUnit[\"Pounds\"] = \"POUNDS\";\n})(WeightUnit || (WeightUnit = {}));\n","import React, { createContext } from 'react';\nexport const ShopifyContext = createContext(null);\nexport const LocalizationContext = createContext(null);\nexport function ShopifyProviderClient({ children, shopifyConfig, localization, }) {\n    if (!shopifyConfig) {\n        throw new Error('The `shopifyConfig` prop should be passed to `ShopifyProvider`');\n    }\n    return (React.createElement(ShopifyContext.Provider, { value: shopifyConfig },\n        React.createElement(LocalizationContext.Provider, { value: localization }, children)));\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/foundation/ShopifyProvider/ShopifyProvider.client.js?no-proxy';\n\nexport const ShopifyContext = /* @__PURE__ */wrapInClientProxy({ name: 'ShopifyContext', id: 'ShopifyProvider-LTgxMjM3NzI2NA', value: allImports['ShopifyContext'], isDefault: false });\nexport const LocalizationContext = /* @__PURE__ */wrapInClientProxy({ name: 'LocalizationContext', id: 'ShopifyProvider-LTgxMjM3NzI2NA', value: allImports['LocalizationContext'], isDefault: false });\nexport const ShopifyProviderClient = /* @__PURE__ */wrapInClientProxy({ name: 'ShopifyProviderClient', id: 'ShopifyProvider-LTgxMjM3NzI2NA', value: allImports['ShopifyProviderClient'], isDefault: false });\n","import { ShopifyContext } from '../ShopifyProvider/index.js';\nimport { useEnvContext } from '../ssr-interop.js';\n/**\n * The `useShop` hook provides access to values within\n * [the `shopify` property in the `hydrogen.config.js` file](https://shopify.dev/custom-storefronts/hydrogen/framework/hydrogen-config).\n * The `useShop` hook must be a descendent of a `ShopifyProvider` component.\n */\nexport function useShop() {\n    const config = useEnvContext((req) => req.ctx.shopifyConfig, ShopifyContext);\n    if (!config) {\n        throw new Error('No Shopify Context found');\n    }\n    return config;\n}\n","import { useContext, useMemo } from 'react';\nimport { RSC_PATHNAME } from '../../constants.js';\nimport { parseJSON } from '../../utilities/parse.js';\nimport { RouterContext } from '../Router/BrowserRouter.client.js';\nimport { useEnvContext, META_ENV_SSR } from '../ssr-interop.js';\n/**\n * The `useUrl` hook retrieves the current URL in a server or client component.\n */\nexport function useUrl() {\n    if (META_ENV_SSR) {\n        const serverUrl = new URL(useEnvContext((req) => req.url) // eslint-disable-line react-hooks/rules-of-hooks\n        );\n        if (serverUrl.pathname === RSC_PATHNAME) {\n            const state = parseJSON(serverUrl.searchParams.get('state') || '{}');\n            const parsedUrl = `${serverUrl.origin}${state.pathname ?? ''}${state.search ?? ''}`;\n            return new URL(parsedUrl);\n        }\n        return new URL(serverUrl);\n    }\n    /**\n     * We return a `URL` object instead of passing through `location` because\n     * the URL object contains important info like hostname, etc.\n     * Note: do not call `useLocation` directly here to avoid throwing errors\n     * when `useUrl` is used outside of a Router component (e.g. in <Seo>).\n     */\n    const location = useContext(RouterContext); // eslint-disable-line react-hooks/rules-of-hooks\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    return useMemo(() => new URL(window.location.href), [location]); // eslint-disable-line react-hooks/exhaustive-deps\n}\n","// src/cookie.ts\nvar g = new Set([\n  \"domain\",\n  \"path\",\n  \"max-age\",\n  \"expires\",\n  \"samesite\",\n  \"secure\",\n  \"httponly\"\n]);\nfunction u(a) {\n  let r = {}, e, t, n = 0, m = a.split(/;\\s*/g), s, i;\n  for (; n < m.length; n++)\n    if (t = m[n], e = t.indexOf(\"=\"), ~e) {\n      if (s = t.substring(0, e++).trim(), i = t.substring(e).trim(), i[0] === '\"' && (i = i.substring(1, i.length - 1)), ~i.indexOf(\"%\"))\n        try {\n          i = decodeURIComponent(i);\n        } catch (f) {\n        }\n      g.has(t = s.toLowerCase()) ? t === \"expires\" ? r.expires = new Date(i) : t === \"max-age\" ? r.maxage = +i : r[t] = i : r[s] = i;\n    } else\n      (s = t.trim().toLowerCase()) && (s === \"httponly\" || s === \"secure\") && (r[s] = !0);\n  return r;\n}\nfunction l(a, r, e = {}) {\n  let t = a + \"=\" + encodeURIComponent(r);\n  return e.expires && (t += \"; Expires=\" + new Date(e.expires).toUTCString()), e.maxage != null && e.maxage >= 0 && (t += \"; Max-Age=\" + (e.maxage | 0)), e.domain && (t += \"; Domain=\" + e.domain), e.path && (t += \"; Path=\" + e.path), e.samesite && (t += \"; SameSite=\" + e.samesite), (e.secure || e.samesite === \"None\") && (t += \"; Secure\"), e.httponly && (t += \"; HttpOnly\"), t;\n}\nexport {\n  u as parse,\n  l as stringify\n};\n","import React, { useState } from 'react';\nimport { useShop } from '../../foundation/index.js';\nimport { flattenConnection } from '../../utilities/index.js';\nimport { CartCreate, defaultCartFragment } from './cart-queries.js';\nimport { SHOPIFY_STOREFRONT_ID_HEADER, STOREFRONT_API_PUBLIC_TOKEN_HEADER, SHOPIFY_STOREFRONT_Y_HEADER, SHOPIFY_STOREFRONT_S_HEADER, SHOPIFY_Y, SHOPIFY_S, } from '../../constants.js';\nimport { parse } from 'worktop/cookie';\nexport function useCartFetch() {\n    const { storeDomain, storefrontApiVersion, storefrontToken, storefrontId } = useShop();\n    return React.useCallback(({ query, variables, }) => {\n        const headers = {\n            'Content-Type': 'application/json',\n            'X-SDK-Variant': 'hydrogen',\n            'X-SDK-Version': storefrontApiVersion,\n            [STOREFRONT_API_PUBLIC_TOKEN_HEADER]: storefrontToken,\n        };\n        if (storefrontId) {\n            headers[SHOPIFY_STOREFRONT_ID_HEADER] = storefrontId;\n        }\n        // Find Shopify cookies\n        const cookieData = parse(document.cookie);\n        if (cookieData[SHOPIFY_Y] && cookieData[SHOPIFY_S]) {\n            headers[SHOPIFY_STOREFRONT_Y_HEADER] = cookieData[SHOPIFY_Y];\n            headers[SHOPIFY_STOREFRONT_S_HEADER] = cookieData[SHOPIFY_S];\n        }\n        return fetch(`https://${storeDomain}/api/${storefrontApiVersion}/graphql.json`, {\n            method: 'POST',\n            headers,\n            body: JSON.stringify({\n                query: query.toString(),\n                variables,\n            }),\n        })\n            .then((res) => res.json())\n            .catch((error) => {\n            return {\n                data: undefined,\n                errors: error.toString(),\n            };\n        });\n    }, [storeDomain, storefrontApiVersion, storefrontToken, storefrontId]);\n}\nexport function useInstantCheckout() {\n    const [cart, updateCart] = useState();\n    const [checkoutUrl, updateCheckoutUrl] = useState();\n    const [error, updateError] = useState();\n    const fetch = useCartFetch();\n    const createInstantCheckout = React.useCallback(async (cartInput) => {\n        const { data, errors } = await fetch({\n            query: CartCreate(defaultCartFragment),\n            variables: {\n                input: cartInput,\n            },\n        });\n        if (errors) {\n            updateError(errors);\n            updateCart(undefined);\n            updateCheckoutUrl(undefined);\n        }\n        if (data?.cartCreate?.cart) {\n            const dataCart = data.cartCreate.cart;\n            updateCart({\n                ...dataCart,\n                // @ts-expect-error While the cart still uses fragments, there will be a TS error here until we remove those fragments and get the type in-line\n                lines: flattenConnection(dataCart.lines),\n                note: dataCart.note ?? undefined,\n            });\n            updateCheckoutUrl(dataCart.checkoutUrl);\n        }\n    }, [fetch]);\n    return { cart, checkoutUrl, error, createInstantCheckout };\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/components/CartProvider/hooks.client.js?no-proxy';\n\nexport const useCartFetch = /* @__PURE__ */wrapInClientProxy({ name: 'useCartFetch', id: 'hooks-LTQ3MDMzMTIzOA', value: allImports['useCartFetch'], isDefault: false });\nexport const useInstantCheckout = /* @__PURE__ */wrapInClientProxy({ name: 'useInstantCheckout', id: 'hooks-LTQ3MDMzMTIzOA', value: allImports['useInstantCheckout'], isDefault: false });\n","import { createContext } from 'react';\nexport const CartContext = createContext(null);\n","export const CART_ID_STORAGE_KEY = 'shopifyCartId';\nexport const CART_COOKIE_TTL_DAYS = 14;\n","import React, { useEffect, useCallback, useReducer, useMemo, useRef, } from 'react';\nimport { flattenConnection } from '../../utilities/flattenConnection/index.js';\nimport { CartLineAdd, CartCreate, CartLineRemove, CartLineUpdate, CartNoteUpdate, CartBuyerIdentityUpdate, CartAttributesUpdate, CartDiscountCodesUpdate, CartQuery, defaultCartFragment, } from './cart-queries.js';\nimport { CountryCode, } from '../../storefront-api-types.js';\nimport { useCartFetch } from './hooks.client.js';\nimport { CartContext } from './context.js';\nimport { CART_ID_STORAGE_KEY } from './constants.js';\nimport { ClientAnalytics } from '../../foundation/Analytics/ClientAnalytics.js';\nfunction getLocalStoragePolyfill() {\n    const storage = {};\n    return {\n        removeItem(key) {\n            delete storage[key];\n        },\n        setItem(key, value) {\n            storage[key] = value;\n        },\n        getItem(key) {\n            return storage[key];\n        },\n    };\n}\nconst localStorage = (function () {\n    try {\n        return window.localStorage || getLocalStoragePolyfill();\n    }\n    catch (e) {\n        return getLocalStoragePolyfill();\n    }\n})();\nfunction cartReducer(state, action) {\n    switch (action.type) {\n        case 'cartFetch': {\n            if (state.status === 'uninitialized') {\n                return {\n                    status: 'fetching',\n                };\n            }\n            break;\n        }\n        case 'cartCreate': {\n            if (state.status === 'uninitialized') {\n                return {\n                    status: 'creating',\n                };\n            }\n            break;\n        }\n        case 'resolve': {\n            const resolvableStatuses = ['updating', 'fetching', 'creating'];\n            if (resolvableStatuses.includes(state.status)) {\n                return {\n                    status: 'idle',\n                    cart: action.cart,\n                };\n            }\n            break;\n        }\n        case 'reject': {\n            if (action.errors) {\n                console.group('%cCart Error:', 'color:red');\n                for (const [i, error] of action.errors.entries()) {\n                    console.log(`%c${i + 1}. ` + error.message, 'color:red');\n                }\n                console.groupEnd();\n            }\n            if (state.status === 'fetching' || state.status === 'creating') {\n                return { status: 'uninitialized', error: action.errors };\n            }\n            else if (state.status === 'updating') {\n                return {\n                    status: 'idle',\n                    cart: state.lastValidCart,\n                    error: action.errors,\n                };\n            }\n            break;\n        }\n        case 'resetCart': {\n            if (state.status === 'fetching') {\n                return { status: 'uninitialized' };\n            }\n            break;\n        }\n        case 'addLineItem': {\n            if (state.status === 'idle') {\n                return {\n                    status: 'updating',\n                    cart: state.cart,\n                    lastValidCart: state.cart,\n                };\n            }\n            break;\n        }\n        case 'removeLineItem': {\n            if (state.status === 'idle') {\n                return {\n                    status: 'updating',\n                    cart: {\n                        ...state.cart,\n                        lines: state.cart.lines.filter(({ id }) => !action.lines.includes(id)),\n                    },\n                    lastValidCart: state.cart,\n                };\n            }\n            break;\n        }\n        case 'updateLineItem': {\n            if (state.status === 'idle') {\n                return {\n                    status: 'updating',\n                    cart: {\n                        ...state.cart,\n                        lines: state.cart.lines.map((line) => {\n                            const updatedLine = action.lines.find(({ id }) => id === line.id);\n                            if (updatedLine && updatedLine.quantity) {\n                                return {\n                                    ...line,\n                                    quantity: updatedLine.quantity,\n                                };\n                            }\n                            return line;\n                        }),\n                    },\n                    lastValidCart: state.cart,\n                };\n            }\n            break;\n        }\n        case 'noteUpdate': {\n            if (state.status === 'idle') {\n                return {\n                    status: 'updating',\n                    cart: state.cart,\n                    lastValidCart: state.cart,\n                };\n            }\n            break;\n        }\n        case 'buyerIdentityUpdate': {\n            if (state.status === 'idle') {\n                return {\n                    status: 'updating',\n                    cart: state.cart,\n                    lastValidCart: state.cart,\n                };\n            }\n            break;\n        }\n        case 'cartAttributesUpdate': {\n            if (state.status === 'idle') {\n                return {\n                    status: 'updating',\n                    cart: state.cart,\n                    lastValidCart: state.cart,\n                };\n            }\n            break;\n        }\n        case 'discountCodesUpdate': {\n            if (state.status === 'idle') {\n                return {\n                    status: 'updating',\n                    cart: state.cart,\n                    lastValidCart: state.cart,\n                };\n            }\n            break;\n        }\n    }\n    throw new Error(`Cannot dispatch event (${action.type}) for current cart state (${state.status})`);\n}\n/**\n * The `CartProvider` component creates a context for using a cart. It creates a cart object and callbacks\n * that can be accessed by any descendent component using the `useCart` hook and related hooks. It also carries out\n * any callback props when a relevant action is performed. For example, if a `onLineAdd` callback is provided,\n * then the callback will be called when a new line item is successfully added to the cart.\n *\n * The `CartProvider` component must be a descendent of the `ShopifyProvider` component.\n * You must use this component if you want to use the `useCart` hook or related hooks, or if you would like to use the `AddToCartButton` component.\n */\nexport function CartProvider({ children, numCartLines, onCreate, onLineAdd, onLineRemove, onLineUpdate, onNoteUpdate, onBuyerIdentityUpdate, onAttributesUpdate, onDiscountCodesUpdate, data: cart, cartFragment = defaultCartFragment, customerAccessToken, countryCode = CountryCode.Us, }) {\n    if (countryCode)\n        countryCode = countryCode.toUpperCase();\n    const initialStatus = cart\n        ? { status: 'idle', cart: cartFromGraphQL(cart) }\n        : { status: 'uninitialized' };\n    const [state, dispatch] = useReducer((state, dispatch) => cartReducer(state, dispatch), initialStatus);\n    const fetchCart = useCartFetch();\n    const countryChanged = state.status === 'idle' &&\n        countryCode !== state?.cart?.buyerIdentity?.countryCode &&\n        !state.error;\n    const cartFetch = useCallback(async (cartId) => {\n        dispatch({ type: 'cartFetch' });\n        const { data } = await fetchCart({\n            query: CartQuery(cartFragment),\n            variables: {\n                id: cartId,\n                numCartLines,\n                country: countryCode,\n            },\n        });\n        if (!data?.cart) {\n            localStorage.removeItem(CART_ID_STORAGE_KEY);\n            dispatch({ type: 'resetCart' });\n            return;\n        }\n        dispatch({ type: 'resolve', cart: cartFromGraphQL(data.cart) });\n    }, [fetchCart, cartFragment, numCartLines, countryCode]);\n    const cartCreate = useCallback(async (cart) => {\n        dispatch({ type: 'cartCreate' });\n        onCreate?.();\n        if (countryCode && !cart.buyerIdentity?.countryCode) {\n            if (cart.buyerIdentity == null) {\n                cart.buyerIdentity = {};\n            }\n            cart.buyerIdentity.countryCode = countryCode;\n        }\n        if (customerAccessToken && !cart.buyerIdentity?.customerAccessToken) {\n            if (cart.buyerIdentity == null) {\n                cart.buyerIdentity = {};\n            }\n            cart.buyerIdentity.customerAccessToken = customerAccessToken;\n        }\n        const { data, errors } = await fetchCart({\n            query: CartCreate(cartFragment),\n            variables: {\n                input: cart,\n                numCartLines,\n                country: countryCode,\n            },\n        });\n        if (errors) {\n            dispatch({\n                type: 'reject',\n                errors,\n            });\n        }\n        if (data?.cartCreate?.cart) {\n            if (cart.lines) {\n                ClientAnalytics.publish(ClientAnalytics.eventNames.ADD_TO_CART, true, {\n                    addedCartLines: cart.lines,\n                    cart: data.cartCreate.cart,\n                    prevCart: null,\n                });\n            }\n            dispatch({\n                type: 'resolve',\n                cart: cartFromGraphQL(data.cartCreate.cart),\n            });\n            localStorage.setItem(CART_ID_STORAGE_KEY, data.cartCreate.cart.id);\n        }\n    }, [\n        onCreate,\n        countryCode,\n        fetchCart,\n        cartFragment,\n        numCartLines,\n        customerAccessToken,\n    ]);\n    const addLineItem = useCallback(async (lines, state) => {\n        if (state.status === 'idle') {\n            dispatch({ type: 'addLineItem' });\n            onLineAdd?.();\n            const { data, errors } = await fetchCart({\n                query: CartLineAdd(cartFragment),\n                variables: {\n                    cartId: state.cart.id,\n                    lines,\n                    numCartLines,\n                    country: countryCode,\n                },\n            });\n            if (errors) {\n                dispatch({\n                    type: 'reject',\n                    errors,\n                });\n            }\n            if (data?.cartLinesAdd?.cart) {\n                ClientAnalytics.publish(ClientAnalytics.eventNames.ADD_TO_CART, true, {\n                    addedCartLines: lines,\n                    cart: data.cartLinesAdd.cart,\n                    prevCart: state.cart,\n                });\n                dispatch({\n                    type: 'resolve',\n                    cart: cartFromGraphQL(data.cartLinesAdd.cart),\n                });\n            }\n        }\n    }, [onLineAdd, fetchCart, cartFragment, numCartLines, countryCode]);\n    const removeLineItem = useCallback(async (lines, state) => {\n        if (state.status === 'idle') {\n            dispatch({ type: 'removeLineItem', lines });\n            onLineRemove?.();\n            const { data, errors } = await fetchCart({\n                query: CartLineRemove(cartFragment),\n                variables: {\n                    cartId: state.cart.id,\n                    lines,\n                    numCartLines,\n                    country: countryCode,\n                },\n            });\n            if (errors) {\n                dispatch({\n                    type: 'reject',\n                    errors,\n                });\n            }\n            if (data?.cartLinesRemove?.cart) {\n                ClientAnalytics.publish(ClientAnalytics.eventNames.REMOVE_FROM_CART, true, {\n                    removedCartLines: lines,\n                    cart: data.cartLinesRemove.cart,\n                    prevCart: state.cart,\n                });\n                dispatch({\n                    type: 'resolve',\n                    cart: cartFromGraphQL(data.cartLinesRemove.cart),\n                });\n            }\n        }\n    }, [onLineRemove, fetchCart, cartFragment, numCartLines, countryCode]);\n    const updateLineItem = useCallback(async (lines, state) => {\n        if (state.status === 'idle') {\n            dispatch({ type: 'updateLineItem', lines });\n            onLineUpdate?.();\n            const { data, errors } = await fetchCart({\n                query: CartLineUpdate(cartFragment),\n                variables: {\n                    cartId: state.cart.id,\n                    lines,\n                    numCartLines,\n                    country: countryCode,\n                },\n            });\n            if (errors) {\n                dispatch({\n                    type: 'reject',\n                    errors,\n                });\n            }\n            if (data?.cartLinesUpdate?.cart) {\n                ClientAnalytics.publish(ClientAnalytics.eventNames.UPDATE_CART, true, {\n                    updatedCartLines: lines,\n                    oldCart: state.cart,\n                    cart: data.cartLinesUpdate.cart,\n                    prevCart: state.cart,\n                });\n                dispatch({\n                    type: 'resolve',\n                    cart: cartFromGraphQL(data.cartLinesUpdate.cart),\n                });\n            }\n        }\n    }, [onLineUpdate, fetchCart, cartFragment, numCartLines, countryCode]);\n    const noteUpdate = useCallback(async (note, state) => {\n        if (state.status === 'idle') {\n            dispatch({ type: 'noteUpdate' });\n            onNoteUpdate?.();\n            const { data, errors } = await fetchCart({\n                query: CartNoteUpdate(cartFragment),\n                variables: {\n                    cartId: state.cart.id,\n                    note,\n                    numCartLines,\n                    country: countryCode,\n                },\n            });\n            if (errors) {\n                dispatch({\n                    type: 'reject',\n                    errors,\n                });\n            }\n            if (data?.cartNoteUpdate?.cart) {\n                dispatch({\n                    type: 'resolve',\n                    cart: cartFromGraphQL(data.cartNoteUpdate.cart),\n                });\n            }\n        }\n    }, [onNoteUpdate, fetchCart, cartFragment, numCartLines, countryCode]);\n    const buyerIdentityUpdate = useCallback(async (buyerIdentity, state) => {\n        if (state.status === 'idle') {\n            dispatch({ type: 'buyerIdentityUpdate' });\n            onBuyerIdentityUpdate?.();\n            const { data, errors } = await fetchCart({\n                query: CartBuyerIdentityUpdate(cartFragment),\n                variables: {\n                    cartId: state.cart.id,\n                    buyerIdentity,\n                    numCartLines,\n                    country: countryCode,\n                },\n            });\n            if (errors) {\n                dispatch({\n                    type: 'reject',\n                    errors,\n                });\n            }\n            if (data?.cartBuyerIdentityUpdate?.cart) {\n                dispatch({\n                    type: 'resolve',\n                    cart: cartFromGraphQL(data.cartBuyerIdentityUpdate.cart),\n                });\n            }\n        }\n    }, [onBuyerIdentityUpdate, fetchCart, cartFragment, numCartLines, countryCode]);\n    const cartAttributesUpdate = useCallback(async (attributes, state) => {\n        if (state.status === 'idle') {\n            dispatch({ type: 'cartAttributesUpdate' });\n            onAttributesUpdate?.();\n            const { data, errors } = await fetchCart({\n                query: CartAttributesUpdate(cartFragment),\n                variables: {\n                    cartId: state.cart.id,\n                    attributes,\n                    numCartLines,\n                    country: countryCode,\n                },\n            });\n            if (errors) {\n                dispatch({\n                    type: 'reject',\n                    errors,\n                });\n            }\n            if (data?.cartAttributesUpdate?.cart) {\n                dispatch({\n                    type: 'resolve',\n                    cart: cartFromGraphQL(data.cartAttributesUpdate.cart),\n                });\n            }\n        }\n    }, [onAttributesUpdate, fetchCart, cartFragment, numCartLines, countryCode]);\n    const discountCodesUpdate = useCallback(async (discountCodes, state) => {\n        if (state.status === 'idle') {\n            dispatch({ type: 'discountCodesUpdate' });\n            onDiscountCodesUpdate?.();\n            const { data, errors } = await fetchCart({\n                query: CartDiscountCodesUpdate(cartFragment),\n                variables: {\n                    cartId: state.cart.id,\n                    discountCodes,\n                    numCartLines,\n                    country: countryCode,\n                },\n            });\n            if (errors) {\n                dispatch({\n                    type: 'reject',\n                    errors,\n                });\n            }\n            if (data?.cartDiscountCodesUpdate?.cart) {\n                ClientAnalytics.publish(ClientAnalytics.eventNames.DISCOUNT_CODE_UPDATED, true, {\n                    updatedDiscountCodes: discountCodes,\n                    cart: data.cartDiscountCodesUpdate.cart,\n                    prevCart: state.cart,\n                });\n                dispatch({\n                    type: 'resolve',\n                    cart: cartFromGraphQL(data.cartDiscountCodesUpdate.cart),\n                });\n            }\n        }\n    }, [onDiscountCodesUpdate, fetchCart, cartFragment, numCartLines, countryCode]);\n    const didFetchCart = useRef(false);\n    useEffect(() => {\n        if (localStorage.getItem(CART_ID_STORAGE_KEY) &&\n            state.status === 'uninitialized' &&\n            !didFetchCart.current) {\n            didFetchCart.current = true;\n            cartFetch(localStorage.getItem(CART_ID_STORAGE_KEY));\n        }\n    }, [cartFetch, state]);\n    useEffect(() => {\n        if (!countryChanged)\n            return;\n        buyerIdentityUpdate({ countryCode, customerAccessToken }, state);\n    }, [\n        state,\n        buyerIdentityUpdate,\n        countryCode,\n        customerAccessToken,\n        countryChanged,\n    ]);\n    const cartContextValue = useMemo(() => {\n        return {\n            ...('cart' in state\n                ? state.cart\n                : {\n                    lines: [],\n                    attributes: [],\n                    ...(cart ? cartFromGraphQL(cart) : {}),\n                }),\n            status: state.status,\n            error: 'error' in state ? state.error : undefined,\n            totalQuantity: 'cart' in state ? state?.cart?.totalQuantity ?? 0 : 0,\n            cartCreate,\n            linesAdd(lines) {\n                if ('cart' in state && state.cart.id) {\n                    addLineItem(lines, state);\n                }\n                else {\n                    cartCreate({ lines });\n                }\n            },\n            linesRemove(lines) {\n                removeLineItem(lines, state);\n            },\n            linesUpdate(lines) {\n                updateLineItem(lines, state);\n            },\n            noteUpdate(note) {\n                noteUpdate(note, state);\n            },\n            buyerIdentityUpdate(buyerIdentity) {\n                buyerIdentityUpdate(buyerIdentity, state);\n            },\n            cartAttributesUpdate(attributes) {\n                cartAttributesUpdate(attributes, state);\n            },\n            discountCodesUpdate(discountCodes) {\n                discountCodesUpdate(discountCodes, state);\n            },\n            cartFragment,\n        };\n    }, [\n        state,\n        cart,\n        cartCreate,\n        cartFragment,\n        addLineItem,\n        removeLineItem,\n        updateLineItem,\n        noteUpdate,\n        buyerIdentityUpdate,\n        cartAttributesUpdate,\n        discountCodesUpdate,\n    ]);\n    return (React.createElement(CartContext.Provider, { value: cartContextValue }, children));\n}\nfunction cartFromGraphQL(cart) {\n    return {\n        ...cart,\n        // @ts-expect-error While the cart still uses fragments, there will be a TS error here until we remove those fragments and get the type in-line\n        lines: flattenConnection(cart.lines),\n        note: cart.note ?? undefined,\n    };\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/components/CartProvider/CartProvider.client.js?no-proxy';\n\nexport const CartProvider = /* @__PURE__ */wrapInClientProxy({ name: 'CartProvider', id: 'CartProvider-MjAyODE4NTk1NQ', value: allImports['CartProvider'], isDefault: false });\n","import React from 'react';\nimport { CartContext } from '../../components/CartProvider/context.js';\n/**\n * The `useCart` hook provides access to the cart object. It must be a descendent of a `CartProvider` component.\n */\nexport function useCart() {\n    const context = React.useContext(CartContext);\n    if (!context) {\n        throw new Error('Expected a Cart Context, but no Cart Context was found');\n    }\n    return context;\n}\n","import { createContext } from 'react';\nexport const ProductOptionsContext = createContext(null);\n","import { useContext } from 'react';\nimport { ProductOptionsContext } from '../../components/ProductOptionsProvider/context.js';\nexport function useProductOptions() {\n    const context = useContext(ProductOptionsContext);\n    if (!context) {\n        throw new Error(`'useProductOptions' must be a child of <ProductOptionsProvider/>`);\n    }\n    return context;\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/hooks/useProductOptions/useProductOptions.client.js?no-proxy';\n\nexport const useProductOptions = /* @__PURE__ */wrapInClientProxy({ name: 'useProductOptions', id: 'useProductOptions-MTUyMTM0ODA0NQ', value: allImports['useProductOptions'], isDefault: false });\n","import React, { useCallback } from 'react';\nexport function BaseButton(props) {\n    const { as, onClick, defaultOnClick, children, buttonRef, ...passthroughProps } = props;\n    const handleOnClick = useCallback((event) => {\n        if (onClick) {\n            const clickShouldContinue = onClick(event);\n            if ((typeof clickShouldContinue === 'boolean' &&\n                clickShouldContinue === false) ||\n                event?.defaultPrevented)\n                return;\n        }\n        defaultOnClick?.(event);\n    }, [defaultOnClick, onClick]);\n    const Component = as || 'button';\n    return (React.createElement(Component, { ref: buttonRef, onClick: handleOnClick, ...passthroughProps }, children));\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/components/BaseButton/BaseButton.client.js?no-proxy';\n\nexport const BaseButton = /* @__PURE__ */wrapInClientProxy({ name: 'BaseButton', id: 'BaseButton-LTgyMzkyMDQ3Nw', value: allImports['BaseButton'], isDefault: false });\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { useCart } from '../CartProvider/index.js';\nimport { useProductOptions } from '../../hooks/useProductOptions/index.js';\nimport { BaseButton } from '../BaseButton/index.js';\n/**\n * The `AddToCartButton` component renders a button that adds an item to the cart when pressed.\n * It must be a descendent of the `CartProvider` component.\n */\nexport function AddToCartButton(props) {\n    const [addingItem, setAddingItem] = useState(false);\n    const { variantId: explicitVariantId, quantity = 1, attributes, sellingPlanId, onClick, children, accessibleAddingToCartLabel, ...passthroughProps } = props;\n    const { status, linesAdd } = useCart();\n    const { selectedVariant } = useProductOptions();\n    const variantId = explicitVariantId ?? selectedVariant?.id ?? '';\n    const disabled = explicitVariantId === null ||\n        variantId === '' ||\n        selectedVariant === null ||\n        addingItem ||\n        passthroughProps.disabled;\n    useEffect(() => {\n        if (addingItem && status === 'idle') {\n            setAddingItem(false);\n        }\n    }, [status, addingItem]);\n    const handleAddItem = useCallback(() => {\n        setAddingItem(true);\n        linesAdd([\n            {\n                quantity,\n                merchandiseId: variantId,\n                attributes,\n                sellingPlanId,\n            },\n        ]);\n    }, [linesAdd, quantity, variantId, attributes, sellingPlanId]);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(BaseButton, { ...passthroughProps, disabled: disabled, onClick: onClick, defaultOnClick: handleAddItem }, children),\n        accessibleAddingToCartLabel ? (React.createElement(\"p\", { style: {\n                position: 'absolute',\n                width: '1px',\n                height: '1px',\n                padding: '0',\n                margin: '-1px',\n                overflow: 'hidden',\n                clip: 'rect(0, 0, 0, 0)',\n                whiteSpace: 'nowrap',\n                borderWidth: '0',\n            }, role: \"alert\", \"aria-live\": \"assertive\" }, addingItem ? accessibleAddingToCartLabel : null)) : null));\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/components/AddToCartButton/AddToCartButton.client.js?no-proxy';\n\nexport const AddToCartButton = /* @__PURE__ */wrapInClientProxy({ name: 'AddToCartButton', id: 'AddToCartButton-LTExMzUxNzY5OTE', value: allImports['AddToCartButton'], isDefault: false });\n","import { LocalizationContext } from '../../foundation/ShopifyProvider/ShopifyProvider.client.js';\nimport { useEnvContext } from '../../foundation/ssr-interop.js';\nexport function useLocalization() {\n    const localization = useEnvContext((req) => req.ctx.localization, LocalizationContext);\n    if (localization == null) {\n        throw new Error('No Localization Context available');\n    }\n    return localization;\n}\n","import { useMemo } from 'react';\nimport { useLocalization } from '../useLocalization/useLocalization.js';\n/**\n * The `useMoney` hook takes a [MoneyV2 object](https://shopify.dev/api/storefront/reference/common-objects/moneyv2) and returns a\n * default-formatted string of the amount with the correct currency indicator, along with some of the parts provided by\n * [Intl.NumberFormat](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat).\n */\nexport function useMoney(money) {\n    const { locale } = useLocalization();\n    const amount = parseFloat(money.amount);\n    const options = useMemo(() => ({\n        style: 'currency',\n        currency: money.currencyCode,\n    }), [money.currencyCode]);\n    const defaultFormatter = useLazyFormatter(locale, options);\n    const nameFormatter = useLazyFormatter(locale, {\n        ...options,\n        currencyDisplay: 'name',\n    });\n    const narrowSymbolFormatter = useLazyFormatter(locale, {\n        ...options,\n        currencyDisplay: 'narrowSymbol',\n    });\n    const withoutTrailingZerosFormatter = useLazyFormatter(locale, {\n        ...options,\n        minimumFractionDigits: 0,\n        maximumFractionDigits: 0,\n    });\n    const withoutCurrencyFormatter = useLazyFormatter(locale);\n    const withoutTrailingZerosOrCurrencyFormatter = useLazyFormatter(locale, {\n        minimumFractionDigits: 0,\n        maximumFractionDigits: 0,\n    });\n    const isPartCurrency = (part) => part.type === 'currency';\n    // By wrapping these properties in functions, we only\n    // create formatters if they are going to be used.\n    const lazyFormatters = useMemo(() => ({\n        original: () => money,\n        currencyCode: () => money.currencyCode,\n        localizedString: () => defaultFormatter().format(amount),\n        parts: () => defaultFormatter().formatToParts(amount),\n        withoutTrailingZeros: () => amount % 1 === 0\n            ? withoutTrailingZerosFormatter().format(amount)\n            : defaultFormatter().format(amount),\n        withoutTrailingZerosAndCurrency: () => amount % 1 === 0\n            ? withoutTrailingZerosOrCurrencyFormatter().format(amount)\n            : withoutCurrencyFormatter().format(amount),\n        currencyName: () => nameFormatter().formatToParts(amount).find(isPartCurrency)?.value ??\n            money.currencyCode,\n        currencySymbol: () => defaultFormatter().formatToParts(amount).find(isPartCurrency)?.value ??\n            money.currencyCode,\n        currencyNarrowSymbol: () => narrowSymbolFormatter().formatToParts(amount).find(isPartCurrency)\n            ?.value ?? '',\n        amount: () => defaultFormatter()\n            .formatToParts(amount)\n            .filter((part) => ['decimal', 'fraction', 'group', 'integer', 'literal'].includes(part.type))\n            .map((part) => part.value)\n            .join(''),\n    }), [\n        money,\n        amount,\n        nameFormatter,\n        defaultFormatter,\n        narrowSymbolFormatter,\n        withoutCurrencyFormatter,\n        withoutTrailingZerosFormatter,\n        withoutTrailingZerosOrCurrencyFormatter,\n    ]);\n    // Call functions automatically when the properties are accessed\n    // to keep these functions as an implementation detail.\n    return useMemo(() => new Proxy(lazyFormatters, {\n        get: (target, key) => Reflect.get(target, key)?.call(null),\n    }), [lazyFormatters]);\n}\nfunction useLazyFormatter(locale, options) {\n    return useMemo(() => {\n        let memoized;\n        return () => (memoized ??= new Intl.NumberFormat(locale, options));\n    }, [locale, options]);\n}\n","import React from 'react';\nimport { useMoney } from '../../hooks/index.js';\n/**\n * The `Money` component renders a string of the Storefront API's\n * [MoneyV2 object](https://shopify.dev/api/storefront/reference/common-objects/moneyv2) according to the\n * `locale` in [the `LocalizationProvider` component](https://shopify.dev/api/hydrogen/components/localization/localizationprovider).\n */\nexport function Money({ data, as, withoutCurrency, withoutTrailingZeros, measurement, measurementSeparator = '/', ...passthroughProps }) {\n    if (!isMoney(data)) {\n        throw new Error(`<Money/> needs a valid 'data' prop that has 'amount' and 'currencyCode'`);\n    }\n    const moneyObject = useMoney(data);\n    const Wrapper = as ?? 'div';\n    let output = moneyObject.localizedString;\n    if (withoutCurrency || withoutTrailingZeros) {\n        if (withoutCurrency && !withoutTrailingZeros) {\n            output = moneyObject.amount;\n        }\n        else if (!withoutCurrency && withoutTrailingZeros) {\n            output = moneyObject.withoutTrailingZeros;\n        }\n        else {\n            // both\n            output = moneyObject.withoutTrailingZerosAndCurrency;\n        }\n    }\n    return (React.createElement(Wrapper, { ...passthroughProps },\n        output,\n        measurement && measurement.referenceUnit && (React.createElement(React.Fragment, null,\n            measurementSeparator,\n            measurement.referenceUnit))));\n}\n// required in order to narrow the money object down and make TS happy\nfunction isMoney(maybeMoney) {\n    return (typeof maybeMoney.amount === 'string' &&\n        !!maybeMoney.amount &&\n        typeof maybeMoney.currencyCode === 'string' &&\n        !!maybeMoney.currencyCode);\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/components/Money/Money.client.js?no-proxy';\n\nexport const Money = /* @__PURE__ */wrapInClientProxy({ name: 'Money', id: 'Money-LTU5MDY3NjM0Nw', value: allImports['Money'], isDefault: false });\n","import { createContext } from 'react';\nexport const CartLineContext = createContext(null);\n","import React from 'react';\nimport { CartLineContext } from './context.js';\n/**\n * The `CartLineProvider` component creates a context for using a cart line.\n */\nexport function CartLineProvider({ children, line, }) {\n    return (React.createElement(CartLineContext.Provider, { value: line }, children));\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/components/CartLineProvider/CartLineProvider.client.js?no-proxy';\n\nexport const CartLineProvider = /* @__PURE__ */wrapInClientProxy({ name: 'CartLineProvider', id: 'CartLineProvider-LTEzOTc3ODg5NTc', value: allImports['CartLineProvider'], isDefault: false });\n","import { useContext } from 'react';\nimport { CartLineContext } from '../../components/CartLineProvider/context.js';\n/**\n * The `useCartLine` hook provides access to the cart line object. It must be a descendent of a `CartProvider` component.\n */\nexport function useCartLine() {\n    const context = useContext(CartLineContext);\n    if (context == null) {\n        throw new Error('Expected a cart line context but none was found');\n    }\n    return context;\n}\n","import React from 'react';\nimport { useCartLine } from '../CartLineProvider/index.js';\nimport { Money } from '../Money/index.js';\n/**\n * The `CartLinePrice` component renders a `Money` component for the cart line merchandise's price or\n * compare at price. It must be a descendent of a `CartLineProvider` component.\n */\nexport function CartLinePrice(props) {\n    const cartLine = useCartLine();\n    const { priceType = 'regular', ...passthroughProps } = props;\n    const moneyV2 = priceType === 'regular'\n        ? cartLine.cost.totalAmount\n        : cartLine.cost.compareAtAmountPerQuantity;\n    if (moneyV2 == null) {\n        return null;\n    }\n    return React.createElement(Money, { ...passthroughProps, data: moneyV2 });\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/components/CartLinePrice/CartLinePrice.client.js?no-proxy';\n\nexport const CartLinePrice = /* @__PURE__ */wrapInClientProxy({ name: 'CartLinePrice', id: 'CartLinePrice-LTE2NTY0Mjg2MjU', value: allImports['CartLinePrice'], isDefault: false });\n","import React from 'react';\nimport { useCartLine } from '../CartLineProvider/index.js';\n/**\n * The `CartLineQuantity` component renders a `span` element (or the type of HTML element\n * specified by the `as` prop) with the cart line's quantity. It must be a descendent of a `CartLineProvider` component.\n */\nexport function CartLineQuantity(props) {\n    const cartLine = useCartLine();\n    const { as, ...passthroughProps } = props;\n    const Wrapper = as ? as : 'span';\n    return React.createElement(Wrapper, { ...passthroughProps }, cartLine.quantity);\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/components/CartLineQuantity/CartLineQuantity.client.js?no-proxy';\n\nexport const CartLineQuantity = /* @__PURE__ */wrapInClientProxy({ name: 'CartLineQuantity', id: 'CartLineQuantity-MTE0ODk0Mzcx', value: allImports['CartLineQuantity'], isDefault: false });\n","import React, { useCallback } from 'react';\nimport { useCart } from '../CartProvider/index.js';\nimport { useCartLine } from '../CartLineProvider/index.js';\nimport { BaseButton } from '../BaseButton/index.js';\n/**\n * The `CartLineQuantityAdjustButton` component renders a button that adjusts the cart line's quantity when pressed.\n * It must be a descendent of a `CartLineProvider` component.\n */\nexport function CartLineQuantityAdjustButton(props) {\n    const { status, linesRemove, linesUpdate } = useCart();\n    const cartLine = useCartLine();\n    const { children, adjust, onClick, ...passthroughProps } = props;\n    const handleAdjust = useCallback(() => {\n        if (adjust === 'remove') {\n            linesRemove([cartLine.id]);\n            return;\n        }\n        const quantity = adjust === 'decrease' ? cartLine.quantity - 1 : cartLine.quantity + 1;\n        if (quantity <= 0) {\n            linesRemove([cartLine.id]);\n            return;\n        }\n        linesUpdate([{ id: cartLine.id, quantity }]);\n    }, [adjust, cartLine.id, cartLine.quantity, linesRemove, linesUpdate]);\n    return (React.createElement(BaseButton, { disabled: status !== 'idle', onClick: onClick, defaultOnClick: handleAdjust, ...passthroughProps }, children));\n}\n","import React from 'react';\nimport { useShop } from '../../foundation/useShop/index.js';\nimport { useLoadScript } from '../../hooks/useLoadScript/useLoadScript.client.js';\nconst URL = 'https://cdn.shopify.com/shopifycloud/shop-js/v1.0/client.js';\n/**\n * The `ShopPayButton` component renders a button that redirects to the Shop Pay checkout.\n */\nexport function ShopPayButton({ variantIds, className, variantIdsAndQuantities, width, }) {\n    const { storeDomain } = useShop();\n    const shopPayLoadedStatus = useLoadScript(URL);\n    let ids;\n    if (variantIds && variantIdsAndQuantities) {\n        throw new Error(DoublePropsErrorMessage);\n    }\n    if (variantIds) {\n        ids = variantIds.reduce((prev, curr) => {\n            const bareId = getIdFromGid(curr);\n            if (bareId) {\n                prev.push(bareId);\n            }\n            return prev;\n        }, []);\n    }\n    else if (variantIdsAndQuantities) {\n        ids = variantIdsAndQuantities.reduce((prev, curr) => {\n            const bareId = getIdFromGid(curr?.id);\n            if (bareId) {\n                prev.push(`${bareId}:${curr?.quantity ?? 1}`);\n            }\n            return prev;\n        }, []);\n    }\n    else {\n        throw new Error(MissingPropsErrorMessage);\n    }\n    const style = width\n        ? {\n            '--shop-pay-button-width': width,\n        }\n        : undefined;\n    return (\n    /* eslint-disable jsx-a11y/no-noninteractive-tabindex */\n    React.createElement(\"div\", { className: className, tabIndex: 0, style: style }, shopPayLoadedStatus === 'done' && (React.createElement(\"shop-pay-button\", { \"store-url\": `https://${storeDomain}`, variants: ids.join(',') })))\n    /* eslint-enable jsx-a11y/no-noninteractive-tabindex */\n    );\n}\n/**\n * Takes a string in the format of \"gid://shopify/ProductVariant/41007289630776\" and returns a string of the ID part at the end: \"41007289630776\"\n */\nexport function getIdFromGid(id) {\n    if (!id)\n        return;\n    return id.split('/').pop();\n}\nexport const MissingPropsErrorMessage = `You must pass in either \"variantIds\" or \"variantIdsAndQuantities\" to ShopPayButton`;\nexport const DoublePropsErrorMessage = `You must provide either a variantIds or variantIdsAndQuantities prop, but not both in the ShopPayButton component`;\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/components/ShopPayButton/ShopPayButton.client.js?no-proxy';\n\nexport const ShopPayButton = /* @__PURE__ */wrapInClientProxy({ name: 'ShopPayButton', id: 'ShopPayButton-MTE1MDgyNjA2MQ', value: allImports['ShopPayButton'], isDefault: false });\nexport const getIdFromGid = /* @__PURE__ */wrapInClientProxy({ name: 'getIdFromGid', id: 'ShopPayButton-MTE1MDgyNjA2MQ', value: allImports['getIdFromGid'], isDefault: false });\nexport const MissingPropsErrorMessage = /* @__PURE__ */wrapInClientProxy({ name: 'MissingPropsErrorMessage', id: 'ShopPayButton-MTE1MDgyNjA2MQ', value: allImports['MissingPropsErrorMessage'], isDefault: false });\nexport const DoublePropsErrorMessage = /* @__PURE__ */wrapInClientProxy({ name: 'DoublePropsErrorMessage', id: 'ShopPayButton-MTE1MDgyNjA2MQ', value: allImports['DoublePropsErrorMessage'], isDefault: false });\n","import React, { useMemo } from 'react';\nimport { useCart } from '../CartProvider/index.js';\nimport { ShopPayButton } from '../ShopPayButton/index.js';\n/**\n * The `CartShopPayButton` component renders a `ShopPayButton` for the items in the cart.\n * It must be a descendent of a `CartProvider` component.\n */\nexport function CartShopPayButton(props) {\n    const { lines } = useCart();\n    const idsAndQuantities = useMemo(() => {\n        return lines.map((line) => ({\n            id: line.merchandise.id,\n            quantity: line.quantity,\n        }));\n    }, [lines]);\n    return (React.createElement(ShopPayButton, { variantIdsAndQuantities: idsAndQuantities, ...props }));\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/components/CartShopPayButton/CartShopPayButton.client.js?no-proxy';\n\nexport const CartShopPayButton = /* @__PURE__ */wrapInClientProxy({ name: 'CartShopPayButton', id: 'CartShopPayButton-NjU0ODY2Njk', value: allImports['CartShopPayButton'], isDefault: false });\n","export function getAllOptionValues(variants, option) {\n    return Array.from(new Set(variants.map((variant) => variant.selectedOptions.find((selection) => selection.name == option)\n        .value)));\n}\nexport function getSelectedVariant(variants, choices) {\n    /**\n     * Ensure the user has selected all the required options, not just some.\n     */\n    if (!variants.length ||\n        variants?.[0]?.selectedOptions?.length !== Object.keys(choices).length) {\n        return;\n    }\n    return variants?.find((variant) => {\n        return Object.entries(choices).every(([name, value]) => {\n            return variant?.selectedOptions?.some((option) => option?.name === name && option?.value === value);\n        });\n    });\n}\nexport function getOptions(variants) {\n    const map = variants.reduce((memo, variant) => {\n        if (!variant.selectedOptions) {\n            throw new Error(`'getOptions' requires 'variant.selectedOptions'`);\n        }\n        variant?.selectedOptions?.forEach((opt) => {\n            memo[opt?.name ?? ''] = memo[opt?.name ?? ''] || new Set();\n            memo[opt?.name ?? ''].add(opt?.value ?? '');\n        });\n        return memo;\n    }, {});\n    return Object.keys(map).map((option) => {\n        return {\n            name: option,\n            values: Array.from(map[option]),\n        };\n    });\n}\n","import React, { useMemo, useState, useEffect, useCallback } from 'react';\nimport { ProductOptionsContext } from './context.js';\nimport { getSelectedVariant, getOptions, } from '../../hooks/useProductOptions/helpers.js';\nimport { flattenConnection } from '../../utilities/flattenConnection/index.js';\nexport function ProductOptionsProvider({ children, data: product, initialVariantId: explicitVariantId, }) {\n    // The flattened variants\n    const variants = useMemo(() => flattenConnection(product.variants ?? {}), [product.variants]);\n    if (!isProductVariantArray(variants)) {\n        throw new Error(`<ProductOptionsProvider/> requires 'product.variants.nodes' or 'product.variants.edges'`);\n    }\n    // All the options available for a product, based on all the variants\n    const options = useMemo(() => getOptions(variants), [variants]);\n    /**\n     * Track the selectedVariant within the provider.\n     */\n    const [selectedVariant, setSelectedVariant] = useState(() => getVariantBasedOnIdProp(explicitVariantId, variants));\n    /**\n     * Track the selectedOptions within the provider. If a `initialVariantId`\n     * is passed, use that to select initial options.\n     */\n    const [selectedOptions, setSelectedOptions] = useState(() => getSelectedOptions(selectedVariant));\n    /**\n     * When the initialVariantId changes, we need to make sure we\n     * update the selected variant and selected options. If not,\n     * then the selected variant and options will reference incorrect\n     * values.\n     */\n    useEffect(() => {\n        const newSelectedVariant = getVariantBasedOnIdProp(explicitVariantId, variants);\n        setSelectedVariant(newSelectedVariant);\n        setSelectedOptions(getSelectedOptions(newSelectedVariant));\n    }, [explicitVariantId, variants]);\n    /**\n     * Allow the developer to select an option.\n     */\n    const setSelectedOption = useCallback((name, value) => {\n        setSelectedOptions((selectedOptions) => {\n            const opts = { ...selectedOptions, [name]: value };\n            setSelectedVariant(getSelectedVariant(variants, opts));\n            return opts;\n        });\n    }, [setSelectedOptions, variants]);\n    const isOptionInStock = useCallback((option, value) => {\n        const proposedVariant = getSelectedVariant(variants, {\n            ...selectedOptions,\n            ...{ [option]: value },\n        });\n        return proposedVariant?.availableForSale ?? true;\n    }, [selectedOptions, variants]);\n    const sellingPlanGroups = useMemo(() => flattenConnection(product.sellingPlanGroups ?? {}).map((sellingPlanGroup) => ({\n        ...sellingPlanGroup,\n        sellingPlans: flattenConnection(sellingPlanGroup?.sellingPlans ?? {}),\n    })), [product.sellingPlanGroups]);\n    /**\n     * Track the selectedSellingPlan within the hook. If `initialSellingPlanId`\n     * is passed, use that as an initial value. Look it up from the `selectedVariant`, since\n     * that is also a requirement.\n     */\n    const [selectedSellingPlan, setSelectedSellingPlan] = useState(undefined);\n    const selectedSellingPlanAllocation = useMemo(() => {\n        if (!selectedVariant || !selectedSellingPlan) {\n            return;\n        }\n        if (!selectedVariant.sellingPlanAllocations?.nodes &&\n            !selectedVariant.sellingPlanAllocations?.edges) {\n            throw new Error(`<ProductOptionsProvider/>: You must include 'sellingPlanAllocations.nodes' or 'sellingPlanAllocations.edges' in your variants in order to calculate selectedSellingPlanAllocation`);\n        }\n        return flattenConnection(selectedVariant.sellingPlanAllocations).find((allocation) => allocation?.sellingPlan?.id === selectedSellingPlan.id);\n    }, [selectedVariant, selectedSellingPlan]);\n    const value = useMemo(() => ({\n        variants,\n        variantsConnection: product.variants,\n        options,\n        selectedVariant,\n        setSelectedVariant,\n        selectedOptions,\n        setSelectedOption,\n        setSelectedOptions,\n        isOptionInStock,\n        selectedSellingPlan,\n        setSelectedSellingPlan,\n        selectedSellingPlanAllocation,\n        sellingPlanGroups,\n        sellingPlanGroupsConnection: product.sellingPlanGroups,\n    }), [\n        isOptionInStock,\n        options,\n        product.sellingPlanGroups,\n        product.variants,\n        selectedOptions,\n        selectedSellingPlan,\n        selectedSellingPlanAllocation,\n        selectedVariant,\n        sellingPlanGroups,\n        setSelectedOption,\n        variants,\n    ]);\n    return (React.createElement(ProductOptionsContext.Provider, { value: value }, children));\n}\nfunction getVariantBasedOnIdProp(explicitVariantId, variants) {\n    // get the initial variant based on the logic outlined in the comments for 'initialVariantId' above\n    // * 1. If `initialVariantId` is provided, then it's used even if it's out of stock.\n    if (explicitVariantId) {\n        const foundVariant = variants.find((variant) => variant?.id === explicitVariantId);\n        if (!foundVariant) {\n            console.warn(`<ProductOptionsProvider/> received a 'initialVariantId' prop, but could not actually find a variant with that ID`);\n        }\n        return foundVariant;\n    }\n    // * 2. If `initialVariantId` is provided but is `null`, then no variant is used.\n    if (explicitVariantId === null) {\n        return null;\n    }\n    // * 3. If nothing is passed to `initialVariantId` then the first available / in-stock variant is used.\n    // * 4. If nothing is passed to `initialVariantId` and no variants are in stock, then the first variant is used.\n    if (explicitVariantId === undefined) {\n        return variants.find((variant) => variant?.availableForSale) || variants[0];\n    }\n}\nfunction getSelectedOptions(selectedVariant) {\n    return selectedVariant?.selectedOptions\n        ? selectedVariant.selectedOptions.reduce((memo, optionSet) => {\n            memo[optionSet?.name ?? ''] = optionSet?.value ?? '';\n            return memo;\n        }, {})\n        : {};\n}\nfunction isProductVariantArray(maybeVariantArray) {\n    if (!maybeVariantArray || !Array.isArray(maybeVariantArray)) {\n        return false;\n    }\n    return true;\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/components/ProductOptionsProvider/ProductOptionsProvider.client.js?no-proxy';\n\nexport const ProductOptionsProvider = /* @__PURE__ */wrapInClientProxy({ name: 'ProductOptionsProvider', id: 'ProductOptionsProvider-LTEyMTE1MDE1NjU', value: allImports['ProductOptionsProvider'], isDefault: false });\n","import React from 'react';\nimport { Helmet, HelmetData as HeadData, } from 'react-helmet-async';\nimport { useEnvContext } from '../ssr-interop.js';\nconst clientHeadData = new HeadData({});\nexport function Head({ children, ...props }) {\n    const headData = useEnvContext((req) => req.ctx.head, clientHeadData);\n    return (\n    // @ts-ignore\n    React.createElement(Helmet, { ...props, helmetData: headData }, children));\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/foundation/Head/Head.client.js?no-proxy';\n\nexport const Head = /* @__PURE__ */wrapInClientProxy({ name: 'Head', id: 'Head-MjM0NTYyMDE2', value: allImports['Head'], isDefault: false });\n","import React from 'react';\nimport { Head } from '../../foundation/Head/index.js';\nexport function TitleSeo({ title }) {\n    if (!title) {\n        return null;\n    }\n    return (React.createElement(Head, null,\n        React.createElement(\"title\", null, title),\n        React.createElement(\"meta\", { property: \"og:title\", content: title })));\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/components/Seo/TitleSeo.client.js?no-proxy';\n\nexport const TitleSeo = /* @__PURE__ */wrapInClientProxy({ name: 'TitleSeo', id: 'TitleSeo-LTkyNzQxMTk2OQ', value: allImports['TitleSeo'], isDefault: false });\n","import React from 'react';\nimport { Head } from '../../foundation/Head/index.js';\nexport function DescriptionSeo({ description, }) {\n    if (!description) {\n        return null;\n    }\n    return (React.createElement(Head, null,\n        React.createElement(\"meta\", { name: \"description\", content: description }),\n        React.createElement(\"meta\", { property: \"og:description\", content: description })));\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/components/Seo/DescriptionSeo.client.js?no-proxy';\n\nexport const DescriptionSeo = /* @__PURE__ */wrapInClientProxy({ name: 'DescriptionSeo', id: 'DescriptionSeo-NDEyNzczNTk1', value: allImports['DescriptionSeo'], isDefault: false });\n","import React from 'react';\nimport { Head } from '../../foundation/Head/index.js';\nexport function TwitterSeo({ site, title, description }) {\n    return (React.createElement(Head, null,\n        React.createElement(\"meta\", { name: \"twitter:card\", content: \"summary_large_image\" }),\n        site && React.createElement(\"meta\", { name: \"twitter:site\", content: site }),\n        title && React.createElement(\"meta\", { name: \"twitter:title\", content: title }),\n        description && React.createElement(\"meta\", { name: \"twitter:description\", content: description })));\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/components/Seo/TwitterSeo.client.js?no-proxy';\n\nexport const TwitterSeo = /* @__PURE__ */wrapInClientProxy({ name: 'TwitterSeo', id: 'TwitterSeo-MTkxNTAxODY5Mg', value: allImports['TwitterSeo'], isDefault: false });\n","import React from 'react';\nimport { Head } from '../../foundation/Head/index.js';\nimport { useLocalization } from '../../hooks/useLocalization/useLocalization.js';\nimport { TitleSeo } from './TitleSeo.client.js';\nimport { DescriptionSeo } from './DescriptionSeo.client.js';\nimport { TwitterSeo } from './TwitterSeo.client.js';\nexport function DefaultPageSeo({ title, description, url, titleTemplate, lang, }) {\n    const { language: { isoCode: fallBacklang }, } = useLocalization();\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Head, { defaultTitle: title ?? '', titleTemplate: titleTemplate ?? `%s - ${title}` },\n            React.createElement(\"html\", { lang: lang ?? fallBacklang }),\n            React.createElement(\"meta\", { property: \"og:type\", content: \"website\" }),\n            React.createElement(\"meta\", { property: \"og:site_name\", content: title ?? '' }),\n            React.createElement(\"meta\", { property: \"og:url\", content: url })),\n        React.createElement(TitleSeo, { title: title }),\n        React.createElement(DescriptionSeo, { description: description }),\n        React.createElement(TwitterSeo, { title: title, description: description })));\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/components/Seo/DefaultPageSeo.client.js?no-proxy';\n\nexport const DefaultPageSeo = /* @__PURE__ */wrapInClientProxy({ name: 'DefaultPageSeo', id: 'DefaultPageSeo-OTUxMTAxNjcx', value: allImports['DefaultPageSeo'], isDefault: false });\n","import React from 'react';\nimport { Head } from '../../foundation/Head/index.js';\nimport { TitleSeo } from './TitleSeo.client.js';\nimport { DescriptionSeo } from './DescriptionSeo.client.js';\nexport function HomePageSeo({ title, description, url, titleTemplate, }) {\n    const organizationSchema = {\n        '@context': 'http://schema.org',\n        '@type': 'Organization',\n        name: title,\n        url,\n    };\n    const webSiteSchema = {\n        '@context': 'http://schema.org',\n        '@type': 'WebSite',\n        name: title,\n        url,\n    };\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Head, { defaultTitle: title ?? '', titleTemplate: titleTemplate ?? `%s` },\n            React.createElement(\"meta\", { property: \"og:url\", content: url }),\n            React.createElement(\"script\", { type: \"application/ld+json\" }, JSON.stringify(organizationSchema)),\n            React.createElement(\"script\", { type: \"application/ld+json\" }, JSON.stringify(webSiteSchema))),\n        React.createElement(TitleSeo, { title: title }),\n        description && React.createElement(DescriptionSeo, { description: description })));\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/components/Seo/HomePageSeo.client.js?no-proxy';\n\nexport const HomePageSeo = /* @__PURE__ */wrapInClientProxy({ name: 'HomePageSeo', id: 'HomePageSeo-LTk4NDQwMTc3NQ', value: allImports['HomePageSeo'], isDefault: false });\n","import React from 'react';\nimport { Head } from '../../foundation/Head/index.js';\nexport function ImageSeo({ url, width, height, altText }) {\n    return (React.createElement(Head, null,\n        url && React.createElement(\"meta\", { property: \"og:image\", content: url }),\n        url && React.createElement(\"meta\", { property: \"og:image:secure_url\", content: url }),\n        width && React.createElement(\"meta\", { property: \"og:image:width\", content: `${width}` }),\n        height && React.createElement(\"meta\", { property: \"og:image:height\", content: `${height}` }),\n        altText && React.createElement(\"meta\", { property: \"og:image:alt\", content: altText })));\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/components/Seo/ImageSeo.client.js?no-proxy';\n\nexport const ImageSeo = /* @__PURE__ */wrapInClientProxy({ name: 'ImageSeo', id: 'ImageSeo-NDM2MTQzODM2', value: allImports['ImageSeo'], isDefault: false });\n","import React from 'react';\nimport { Head } from '../../foundation/Head/index.js';\nimport { TitleSeo } from './TitleSeo.client.js';\nimport { DescriptionSeo } from './DescriptionSeo.client.js';\nimport { TwitterSeo } from './TwitterSeo.client.js';\nimport { ImageSeo } from './ImageSeo.client.js';\nimport { flattenConnection } from '../../utilities/flattenConnection/index.js';\nexport function ProductSeo({ url, title, description, seo, vendor, featuredImage, variants, }) {\n    const seoTitle = seo?.title ?? title;\n    const seoDescription = seo?.description ?? description;\n    let firstVariantPrice;\n    const productSchema = {\n        '@context': 'http://schema.org/',\n        '@type': 'Product',\n        name: title,\n        description,\n        brand: {\n            '@type': 'Thing',\n            name: vendor,\n        },\n        url,\n    };\n    if (featuredImage) {\n        productSchema.image = featuredImage.url;\n    }\n    const flattenedVariants = flattenConnection(variants ?? {});\n    if (flattenedVariants.length) {\n        const firstVariant = flattenedVariants[0];\n        firstVariantPrice = firstVariant?.priceV2;\n        if (firstVariant && firstVariant.sku) {\n            productSchema.sku = firstVariant.sku;\n        }\n        productSchema.offers = flattenedVariants.map((node) => {\n            if (!node || !node.priceV2?.amount || !node.priceV2.currencyCode) {\n                throw new Error(`<ProductSeo/> requires variant.PriceV2 'amount' and 'currency`);\n            }\n            const offerSchema = {\n                '@type': 'Offer',\n                availability: `https://schema.org/${node.availableForSale ? 'InStock' : 'OutOfStock'}`,\n                price: node.priceV2.amount,\n                priceCurrency: node.priceV2.currencyCode,\n            };\n            if (node.sku) {\n                offerSchema.sku = node.sku;\n            }\n            if (node.image && node.image.url) {\n                offerSchema.image = node.image.url;\n            }\n            return offerSchema;\n        });\n    }\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Head, null,\n            React.createElement(\"meta\", { property: \"og:type\", content: \"og:product\" }),\n            firstVariantPrice && (React.createElement(\"meta\", { property: \"og:price:amount\", content: `${firstVariantPrice.amount}` })),\n            firstVariantPrice && (React.createElement(\"meta\", { property: \"og:price:currency\", content: firstVariantPrice.currencyCode })),\n            React.createElement(\"script\", { type: \"application/ld+json\" }, JSON.stringify(productSchema))),\n        React.createElement(TitleSeo, { title: seoTitle }),\n        React.createElement(DescriptionSeo, { description: seoDescription }),\n        React.createElement(TwitterSeo, { title: seoTitle, description: seoDescription }),\n        featuredImage && React.createElement(ImageSeo, { ...featuredImage })));\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/components/Seo/ProductSeo.client.js?no-proxy';\n\nexport const ProductSeo = /* @__PURE__ */wrapInClientProxy({ name: 'ProductSeo', id: 'ProductSeo-MTM3MDMzNDQwOA', value: allImports['ProductSeo'], isDefault: false });\n","import React from 'react';\nimport { TitleSeo } from './TitleSeo.client.js';\nimport { DescriptionSeo } from './DescriptionSeo.client.js';\nimport { TwitterSeo } from './TwitterSeo.client.js';\nimport { ImageSeo } from './ImageSeo.client.js';\nexport function CollectionSeo({ title, description, seo, image, }) {\n    const seoTitle = seo?.title ?? title;\n    const seoDescription = seo?.description ?? description;\n    return (React.createElement(React.Fragment, null,\n        React.createElement(TitleSeo, { title: seoTitle }),\n        React.createElement(DescriptionSeo, { description: seoDescription }),\n        React.createElement(TwitterSeo, { title: seoTitle, description: seoDescription }),\n        image && React.createElement(ImageSeo, { ...image })));\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/components/Seo/CollectionSeo.client.js?no-proxy';\n\nexport const CollectionSeo = /* @__PURE__ */wrapInClientProxy({ name: 'CollectionSeo', id: 'CollectionSeo-LTI1ODY4Nzk', value: allImports['CollectionSeo'], isDefault: false });\n","import React from 'react';\nimport { TitleSeo } from './TitleSeo.client.js';\nimport { DescriptionSeo } from './DescriptionSeo.client.js';\nimport { TwitterSeo } from './TwitterSeo.client.js';\nexport function PageSeo({ title, seo }) {\n    const seoTitle = seo?.title ?? title;\n    const seoDescription = seo?.description;\n    return (React.createElement(React.Fragment, null,\n        React.createElement(TitleSeo, { title: seoTitle }),\n        React.createElement(DescriptionSeo, { description: seoDescription }),\n        React.createElement(TwitterSeo, { title: seoTitle, description: seoDescription })));\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/components/Seo/PageSeo.client.js?no-proxy';\n\nexport const PageSeo = /* @__PURE__ */wrapInClientProxy({ name: 'PageSeo', id: 'PageSeo-LTM1MDYxMjA0OA', value: allImports['PageSeo'], isDefault: false });\n","import React from 'react';\nimport { useLocalization } from '../../hooks/useLocalization/useLocalization.js';\nimport { Head } from '../../foundation/Head/Head.client.js';\nexport function NoIndexPageSeo({ title, titleTemplate, lang, }) {\n    const { language: { isoCode: fallBacklang }, } = useLocalization();\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Head, { defaultTitle: title ?? '', titleTemplate: titleTemplate ?? `%s - ${title}` },\n            React.createElement(\"html\", { lang: lang ?? fallBacklang }),\n            React.createElement(\"meta\", { name: \"robots\", content: \"noindex\" }))));\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/components/Seo/NoIndexSeo.client.js?no-proxy';\n\nexport const NoIndexPageSeo = /* @__PURE__ */wrapInClientProxy({ name: 'NoIndexPageSeo', id: 'NoIndexSeo-MTM5MDY4NTU0Mg', value: allImports['NoIndexPageSeo'], isDefault: false });\n","import React from 'react';\nimport { useUrl } from '../../foundation/useUrl/index.js';\nimport { DefaultPageSeo } from './DefaultPageSeo.client.js';\nimport { HomePageSeo } from './HomePageSeo.client.js';\nimport { ProductSeo } from './ProductSeo.client.js';\nimport { CollectionSeo } from './CollectionSeo.client.js';\nimport { PageSeo } from './PageSeo.client.js';\nimport { NoIndexPageSeo } from './NoIndexSeo.client.js';\n/**\n * The `Seo` component renders SEO information on a webpage.\n */\nexport function Seo(props) {\n    const url = useUrl().href;\n    switch (props.type) {\n        case 'defaultSeo':\n            return React.createElement(DefaultPageSeo, { ...{ url, ...props.data } });\n        case 'homepage':\n            return React.createElement(HomePageSeo, { ...{ url, ...props.data } });\n        case 'product':\n            return React.createElement(ProductSeo, { ...{ url, ...props.data } });\n        case 'collection':\n            return React.createElement(CollectionSeo, { ...props.data });\n        case 'page':\n            return React.createElement(PageSeo, { ...props.data });\n        case 'noindex':\n            return React.createElement(NoIndexPageSeo, { ...props.data });\n        default:\n            console.warn('The <Seo/> only accepts type prop with values of defaultSeo, homepage, product, collection, or page.');\n            return null;\n    }\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/components/Seo/Seo.client.js?no-proxy';\n\nexport const Seo = /* @__PURE__ */wrapInClientProxy({ name: 'Seo', id: 'Seo-LTY0MjY0MzQ1Nw', value: allImports['Seo'], isDefault: false });\n","export const gql = (s, ...args) => s\n    .map((ss, i) => `${ss}${args[i] || ''}`)\n    .join('')\n    .replace(/\\s+#.*$/gm, '') // Remove GQL comments\n    .replace(/\\s+/gm, ' ') // Minify spaces\n    .trim();\n","import { useEnvContext } from '../ssr-interop.js';\nimport { RouteParamsContext } from './RouteParamsProvider.client.js';\n/**\n *  The `useRouteParams` hook retrieves the parameters of an active route. The hook is available in both server and client components.\n */\nexport function useRouteParams() {\n    const router = useEnvContext((req) => req.ctx.router, RouteParamsContext);\n    return router.routeParams;\n}\n","import { parseJSON } from '../../utilities/parse.js';\nimport { log } from '../../utilities/log/index.js';\nexport class ResponseSync extends Response {\n    bodyUsed = true;\n    #text;\n    #json;\n    url;\n    constructor(init) {\n        super(init[0], init[1]);\n        this.#text = init[0];\n        this.url = init[2];\n    }\n    // @ts-expect-error Changing inherited types\n    text() {\n        return this.#text;\n    }\n    json() {\n        try {\n            return (this.#json ??= parseJSON(this.#text));\n        }\n        catch (e) {\n            if (!this.ok) {\n                throw new Error(`Request to ${this.url} failed with ${this.status} and the response body is not parseable.\\nMake sure to handle the error state when using fetchSync.`);\n            }\n            else\n                throw e;\n        }\n    }\n    /**\n     * @deprecated Access response properties at the top level instead.\n     */\n    get response() {\n        if (__HYDROGEN_DEV__) {\n            log.warn(`Property 'response' is deprecated from the result of 'fetchSync'.` +\n                ` Access response properties at the top level instead.`);\n        }\n        return this;\n    }\n    static async toSerializable(response) {\n        return [\n            await response.text(),\n            {\n                status: response.status,\n                statusText: response.statusText,\n                headers: Array.from(response.headers.entries()),\n            },\n            response.url,\n        ];\n    }\n}\n","import { useEffect } from 'react';\nimport { loadScript } from '../../../../utilities/load_script.js';\nimport { ClientAnalytics } from '../../ClientAnalytics.js';\nimport { useShop } from '../../../useShop/index.js';\nconst URL = 'https://cdn.shopify.com/shopifycloud/boomerang/shopify-boomerang-hydrogen.min.js';\nexport function PerformanceMetrics() {\n    const { storeDomain } = useShop();\n    useEffect(() => {\n        try {\n            (function () {\n                if (window.BOOMR &&\n                    (window.BOOMR.version || window.BOOMR.snippetExecuted)) {\n                    return;\n                }\n                // Executes only on first mount\n                window.BOOMR = window.BOOMR || {};\n                window.BOOMR.hydrogenPerformanceEvent = (data) => {\n                    const initTime = new Date().getTime();\n                    ClientAnalytics.publish(ClientAnalytics.eventNames.PERFORMANCE, true, data);\n                    const pageData = ClientAnalytics.getPageAnalyticsData();\n                    const shopId = pageData.shopify?.shopId;\n                    fetch('https://monorail-edge.shopifysvc.com/v1/produce', {\n                        method: 'post',\n                        headers: {\n                            'content-type': 'text/plain',\n                        },\n                        body: JSON.stringify({\n                            schema_id: 'hydrogen_buyer_performance/2.0',\n                            payload: {\n                                ...data,\n                                shop_id: shopId\n                                    ? shopId.substring(shopId.lastIndexOf('/') + 1)\n                                    : '',\n                            },\n                            metadata: {\n                                event_created_at_ms: initTime,\n                                event_sent_at_ms: new Date().getTime(),\n                            },\n                        }),\n                    });\n                };\n                window.BOOMR.storeDomain = storeDomain;\n                function boomerangSaveLoadTime(e) {\n                    window.BOOMR_onload = (e && e.timeStamp) || Date.now();\n                }\n                // @ts-ignore\n                function boomerangInit(e) {\n                    e.detail.BOOMR.init();\n                    e.detail.BOOMR.t_end = Date.now();\n                }\n                if (window.addEventListener) {\n                    window.addEventListener('load', boomerangSaveLoadTime, false);\n                    // @ts-ignore\n                }\n                else if (window.attachEvent) {\n                    // @ts-ignore\n                    window.attachEvent('onload', boomerangSaveLoadTime);\n                }\n                if (document.addEventListener) {\n                    document.addEventListener('onBoomerangLoaded', boomerangInit);\n                    // @ts-ignore\n                }\n                else if (document.attachEvent) {\n                    // @ts-ignore\n                    document.attachEvent('onpropertychange', function (e) {\n                        if (!e)\n                            e = event;\n                        if (e.propertyName === 'onBoomerangLoaded')\n                            boomerangInit(e);\n                    });\n                }\n            })();\n            loadScript(URL).catch(() => {\n                // ignore if boomerang doesn't load\n                // most likely because of an ad blocker\n            });\n        }\n        catch (err) {\n            // Do nothing\n        }\n    }, [storeDomain]);\n    return null;\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/foundation/Analytics/connectors/PerformanceMetrics/PerformanceMetrics.client.js?no-proxy';\n\nexport const PerformanceMetrics = /* @__PURE__ */wrapInClientProxy({ name: 'PerformanceMetrics', id: 'PerformanceMetrics-MjU0MjQ5NzIy', value: allImports['PerformanceMetrics'], isDefault: false });\n","import { getCache } from '../runtime.js';\nimport { hashKey } from '../../utilities/hash.js';\nimport * as CacheApi from './cache.js';\nimport { CacheShort } from './strategies/index.js';\n/**\n * Wrapper Cache functions for sub queries\n */\n/**\n * Cache API is weird. We just need a full URL, so we make one up.\n */\nfunction getKeyUrl(key) {\n    return `https://shopify.dev/?${key}`;\n}\nfunction getCacheOption(userCacheOptions) {\n    return userCacheOptions || CacheShort();\n}\nexport function generateSubRequestCacheControlHeader(userCacheOptions) {\n    return CacheApi.generateDefaultCacheControlHeader(getCacheOption(userCacheOptions));\n}\n/**\n * Get an item from the cache. If a match is found, returns a tuple\n * containing the `JSON.parse` version of the response as well\n * as the response itself so it can be checked for staleness.\n */\nexport async function getItemFromCache(key) {\n    const cache = getCache();\n    if (!cache) {\n        return;\n    }\n    const url = getKeyUrl(hashKey(key));\n    const request = new Request(url);\n    const response = await CacheApi.getItemFromCache(request);\n    if (!response) {\n        return;\n    }\n    return [await response.json(), response];\n}\n/**\n * Put an item into the cache.\n */\nexport async function setItemInCache(key, value, userCacheOptions) {\n    const cache = getCache();\n    if (!cache) {\n        return;\n    }\n    const url = getKeyUrl(hashKey(key));\n    const request = new Request(url);\n    const response = new Response(JSON.stringify(value));\n    await CacheApi.setItemInCache(request, response, getCacheOption(userCacheOptions));\n}\nexport async function deleteItemFromCache(key) {\n    const cache = getCache();\n    if (!cache)\n        return;\n    const url = getKeyUrl(hashKey(key));\n    const request = new Request(url);\n    await CacheApi.deleteItemFromCache(request);\n}\n/**\n * Manually check the response to see if it's stale.\n */\nexport function isStale(key, response) {\n    return CacheApi.isStale(new Request(getKeyUrl(hashKey(key))), response);\n}\n","import { getLoggerWithContext, collectQueryCacheControlHeaders, collectQueryTimings, } from '../../utilities/log/index.js';\nimport { deleteItemFromCache, generateSubRequestCacheControlHeader, getItemFromCache, isStale, setItemInCache, } from '../Cache/cache-sub-request.js';\nimport { useRequestCacheData, useServerRequest, } from '../ServerRequestProvider/index.js';\nimport { CacheShort, NO_STORE } from '../Cache/strategies/index.js';\n/**\n * The `useQuery` hook executes an asynchronous operation like `fetch` in a way that\n * supports [Suspense](https://reactjs.org/docs/concurrent-mode-suspense.html). You can use this\n * hook to call any third-party APIs from a server component.\n *\n * \\> Note:\n * \\> If you're making a simple fetch call on the server, then we recommend using the [`fetchSync`](https://shopify.dev/api/hydrogen/hooks/global/fetchsync) hook instead.\n */\nexport function useQuery(\n/** A string or array to uniquely identify the current query. */\nkey, \n/** An asynchronous query function like `fetch` which returns data. */\nqueryFn, \n/** The options to manage the cache behavior of the sub-request. */\nqueryOptions) {\n    const request = useServerRequest();\n    const withCacheIdKey = [\n        __HYDROGEN_CACHE_ID__,\n        ...(typeof key === 'string' ? [key] : key),\n    ];\n    const fetcher = cachedQueryFnBuilder(withCacheIdKey, queryFn, queryOptions);\n    collectQueryTimings(request, withCacheIdKey, 'requested');\n    if (shouldPreloadQuery(queryOptions)) {\n        request.savePreloadQuery({\n            preload: queryOptions?.preload,\n            key: withCacheIdKey,\n            fetcher,\n        });\n    }\n    return useRequestCacheData(withCacheIdKey, fetcher);\n}\nexport function shouldPreloadQuery(queryOptions) {\n    if (!queryOptions)\n        return true;\n    const hasCacheOverride = typeof queryOptions?.cache?.mode !== 'undefined';\n    const hasPreloadOverride = typeof queryOptions?.preload !== 'undefined';\n    const cacheValue = queryOptions?.cache?.mode;\n    const preloadValue = queryOptions?.preload;\n    // If preload is explicitly defined, then it takes precedence\n    if (hasPreloadOverride) {\n        return !!preloadValue;\n    }\n    return hasCacheOverride ? cacheValue !== NO_STORE : true;\n}\nfunction cachedQueryFnBuilder(key, generateNewOutput, queryOptions) {\n    const resolvedQueryOptions = {\n        ...(queryOptions ?? {}),\n    };\n    const shouldCacheResponse = queryOptions?.shouldCacheResponse ?? (() => true);\n    /**\n     * Attempt to read the query from cache. If it doesn't exist or if it's stale, regenerate it.\n     */\n    async function useCachedQueryFn(request) {\n        const log = getLoggerWithContext(request);\n        const cacheResponse = await getItemFromCache(key);\n        if (cacheResponse) {\n            const [output, response] = cacheResponse;\n            collectQueryCacheControlHeaders(request, key, response.headers.get('cache-control'));\n            /**\n             * Important: Do this async\n             */\n            if (isStale(key, response)) {\n                const lockKey = ['lock', ...(typeof key === 'string' ? [key] : key)];\n                // Run revalidation asynchronously\n                const revalidatingPromise = getItemFromCache(lockKey).then(async (lockExists) => {\n                    if (lockExists)\n                        return;\n                    await setItemInCache(lockKey, true, CacheShort({\n                        maxAge: 10,\n                    }));\n                    try {\n                        const output = await generateNewOutput();\n                        if (shouldCacheResponse(output)) {\n                            await setItemInCache(key, output, resolvedQueryOptions?.cache);\n                        }\n                    }\n                    catch (e) {\n                        log.error(`Error generating async response: ${e.message}`);\n                    }\n                    finally {\n                        await deleteItemFromCache(lockKey);\n                    }\n                });\n                // Asynchronously wait for it in workers\n                request.ctx.runtime?.waitUntil?.(revalidatingPromise);\n            }\n            return output;\n        }\n        const newOutput = await generateNewOutput();\n        /**\n         * Important: Do this async\n         */\n        if (shouldCacheResponse(newOutput)) {\n            const setItemInCachePromise = setItemInCache(key, newOutput, resolvedQueryOptions?.cache);\n            request.ctx.runtime?.waitUntil?.(setItemInCachePromise);\n        }\n        collectQueryCacheControlHeaders(request, key, generateSubRequestCacheControlHeader(resolvedQueryOptions?.cache));\n        return newOutput;\n    }\n    return useCachedQueryFn;\n}\n","import { useQuery } from '../../useQuery/index.js';\nimport { useUrl } from '../../useUrl/index.js';\nimport { ResponseSync } from '../ResponseSync.js';\n/**\n * The `fetchSync` hook makes API requests and is the recommended way to make simple fetch calls on the server and the client.\n * It's designed similar to the [Web API's `fetch`](https://developer.mozilla.org/en-US/docs/Web/API/fetch), only in a way\n * that supports [Suspense](https://reactjs.org/docs/concurrent-mode-suspense.html).\n */\nexport function fetchSync(url, options) {\n    const { cache, preload, shouldCacheResponse, ...requestInit } = options ?? {};\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const { origin } = useUrl();\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const { data, error } = useQuery([url, requestInit], async () => {\n        const response = await globalThis.fetch(new URL(url, origin), requestInit);\n        return ResponseSync.toSerializable(response);\n    }, {\n        cache,\n        preload,\n        shouldCacheResponse,\n    });\n    if (error) {\n        throw error;\n    }\n    return new ResponseSync(data);\n}\n","import { useShop } from '../../foundation/useShop/index.js';\nimport { getLoggerWithContext } from '../../utilities/log/index.js';\nimport { graphqlRequestBody } from '../../utilities/index.js';\nimport { useServerRequest } from '../../foundation/ServerRequestProvider/index.js';\nimport { injectGraphQLTracker } from '../../utilities/graphql-tracker.js';\nimport { sendMessageToClient } from '../../utilities/devtools.js';\nimport { fetchSync } from '../../foundation/fetchSync/server/fetchSync.js';\nimport { META_ENV_SSR } from '../../foundation/ssr-interop.js';\nimport { getStorefrontApiRequestHeaders } from '../../utilities/storefrontApi.js';\nimport { parseJSON } from '../../utilities/parse.js';\n// Check if the response body has GraphQL errors\n// https://spec.graphql.org/June2018/#sec-Response-Format\nconst shouldCacheResponse = ([body]) => {\n    try {\n        return !parseJSON(body)?.errors;\n    }\n    catch {\n        // If we can't parse the response, then assume\n        // an error and don't cache the response\n        return false;\n    }\n};\n/**\n * The `useShopQuery` hook allows you to make server-only GraphQL queries to the Storefront API. It must be a descendent of a `ShopifyProvider` component.\n */\nexport function useShopQuery({ query, variables = {}, cache, preload = false, }) {\n    /**\n     * If no query is passed, we no-op here to allow developers to obey the Rules of Hooks.\n     */\n    if (!query) {\n        return { data: undefined, errors: undefined };\n    }\n    if (!META_ENV_SSR) {\n        throw new Error('Shopify Storefront API requests should only be made from the server.');\n    }\n    const serverRequest = useServerRequest(); // eslint-disable-line react-hooks/rules-of-hooks\n    const log = getLoggerWithContext(serverRequest);\n    const body = query ? graphqlRequestBody(query, variables) : '';\n    const { url, requestInit } = useCreateShopRequest(body); // eslint-disable-line react-hooks/rules-of-hooks\n    let text;\n    let data;\n    let useQueryError;\n    let response = null;\n    try {\n        response = fetchSync(url, {\n            ...requestInit,\n            cache,\n            preload,\n            shouldCacheResponse,\n        });\n        text = response.text();\n        try {\n            data = response.json();\n        }\n        catch (error) {\n            if (response.headers.get('content-length')) {\n                useQueryError = new Error(`Unable to parse response (x-request-id: ${response.headers.get('x-request-id')}):\\n${text}`);\n            }\n            else {\n                useQueryError = new Error(`${response.status} ${response.statusText} (x-request-id: ${response.headers.get('x-request-id')})`);\n            }\n        }\n    }\n    catch (error) {\n        // Pass-through thrown promise for Suspense functionality\n        if (error?.then) {\n            throw error;\n        }\n        useQueryError = error;\n    }\n    /**\n     * The fetch request itself failed, so we handle that differently than a GraphQL error\n     */\n    if (useQueryError) {\n        const errorMessage = createErrorMessage(useQueryError);\n        log.error(errorMessage);\n        log.error(useQueryError);\n        if (__HYDROGEN_DEV__ && !__HYDROGEN_TEST__) {\n            throw new Error(errorMessage);\n        }\n        else {\n            // in non-dev environments, we probably don't want super-detailed error messages for the user\n            throw new Error(`The fetch attempt failed; there was an issue connecting to the data source.`);\n        }\n    }\n    /**\n     * GraphQL errors get printed to the console but ultimately\n     * get returned to the consumer.\n     */\n    if (data?.errors) {\n        const errors = Array.isArray(data.errors) ? data.errors : [data.errors];\n        const requestId = response?.headers?.get('x-request-id') ?? '';\n        for (const error of errors) {\n            if (__HYDROGEN_DEV__ && !__HYDROGEN_TEST__) {\n                throw new Error(`Storefront API GraphQL Error: ${error.message}.\\nRequest id: ${requestId}`);\n            }\n            else {\n                log.error('Storefront API GraphQL Error', error, 'Storefront API GraphQL request id', requestId);\n            }\n        }\n        log.error(`Storefront API GraphQL error count: ${errors.length}`);\n    }\n    if (__HYDROGEN_DEV__ &&\n        (log.options().showUnusedQueryProperties ||\n            serverRequest.ctx.hydrogenConfig?.__EXPERIMENTAL__devTools) &&\n        query &&\n        data?.data) {\n        const fileLine = new Error('').stack\n            ?.split('\\n')\n            .find((line) => line.includes('.server.'));\n        const [, functionName, fileName] = fileLine?.match(/^\\s*at (\\w+) \\(([^)]+)\\)/) || [];\n        injectGraphQLTracker({\n            query,\n            data,\n            onUnusedData: ({ queryName, properties }) => {\n                const footer = `Examine the list of fields above to confirm that they are being used.\\n`;\n                const header = `Potentially overfetching fields in GraphQL query.\\n`;\n                let info = `Query \\`${queryName}\\``;\n                if (fileName) {\n                    info += ` in file \\`${fileName}\\` (function \\`${functionName}\\`)`;\n                }\n                const n = 6;\n                const shouldTrim = properties.length > n + 1;\n                const shownProperties = shouldTrim\n                    ? properties.slice(0, n)\n                    : properties;\n                const hiddenInfo = shouldTrim\n                    ? `  ...and ${properties.length - shownProperties.length} more\\n`\n                    : '';\n                const warning = header +\n                    info +\n                    `:\\n ${shownProperties.join(`\\n `)}\\n` +\n                    hiddenInfo +\n                    footer;\n                if (log.options().showUnusedQueryProperties) {\n                    log.warn(warning);\n                    sendMessageToClient('browser-console', { type: 'warn', data: warning });\n                }\n                if (serverRequest.ctx.hydrogenConfig?.__EXPERIMENTAL__devTools) {\n                    sendMessageToClient('dev-tools', { type: 'warn', data: warning });\n                }\n            },\n        });\n    }\n    return data;\n}\nfunction useCreateShopRequest(body) {\n    const { storeDomain, storefrontToken, storefrontApiVersion, storefrontId, privateStorefrontToken, } = useShop();\n    const request = useServerRequest();\n    const buyerIp = request.getBuyerIp();\n    const extraHeaders = getStorefrontApiRequestHeaders({\n        buyerIp,\n        publicStorefrontToken: storefrontToken,\n        privateStorefrontToken,\n        storefrontId,\n    });\n    return {\n        key: [storeDomain, storefrontApiVersion, body],\n        url: `https://${storeDomain}/api/${storefrontApiVersion}/graphql.json`,\n        requestInit: {\n            body,\n            method: 'POST',\n            headers: {\n                'X-SDK-Variant': 'hydrogen',\n                'X-SDK-Version': storefrontApiVersion,\n                'content-type': 'application/json',\n                ...extraHeaders,\n            },\n        },\n    };\n}\nfunction createErrorMessage(fetchError) {\n    if (fetchError instanceof Response) {\n        return `An error occurred while fetching from the Storefront API. ${\n        // 403s to the SF API (almost?) always mean that your Shopify credentials are bad/wrong\n        fetchError.status === 403\n            ? `You may have a bad value in 'hydrogen.config.js'`\n            : `${fetchError.statusText}`}`;\n    }\n    else {\n        return `Failed to connect to the Storefront API: ${fetchError.message}`;\n    }\n}\n","import React, { useMemo } from 'react';\nimport { matchPath } from '../../utilities/matchPath.js';\nimport { log } from '../../utilities/log/index.js';\nimport { extractPathFromRoutesKey } from '../../utilities/apiRoutes.js';\nimport { useServerRequest } from '../ServerRequestProvider/index.js';\nimport { RouteParamsProvider } from '../useRouteParams/RouteParamsProvider.client.js';\n/**\n * The `FileRoutes` component builds a set of default Hydrogen routes based on the output provided by Vite's\n * [import.meta.globEager](https://vitejs.dev/guide/features.html#glob-import) method. You can have multiple\n * instances of this component to source file routes from multiple locations.\n */\nexport function FileRoutes({ routes, basePath, dirPrefix }) {\n    const request = useServerRequest();\n    const { routeRendered, serverProps } = request.ctx.router;\n    if (routeRendered)\n        return null;\n    if (!routes) {\n        const fileRoutes = request.ctx.hydrogenConfig.routes;\n        routes = fileRoutes.files;\n        dirPrefix ??= fileRoutes.dirPrefix;\n        basePath ??= fileRoutes.basePath;\n    }\n    basePath ??= '/';\n    const pageRoutes = useMemo(() => createPageRoutes(routes, basePath, dirPrefix), [routes, basePath, dirPrefix]);\n    let foundRoute, foundRouteDetails;\n    for (let i = 0; i < pageRoutes.length; i++) {\n        foundRouteDetails = matchPath(serverProps.pathname, pageRoutes[i]);\n        if (foundRouteDetails) {\n            foundRoute = pageRoutes[i];\n            break;\n        }\n    }\n    if (foundRoute) {\n        request.ctx.router.routeRendered = true;\n        request.ctx.router.routeParams = foundRouteDetails.params;\n        return (React.createElement(RouteParamsProvider, { routeParams: foundRouteDetails.params, basePath: basePath },\n            React.createElement(foundRoute.component, { params: foundRouteDetails.params, ...serverProps })));\n    }\n    return null;\n}\nexport function createPageRoutes(pages, topLevelPath = '*', dirPrefix = '') {\n    const topLevelPrefix = topLevelPath.replace('*', '').replace(/\\/$/, '');\n    const keys = Object.keys(pages);\n    const routes = keys\n        .map((key) => {\n        const path = extractPathFromRoutesKey(key, dirPrefix);\n        /**\n         * Catch-all routes [...handle].jsx don't need an exact match\n         * https://reactrouter.com/core/api/Route/exact-bool\n         */\n        const exact = !/\\[(?:[.]{3})(\\w+?)\\]/.test(key);\n        if (!pages[key].default && !pages[key].api) {\n            log?.warn(`${key} doesn't export a default React component or an API function`);\n        }\n        return {\n            path: topLevelPrefix + path,\n            component: pages[key].default,\n            exact,\n        };\n    })\n        .filter((route) => route.component);\n    /**\n     * Place static paths BEFORE dynamic paths to grant priority.\n     */\n    return [\n        ...routes.filter((route) => !route.path.includes(':')),\n        ...routes.filter((route) => route.path.includes(':')),\n    ];\n}\n","import React, { cloneElement } from 'react';\nimport { useServerRequest } from '../ServerRequestProvider/index.js';\nimport { matchPath } from '../../utilities/matchPath.js';\nimport { RouteParamsProvider } from '../useRouteParams/RouteParamsProvider.client.js';\n/**\n * The `Route` component is used to set up a route in Hydrogen that's independent of the file system. Routes are\n * matched in the order that they're defined.\n */\nexport function Route({ path, page }) {\n    const request = useServerRequest();\n    const { routeRendered, serverProps } = request.ctx.router;\n    if (routeRendered)\n        return null;\n    if (path === '*') {\n        request.ctx.router.routeRendered = true;\n        return cloneElement(page, serverProps);\n    }\n    const match = matchPath(serverProps.pathname, {\n        path,\n        exact: true,\n    });\n    if (match) {\n        request.ctx.router.routeRendered = true;\n        request.ctx.router.routeParams = match.params;\n        return (React.createElement(RouteParamsProvider, { routeParams: match.params, basePath: '/' }, cloneElement(page, { params: match.params || {}, ...serverProps })));\n    }\n    return null;\n}\n","import React from 'react';\nimport { BrowserRouter } from './BrowserRouter.client.js';\n/**\n * The `Router` component provides the context for routing in your Hydrogen app.\n */\nexport function Router({ children }) {\n    return React.createElement(BrowserRouter, null, children);\n}\n","// Note: do not mix this export with other app-only logic\n// to avoid importing unnecessary code in the plugins.\nexport const DEFAULT_COUNTRY = 'US';\nexport const DEFAULT_LANGUAGE = 'EN';\n","import React, { useMemo } from 'react';\nimport { ShopifyProviderClient } from './ShopifyProvider.client.js';\nimport { DEFAULT_COUNTRY, DEFAULT_LANGUAGE } from '../constants.js';\nimport { useRequestCacheData, useServerRequest, } from '../ServerRequestProvider/index.js';\nimport { getOxygenVariable } from '../../utilities/storefrontApi.js';\nimport { SHOPIFY_STOREFRONT_ID_VARIABLE } from '../../constants.js';\nimport { getLocale } from '../../utilities/locale/index.js';\nexport const CLIENT_CONTEXT_ALLOW_LIST = [\n    'defaultCountryCode',\n    'defaultLanguageCode',\n    'storeDomain',\n    'storefrontToken',\n    'storefrontApiVersion',\n    'storefrontId',\n];\nfunction makeShopifyContext(shopifyConfig) {\n    const countryCode = shopifyConfig.defaultCountryCode ?? DEFAULT_COUNTRY;\n    const languageCode = shopifyConfig.defaultLanguageCode ?? DEFAULT_LANGUAGE;\n    const storefrontId = shopifyConfig.storefrontId ??\n        getOxygenVariable(SHOPIFY_STOREFRONT_ID_VARIABLE);\n    const shopifyProviderServerValue = {\n        defaultCountryCode: countryCode.toUpperCase(),\n        defaultLanguageCode: languageCode.toUpperCase(),\n        storeDomain: shopifyConfig?.storeDomain?.replace(/^https?:\\/\\//, ''),\n        storefrontToken: shopifyConfig.storefrontToken,\n        storefrontApiVersion: shopifyConfig.storefrontApiVersion,\n        storefrontId,\n        privateStorefrontToken: shopifyConfig.privateStorefrontToken,\n    };\n    return {\n        shopifyProviderServerValue,\n        shopifyProviderClientValue: CLIENT_CONTEXT_ALLOW_LIST.reduce((clientConfigValue, key) => {\n            clientConfigValue[key] = shopifyProviderServerValue[key];\n            return clientConfigValue;\n        }, {}),\n    };\n}\nexport const SHOPIFY_PROVIDER_CONTEXT_KEY = Symbol.for('SHOPIFY_PROVIDER_RSC');\n/**\n * The `ShopifyProvider` component wraps your entire app and provides support for hooks.\n * You should place it in your app's entry point component. For example, `<App>`.\n * If you're using the Hydrogen framework, you don't need to add this provider\n * because it's automatically wrapped around your app in `renderHydrogen()`.\n */\nexport function ShopifyProvider({ \n/**\n * Shopify connection information. Defaults to\n * [the `shopify` property in the `hydrogen.config.js` file](https://shopify.dev/custom-storefronts/hydrogen/framework/hydrogen-config).\n */\nshopifyConfig, countryCode, languageCode, \n/** Any `ReactNode` elements. */\nchildren, }) {\n    const request = useServerRequest();\n    if (!shopifyConfig) {\n        shopifyConfig = request.ctx.hydrogenConfig?.shopify;\n        if (!shopifyConfig) {\n            throw new Error('The `shopifyConfig` prop should be passed to `ShopifyProvider`');\n        }\n    }\n    let actualShopifyConfig;\n    if (typeof shopifyConfig === 'function') {\n        const result = useRequestCacheData(['hydrogen-shopify-config'], () => shopifyConfig(request));\n        if (result.error) {\n            if (result.error instanceof Error) {\n                throw result.error;\n            }\n            throw new Error(`Failed to load Shopify config: ${result.error.statusText}`);\n        }\n        actualShopifyConfig = result.data;\n    }\n    else {\n        actualShopifyConfig = shopifyConfig;\n    }\n    const { shopifyProviderServerValue, shopifyProviderClientValue } = useMemo(() => makeShopifyContext(actualShopifyConfig), [actualShopifyConfig]);\n    const localization = getLocalizationContextValue(shopifyProviderServerValue.defaultLanguageCode, shopifyProviderServerValue.defaultCountryCode, languageCode, countryCode);\n    request.ctx.localization = localization;\n    request.ctx.shopifyConfig = shopifyProviderServerValue;\n    return (React.createElement(ShopifyProviderClient, { shopifyConfig: shopifyProviderClientValue, localization: localization }, children));\n}\nexport function getLocalizationContextValue(defaultLanguageCode, defaultCountryCode, languageCode, countryCode) {\n    return useMemo(() => {\n        const runtimeLanguageCode = (languageCode ?? defaultLanguageCode).toUpperCase();\n        const runtimeCountryCode = (countryCode ?? defaultCountryCode).toUpperCase();\n        return {\n            country: {\n                isoCode: runtimeCountryCode,\n            },\n            language: {\n                isoCode: runtimeLanguageCode,\n            },\n            locale: getLocale(runtimeLanguageCode, runtimeCountryCode),\n        };\n    }, [defaultLanguageCode, defaultCountryCode, countryCode, languageCode]);\n}\n","const zeros = '00000000';\nconst tokenHash = 'xxxx-4xxx-xxxx-xxxxxxxxxxxx';\nexport function buildUUID() {\n    let hash = '';\n    try {\n        const crypto = window.crypto;\n        const randomValuesArray = new Uint16Array(31);\n        crypto.getRandomValues(randomValuesArray);\n        // Generate a strong UUID\n        let i = 0;\n        hash = tokenHash\n            .replace(/[x]/g, (c, ...args) => {\n            const r = randomValuesArray[i] % 16;\n            const v = c === 'x' ? r : (r & 0x3) | 0x8;\n            i++;\n            return v.toString(16);\n        })\n            .toUpperCase();\n    }\n    catch (err) {\n        // crypto not available, generate weak UUID\n        hash = tokenHash\n            .replace(/[x]/g, (c, ...args) => {\n            const r = (Math.random() * 16) | 0;\n            const v = c === 'x' ? r : (r & 0x3) | 0x8;\n            return v.toString(16);\n        })\n            .toUpperCase();\n    }\n    return `${hexTime()}-${hash}`;\n}\nexport function hexTime() {\n    // 32 bit representations of new Date().getTime() and performance.now()\n    let dateNumber = 0;\n    let perfNumber = 0;\n    // Result of zero-fill right shift is always positive\n    dateNumber = new Date().getTime() >>> 0;\n    try {\n        perfNumber = performance.now() >>> 0;\n    }\n    catch (err) {\n        perfNumber = 0;\n    }\n    const output = Math.abs(dateNumber + perfNumber)\n        .toString(16)\n        .toLowerCase();\n    return zeros.substr(0, 8 - output.length) + output;\n}\nexport function addDataIf(keyValuePairs, formattedData) {\n    Object.entries(keyValuePairs).forEach(([key, value]) => {\n        if (value) {\n            formattedData[key] = value;\n        }\n    });\n    return formattedData;\n}\n","import { useEffect } from 'react';\nimport { parse, stringify } from 'worktop/cookie';\nimport { SHOPIFY_Y, SHOPIFY_S } from '../../../../constants.js';\nimport { ClientAnalytics } from '../../ClientAnalytics.js';\nimport { buildUUID, addDataIf } from './utils.js';\nconst longTermLength = 60 * 60 * 24 * 360 * 2; // ~2 year expiry\nconst shortTermLength = 60 * 30; // 30 mins\nconst myShopifyDomain = 'myshopify.com';\nconst oxygenDomain = 'myshopify.dev';\nlet isInit = false;\nlet microSessionCount = 0;\nexport function ShopifyAnalyticsClient({ cookieDomain }) {\n    useEffect(() => {\n        try {\n            // Find Shopify cookies\n            const cookieData = parse(document.cookie);\n            const shopifyYCookie = cookieData[SHOPIFY_Y] || buildUUID();\n            const shopifySCookie = cookieData[SHOPIFY_S] || buildUUID();\n            /**\n             * Set user and session cookies and refresh the expiry time\n             */\n            updateCookie(SHOPIFY_Y, shopifyYCookie, longTermLength, cookieDomain);\n            updateCookie(SHOPIFY_S, shopifySCookie, shortTermLength, cookieDomain);\n            ClientAnalytics.pushToPageAnalyticsData({\n                shopify: {\n                    pageId: buildUUID(),\n                    userId: shopifyYCookie,\n                    sessionId: shopifySCookie,\n                },\n            });\n            microSessionCount = 0;\n            // TODO: Fix with useEvent when ready\n            // RFC: https://github.com/reactjs/rfcs/blob/useevent/text/0000-useevent.md\n            if (!isInit) {\n                isInit = true;\n                const eventNames = ClientAnalytics.eventNames;\n                ClientAnalytics.subscribe(eventNames.PAGE_VIEW, trackPageView);\n                // On a slow network, the pageview event could be already fired before\n                // we subscribed to the pageview event\n                if (ClientAnalytics.hasSentFirstPageView()) {\n                    trackPageView(ClientAnalytics.getPageAnalyticsData());\n                }\n            }\n        }\n        catch (err) {\n            // Do nothing\n        }\n    });\n    return null;\n}\nfunction updateCookie(cookieName, value, maxage, cookieDomain) {\n    const cookieString = stringify(cookieName, value, {\n        maxage,\n        domain: getCookieDomain(cookieDomain),\n        secure: import.meta.env.PROD,\n        samesite: 'Lax',\n        path: '/',\n    });\n    document.cookie = cookieString;\n    return cookieString;\n}\nfunction getCookieDomain(cookieDomain) {\n    const hostname = location.hostname;\n    if (hostname.indexOf(myShopifyDomain) !== -1) {\n        return `.${hostname.split('.').slice(-3).join('.')}`;\n    }\n    else if (hostname.indexOf(cookieDomain) !== -1) {\n        return `.${cookieDomain}`;\n    }\n    else {\n        return '';\n    }\n}\nfunction trackPageView(payload) {\n    microSessionCount += 1;\n    try {\n        payload &&\n            payload.shopify &&\n            sendToServer(storefrontPageViewSchema(payload));\n    }\n    catch (error) {\n        console.error(`Error Shopify analytics: ${ClientAnalytics.eventNames.PAGE_VIEW}`, error);\n    }\n}\nfunction storefrontPageViewSchema(payload) {\n    return {\n        schema_id: 'trekkie_storefront_page_view/1.4',\n        payload: buildStorefrontPageViewPayload(payload),\n        metadata: {\n            event_created_at_ms: Date.now(),\n        },\n    };\n}\nfunction buildStorefrontPageViewPayload(payload) {\n    const location = document.location;\n    const shopify = payload.shopify;\n    let formattedData = {\n        appClientId: '6167201',\n        hydrogenSubchannelId: shopify.storefrontId || '0',\n        isPersistentCookie: shopify.isPersistentCookie,\n        uniqToken: shopify.userId,\n        visitToken: shopify.sessionId,\n        microSessionId: shopify.pageId,\n        microSessionCount,\n        url: location.href,\n        path: location.pathname,\n        search: location.search,\n        referrer: document.referrer,\n        title: document.title,\n        shopId: stripGId(shopify.shopId),\n        currency: shopify.currency,\n        contentLanguage: shopify.acceptedLanguage,\n    };\n    formattedData = addDataIf({\n        isMerchantRequest: isMerchantRequest(),\n    }, formattedData);\n    formattedData = addDataIf({\n        pageType: shopify.pageType,\n    }, formattedData);\n    if (shopify.resourceId) {\n        try {\n            formattedData = addDataIf({\n                resourceType: getResourceType(shopify.resourceId),\n                resourceId: stripGId(shopify.resourceId),\n            }, formattedData);\n        }\n        catch (err) {\n            // do nothing\n        }\n    }\n    formattedData = addDataIf({\n        customerId: shopify.customerId,\n    }, formattedData);\n    return formattedData;\n}\nfunction isMerchantRequest() {\n    const hostname = location.hostname;\n    if (hostname.indexOf(oxygenDomain) !== -1 || hostname === 'localhost') {\n        return true;\n    }\n    return false;\n}\nfunction stripGId(text) {\n    return parseInt(text.substring(text.lastIndexOf('/') + 1));\n}\nfunction getResourceType(text) {\n    return text\n        .substring(0, text.lastIndexOf('/'))\n        .replace(/.*shopify\\//, '')\n        .toLowerCase();\n}\nconst BATCH_SENT_TIMEOUT = 500;\nlet batchedData = [];\nlet batchedTimeout;\nfunction sendToServer(data) {\n    batchedData.push(data);\n    if (batchedTimeout) {\n        clearTimeout(batchedTimeout);\n        batchedTimeout = null;\n    }\n    batchedTimeout = setTimeout(() => {\n        const batchedDataToBeSent = {\n            events: batchedData,\n            metadata: {\n                event_sent_at_ms: Date.now(),\n            },\n        };\n        batchedData = [];\n        batchedTimeout = null;\n        // Send to Shopify\n        try {\n            fetch('https://monorail-edge.shopifysvc.com/unstable/produce_batch', {\n                method: 'post',\n                headers: {\n                    'content-type': 'text/plain',\n                },\n                body: JSON.stringify(batchedDataToBeSent),\n            });\n        }\n        catch (error) {\n            // Do nothing\n        }\n    }, BATCH_SENT_TIMEOUT);\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/node_modules/@shopify/hydrogen/dist/esnext/foundation/Analytics/connectors/Shopify/ShopifyAnalytics.client.js?no-proxy';\n\nexport const ShopifyAnalyticsClient = /* @__PURE__ */wrapInClientProxy({ name: 'ShopifyAnalyticsClient', id: 'ShopifyAnalytics-LTE4NjQ0ODEyODY', value: allImports['ShopifyAnalyticsClient'], isDefault: false });\n","import React from 'react';\nimport { parse } from 'worktop/cookie';\nimport AnalyticsErrorBoundary from '../../../AnalyticsErrorBoundary.client.js';\nimport { useServerRequest } from '../../../ServerRequestProvider/index.js';\nimport { useServerAnalytics } from '../../hook.js';\nimport { useShop } from '../../../useShop/index.js';\nimport { ShopifyAnalyticsClient } from './ShopifyAnalytics.client.js';\nimport { useShopQuery } from '../../../../hooks/useShopQuery/index.js';\nimport { CacheLong } from '../../../Cache/strategies/index.js';\nimport { gql } from '../../../../utilities/graphql-tag.js';\nimport { SHOPIFY_Y, SHOPIFY_S } from '../../../../constants.js';\nexport function ShopifyAnalytics({ cookieDomain }) {\n    const { storeDomain, storefrontId } = useShop();\n    const request = useServerRequest();\n    const cookies = parse(request.headers.get('Cookie') || '');\n    const domain = cookieDomain || storeDomain;\n    const { data: { shop: { id, paymentSettings: { currencyCode }, }, }, } = useShopQuery({\n        query: SHOP_QUERY,\n        cache: CacheLong(),\n        preload: '*',\n    });\n    useServerAnalytics({\n        shopify: {\n            shopId: id,\n            currency: currencyCode,\n            storefrontId,\n            acceptedLanguage: request.headers.get('Accept-Language')?.replace(/-.*/, '') || 'en',\n            isPersistentCookie: !!cookies[SHOPIFY_S] || !!cookies[SHOPIFY_Y],\n        },\n    });\n    return (React.createElement(AnalyticsErrorBoundary, null,\n        React.createElement(ShopifyAnalyticsClient, { cookieDomain: domain })));\n}\nconst SHOP_QUERY = gql `\n  query shopAnalyticsInfo {\n    shop {\n      id\n      paymentSettings {\n        currencyCode\n      }\n    }\n  }\n`;\n","// Shopify analytics constants\nconst article = 'article';\nconst blog = 'blog';\nconst captcha = 'captcha';\nconst cart = 'cart';\nconst collection = 'collection';\nconst customersAccount = 'customers/account';\nconst customersActivateAccount = 'customers/activate_account';\nconst customersAddresses = 'customers/addresses';\nconst customersLogin = 'customers/login';\nconst customersOrder = 'customers/order';\nconst customersRegister = 'customers/register';\nconst customersResetPassword = 'customers/reset_password';\nconst giftCard = 'gift_card';\nconst home = 'index';\nconst listCollections = 'list-collections';\nconst forbidden = '403';\nconst notFound = '404';\nconst page = 'page';\nconst password = 'password';\nconst product = 'product';\nconst policy = 'policy';\nconst search = 'search';\nexport const ShopifyAnalyticsConstants = {\n    pageType: {\n        article,\n        blog,\n        captcha,\n        cart,\n        collection,\n        customersAccount,\n        customersActivateAccount,\n        customersAddresses,\n        customersLogin,\n        customersOrder,\n        customersRegister,\n        customersResetPassword,\n        giftCard,\n        home,\n        listCollections,\n        forbidden,\n        notFound,\n        page,\n        password,\n        product,\n        policy,\n        search,\n    },\n};\n","import { useServerRequest } from '../ServerRequestProvider/index.js';\n/** The `useSession` hook reads session data in server components. */\nexport const useSession = function () {\n    const request = useServerRequest();\n    const session = request.ctx.session?.get() || {};\n    return session;\n};\nexport const useFlashSession = function (key) {\n    const request = useServerRequest();\n    const data = request.ctx.session?.get() || {};\n    let value = data[key];\n    if (value) {\n        delete data[key];\n        request.ctx.flashSession[key] = value;\n    }\n    request.ctx.session?.set(data);\n    value = request.ctx.flashSession[key];\n    delete request.ctx.flashSession[key];\n    return value;\n};\n","import { parse, stringify as stringifyCookie } from 'worktop/cookie';\nimport { log } from '../../utilities/log/index.js';\nimport { parseJSON } from '../../utilities/parse.js';\nconst reservedCookieNames = ['mac', 'user_session_id'];\n/** The `Cookie` component helps you build your own custom cookie and session implementations. All\n * [Hydrogen session storage mechanisms](https://shopify.dev/custom-storefronts/hydrogen/framework/sessions#types-of-session-storage) use the\n * same configuration options as what's available in `Cookie`.\n */\nexport class Cookie {\n    /** The name of the cookie stored in the browser. */\n    name;\n    /** An optional object to configure [how the cookie is persisted in the browser](https://shopify.dev/api/hydrogen/components/framework/cookie#cookie-options). */\n    options;\n    data;\n    constructor(name, options = {}) {\n        if (reservedCookieNames.includes(name)) {\n            log.warn(`Warning \"${name}\" is a reserved cookie name by oxygen!`);\n        }\n        this.options = options;\n        this.options = {\n            ...this.options,\n            expires: \n            // maxAge takes precedence\n            typeof options.maxAge !== 'undefined'\n                ? new Date(Date.now() + options.maxAge * 1000)\n                : options.expires\n                    ? options.expires\n                    : new Date(Date.now() + 604800000), // default one week\n        };\n        this.name = name;\n        this.data = {};\n    }\n    parse(cookie) {\n        try {\n            const data = parseJSON(parse(cookie)[this.name]);\n            this.data = data;\n        }\n        catch (e) {\n            // failure to parse cookie\n        }\n        return this.data;\n    }\n    set(key, value) {\n        this.data[key] = value;\n    }\n    setAll(data) {\n        this.data = data;\n    }\n    serialize() {\n        return stringifyCookie(this.name, JSON.stringify(this.data), this.options);\n    }\n    destroy() {\n        this.data = {};\n        return stringifyCookie(this.name, '', {\n            ...this.options,\n            expires: new Date(0),\n        });\n    }\n    get expires() {\n        return this.options.expires.getTime();\n    }\n    setSessionid(sid) {\n        return this.set('sid', sid);\n    }\n    getSessionId(request) {\n        const cookieValue = request.headers.get('cookie');\n        if (cookieValue) {\n            return this.parse(cookieValue).sid;\n        }\n        return null;\n    }\n}\n","export const INPUT_STYLE_CLASSES =\n  'appearance-none rounded dark:bg-transparent border focus:border-primary/50 focus:ring-0 w-full py-2 px-3 text-primary/90 placeholder:text-primary/50 leading-tight focus:shadow-outline';\n\nexport const getInputStyleClasses = (isError) => {\n  return `${INPUT_STYLE_CLASSES} ${\n    isError ? 'border-red-500' : 'border-primary/20'\n  }`;\n};\n","import {useState} from 'react';\nimport {useNavigate} from '@shopify/hydrogen/client';\nimport {getInputStyleClasses} from '../../lib/styleUtils';\n\nexport function AccountActivateForm({id, activationToken}) {\n  const navigate = useNavigate();\n\n  const [submitError, setSubmitError] = useState(null);\n  const [password, setPassword] = useState('');\n  const [passwordError, setPasswordError] = useState(null);\n  const [passwordConfirm, setPasswordConfirm] = useState('');\n  const [passwordConfirmError, setPasswordConfirmError] = useState(null);\n\n  function passwordValidation(form) {\n    setPasswordError(null);\n    setPasswordConfirmError(null);\n\n    let hasError = false;\n\n    if (!form.password.validity.valid) {\n      hasError = true;\n      setPasswordError(\n        form.password.validity.valueMissing\n          ? 'Please enter a password'\n          : 'Passwords must be at least 6 characters',\n      );\n    }\n\n    if (!form.passwordConfirm.validity.valid) {\n      hasError = true;\n      setPasswordConfirmError(\n        form.password.validity.valueMissing\n          ? 'Please re-enter a password'\n          : 'Passwords must be at least 6 characters',\n      );\n    }\n\n    if (password !== passwordConfirm) {\n      hasError = true;\n      setPasswordConfirmError('The two passwords entered did not match.');\n    }\n\n    return hasError;\n  }\n\n  async function onSubmit(event) {\n    event.preventDefault();\n\n    if (passwordValidation(event.currentTarget)) {\n      return;\n    }\n\n    const response = await callActivateApi({\n      id,\n      activationToken,\n      password,\n    });\n\n    if (response.error) {\n      setSubmitError(response.error);\n      return;\n    }\n\n    navigate('/account');\n  }\n\n  return (\n    <div className=\"flex justify-center\">\n      <div className=\"w-full max-w-md\">\n        <h1 className=\"text-4xl\">Activate Account.</h1>\n        <p className=\"mt-4\">Create your password to activate your account.</p>\n        <form noValidate className=\"pt-6 pb-8 mt-4 mb-4\" onSubmit={onSubmit}>\n          {submitError && (\n            <div className=\"flex items-center justify-center mb-6 bg-primary/30\">\n              <p className=\"m-4 text-s text-contrast\">{submitError}</p>\n            </div>\n          )}\n          <div className=\"mb-4\">\n            <input\n              className={`mb-1 ${getInputStyleClasses(passwordError)}`}\n              id=\"password\"\n              name=\"password\"\n              type=\"password\"\n              autoComplete=\"current-password\"\n              placeholder=\"Password\"\n              aria-label=\"Password\"\n              value={password}\n              minLength={8}\n              required\n              onChange={(event) => {\n                setPassword(event.target.value);\n              }}\n            />\n            <p\n              className={`text-red-500 text-xs ${\n                !passwordError ? 'invisible' : ''\n              }`}\n            >\n              {passwordError} &nbsp;\n            </p>\n          </div>\n          <div className=\"mb-4\">\n            <input\n              className={`mb-1 ${getInputStyleClasses(passwordConfirmError)}`}\n              id=\"passwordConfirm\"\n              name=\"passwordConfirm\"\n              type=\"password\"\n              autoComplete=\"current-password\"\n              placeholder=\"Re-enter password\"\n              aria-label=\"Re-enter password\"\n              value={passwordConfirm}\n              required\n              minLength={8}\n              onChange={(event) => {\n                setPasswordConfirm(event.target.value);\n              }}\n            />\n            <p\n              className={`text-red-500 text-xs ${\n                !passwordConfirmError ? 'invisible' : ''\n              }`}\n            >\n              {passwordConfirmError} &nbsp;\n            </p>\n          </div>\n          <div className=\"flex items-center justify-between\">\n            <button\n              className=\"block w-full px-4 py-2 text-contrast uppercase bg-primary focus:shadow-outline\"\n              type=\"submit\"\n            >\n              Save\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nasync function callActivateApi({id, activationToken, password}) {\n  try {\n    const res = await fetch(`/account/activate`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({id, activationToken, password}),\n    });\n    if (res.ok) {\n      return {};\n    } else {\n      return res.json();\n    }\n  } catch (error) {\n    return {\n      error: error.toString(),\n    };\n  }\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/account/AccountActivateForm.client.jsx?no-proxy';\n\nexport const AccountActivateForm = /* @__PURE__ */wrapInClientProxy({ name: 'AccountActivateForm', id: 'AccountActivateForm-LTEyNTcxMzUzODc', value: allImports['AccountActivateForm'], isDefault: false });\n","import clsx from 'clsx';\n\nfunction Icon({children, className, fill = 'currentColor', stroke, ...props}) {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 20 20\"\n      {...props}\n      fill={fill}\n      stroke={stroke}\n      className={clsx('w-5 h-5', className)}\n    >\n      {children}\n    </svg>\n  );\n}\n\nexport function IconMenu(props) {\n  return (\n    <Icon {...props} stroke={props.stroke || 'currentColor'}>\n      <title>Menu</title>\n      <line x1=\"3\" y1=\"6.375\" x2=\"17\" y2=\"6.375\" strokeWidth=\"1.25\" />\n      <line x1=\"3\" y1=\"10.375\" x2=\"17\" y2=\"10.375\" strokeWidth=\"1.25\" />\n      <line x1=\"3\" y1=\"14.375\" x2=\"17\" y2=\"14.375\" strokeWidth=\"1.25\" />\n    </Icon>\n  );\n}\n\nexport function IconClose(props) {\n  return (\n    <Icon {...props} stroke={props.stroke || 'currentColor'}>\n      <title>Close</title>\n      <line\n        x1=\"4.44194\"\n        y1=\"4.30806\"\n        x2=\"15.7556\"\n        y2=\"15.6218\"\n        strokeWidth=\"1.25\"\n      />\n      <line\n        y1=\"-0.625\"\n        x2=\"16\"\n        y2=\"-0.625\"\n        transform=\"matrix(-0.707107 0.707107 0.707107 0.707107 16 4.75)\"\n        strokeWidth=\"1.25\"\n      />\n    </Icon>\n  );\n}\n\nexport function IconArrow({direction = 'right'}) {\n  let rotate;\n\n  switch (direction) {\n    case 'right':\n      rotate = 'rotate-0';\n      break;\n    case 'left':\n      rotate = 'rotate-180';\n      break;\n    case 'up':\n      rotate = '-rotate-90';\n      break;\n    case 'down':\n      rotate = 'rotate-90';\n      break;\n    default:\n      rotate = 'rotate-0';\n  }\n\n  return (\n    <Icon className={`w-5 h-5 ${rotate}`}>\n      <title>Arrow</title>\n      <path d=\"M7 3L14 10L7 17\" strokeWidth=\"1.25\" />\n    </Icon>\n  );\n}\n\nexport function IconCaret({\n  direction = 'down',\n  stroke = 'currentColor',\n  ...props\n}) {\n  let rotate;\n\n  switch (direction) {\n    case 'down':\n      rotate = 'rotate-0';\n      break;\n    case 'up':\n      rotate = 'rotate-180';\n      break;\n    case 'left':\n      rotate = '-rotate-90';\n      break;\n    case 'right':\n      rotate = 'rotate-90';\n      break;\n    default:\n      rotate = 'rotate-0';\n  }\n\n  return (\n    <Icon\n      {...props}\n      className={`w-5 h-5 transition ${rotate}`}\n      fill=\"transparent\"\n      stroke={stroke}\n    >\n      <title>Caret</title>\n      <path d=\"M14 8L10 12L6 8\" strokeWidth=\"1.25\" />\n    </Icon>\n  );\n}\n\nexport function IconSelect(props) {\n  return (\n    <Icon {...props}>\n      <title>Select</title>\n      <path d=\"M7 8.5L10 6.5L13 8.5\" strokeWidth=\"1.25\" />\n      <path d=\"M13 11.5L10 13.5L7 11.5\" strokeWidth=\"1.25\" />\n    </Icon>\n  );\n}\n\nexport function IconBag(props) {\n  return (\n    <Icon {...props}>\n      <title>Bag</title>\n      <path\n        fillRule=\"evenodd\"\n        d=\"M8.125 5a1.875 1.875 0 0 1 3.75 0v.375h-3.75V5Zm-1.25.375V5a3.125 3.125 0 1 1 6.25 0v.375h3.5V15A2.625 2.625 0 0 1 14 17.625H6A2.625 2.625 0 0 1 3.375 15V5.375h3.5ZM4.625 15V6.625h10.75V15c0 .76-.616 1.375-1.375 1.375H6c-.76 0-1.375-.616-1.375-1.375Z\"\n      />\n    </Icon>\n  );\n}\n\nexport function IconAccount(props) {\n  return (\n    <Icon {...props}>\n      <title>Account</title>\n      <path\n        fillRule=\"evenodd\"\n        d=\"M9.9998 12.625c-1.9141 0-3.6628.698-5.0435 1.8611C3.895 13.2935 3.25 11.7221 3.25 10c0-3.728 3.022-6.75 6.75-6.75 3.7279 0 6.75 3.022 6.75 6.75 0 1.7222-.645 3.2937-1.7065 4.4863-1.3807-1.1632-3.1295-1.8613-5.0437-1.8613ZM10 18c-2.3556 0-4.4734-1.0181-5.9374-2.6382C2.7806 13.9431 2 12.0627 2 10c0-4.4183 3.5817-8 8-8s8 3.5817 8 8-3.5817 8-8 8Zm0-12.5c-1.567 0-2.75 1.394-2.75 3s1.183 3 2.75 3 2.75-1.394 2.75-3-1.183-3-2.75-3Z\"\n      />\n    </Icon>\n  );\n}\n\nexport function IconHelp(props) {\n  return (\n    <Icon {...props}>\n      <title>Help</title>\n      <path d=\"M3.375 10a6.625 6.625 0 1 1 13.25 0 6.625 6.625 0 0 1-13.25 0ZM10 2.125a7.875 7.875 0 1 0 0 15.75 7.875 7.875 0 0 0 0-15.75Zm.699 10.507H9.236V14h1.463v-1.368ZM7.675 7.576A3.256 3.256 0 0 0 7.5 8.67h1.245c0-.496.105-.89.316-1.182.218-.299.553-.448 1.005-.448a1 1 0 0 1 .327.065c.124.044.24.113.35.208.108.095.2.223.272.383.08.154.12.34.12.558a1.3 1.3 0 0 1-.076.471c-.044.131-.11.252-.197.361-.08.102-.174.197-.283.285-.102.087-.212.182-.328.284a3.157 3.157 0 0 0-.382.383c-.102.124-.19.27-.262.438a2.476 2.476 0 0 0-.164.591 6.333 6.333 0 0 0-.043.81h1.179c0-.263.021-.485.065-.668a1.65 1.65 0 0 1 .207-.47c.088-.139.19-.263.306-.372.117-.11.244-.223.382-.34l.35-.306c.116-.11.218-.23.305-.361.095-.139.168-.3.219-.482.058-.19.087-.412.087-.667 0-.35-.062-.664-.186-.942a1.881 1.881 0 0 0-.513-.689 2.07 2.07 0 0 0-.753-.427A2.721 2.721 0 0 0 10.12 6c-.4 0-.764.066-1.092.197a2.36 2.36 0 0 0-.83.536c-.225.234-.4.515-.523.843Z\" />\n    </Icon>\n  );\n}\n\nexport function IconSearch(props) {\n  return (\n    <Icon {...props}>\n      <title>Search</title>\n      <path\n        fillRule=\"evenodd\"\n        d=\"M13.3 8.52a4.77 4.77 0 1 1-9.55 0 4.77 4.77 0 0 1 9.55 0Zm-.98 4.68a6.02 6.02 0 1 1 .88-.88l4.3 4.3-.89.88-4.3-4.3Z\"\n      />\n    </Icon>\n  );\n}\n\nexport function IconCheck({stroke = 'currentColor', ...props}) {\n  return (\n    <Icon {...props} fill=\"transparent\" stroke={stroke}>\n      <title>Check</title>\n      <circle cx=\"10\" cy=\"10\" r=\"7.25\" strokeWidth=\"1.25\" />\n      <path\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        strokeWidth=\"1.5\"\n        d=\"m7.04 10.37 2.42 2.41 3.5-5.56\"\n      />\n    </Icon>\n  );\n}\n\nexport function IconRemove(props) {\n  return (\n    <Icon {...props} fill=\"transparent\" stroke={props.stroke || 'currentColor'}>\n      <title>Remove</title>\n      <path\n        d=\"M4 6H16\"\n        strokeWidth=\"1.25\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path d=\"M8.5 9V14\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n      <path d=\"M11.5 9V14\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n      <path\n        d=\"M5.5 6L6 17H14L14.5 6\"\n        strokeWidth=\"1.25\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M8 6L8 5C8 4 8.75 3 10 3C11.25 3 12 4 12 5V6\"\n        strokeWidth=\"1.25\"\n      />\n    </Icon>\n  );\n}\n","import {useCallback} from 'react';\nimport {useServerProps} from '@shopify/hydrogen';\n\n// @ts-expect-error types not available\nimport typographicBase from 'typographic-base';\n\n/**\n * This is a hack until we have better built-in primitives for\n * causing server components to re-render.\n *\n * @returns function when called will cause the current page to re-render on the server\n */\nexport function useRenderServerComponents() {\n  const {serverProps, setServerProps} = useServerProps();\n\n  return useCallback(() => {\n    setServerProps('renderRsc', !serverProps.renderRsc);\n  }, [serverProps, setServerProps]);\n}\n\nexport function missingClass(string, prefix) {\n  if (!string) {\n    return true;\n  }\n\n  const regex = new RegExp(` ?${prefix}`, 'g');\n  return string.match(regex) === null;\n}\n\nexport function formatText(input) {\n  if (!input) {\n    return;\n  }\n\n  if (typeof input !== 'string') {\n    return input;\n  }\n\n  return typographicBase(input, {locale: 'en-us'}).replace(\n    /\\s([^\\s<]+)\\s*$/g,\n    '\\u00A0$1',\n  );\n}\n\nexport function isNewArrival(date, daysOld = 30) {\n  return (\n    new Date(date).valueOf() >\n    new Date().setDate(new Date().getDate() - daysOld).valueOf()\n  );\n}\n\nexport function isDiscounted(price, compareAtPrice) {\n  if (compareAtPrice?.amount > price?.amount) {\n    return true;\n  }\n  return false;\n}\n\nexport function getExcerpt(text) {\n  const regex = /<p.*>(.*?)<\\/p>/;\n  const match = regex.exec(text);\n  return match?.length ? match[0] : text;\n}\n\nfunction resolveToFromType(\n  {customPrefixes, pathname, type} = {\n    customPrefixes: {},\n  },\n) {\n  if (!pathname || !type) return '';\n\n  /*\n        MenuItemType enum\n        @see: https://shopify.dev/api/storefront/unstable/enums/MenuItemType\n      */\n  const defaultPrefixes = {\n    BLOG: 'blogs',\n    COLLECTION: 'collections',\n    COLLECTIONS: 'collections',\n    FRONTPAGE: 'frontpage',\n    HTTP: '',\n    PAGE: 'pages',\n    CATALOG: 'collections/all',\n    PRODUCT: 'products',\n    SEARCH: 'search',\n    SHOP_POLICY: 'policies',\n  };\n\n  const pathParts = pathname.split('/');\n  const handle = pathParts.pop() || '';\n  const routePrefix = {\n    ...defaultPrefixes,\n    ...customPrefixes,\n  };\n\n  switch (true) {\n    // special cases\n    case type === 'FRONTPAGE':\n      return '/';\n\n    case type === 'ARTICLE': {\n      const blogHandle = pathParts.pop();\n      return routePrefix.BLOG\n        ? `/${routePrefix.BLOG}/${blogHandle}/${handle}/`\n        : `/${blogHandle}/${handle}/`;\n    }\n\n    case type === 'COLLECTIONS':\n      return `/${routePrefix.COLLECTIONS}`;\n\n    case type === 'SEARCH':\n      return `/${routePrefix.SEARCH}`;\n\n    case type === 'CATALOG':\n      return `/${routePrefix.CATALOG}`;\n\n    // common cases: BLOG, PAGE, COLLECTION, PRODUCT, SHOP_POLICY, HTTP\n    default:\n      return routePrefix[type]\n        ? `/${routePrefix[type]}/${handle}`\n        : `/${handle}`;\n  }\n}\n\n/*\n  Parse each menu link and adding, isExternal, to and target\n*/\nfunction parseItem(customPrefixes = {}) {\n  return function (item) {\n    if (!item?.url || !item?.type) {\n      // eslint-disable-next-line no-console\n      console.warn('Invalid menu item.  Must include a url and type.');\n      // @ts-ignore\n      return;\n    }\n\n    // extract path from url because we don't need the origin on internal to attributes\n    const {pathname} = new URL(item.url);\n\n    /*\n              Currently the MenuAPI only returns online store urls e.g  xyz.myshopify.com/..\n              Note: update logic when API is updated to include the active qualified domain\n            */\n    const isInternalLink = /\\.myshopify\\.com/g.test(item.url);\n\n    const parsedItem = isInternalLink\n      ? // internal links\n        {\n          ...item,\n          isExternal: false,\n          target: '_self',\n          to: resolveToFromType({type: item.type, customPrefixes, pathname}),\n        }\n      : // external links\n        {\n          ...item,\n          isExternal: true,\n          target: '_blank',\n          to: item.url,\n        };\n\n    return {\n      ...parsedItem,\n      items: item.items?.map(parseItem(customPrefixes)),\n    };\n  };\n}\n\n/*\n  Recursively adds `to` and `target` attributes to links based on their url\n  and resource type.\n  It optionally overwrites url paths based on item.type\n*/\nexport function parseMenu(menu, customPrefixes = {}) {\n  if (!menu?.items) {\n    // eslint-disable-next-line no-console\n    console.warn('Invalid menu passed to parseMenu');\n    // @ts-ignore\n    return menu;\n  }\n\n  return {\n    ...menu,\n    items: menu.items.map(parseItem(customPrefixes)),\n  };\n}\n\nexport function getApiErrorMessage(field, data, errors) {\n  if (errors?.length) return errors[0].message ?? errors[0];\n  if (data?.[field]?.customerUserErrors?.length)\n    return data[field].customerUserErrors[0].message;\n  return null;\n}\n\nexport function statusMessage(status) {\n  const translations = {\n    ATTEMPTED_DELIVERY: 'Attempted delivery',\n    CANCELED: 'Canceled',\n    CONFIRMED: 'Confirmed',\n    DELIVERED: 'Delivered',\n    FAILURE: 'Failure',\n    FULFILLED: 'Fulfilled',\n    IN_PROGRESS: 'In Progress',\n    IN_TRANSIT: 'In transit',\n    LABEL_PRINTED: 'Label printed',\n    LABEL_PURCHASED: 'Label purchased',\n    LABEL_VOIDED: 'Label voided',\n    MARKED_AS_FULFILLED: 'Marked as fulfilled',\n    NOT_DELIVERED: 'Not delivered',\n    ON_HOLD: 'On Hold',\n    OPEN: 'Open',\n    OUT_FOR_DELIVERY: 'Out for delivery',\n    PARTIALLY_FULFILLED: 'Partially Fulfilled',\n    PENDING_FULFILLMENT: 'Pending',\n    PICKED_UP: 'Displayed as Picked up',\n    READY_FOR_PICKUP: 'Ready for pickup',\n    RESTOCKED: 'Restocked',\n    SCHEDULED: 'Scheduled',\n    SUBMITTED: 'Submitted',\n    UNFULFILLED: 'Unfulfilled',\n  };\n  try {\n    return translations?.[status];\n  } catch (error) {\n    return status;\n  }\n}\n\nexport function emailValidation(email) {\n  if (email.validity.valid) return null;\n\n  return email.validity.valueMissing\n    ? 'Please enter an email'\n    : 'Please enter a valid email';\n}\n\nexport function passwordValidation(password) {\n  if (password.validity.valid) return null;\n\n  if (password.validity.valueMissing) {\n    return 'Please enter a password';\n  }\n\n  return 'Password must be at least 6 characters';\n}\n","import clsx from 'clsx';\nimport {Link} from '@shopify/hydrogen';\n\nimport {missingClass} from '~/lib/utils';\n\nexport function Button({\n  as = 'button',\n  className = '',\n  variant = 'primary',\n  width = 'auto',\n  ...props\n}) {\n  const Component = props?.to ? Link : as;\n\n  const baseButtonClasses =\n    'inline-block rounded font-medium text-center py-3 px-6';\n\n  const variants = {\n    primary: `${baseButtonClasses} bg-primary text-contrast`,\n    secondary: `${baseButtonClasses} border border-primary/10 bg-contrast text-primary`,\n    inline: 'border-b border-primary/10 leading-none pb-1',\n  };\n\n  const widths = {\n    auto: 'w-auto',\n    full: 'w-full',\n  };\n\n  const styles = clsx(\n    missingClass(className, 'bg-') && variants[variant],\n    missingClass(className, 'w-') && widths[width],\n    className,\n  );\n\n  return <Component className={styles} {...props} />;\n}\n","import clsx from 'clsx';\n\nexport function Grid({\n  as: Component = 'div',\n  className,\n  flow = 'row',\n  gap = 'default',\n  items = 4,\n  layout = 'default',\n  ...props\n}) {\n  const layouts = {\n    default: `grid-cols-1 ${items === 2 && 'md:grid-cols-2'}  ${\n      items === 3 && 'sm:grid-cols-3'\n    } ${items > 3 && 'md:grid-cols-3'} ${items >= 4 && 'lg:grid-cols-4'}`,\n    products: `grid-cols-2 ${items >= 3 && 'md:grid-cols-3'} ${\n      items >= 4 && 'lg:grid-cols-4'\n    }`,\n    auto: 'auto-cols-auto',\n    blog: `grid-cols-2 pt-24`,\n  };\n\n  const gaps = {\n    default: 'grid gap-2 gap-y-6 md:gap-4 lg:gap-6',\n    blog: 'grid gap-6',\n  };\n\n  const flows = {\n    row: 'grid-flow-row',\n    col: 'grid-flow-col',\n  };\n\n  const styles = clsx(flows[flow], gaps[gap], layouts[layout], className);\n\n  return <Component {...props} className={styles} />;\n}\n","import clsx from 'clsx';\n\nimport {missingClass, formatText} from '~/lib/utils';\n\nexport function Heading({\n  as: Component = 'h2',\n  children,\n  className = '',\n  format,\n  size = 'heading',\n  width = 'default',\n  ...props\n}) {\n  const sizes = {\n    display: 'font-bold text-display',\n    heading: 'font-bold text-heading',\n    lead: 'font-bold text-lead',\n    copy: 'font-medium text-copy',\n  };\n\n  const widths = {\n    default: 'max-w-prose',\n    narrow: 'max-w-prose-narrow',\n    wide: 'max-w-prose-wide',\n  };\n\n  const styles = clsx(\n    missingClass(className, 'whitespace-') && 'whitespace-pre-wrap',\n    missingClass(className, 'max-w-') && widths[width],\n    missingClass(className, 'font-') && sizes[size],\n    className,\n  );\n\n  return (\n    <Component {...props} className={styles}>\n      {format ? formatText(children) : children}\n    </Component>\n  );\n}\n","import clsx from 'clsx';\n\nexport function Input({className = '', type, variant, ...props}) {\n  const variants = {\n    search:\n      'bg-transparent px-0 py-2 text-heading w-full focus:ring-0 border-x-0 border-t-0 transition border-b-2 border-primary/10 focus:border-primary/90',\n    minisearch:\n      'bg-transparent hidden md:inline-block text-left lg:text-right border-b transition border-transparent -mb-px border-x-0 border-t-0 appearance-none px-0 py-1 focus:ring-transparent placeholder:opacity-20 placeholder:text-inherit',\n  };\n\n  const styles = clsx(variants[variant], className);\n\n  return <input type={type} {...props} className={styles} />;\n}\n","export function LogoutButton(props) {\n  const logout = () => {\n    fetch('/account/logout', {method: 'POST'}).then(() => {\n      if (typeof props?.onClick === 'function') {\n        props.onClick();\n      }\n      window.location.href = '/';\n    });\n  };\n\n  return (\n    <button className=\"text-primary/50\" {...props} onClick={logout}>\n      Logout\n    </button>\n  );\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/elements/LogoutButton.client.jsx?no-proxy';\n\nexport const LogoutButton = /* @__PURE__ */wrapInClientProxy({ name: 'LogoutButton', id: 'LogoutButton-LTE5Mzc2MDgyMDU', value: allImports['LogoutButton'], isDefault: false });\n","import clsx from 'clsx';\n\nimport {Heading} from '~/components';\nimport {missingClass} from '~/lib/utils';\n\nexport function Section({\n  as: Component = 'section',\n  children,\n  className,\n  divider = 'none',\n  display = 'grid',\n  heading,\n  padding = 'all',\n  ...props\n}) {\n  const paddings = {\n    x: 'px-6 md:px-8 lg:px-12',\n    y: 'py-6 md:py-8 lg:py-12',\n    swimlane: 'pt-4 md:pt-8 lg:pt-12 md:pb-4 lg:pb-8',\n    all: 'p-6 md:p-8 lg:p-12',\n  };\n\n  const dividers = {\n    none: 'border-none',\n    top: 'border-t border-primary/05',\n    bottom: 'border-b border-primary/05',\n    both: 'border-y border-primary/05',\n  };\n\n  const displays = {\n    flex: 'flex',\n    grid: 'grid',\n  };\n\n  const styles = clsx(\n    'w-full gap-4 md:gap-8',\n    displays[display],\n    missingClass(className, '\\\\mp[xy]?-') && paddings[padding],\n    dividers[divider],\n    className,\n  );\n\n  return (\n    <Component {...props} className={styles}>\n      {heading && (\n        <Heading size=\"lead\" className={padding === 'y' ? paddings['x'] : ''}>\n          {heading}\n        </Heading>\n      )}\n      {children}\n    </Component>\n  );\n}\n","import clsx from 'clsx';\n\n/**\n * A shared component and Suspense call that's used in `App.server.jsx` to let your app wait for code to load while declaring a loading state\n */\nexport function Skeleton({\n  as: Component = 'div',\n  width,\n  height,\n  className,\n  ...props\n}) {\n  const styles = clsx('rounded bg-primary/10', className);\n\n  return (\n    <Component {...props} width={width} height={height} className={styles} />\n  );\n}\n","import clsx from 'clsx';\n\nimport {missingClass, formatText} from '~/lib/utils';\n\nexport function Text({\n  as: Component = 'span',\n  className,\n  color = 'default',\n  format,\n  size = 'copy',\n  width = 'default',\n  children,\n  ...props\n}) {\n  const colors = {\n    default: 'inherit',\n    primary: 'text-primary/90',\n    subtle: 'text-primary/50',\n    notice: 'text-notice',\n    contrast: 'text-contrast/90',\n  };\n\n  const sizes = {\n    lead: 'text-lead font-medium',\n    copy: 'text-copy',\n    fine: 'text-fine subpixel-antialiased',\n  };\n\n  const widths = {\n    default: 'max-w-prose',\n    narrow: 'max-w-prose-narrow',\n    wide: 'max-w-prose-wide',\n  };\n\n  const styles = clsx(\n    missingClass(className, 'max-w-') && widths[width],\n    missingClass(className, 'whitespace-') && 'whitespace-pre-wrap',\n    missingClass(className, 'text-') && colors[color],\n    sizes[size],\n    className,\n  );\n\n  return (\n    <Component {...props} className={styles}>\n      {format ? formatText(children) : children}\n    </Component>\n  );\n}\n","import {useState, useMemo} from 'react';\n\nimport {Text, Button} from '~/components/elements';\nimport {Modal} from '../index';\nimport {AccountAddressEdit, AccountDeleteAddress} from '../index';\n\nexport function AccountAddressBook({addresses, defaultAddress}) {\n  const [editingAddress, setEditingAddress] = useState(null);\n  const [deletingAddress, setDeletingAddress] = useState(null);\n\n  const {fullDefaultAddress, addressesWithoutDefault} = useMemo(() => {\n    const defaultAddressIndex = addresses.findIndex(\n      (address) => address.id === defaultAddress,\n    );\n    return {\n      addressesWithoutDefault: [\n        ...addresses.slice(0, defaultAddressIndex),\n        ...addresses.slice(defaultAddressIndex + 1, addresses.length),\n      ],\n      fullDefaultAddress: addresses[defaultAddressIndex],\n    };\n  }, [addresses, defaultAddress]);\n\n  function close() {\n    setEditingAddress(null);\n    setDeletingAddress(null);\n  }\n\n  function editAddress(address) {\n    setEditingAddress(address);\n  }\n\n  return (\n    <>\n      {deletingAddress ? (\n        <Modal close={close}>\n          <AccountDeleteAddress addressId={deletingAddress} close={close} />\n        </Modal>\n      ) : null}\n      {editingAddress ? (\n        <Modal close={close}>\n          <AccountAddressEdit\n            address={editingAddress}\n            defaultAddress={fullDefaultAddress === editingAddress}\n            close={close}\n          />\n        </Modal>\n      ) : null}\n      <div className=\"grid w-full gap-4 p-4 py-6 md:gap-8 md:p-8 lg:p-12\">\n        <h3 className=\"font-bold text-lead\">Address Book</h3>\n        <div>\n          {!addresses?.length ? (\n            <Text className=\"mb-1\" width=\"narrow\" as=\"p\" size=\"copy\">\n              You haven&apos;t saved any addresses yet.\n            </Text>\n          ) : null}\n          <div className=\"w-48\">\n            <Button\n              className=\"mt-2 text-sm w-full mb-6\"\n              onClick={() => {\n                editAddress({\n                  /** empty address */\n                });\n              }}\n              variant=\"secondary\"\n            >\n              Add an Address\n            </Button>\n          </div>\n          {addresses?.length ? (\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6\">\n              {fullDefaultAddress ? (\n                <Address\n                  address={fullDefaultAddress}\n                  defaultAddress\n                  setDeletingAddress={setDeletingAddress.bind(\n                    null,\n                    fullDefaultAddress.originalId,\n                  )}\n                  editAddress={editAddress}\n                />\n              ) : null}\n              {addressesWithoutDefault.map((address) => (\n                <Address\n                  key={address.id}\n                  address={address}\n                  setDeletingAddress={setDeletingAddress.bind(\n                    null,\n                    address.originalId,\n                  )}\n                  editAddress={editAddress}\n                />\n              ))}\n            </div>\n          ) : null}\n        </div>\n      </div>\n    </>\n  );\n}\n\nfunction Address({address, defaultAddress, editAddress, setDeletingAddress}) {\n  return (\n    <div className=\"lg:p-8 p-6 border border-gray-200 rounded flex flex-col\">\n      {defaultAddress ? (\n        <div className=\"mb-3 flex flex-row\">\n          <span className=\"px-3 py-1 text-xs font-medium rounded-full bg-primary/20 text-primary/50\">\n            Default\n          </span>\n        </div>\n      ) : null}\n      <ul className=\"flex-1 flex-row\">\n        {address.firstName || address.lastName ? (\n          <li>\n            {(address.firstName && address.firstName + ' ') + address.lastName}\n          </li>\n        ) : (\n          <></>\n        )}\n        {address.formatted ? (\n          address.formatted.map((line) => <li key={line}>{line}</li>)\n        ) : (\n          <></>\n        )}\n      </ul>\n\n      <div className=\"flex flex-row font-medium mt-6\">\n        <button\n          onClick={() => {\n            editAddress(address);\n          }}\n          className=\"text-left underline text-sm\"\n        >\n          Edit\n        </button>\n        <button\n          onClick={setDeletingAddress}\n          className=\"text-left text-primary/50 ml-6 text-sm\"\n        >\n          Remove\n        </button>\n      </div>\n    </div>\n  );\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/account/AccountAddressBook.client.jsx?no-proxy';\n\nexport const AccountAddressBook = /* @__PURE__ */wrapInClientProxy({ name: 'AccountAddressBook', id: 'AccountAddressBook-LTEzMTQ1MjUyNTM', value: allImports['AccountAddressBook'], isDefault: false });\n","import {useMemo, useState} from 'react';\nimport {useRenderServerComponents} from '~/lib/utils';\n\nimport {Button, Text} from '~/components';\nimport {getInputStyleClasses} from '../../lib/styleUtils';\n\nexport function AccountAddressEdit({address, defaultAddress, close}) {\n  const isNewAddress = useMemo(() => !Object.keys(address).length, [address]);\n\n  const [saving, setSaving] = useState(false);\n  const [submitError, setSubmitError] = useState(null);\n  const [address1, setAddress1] = useState(address?.address1 || '');\n  const [address2, setAddress2] = useState(address?.address2 || '');\n  const [firstName, setFirstName] = useState(address?.firstName || '');\n  const [lastName, setLastName] = useState(address?.lastName || '');\n  const [company, setCompany] = useState(address?.company || '');\n  const [country, setCountry] = useState(address?.country || '');\n  const [province, setProvince] = useState(address?.province || '');\n  const [city, setCity] = useState(address?.city || '');\n  const [zip, setZip] = useState(address?.zip || '');\n  const [phone, setPhone] = useState(address?.phone || '');\n  const [isDefaultAddress, setIsDefaultAddress] = useState(defaultAddress);\n\n  // Necessary for edits to show up on the main page\n  const renderServerComponents = useRenderServerComponents();\n\n  async function onSubmit(event) {\n    event.preventDefault();\n\n    setSaving(true);\n\n    const response = await callUpdateAddressApi({\n      id: address?.originalId,\n      firstName,\n      lastName,\n      company,\n      address1,\n      address2,\n      country,\n      province,\n      city,\n      zip,\n      phone,\n      isDefaultAddress,\n    });\n\n    setSaving(false);\n\n    if (response.error) {\n      setSubmitError(response.error);\n      return;\n    }\n\n    renderServerComponents();\n    close();\n  }\n\n  return (\n    <>\n      <Text className=\"mt-4 mb-6\" as=\"h3\" size=\"lead\">\n        {isNewAddress ? 'Add address' : 'Edit address'}\n      </Text>\n      <div className=\"max-w-lg\">\n        <form noValidate onSubmit={onSubmit}>\n          {submitError && (\n            <div className=\"flex items-center justify-center mb-6 bg-red-100 rounded\">\n              <p className=\"m-4 text-sm text-red-900\">{submitError}</p>\n            </div>\n          )}\n          <div className=\"mt-3\">\n            <input\n              className={getInputStyleClasses()}\n              id=\"firstname\"\n              name=\"firstname\"\n              required\n              type=\"text\"\n              autoComplete=\"given-name\"\n              placeholder=\"First name\"\n              aria-label=\"First name\"\n              value={firstName}\n              onChange={(event) => {\n                setFirstName(event.target.value);\n              }}\n            />\n          </div>\n          <div className=\"mt-3\">\n            <input\n              className={getInputStyleClasses()}\n              id=\"lastname\"\n              name=\"lastname\"\n              required\n              type=\"text\"\n              autoComplete=\"family-name\"\n              placeholder=\"Last name\"\n              aria-label=\"Last name\"\n              value={lastName}\n              onChange={(event) => {\n                setLastName(event.target.value);\n              }}\n            />\n          </div>\n          <div className=\"mt-3\">\n            <input\n              className={getInputStyleClasses()}\n              id=\"company\"\n              name=\"company\"\n              type=\"text\"\n              autoComplete=\"organization\"\n              placeholder=\"Company\"\n              aria-label=\"Company\"\n              value={company}\n              onChange={(event) => {\n                setCompany(event.target.value);\n              }}\n            />\n          </div>\n          <div className=\"mt-3\">\n            <input\n              className={getInputStyleClasses()}\n              id=\"street1\"\n              name=\"street1\"\n              type=\"text\"\n              autoComplete=\"address-line1\"\n              placeholder=\"Address line 1*\"\n              required\n              aria-label=\"Address line 1\"\n              value={address1}\n              onChange={(event) => {\n                setAddress1(event.target.value);\n              }}\n            />\n          </div>\n          <div className=\"mt-3\">\n            <input\n              className={getInputStyleClasses()}\n              id=\"address2\"\n              name=\"address2\"\n              type=\"text\"\n              autoComplete=\"address-line2\"\n              placeholder=\"Addresss line 2\"\n              aria-label=\"Address line 2\"\n              value={address2}\n              onChange={(event) => {\n                setAddress2(event.target.value);\n              }}\n            />\n          </div>\n          <div className=\"mt-3\">\n            <input\n              className={getInputStyleClasses()}\n              id=\"city\"\n              name=\"city\"\n              type=\"text\"\n              required\n              autoComplete=\"address-level2\"\n              placeholder=\"City\"\n              aria-label=\"City\"\n              value={city}\n              onChange={(event) => {\n                setCity(event.target.value);\n              }}\n            />\n          </div>\n          <div className=\"mt-3\">\n            <input\n              className={getInputStyleClasses()}\n              id=\"state\"\n              name=\"state\"\n              type=\"text\"\n              autoComplete=\"address-level1\"\n              placeholder=\"State / Province\"\n              required\n              aria-label=\"State\"\n              value={province}\n              onChange={(event) => {\n                setProvince(event.target.value);\n              }}\n            />\n          </div>\n          <div className=\"mt-3\">\n            <input\n              className={getInputStyleClasses()}\n              id=\"zip\"\n              name=\"zip\"\n              type=\"text\"\n              autoComplete=\"postal-code\"\n              placeholder=\"Zip / Postal Code\"\n              required\n              aria-label=\"Zip\"\n              value={zip}\n              onChange={(event) => {\n                setZip(event.target.value);\n              }}\n            />\n          </div>\n          <div className=\"mt-3\">\n            <input\n              className={getInputStyleClasses()}\n              id=\"country\"\n              name=\"country\"\n              type=\"text\"\n              autoComplete=\"country-name\"\n              placeholder=\"Country\"\n              required\n              aria-label=\"Country\"\n              value={country}\n              onChange={(event) => {\n                setCountry(event.target.value);\n              }}\n            />\n          </div>\n          <div className=\"mt-3\">\n            <input\n              className={getInputStyleClasses()}\n              id=\"phone\"\n              name=\"phone\"\n              type=\"tel\"\n              autoComplete=\"tel\"\n              placeholder=\"Phone\"\n              aria-label=\"Phone\"\n              value={phone}\n              onChange={(event) => {\n                setPhone(event.target.value);\n              }}\n            />\n          </div>\n          <div className=\"mt-4\">\n            <input\n              type=\"checkbox\"\n              value=\"\"\n              name=\"defaultAddress\"\n              id=\"defaultAddress\"\n              checked={isDefaultAddress}\n              className=\"border-gray-500 rounded-sm cursor-pointer border-1\"\n              onChange={() => setIsDefaultAddress(!isDefaultAddress)}\n            />\n            <label\n              className=\"inline-block ml-2 text-sm cursor-pointer\"\n              htmlFor=\"defaultAddress\"\n            >\n              Set as default address\n            </label>\n          </div>\n          <div className=\"mt-8\">\n            <Button\n              className=\"w-full rounded focus:shadow-outline\"\n              type=\"submit\"\n              variant=\"primary\"\n              disabled={saving}\n            >\n              Save\n            </Button>\n          </div>\n          <div>\n            <Button\n              className=\"w-full mt-2 rounded focus:shadow-outline\"\n              variant=\"secondary\"\n              onClick={close}\n            >\n              Cancel\n            </Button>\n          </div>\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport async function callUpdateAddressApi({\n  id,\n  firstName,\n  lastName,\n  company,\n  address1,\n  address2,\n  country,\n  province,\n  city,\n  phone,\n  zip,\n  isDefaultAddress,\n}) {\n  try {\n    const res = await fetch(\n      id ? `/account/address/${encodeURIComponent(id)}` : '/account/address',\n      {\n        method: id ? 'PATCH' : 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          firstName,\n          lastName,\n          company,\n          address1,\n          address2,\n          country,\n          province,\n          city,\n          phone,\n          zip,\n          isDefaultAddress,\n        }),\n      },\n    );\n    if (res.ok) {\n      return {};\n    } else {\n      return res.json();\n    }\n  } catch (_e) {\n    return {\n      error: 'Error saving address. Please try again.',\n    };\n  }\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/account/AccountAddressEdit.client.jsx?no-proxy';\n\nexport const AccountAddressEdit = /* @__PURE__ */wrapInClientProxy({ name: 'AccountAddressEdit', id: 'AccountAddressEdit-LTExOTM0NjQzMjY', value: allImports['AccountAddressEdit'], isDefault: false });\nexport const callUpdateAddressApi = /* @__PURE__ */wrapInClientProxy({ name: 'callUpdateAddressApi', id: 'AccountAddressEdit-LTExOTM0NjQzMjY', value: allImports['callUpdateAddressApi'], isDefault: false });\n","import {useState} from 'react';\nimport {useNavigate, Link} from '@shopify/hydrogen/client';\nimport {getInputStyleClasses} from '../../lib/styleUtils';\n\nexport function AccountLoginForm({shopName}) {\n  const navigate = useNavigate();\n\n  const [hasSubmitError, setHasSubmitError] = useState(false);\n  const [showEmailField, setShowEmailField] = useState(true);\n  const [email, setEmail] = useState('');\n  const [emailError, setEmailError] = useState(null);\n  const [password, setPassword] = useState('');\n  const [passwordError, setPasswordError] = useState(null);\n\n  function onSubmit(event) {\n    event.preventDefault();\n\n    setEmailError(null);\n    setHasSubmitError(false);\n    setPasswordError(null);\n\n    if (showEmailField) {\n      checkEmail(event);\n    } else {\n      checkPassword(event);\n    }\n  }\n\n  function checkEmail(event) {\n    if (event.currentTarget.email.validity.valid) {\n      setShowEmailField(false);\n    } else {\n      setEmailError('Please enter a valid email');\n    }\n  }\n\n  async function checkPassword(event) {\n    const validity = event.currentTarget.password.validity;\n    if (validity.valid) {\n      const response = await callLoginApi({\n        email,\n        password,\n      });\n\n      if (response.error) {\n        setHasSubmitError(true);\n        resetForm();\n      } else {\n        navigate('/account');\n      }\n    } else {\n      setPasswordError(\n        validity.valueMissing\n          ? 'Please enter a password'\n          : 'Passwords must be at least 6 characters',\n      );\n    }\n  }\n\n  function resetForm() {\n    setShowEmailField(true);\n    setEmail('');\n    setEmailError(null);\n    setPassword('');\n    setPasswordError(null);\n  }\n\n  return (\n    <div className=\"flex justify-center my-24 px-4\">\n      <div className=\"max-w-md w-full\">\n        <h1 className=\"text-4xl\">Sign in.</h1>\n        <form noValidate className=\"pt-6 pb-8 mt-4 mb-4\" onSubmit={onSubmit}>\n          {hasSubmitError && (\n            <div className=\"flex items-center justify-center mb-6 bg-zinc-500\">\n              <p className=\"m-4 text-s text-contrast\">\n                Sorry we did not recognize either your email or password. Please\n                try to sign in again or create a new account.\n              </p>\n            </div>\n          )}\n          {showEmailField && (\n            <EmailField\n              shopName={shopName}\n              email={email}\n              setEmail={setEmail}\n              emailError={emailError}\n            />\n          )}\n          {!showEmailField && (\n            <ValidEmail email={email} resetForm={resetForm} />\n          )}\n          {!showEmailField && (\n            <PasswordField\n              password={password}\n              setPassword={setPassword}\n              passwordError={passwordError}\n            />\n          )}\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport async function callLoginApi({email, password}) {\n  try {\n    const res = await fetch(`/account/login`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({email, password}),\n    });\n    if (res.ok) {\n      return {};\n    } else {\n      return res.json();\n    }\n  } catch (error) {\n    return {\n      error: error.toString(),\n    };\n  }\n}\n\nfunction EmailField({email, setEmail, emailError, shopName}) {\n  return (\n    <>\n      <div className=\"mb-3\">\n        <input\n          className={`mb-1 ${getInputStyleClasses(emailError)}`}\n          id=\"email\"\n          name=\"email\"\n          type=\"email\"\n          autoComplete=\"email\"\n          required\n          placeholder=\"Email address\"\n          aria-label=\"Email address\"\n          // eslint-disable-next-line jsx-a11y/no-autofocus\n          autoFocus\n          value={email}\n          onChange={(event) => {\n            setEmail(event.target.value);\n          }}\n        />\n        {!emailError ? (\n          ''\n        ) : (\n          <p className={`text-red-500 text-xs`}>{emailError} &nbsp;</p>\n        )}\n      </div>\n      <div className=\"flex items-center justify-between\">\n        <button\n          className=\"bg-primary rounded text-contrast py-2 px-4 focus:shadow-outline block w-full\"\n          type=\"submit\"\n        >\n          Next\n        </button>\n      </div>\n      <div className=\"flex items-center mt-8 border-t  border-gray-300\">\n        <p className=\"align-baseline text-sm mt-6\">\n          New to {shopName}? &nbsp;\n          <Link className=\"inline underline\" to=\"/account/register\">\n            Create an account\n          </Link>\n        </p>\n      </div>\n    </>\n  );\n}\n\nfunction ValidEmail({email, resetForm}) {\n  return (\n    <div className=\"mb-3 flex items-center justify-between\">\n      <div>\n        <p>{email}</p>\n        <input\n          className=\"hidden\"\n          type=\"text\"\n          autoComplete=\"username\"\n          value={email}\n          readOnly\n        ></input>\n      </div>\n      <div>\n        <button\n          className=\"inline-block align-baseline text-sm underline\"\n          type=\"button\"\n          onClick={resetForm}\n        >\n          Change email\n        </button>\n      </div>\n    </div>\n  );\n}\n\nfunction PasswordField({password, setPassword, passwordError}) {\n  return (\n    <>\n      <div className=\"mb-3\">\n        <input\n          className={`mb-1 ${getInputStyleClasses(passwordError)}`}\n          id=\"password\"\n          name=\"password\"\n          type=\"password\"\n          autoComplete=\"current-password\"\n          placeholder=\"Password\"\n          aria-label=\"Password\"\n          value={password}\n          minLength={8}\n          required\n          // eslint-disable-next-line jsx-a11y/no-autofocus\n          autoFocus\n          onChange={(event) => {\n            setPassword(event.target.value);\n          }}\n        />\n        {!passwordError ? (\n          ''\n        ) : (\n          <p className={`text-red-500 text-xs`}> {passwordError} &nbsp;</p>\n        )}\n      </div>\n      <div className=\"flex items-center justify-between\">\n        <button\n          className=\"bg-primary text-contrast rounded py-2 px-4 focus:shadow-outline block w-full\"\n          type=\"submit\"\n        >\n          Sign in\n        </button>\n      </div>\n      <div className=\"flex items-center justify-between mt-4\">\n        <div className=\"flex-1\"></div>\n        <Link\n          className=\"inline-block align-baseline text-sm text-primary/50\"\n          to=\"/account/recover\"\n        >\n          Forgot password\n        </Link>\n      </div>\n    </>\n  );\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/account/AccountLoginForm.client.jsx?no-proxy';\n\nexport const AccountLoginForm = /* @__PURE__ */wrapInClientProxy({ name: 'AccountLoginForm', id: 'AccountLoginForm-LTE2Nzg1NjA2NjE', value: allImports['AccountLoginForm'], isDefault: false });\nexport const callLoginApi = /* @__PURE__ */wrapInClientProxy({ name: 'callLoginApi', id: 'AccountLoginForm-LTE2Nzg1NjA2NjE', value: allImports['callLoginApi'], isDefault: false });\n","import {useState} from 'react';\nimport {useNavigate, Link} from '@shopify/hydrogen/client';\n\nimport {emailValidation, passwordValidation} from '~/lib/utils';\n\nimport {callLoginApi} from './AccountLoginForm.client';\nimport {getInputStyleClasses} from '../../lib/styleUtils';\n\nexport function AccountCreateForm() {\n  const navigate = useNavigate();\n\n  const [submitError, setSubmitError] = useState(null);\n  const [email, setEmail] = useState('');\n  const [emailError, setEmailError] = useState(null);\n  const [password, setPassword] = useState('');\n  const [passwordError, setPasswordError] = useState(null);\n\n  async function onSubmit(event) {\n    event.preventDefault();\n\n    setEmailError(null);\n    setPasswordError(null);\n    setSubmitError(null);\n\n    const newEmailError = emailValidation(event.currentTarget.email);\n    if (newEmailError) {\n      setEmailError(newEmailError);\n    }\n\n    const newPasswordError = passwordValidation(event.currentTarget.password);\n    if (newPasswordError) {\n      setPasswordError(newPasswordError);\n    }\n\n    if (newEmailError || newPasswordError) {\n      return;\n    }\n\n    const accountCreateResponse = await callAccountCreateApi({\n      email,\n      password,\n    });\n\n    if (accountCreateResponse.error) {\n      setSubmitError(accountCreateResponse.error);\n      return;\n    }\n\n    // this can be avoided if customerCreate mutation returns customerAccessToken\n    await callLoginApi({\n      email,\n      password,\n    });\n\n    navigate('/account');\n  }\n\n  return (\n    <div className=\"flex justify-center my-24 px-4\">\n      <div className=\"max-w-md w-full\">\n        <h1 className=\"text-4xl\">Create an Account.</h1>\n        <form noValidate className=\"pt-6 pb-8 mt-4 mb-4\" onSubmit={onSubmit}>\n          {submitError && (\n            <div className=\"flex items-center justify-center mb-6 bg-zinc-500\">\n              <p className=\"m-4 text-s text-contrast\">{submitError}</p>\n            </div>\n          )}\n          <div className=\"mb-3\">\n            <input\n              className={`mb-1 ${getInputStyleClasses(emailError)}`}\n              id=\"email\"\n              name=\"email\"\n              type=\"email\"\n              autoComplete=\"email\"\n              required\n              placeholder=\"Email address\"\n              aria-label=\"Email address\"\n              // eslint-disable-next-line jsx-a11y/no-autofocus\n              autoFocus\n              value={email}\n              onChange={(event) => {\n                setEmail(event.target.value);\n              }}\n            />\n            {!emailError ? (\n              ''\n            ) : (\n              <p className={`text-red-500 text-xs`}>{emailError} &nbsp;</p>\n            )}\n          </div>\n          <div className=\"mb-3\">\n            <input\n              className={`mb-1 ${getInputStyleClasses(passwordError)}`}\n              id=\"password\"\n              name=\"password\"\n              type=\"password\"\n              autoComplete=\"current-password\"\n              placeholder=\"Password\"\n              aria-label=\"Password\"\n              value={password}\n              minLength={8}\n              required\n              onChange={(event) => {\n                setPassword(event.target.value);\n              }}\n            />\n            {!passwordError ? (\n              ''\n            ) : (\n              <p className={`text-red-500 text-xs`}>{passwordError} &nbsp;</p>\n            )}\n          </div>\n          <div className=\"flex items-center justify-between\">\n            <button\n              className=\"bg-primary text-contrast rounded py-2 px-4 focus:shadow-outline block w-full\"\n              type=\"submit\"\n            >\n              Create Account\n            </button>\n          </div>\n          <div className=\"flex items-center mt-4\">\n            <p className=\"align-baseline text-sm\">\n              Already have an account? &nbsp;\n              <Link className=\"inline underline\" to=\"/account\">\n                Sign in\n              </Link>\n            </p>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport async function callAccountCreateApi({\n  email,\n  password,\n  firstName,\n  lastName,\n}) {\n  try {\n    const res = await fetch(`/account/register`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({email, password, firstName, lastName}),\n    });\n    if (res.status === 200) {\n      return {};\n    } else {\n      return res.json();\n    }\n  } catch (error) {\n    return {\n      error: error.toString(),\n    };\n  }\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/account/AccountCreateForm.client.jsx?no-proxy';\n\nexport const AccountCreateForm = /* @__PURE__ */wrapInClientProxy({ name: 'AccountCreateForm', id: 'AccountCreateForm-ODA2MzkwODQ0', value: allImports['AccountCreateForm'], isDefault: false });\nexport const callAccountCreateApi = /* @__PURE__ */wrapInClientProxy({ name: 'callAccountCreateApi', id: 'AccountCreateForm-ODA2MzkwODQ0', value: allImports['callAccountCreateApi'], isDefault: false });\n","import {Text, Button} from '~/components/elements';\nimport {useRenderServerComponents} from '~/lib/utils';\n\nexport function AccountDeleteAddress({addressId, close}) {\n  // Necessary for edits to show up on the main page\n  const renderServerComponents = useRenderServerComponents();\n\n  async function deleteAddress(id) {\n    const response = await callDeleteAddressApi(id);\n    if (response.error) {\n      alert(response.error);\n      return;\n    }\n    renderServerComponents();\n    close();\n  }\n\n  return (\n    <>\n      <Text className=\"mb-4\" as=\"h3\" size=\"lead\">\n        Confirm removal\n      </Text>\n      <Text as=\"p\">Are you sure you wish to remove this address?</Text>\n      <div className=\"mt-6\">\n        <Button\n          className=\"text-sm\"\n          onClick={() => {\n            deleteAddress(addressId);\n          }}\n          variant=\"primary\"\n          width=\"full\"\n        >\n          Confirm\n        </Button>\n        <Button\n          className=\"text-sm mt-2\"\n          onClick={close}\n          variant=\"secondary\"\n          width=\"full\"\n        >\n          Cancel\n        </Button>\n      </div>\n    </>\n  );\n}\n\nexport async function callDeleteAddressApi(id) {\n  try {\n    const res = await fetch(`/account/address/${encodeURIComponent(id)}`, {\n      method: 'DELETE',\n      headers: {\n        Accept: 'application/json',\n      },\n    });\n    if (res.ok) {\n      return {};\n    } else {\n      return res.json();\n    }\n  } catch (_e) {\n    return {\n      error: 'Error removing address. Please try again.',\n    };\n  }\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/account/AccountDeleteAddress.client.jsx?no-proxy';\n\nexport const AccountDeleteAddress = /* @__PURE__ */wrapInClientProxy({ name: 'AccountDeleteAddress', id: 'AccountDeleteAddress-LTExNjA5MzkwMjU', value: allImports['AccountDeleteAddress'], isDefault: false });\nexport const callDeleteAddressApi = /* @__PURE__ */wrapInClientProxy({ name: 'callDeleteAddressApi', id: 'AccountDeleteAddress-LTExNjA5MzkwMjU', value: allImports['callDeleteAddressApi'], isDefault: false });\n","import {useState} from 'react';\n\nimport {Text, Button} from '~/components';\nimport {\n  emailValidation,\n  passwordValidation,\n  useRenderServerComponents,\n} from '~/lib/utils';\nimport {getInputStyleClasses} from '../../lib/styleUtils';\n\nexport function AccountDetailsEdit({\n  firstName: _firstName = '',\n  lastName: _lastName = '',\n  phone: _phone = '',\n  email: _email = '',\n  close,\n}) {\n  const [saving, setSaving] = useState(false);\n  const [firstName, setFirstName] = useState(_firstName);\n  const [lastName, setLastName] = useState(_lastName);\n  const [phone, setPhone] = useState(_phone);\n  const [email, setEmail] = useState(_email);\n  const [emailError, setEmailError] = useState(null);\n  const [currentPasswordError, setCurrentPasswordError] = useState(null);\n  const [newPasswordError, setNewPasswordError] = useState(null);\n  const [newPassword2Error, setNewPassword2Error] = useState(null);\n  const [submitError, setSubmitError] = useState(null);\n\n  // Necessary for edits to show up on the main page\n  const renderServerComponents = useRenderServerComponents();\n\n  async function onSubmit(event) {\n    event.preventDefault();\n\n    setEmailError(null);\n    setCurrentPasswordError(null);\n    setNewPasswordError(null);\n    setNewPassword2Error(null);\n\n    const emailError = emailValidation(event.currentTarget.email);\n    if (emailError) {\n      setEmailError(emailError);\n    }\n\n    let currentPasswordError, newPasswordError, newPassword2Error;\n\n    // Only validate the password fields if the current password has a value\n    if (event.currentTarget.currentPassword.value) {\n      currentPasswordError = passwordValidation(\n        event.currentTarget.currentPassword,\n      );\n      if (currentPasswordError) {\n        setCurrentPasswordError(currentPasswordError);\n      }\n\n      newPasswordError = passwordValidation(event.currentTarget.newPassword);\n      if (newPasswordError) {\n        setNewPasswordError(newPasswordError);\n      }\n\n      newPassword2Error =\n        event.currentTarget.newPassword.value !==\n        event.currentTarget.newPassword2.value\n          ? 'The two passwords entered did not match'\n          : null;\n      if (newPassword2Error) {\n        setNewPassword2Error(newPassword2Error);\n      }\n    }\n\n    if (\n      emailError ||\n      currentPasswordError ||\n      newPasswordError ||\n      newPassword2Error\n    ) {\n      return;\n    }\n\n    setSaving(true);\n\n    const accountUpdateResponse = await callAccountUpdateApi({\n      email,\n      newPassword: event.currentTarget.newPassword.value,\n      currentPassword: event.currentTarget.currentPassword.value,\n      phone,\n      firstName,\n      lastName,\n    });\n\n    setSaving(false);\n\n    if (accountUpdateResponse.error) {\n      setSubmitError(accountUpdateResponse.error);\n      return;\n    }\n\n    renderServerComponents();\n    close();\n  }\n\n  return (\n    <>\n      <Text className=\"mt-4 mb-6\" as=\"h3\" size=\"lead\">\n        Update your profile\n      </Text>\n      <form noValidate onSubmit={onSubmit}>\n        {submitError && (\n          <div className=\"flex items-center justify-center mb-6 bg-red-100 rounded\">\n            <p className=\"m-4 text-sm text-red-900\">{submitError}</p>\n          </div>\n        )}\n        <div className=\"mt-3\">\n          <input\n            className={getInputStyleClasses()}\n            id=\"firstname\"\n            name=\"firstname\"\n            type=\"text\"\n            autoComplete=\"given-name\"\n            placeholder=\"First name\"\n            aria-label=\"First name\"\n            value={firstName}\n            onChange={(event) => {\n              setFirstName(event.target.value);\n            }}\n          />\n        </div>\n        <div className=\"mt-3\">\n          <input\n            className={getInputStyleClasses()}\n            id=\"lastname\"\n            name=\"lastname\"\n            type=\"text\"\n            autoComplete=\"family-name\"\n            placeholder=\"Last name\"\n            aria-label=\"Last name\"\n            value={lastName}\n            onChange={(event) => {\n              setLastName(event.target.value);\n            }}\n          />\n        </div>\n        <div className=\"mt-3\">\n          <input\n            className={getInputStyleClasses()}\n            id=\"phone\"\n            name=\"phone\"\n            type=\"tel\"\n            autoComplete=\"tel\"\n            placeholder=\"Mobile\"\n            aria-label=\"Mobile\"\n            value={phone}\n            onChange={(event) => {\n              setPhone(event.target.value);\n            }}\n          />\n        </div>\n        <div className=\"mt-3\">\n          <input\n            className={getInputStyleClasses(emailError)}\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            autoComplete=\"email\"\n            required\n            placeholder=\"Email address\"\n            aria-label=\"Email address\"\n            value={email}\n            onChange={(event) => {\n              setEmail(event.target.value);\n            }}\n          />\n          <p\n            className={`text-red-500 text-xs ${!emailError ? 'invisible' : ''}`}\n          >\n            {emailError} &nbsp;\n          </p>\n        </div>\n        <Text className=\"mb-6 mt-6\" as=\"h3\" size=\"lead\">\n          Change your password\n        </Text>\n        <Password\n          name=\"currentPassword\"\n          label=\"Current password\"\n          passwordError={currentPasswordError}\n        />\n        <Password\n          name=\"newPassword\"\n          label=\"New password\"\n          passwordError={newPasswordError}\n        />\n        <Password\n          name=\"newPassword2\"\n          label=\"Re-enter new password\"\n          passwordError={newPassword2Error}\n        />\n        <Text\n          size=\"fine\"\n          color=\"subtle\"\n          className={`mt-1 ${\n            currentPasswordError || newPasswordError ? 'text-red-500' : ''\n          }`}\n        >\n          Passwords must be at least 6 characters.\n        </Text>\n        {newPassword2Error ? <br /> : null}\n        <Text\n          size=\"fine\"\n          className={`mt-1 text-red-500 ${\n            newPassword2Error ? '' : 'invisible'\n          }`}\n        >\n          {newPassword2Error} &nbsp;\n        </Text>\n        <div className=\"mt-6\">\n          <Button\n            className=\"text-sm mb-2\"\n            variant=\"primary\"\n            width=\"full\"\n            type=\"submit\"\n            disabled={saving}\n          >\n            Save\n          </Button>\n        </div>\n        <div className=\"mb-4\">\n          <Button\n            type=\"button\"\n            className=\"text-sm\"\n            variant=\"secondary\"\n            width=\"full\"\n            onClick={close}\n          >\n            Cancel\n          </Button>\n        </div>\n      </form>\n    </>\n  );\n}\n\nfunction Password({name, passwordError, label}) {\n  const [password, setPassword] = useState('');\n\n  return (\n    <div className=\"mt-3\">\n      <input\n        className={getInputStyleClasses(passwordError)}\n        id={name}\n        name={name}\n        type=\"password\"\n        autoComplete={\n          name === 'currentPassword' ? 'current-password' : undefined\n        }\n        placeholder={label}\n        aria-label={label}\n        value={password}\n        minLength={8}\n        required\n        onChange={(event) => {\n          setPassword(event.target.value);\n        }}\n      />\n    </div>\n  );\n}\n\nexport async function callAccountUpdateApi({\n  email,\n  phone,\n  firstName,\n  lastName,\n  currentPassword,\n  newPassword,\n}) {\n  try {\n    const res = await fetch(`/account`, {\n      method: 'PATCH',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        email,\n        phone,\n        firstName,\n        lastName,\n        currentPassword,\n        newPassword,\n      }),\n    });\n    if (res.ok) {\n      return {};\n    } else {\n      return res.json();\n    }\n  } catch (_e) {\n    return {\n      error: 'Error saving account. Please try again.',\n    };\n  }\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/account/AccountDetailsEdit.client.jsx?no-proxy';\n\nexport const AccountDetailsEdit = /* @__PURE__ */wrapInClientProxy({ name: 'AccountDetailsEdit', id: 'AccountDetailsEdit-MTQxOTk2NTI0', value: allImports['AccountDetailsEdit'], isDefault: false });\nexport const callAccountUpdateApi = /* @__PURE__ */wrapInClientProxy({ name: 'callAccountUpdateApi', id: 'AccountDetailsEdit-MTQxOTk2NTI0', value: allImports['callAccountUpdateApi'], isDefault: false });\n","import {Seo} from '@shopify/hydrogen';\nimport {useState} from 'react';\nimport {Modal} from '../index';\nimport {AccountDetailsEdit} from './AccountDetailsEdit.client';\n\nexport function AccountDetails({firstName, lastName, phone, email}) {\n  const [isEditing, setIsEditing] = useState(false);\n\n  const close = () => setIsEditing(false);\n\n  return (\n    <>\n      {isEditing ? (\n        <Modal close={close}>\n          <Seo type=\"noindex\" data={{title: 'Account details'}} />\n          <AccountDetailsEdit\n            firstName={firstName}\n            lastName={lastName}\n            phone={phone}\n            email={email}\n            close={close}\n          />\n        </Modal>\n      ) : null}\n      <div className=\"grid w-full gap-4 p-4 py-6 md:gap-8 md:p-8 lg:p-12\">\n        <h3 className=\"font-bold text-lead\">Account Details</h3>\n        <div className=\"lg:p-8 p-6 border border-gray-200 rounded\">\n          <div className=\"flex\">\n            <h3 className=\"font-bold text-base flex-1\">Profile & Security</h3>\n            <button\n              className=\"underline text-sm font-normal\"\n              onClick={() => setIsEditing(true)}\n            >\n              Edit\n            </button>\n          </div>\n          <div className=\"mt-4 text-sm text-primary/50\">Name</div>\n          <p className=\"mt-1\">\n            {firstName || lastName\n              ? (firstName ? firstName + ' ' : '') + lastName\n              : 'Add name'}{' '}\n          </p>\n\n          <div className=\"mt-4 text-sm text-primary/50\">Contact</div>\n          <p className=\"mt-1\">{phone ?? 'Add mobile'}</p>\n\n          <div className=\"mt-4 text-sm text-primary/50\">Email address</div>\n          <p className=\"mt-1\">{email}</p>\n\n          <div className=\"mt-4 text-sm text-primary/50\">Password</div>\n          <p className=\"mt-1\">**************</p>\n        </div>\n      </div>\n    </>\n  );\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/account/AccountDetails.client.jsx?no-proxy';\n\nexport const AccountDetails = /* @__PURE__ */wrapInClientProxy({ name: 'AccountDetails', id: 'AccountDetails-LTE2MzExMjEzMjI', value: allImports['AccountDetails'], isDefault: false });\n","import {Button, Text, OrderCard} from '~/components';\n\nexport function AccountOrderHistory({orders}) {\n  return (\n    <div className=\"mt-6\">\n      <div className=\"grid w-full gap-4 p-4 py-6 md:gap-8 md:p-8 lg:p-12\">\n        <h2 className=\"font-bold text-lead\">Order History</h2>\n        {orders?.length ? <Orders orders={orders} /> : <EmptyOrders />}\n      </div>\n    </div>\n  );\n}\n\nfunction EmptyOrders() {\n  return (\n    <div>\n      <Text className=\"mb-1\" size=\"fine\" width=\"narrow\" as=\"p\">\n        You haven&apos;t placed any orders yet.\n      </Text>\n      <div className=\"w-48\">\n        <Button className=\"text-sm mt-2 w-full\" variant=\"secondary\" to={'/'}>\n          Start Shopping\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nfunction Orders({orders}) {\n  return (\n    <ul className=\"grid-flow-row grid gap-2 gap-y-6 md:gap-4 lg:gap-6 grid-cols-1 false  sm:grid-cols-3\">\n      {orders.map((order) => (\n        <OrderCard order={order} key={order.id} />\n      ))}\n    </ul>\n  );\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/account/AccountOrderHistory.client.jsx?no-proxy';\n\nexport const AccountOrderHistory = /* @__PURE__ */wrapInClientProxy({ name: 'AccountOrderHistory', id: 'AccountOrderHistory-ODkwMDUwMTY2', value: allImports['AccountOrderHistory'], isDefault: false });\n","import {useState} from 'react';\nimport {useNavigate} from '@shopify/hydrogen/client';\nimport {getInputStyleClasses} from '../../lib/styleUtils';\n\nexport function AccountPasswordResetForm({id, resetToken}) {\n  const navigate = useNavigate();\n\n  const [submitError, setSubmitError] = useState(null);\n  const [password, setPassword] = useState('');\n  const [passwordError, setPasswordError] = useState(null);\n  const [passwordConfirm, setPasswordConfirm] = useState('');\n  const [passwordConfirmError, setPasswordConfirmError] = useState(null);\n\n  function passwordValidation(form) {\n    setPasswordError(null);\n    setPasswordConfirmError(null);\n\n    let hasError = false;\n\n    if (!form.password.validity.valid) {\n      hasError = true;\n      setPasswordError(\n        form.password.validity.valueMissing\n          ? 'Please enter a password'\n          : 'Passwords must be at least 6 characters',\n      );\n    }\n\n    if (!form.passwordConfirm.validity.valid) {\n      hasError = true;\n      setPasswordConfirmError(\n        form.password.validity.valueMissing\n          ? 'Please re-enter a password'\n          : 'Passwords must be at least 6 characters',\n      );\n    }\n\n    if (password !== passwordConfirm) {\n      hasError = true;\n      setPasswordConfirmError('The two password entered did not match.');\n    }\n\n    return hasError;\n  }\n\n  async function onSubmit(event) {\n    event.preventDefault();\n\n    if (passwordValidation(event.currentTarget)) {\n      return;\n    }\n\n    const response = await callPasswordResetApi({\n      id,\n      resetToken,\n      password,\n    });\n\n    if (response.error) {\n      setSubmitError(response.error);\n      return;\n    }\n\n    navigate('/account');\n  }\n\n  return (\n    <div className=\"flex justify-center my-24 px-4\">\n      <div className=\"max-w-md w-full\">\n        <h1 className=\"text-4xl\">Reset Password.</h1>\n        <p className=\"mt-4\">Enter a new password for your account.</p>\n        <form noValidate className=\"pt-6 pb-8 mt-4 mb-4\" onSubmit={onSubmit}>\n          {submitError && (\n            <div className=\"flex items-center justify-center mb-6 bg-zinc-500\">\n              <p className=\"m-4 text-s text-contrast\">{submitError}</p>\n            </div>\n          )}\n          <div className=\"mb-3\">\n            <input\n              className={`mb-1 ${getInputStyleClasses(passwordError)}`}\n              id=\"password\"\n              name=\"password\"\n              type=\"password\"\n              autoComplete=\"current-password\"\n              placeholder=\"Password\"\n              aria-label=\"Password\"\n              // eslint-disable-next-line jsx-a11y/no-autofocus\n              autoFocus\n              value={password}\n              minLength={8}\n              required\n              onChange={(event) => {\n                setPassword(event.target.value);\n              }}\n            />\n            <p\n              className={`text-red-500 text-xs ${\n                !passwordError ? 'invisible' : ''\n              }`}\n            >\n              {passwordError} &nbsp;\n            </p>\n          </div>\n          <div className=\"mb-3\">\n            <input\n              className={`mb-1 ${getInputStyleClasses(passwordConfirmError)}`}\n              id=\"passwordConfirm\"\n              name=\"passwordConfirm\"\n              type=\"password\"\n              autoComplete=\"current-password\"\n              placeholder=\"Re-enter password\"\n              aria-label=\"Re-enter password\"\n              value={passwordConfirm}\n              required\n              minLength={8}\n              onChange={(event) => {\n                setPasswordConfirm(event.target.value);\n              }}\n            />\n            <p\n              className={`text-red-500 text-xs ${\n                !passwordConfirmError ? 'invisible' : ''\n              }`}\n            >\n              {passwordConfirmError} &nbsp;\n            </p>\n          </div>\n          <div className=\"flex items-center justify-between\">\n            <button\n              className=\"bg-primary text-contrast rounded py-2 px-4 focus:shadow-outline block w-full\"\n              type=\"submit\"\n            >\n              Save\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport async function callPasswordResetApi({id, resetToken, password}) {\n  try {\n    const res = await fetch(`/account/reset`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({id, resetToken, password}),\n    });\n\n    if (res.ok) {\n      return {};\n    } else {\n      return res.json();\n    }\n  } catch (error) {\n    return {\n      error: error.toString(),\n    };\n  }\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/account/AccountPasswordResetForm.client.jsx?no-proxy';\n\nexport const AccountPasswordResetForm = /* @__PURE__ */wrapInClientProxy({ name: 'AccountPasswordResetForm', id: 'AccountPasswordResetForm-MjE0MDQzNDY4OA', value: allImports['AccountPasswordResetForm'], isDefault: false });\nexport const callPasswordResetApi = /* @__PURE__ */wrapInClientProxy({ name: 'callPasswordResetApi', id: 'AccountPasswordResetForm-MjE0MDQzNDY4OA', value: allImports['callPasswordResetApi'], isDefault: false });\n","import {useState} from 'react';\n\nimport {emailValidation} from '~/lib/utils';\nimport {getInputStyleClasses} from '../../lib/styleUtils';\n\nexport function AccountRecoverForm() {\n  const [submitSuccess, setSubmitSuccess] = useState(false);\n  const [submitError, setSubmitError] = useState(null);\n  const [email, setEmail] = useState('');\n  const [emailError, setEmailError] = useState(null);\n\n  async function onSubmit(event) {\n    event.preventDefault();\n\n    setEmailError(null);\n    setSubmitError(null);\n\n    const newEmailError = emailValidation(event.currentTarget.email);\n\n    if (newEmailError) {\n      setEmailError(newEmailError);\n      return;\n    }\n\n    await callAccountRecoverApi({\n      email,\n    });\n\n    setEmail('');\n    setSubmitSuccess(true);\n  }\n\n  return (\n    <div className=\"flex justify-center my-24 px-4\">\n      <div className=\"max-w-md w-full\">\n        {submitSuccess ? (\n          <>\n            <h1 className=\"text-4xl\">Request Sent.</h1>\n            <p className=\"mt-4\">\n              If that email address is in our system, you will receive an email\n              with instructions about how to reset your password in a few\n              minutes.\n            </p>\n          </>\n        ) : (\n          <>\n            <h1 className=\"text-4xl\">Forgot Password.</h1>\n            <p className=\"mt-4\">\n              Enter the email address associated with your account to receive a\n              link to reset your password.\n            </p>\n          </>\n        )}\n        <form noValidate className=\"pt-6 pb-8 mt-4 mb-4\" onSubmit={onSubmit}>\n          {submitError && (\n            <div className=\"flex items-center justify-center mb-6 bg-zinc-500\">\n              <p className=\"m-4 text-s text-contrast\">{submitError}</p>\n            </div>\n          )}\n          <div className=\"mb-3\">\n            <input\n              className={`mb-1 ${getInputStyleClasses(emailError)}`}\n              id=\"email\"\n              name=\"email\"\n              type=\"email\"\n              autoComplete=\"email\"\n              required\n              placeholder=\"Email address\"\n              aria-label=\"Email address\"\n              // eslint-disable-next-line jsx-a11y/no-autofocus\n              autoFocus\n              value={email}\n              onChange={(event) => {\n                setEmail(event.target.value);\n              }}\n            />\n            {!emailError ? (\n              ''\n            ) : (\n              <p className={`text-red-500 text-xs`}>{emailError} &nbsp;</p>\n            )}\n          </div>\n          <div className=\"flex items-center justify-between\">\n            <button\n              className=\"bg-primary text-contrast rounded py-2 px-4 focus:shadow-outline block w-full\"\n              type=\"submit\"\n            >\n              Request Reset Link\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport async function callAccountRecoverApi({\n  email,\n  password,\n  firstName,\n  lastName,\n}) {\n  try {\n    const res = await fetch(`/account/recover`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({email, password, firstName, lastName}),\n    });\n    if (res.status === 200) {\n      return {};\n    } else {\n      return res.json();\n    }\n  } catch (error) {\n    return {\n      error: error.toString(),\n    };\n  }\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/account/AccountRecoverForm.client.jsx?no-proxy';\n\nexport const AccountRecoverForm = /* @__PURE__ */wrapInClientProxy({ name: 'AccountRecoverForm', id: 'AccountRecoverForm-MTYzODc1MDA5Ng', value: allImports['AccountRecoverForm'], isDefault: false });\nexport const callAccountRecoverApi = /* @__PURE__ */wrapInClientProxy({ name: 'callAccountRecoverApi', id: 'AccountRecoverForm-MTYzODc1MDA5Ng', value: allImports['callAccountRecoverApi'], isDefault: false });\n","import {Image, Link} from '@shopify/hydrogen';\n\nexport function ArticleCard({blogHandle, article, loading}) {\n  return (\n    <li key={article.id}>\n      <Link to={`/${blogHandle}/${article.handle}`}>\n        {article.image && (\n          <div className=\"card-image aspect-[3/2]\">\n            <Image\n              alt={article.image.altText || article.title}\n              className=\"object-cover w-full\"\n              data={article.image}\n              height={400}\n              loading={loading}\n              sizes=\"(min-width: 768px) 50vw, 100vw\"\n              width={600}\n              loaderOptions={{\n                scale: 2,\n                crop: 'center',\n              }}\n            />\n          </div>\n        )}\n        <h2 className=\"mt-4 font-medium\">{article.title}</h2>\n        <span className=\"block mt-1\">{article.publishedAt}</span>\n      </Link>\n    </li>\n  );\n}\n","import {Image, Link, flattenConnection} from '@shopify/hydrogen';\n\nimport {Heading, Text} from '~/components';\nimport {statusMessage} from '~/lib/utils';\n\nexport function OrderCard({order}) {\n  if (!order?.id) return null;\n  const legacyOrderId = order.id.split('/').pop().split('?')[0];\n  const lineItems = flattenConnection(order?.lineItems);\n\n  return (\n    <li className=\"grid text-center border rounded\">\n      <Link\n        className=\"grid items-center gap-4 p-4 md:gap-6 md:p-6 md:grid-cols-2\"\n        to={`/account/orders/${legacyOrderId}`}\n      >\n        {lineItems[0].variant?.image && (\n          <div className=\"card-image aspect-square bg-primary/5\">\n            <Image\n              width={168}\n              height={168}\n              widths={[168]}\n              className=\"w-full fadeIn cover\"\n              alt={lineItems[0].variant?.image?.altText ?? 'Order image'}\n              // @ts-expect-error Stock line item variant image type has `url` as optional\n              data={lineItems[0].variant?.image}\n              loaderOptions={{scale: 2, crop: 'center'}}\n            />\n          </div>\n        )}\n        <div\n          className={`flex-col justify-center text-left ${\n            !lineItems[0].variant?.image && 'md:col-span-2'\n          }`}\n        >\n          <Heading as=\"h3\" format size=\"copy\">\n            {lineItems.length > 1\n              ? `${lineItems[0].title} +${lineItems.length - 1} more`\n              : lineItems[0].title}\n          </Heading>\n          <dl className=\"grid grid-gap-1\">\n            <dt className=\"sr-only\">Order ID</dt>\n            <dd>\n              <Text size=\"fine\" color=\"subtle\">\n                Order No. {order.orderNumber}\n              </Text>\n            </dd>\n            <dt className=\"sr-only\">Order Date</dt>\n            <dd>\n              <Text size=\"fine\" color=\"subtle\">\n                {new Date(order.processedAt).toDateString()}\n              </Text>\n            </dd>\n            <dt className=\"sr-only\">Fulfillment Status</dt>\n            <dd className=\"mt-2\">\n              <span\n                className={`px-3 py-1 text-xs font-medium rounded-full ${\n                  order.fulfillmentStatus === 'FULFILLED'\n                    ? 'bg-green-100 text-green-800'\n                    : 'bg-primary/5 text-primary/50'\n                }`}\n              >\n                <Text size=\"fine\">\n                  {statusMessage(order.fulfillmentStatus)}\n                </Text>\n              </span>\n            </dd>\n          </dl>\n        </div>\n      </Link>\n      <div className=\"self-end border-t\">\n        <Link\n          className=\"block w-full p-2 text-center\"\n          to={`/account/orders/${legacyOrderId}`}\n        >\n          <Text color=\"subtle\" className=\"ml-3\">\n            View Details\n          </Text>\n        </Link>\n      </div>\n    </li>\n  );\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/cards/OrderCard.client.jsx?no-proxy';\n\nexport const OrderCard = /* @__PURE__ */wrapInClientProxy({ name: 'OrderCard', id: 'OrderCard-LTY0NDIwNTM1NQ', value: allImports['OrderCard'], isDefault: false });\n","// Demo store placeholders\nconst PLACEHOLDERS = {\n  HEROS: [\n    // primaryHero\n    {\n      heading: {value: 'All Mountain All Season'},\n      byline: {\n        value: 'The All New Hydrogen Snowboard Exclusively From Shopify',\n      },\n      cta: {value: 'Shop Now '},\n      handle: 'freestyle',\n      spread: {\n        reference: {\n          mediaContentType: 'IMAGE',\n          alt: 'Tracks in the snow leading to a person on a mountain top with a red jacket contrasting to an epic blue horizon with a mountain range in the distance.',\n          previewImage: {\n            url: 'https://cdn.shopify.com/s/files/1/0551/4566/0472/files/Hydrogen_Hero_Feature_1.jpg?v=1654902468',\n          },\n          id: 'gid://shopify/MediaImage/29259478466616',\n          image: {\n            url: 'https://cdn.shopify.com/s/files/1/0551/4566/0472/files/Hydrogen_Hero_Feature_1.jpg?v=1654902468',\n            width: 2500,\n            height: 3155,\n          },\n        },\n      },\n      spreadSecondary: {\n        reference: {\n          mediaContentType: 'IMAGE',\n          alt: 'A snowboarder standing on a mountain top in choppy snow, shows off the back of his snowboard which reads Hydrogen in a cursive script.',\n          previewImage: {\n            url: 'https://cdn.shopify.com/s/files/1/0551/4566/0472/files/Hydrogen_Hero_Feature_2.jpg?v=1654902468',\n          },\n          id: 'gid://shopify/MediaImage/29259478499384',\n          image: {\n            url: 'https://cdn.shopify.com/s/files/1/0551/4566/0472/files/Hydrogen_Hero_Feature_2.jpg?v=1654902468',\n            width: 2500,\n            height: 3155,\n          },\n        },\n      },\n      height: 'full',\n      top: true,\n      loading: 'eager',\n    },\n    // secondaryHero\n    {\n      heading: {value: 'The Winter 2022 Collection'},\n      byline: {value: 'Just Dropped'},\n      cta: {value: 'Shop Now '},\n      handle: 'winter-2022',\n      spread: {\n        reference: {\n          mediaContentType: 'IMAGE',\n          alt: 'Three young women in snowboarding attire embracing and laughing while snow falls around them',\n          previewImage: {\n            url: 'https://cdn.shopify.com/s/files/1/0551/4566/0472/files/Collection_Feature_Wide.jpg?v=1654902160',\n          },\n          id: 'gid://shopify/MediaImage/29259478302776',\n          image: {\n            url: 'https://cdn.shopify.com/s/files/1/0551/4566/0472/files/Collection_Feature_Wide.jpg?v=1654902160',\n            width: 5000,\n            height: 2500,\n          },\n        },\n      },\n      spreadSecondary: null,\n    },\n    // tertiaryHero\n    {\n      heading: {value: 'From the Slopes to the Chalet'},\n      byline: null,\n      cta: {value: 'Shop Now '},\n      handle: 'backcountry',\n      spread: {\n        reference: {\n          mediaContentType: 'IMAGE',\n          alt: 'A skier hikes up a mountain through the snow with skis over their shoulder.',\n          previewImage: {\n            url: 'https://cdn.shopify.com/s/files/1/0551/4566/0472/files/Chalet_Collection_Feature_1.jpg?v=1654902306',\n          },\n          id: 'gid://shopify/MediaImage/29259478368312',\n          image: {\n            url: 'https://cdn.shopify.com/s/files/1/0551/4566/0472/files/Chalet_Collection_Feature_1.jpg?v=1654902306',\n            width: 2500,\n            height: 2500,\n          },\n        },\n      },\n      spreadSecondary: {\n        reference: {\n          mediaContentType: 'IMAGE',\n          alt: 'A snow covered lodge is illuminated by lights at night with a dark starry sky and mountain backdrop.',\n          previewImage: {\n            url: 'https://cdn.shopify.com/s/files/1/0551/4566/0472/files/Chalet_Collection_Feature_2.jpg?v=1654902306',\n          },\n          id: 'gid://shopify/MediaImage/29259478401080',\n          image: {\n            url: 'https://cdn.shopify.com/s/files/1/0551/4566/0472/files/Chalet_Collection_Feature_2.jpg?v=1654902306',\n            width: 2500,\n            height: 2500,\n          },\n        },\n      },\n    },\n  ],\n  PRODUCT_INFO: [\n    {\n      title: 'Description',\n      content:\n        'We threw snow tires on our core classics... Good for all year round! Named after my favorite football match of the year. Just like any of our joints, dress them up or down...',\n    },\n    {\n      title: 'Size and Fit',\n      content:\n        'We threw snow tires on our core classics... Good for all year round! Named after my favorite football match of the year. Just like any of our joints, dress them up or down...',\n    },\n    {\n      title: 'Delivery and Returns',\n      content: `The towels had been hanging from the rod for years. They were stained and worn, and quite frankly, just plain ugly. Debra didn't want to touch them but she really didn't have a choice. It was important for her to see what was living within them. Patrick didn't want to go. The fact that she was insisting they must go made him want to go even less. He had no desire to make small talk with strangers he would never again see just to be polite. But she insisted that Patrick go, and she would soon find out that this would be the biggest mistake she could make in their relationship.`,\n    },\n  ],\n  PRODUCT: {\n    label: 'Limited Edition',\n    id: 'gid://shopify/Product/6730850828344',\n    title: 'The Hydrogen',\n    publishedAt: '2021-06-17T18:33:17Z',\n    handle: 'snowboard',\n    description:\n      \"Description Our flagship board, ideal for technical terrain and those who dare to go where the chairlift can't take you. The Hydrogen excels in the backcountry making riding out of bounds as easy as resort groomers. New for 2021, the Hydrogen Snowboard has Oxygen Pack inserts giving you more float on the deepest days. Care Guide Clean well after use Wax regularly Specs Weight: 5 lb Length: 4 ft Width: 1 ft Manufactured on: 8/2/2021, 3:30:00 PM Manufactured by: Shopify\",\n    priceRange: {\n      minVariantPrice: {\n        amount: '775.0',\n        currencyCode: 'CAD',\n      },\n      maxVariantPrice: {\n        amount: '775.0',\n        currencyCode: 'CAD',\n      },\n    },\n    options: [\n      {\n        name: 'Color',\n        values: ['Morning', 'Evening', 'Night'],\n      },\n      {\n        name: 'Size',\n        values: ['154', '158', '160'],\n      },\n    ],\n    variants: {\n      nodes: [\n        {\n          id: 'gid://shopify/ProductVariant/41007289630776',\n          image: {\n            url: 'https://cdn.shopify.com/s/files/1/0551/4566/0472/products/hydrogen-morning.jpg?v=1636146509',\n            altText: 'The Hydrogen snowboard, color Morning',\n            width: 1200,\n            height: 1504,\n          },\n          priceV2: {\n            amount: '775.0',\n            currencyCode: 'CAD',\n          },\n          compareAtPriceV2: {\n            amount: '840.0',\n            currencyCode: 'CAD',\n          },\n        },\n      ],\n    },\n  },\n};\n\n/**\n * getHeroPlaceholder() returns placeholder content when the expected metafields\n * don't exist. Define the following five custom metafields on your Shopify store to override placeholders:\n * - hero.title             Single line text\n * - hero.byline            Single line text\n * - hero.cta               Single line text\n * - hero.spread            File\n * - hero.spread_secondary   File\n *\n * @see https://help.shopify.com/manual/metafields/metafield-definitions/creating-custom-metafield-definitions\n * @see https://github.com/Shopify/hydrogen/discussions/1790\n */\n\nexport function getHeroPlaceholder(heros) {\n  if (!heros?.length) return [];\n\n  // when we pass a collection without metafields,\n  // we merge it with placeholder data\n  return heros.map((hero, index) => {\n    // assume passed hero has metafields data already\n    if (hero?.heading?.value) {\n      return hero;\n    }\n\n    // hero placeholder\n    const placeholder = PLACEHOLDERS.HEROS[index];\n\n    // prioritize metafield data if available, else the hero hero values\n    // otherwise the placeholder values\n    const byLine =\n      hero?.byLine || hero?.descriptionHtml\n        ? {value: hero.descriptionHtml}\n        : placeholder.byline;\n\n    const heading =\n      hero?.heading || hero?.title ? {value: hero.title} : placeholder.heading;\n\n    // merge hero placeholder with hero data\n    return {\n      heading,\n      byLine,\n      cta: hero?.cta || placeholder.cta,\n      handle: hero?.handle || placeholder.handle,\n      id: hero?.id || index,\n      spread: hero?.spread || placeholder.spread,\n      spreadSecondary: hero?.spreadSecondary || placeholder.spreadSecondary,\n      height: placeholder?.height || undefined,\n      top: placeholder?.top || undefined,\n    };\n  });\n}\n\n// get product info placeholder data\nexport function getProductInfoPlaceholder() {\n  function getMultipleRandom(arr, infos) {\n    const shuffled = [...arr].sort(() => 0.5 - Math.random());\n    return shuffled.slice(0, infos);\n  }\n  return getMultipleRandom(PLACEHOLDERS.PRODUCT_INFO, 3);\n}\n\nexport function getProductPlaceholder() {\n  return PLACEHOLDERS.PRODUCT;\n}\n","import clsx from 'clsx';\nimport {\n  flattenConnection,\n  Image,\n  Link,\n  Money,\n  useMoney,\n} from '@shopify/hydrogen';\n\nimport {Text} from '~/components';\nimport {isDiscounted, isNewArrival} from '~/lib/utils';\nimport {getProductPlaceholder} from '~/lib/placeholders';\n\nexport function ProductCard({product, label, className, loading, onClick}) {\n  let cardLabel;\n\n  const cardData = product?.variants ? product : getProductPlaceholder();\n\n  const {\n    image,\n    priceV2: price,\n    compareAtPriceV2: compareAtPrice,\n  } = flattenConnection(cardData?.variants)[0] || {};\n\n  if (label) {\n    cardLabel = label;\n  } else if (isDiscounted(price, compareAtPrice)) {\n    cardLabel = 'Sale';\n  } else if (isNewArrival(product.publishedAt)) {\n    cardLabel = 'New';\n  }\n\n  const styles = clsx('grid gap-6', className);\n\n  return (\n    <Link onClick={onClick} to={`/products/${product.handle}`}>\n      <div className={styles}>\n        <div className=\"card-image aspect-[4/5] bg-primary/5\">\n          <Text\n            as=\"label\"\n            size=\"fine\"\n            className=\"absolute top-0 right-0 m-4 text-right text-notice\"\n          >\n            {cardLabel}\n          </Text>\n          {image && (\n            <Image\n              className=\"aspect-[4/5] w-full object-cover fadeIn\"\n              widths={[320]}\n              sizes=\"320px\"\n              loaderOptions={{\n                crop: 'center',\n                scale: 2,\n                width: 320,\n                height: 400,\n              }}\n              // @ts-ignore Stock type has `src` as optional\n              data={image}\n              alt={image.altText || `Picture of ${product.title}`}\n              loading={loading}\n            />\n          )}\n        </div>\n        <div className=\"grid gap-1\">\n          <Text\n            className=\"w-full overflow-hidden whitespace-nowrap text-ellipsis \"\n            as=\"h3\"\n          >\n            {product.title}\n          </Text>\n          <div className=\"flex gap-4\">\n            <Text className=\"flex gap-4\">\n              <Money withoutTrailingZeros data={price} />\n              {isDiscounted(price, compareAtPrice) && (\n                <CompareAtPrice\n                  className={'opacity-50'}\n                  data={compareAtPrice}\n                />\n              )}\n            </Text>\n          </div>\n        </div>\n      </div>\n    </Link>\n  );\n}\n\nfunction CompareAtPrice({data, className}) {\n  const {currencyNarrowSymbol, withoutTrailingZerosAndCurrency} =\n    useMoney(data);\n\n  const styles = clsx('strike', className);\n\n  return (\n    <span className={styles}>\n      {currencyNarrowSymbol}\n      {withoutTrailingZerosAndCurrency}\n    </span>\n  );\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/cards/ProductCard.client.jsx?no-proxy';\n\nexport const ProductCard = /* @__PURE__ */wrapInClientProxy({ name: 'ProductCard', id: 'ProductCard-MjAyMzA2NzM0OA', value: allImports['ProductCard'], isDefault: false });\n","import {useRef} from 'react';\nimport {useScroll} from 'react-use';\nimport {\n  Link,\n  useCart,\n  CartLineProvider,\n  CartShopPayButton,\n  Money,\n} from '@shopify/hydrogen';\n\nimport {Button, Text, CartLineItem, CartEmpty} from '~/components';\n\nexport function CartDetails({layout, onClose}) {\n  const {lines} = useCart();\n  const scrollRef = useRef(null);\n  const {y} = useScroll(scrollRef);\n\n  if (lines.length === 0) {\n    return <CartEmpty onClose={onClose} layout={layout} />;\n  }\n\n  const container = {\n    drawer: 'grid grid-cols-1 h-screen-no-nav grid-rows-[1fr_auto]',\n    page: 'pb-12 grid md:grid-cols-2 md:items-start gap-8 md:gap-8 lg:gap-12',\n  };\n\n  const content = {\n    drawer: 'px-6 pb-6 sm-max:pt-2 overflow-auto transition md:px-12',\n    page: 'flex-grow md:translate-y-4',\n  };\n\n  const summary = {\n    drawer: 'grid gap-6 p-6 border-t md:px-12',\n    page: 'sticky top-nav grid gap-6 p-4 md:px-6 md:translate-y-4 bg-primary/5 rounded w-full',\n  };\n\n  return (\n    <form className={container[layout]}>\n      <section\n        ref={scrollRef}\n        aria-labelledby=\"cart-contents\"\n        className={`${content[layout]} ${y > 0 ? 'border-t' : ''}`}\n      >\n        <ul className=\"grid gap-6 md:gap-10\">\n          {lines.map((line) => {\n            return (\n              <CartLineProvider key={line.id} line={line}>\n                <CartLineItem />\n              </CartLineProvider>\n            );\n          })}\n        </ul>\n      </section>\n      <section aria-labelledby=\"summary-heading\" className={summary[layout]}>\n        <h2 id=\"summary-heading\" className=\"sr-only\">\n          Order summary\n        </h2>\n        <OrderSummary />\n        <CartCheckoutActions />\n      </section>\n    </form>\n  );\n}\n\nfunction CartCheckoutActions() {\n  const {checkoutUrl} = useCart();\n  return (\n    <>\n      <div className=\"grid gap-4\">\n        {checkoutUrl ? (\n          <Link to={checkoutUrl} prefetch={false} target=\"_self\">\n            <Button as=\"span\" width=\"full\">\n              Continue to Checkout\n            </Button>\n          </Link>\n        ) : null}\n        <CartShopPayButton />\n      </div>\n    </>\n  );\n}\n\nfunction OrderSummary() {\n  const {cost} = useCart();\n  return (\n    <>\n      <dl className=\"grid\">\n        <div className=\"flex items-center justify-between font-medium\">\n          <Text as=\"dt\">Subtotal</Text>\n          <Text as=\"dd\">\n            {cost?.subtotalAmount?.amount ? (\n              <Money data={cost?.subtotalAmount} />\n            ) : (\n              '-'\n            )}\n          </Text>\n        </div>\n      </dl>\n    </>\n  );\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/cart/CartDetails.client.jsx?no-proxy';\n\nexport const CartDetails = /* @__PURE__ */wrapInClientProxy({ name: 'CartDetails', id: 'CartDetails-MTMyODUzMzA2', value: allImports['CartDetails'], isDefault: false });\n","import {useRef} from 'react';\nimport {useScroll} from 'react-use';\nimport {fetchSync} from '@shopify/hydrogen';\nimport {Button, Text, ProductCard, Heading, Skeleton} from '~/components';\nimport {Suspense} from 'react';\n\nexport function CartEmpty({onClose, layout = 'drawer'}) {\n  const scrollRef = useRef(null);\n  const {y} = useScroll(scrollRef);\n\n  const container = {\n    drawer: `grid content-start gap-4 px-6 pb-8 transition overflow-y-scroll md:gap-12 md:px-12 h-screen-no-nav md:pb-12 ${\n      y > 0 ? 'border-t' : ''\n    }`,\n    page: `grid pb-12 w-full md:items-start gap-4 md:gap-8 lg:gap-12`,\n  };\n\n  const topProductsContainer = {\n    drawer: '',\n    page: 'md:grid-cols-4 sm:grid-col-4',\n  };\n\n  return (\n    <div ref={scrollRef} className={container[layout]}>\n      <section className=\"grid gap-6\">\n        <Text format>\n          Looks like you haven&rsquo;t added anything yet, let&rsquo;s get you\n          started!\n        </Text>\n        <div>\n          <Button onClick={onClose}>Continue shopping</Button>\n        </div>\n      </section>\n      <section className=\"grid gap-8 pt-4\">\n        <Heading format size=\"copy\">\n          Shop Best Sellers\n        </Heading>\n        <div\n          className={`grid grid-cols-2 gap-x-6 gap-y-8 ${topProductsContainer[layout]}`}\n        >\n          <Suspense fallback={<Loading />}>\n            <TopProducts onClose={onClose} />\n          </Suspense>\n        </div>\n      </section>\n    </div>\n  );\n}\n\nfunction TopProducts({onClose}) {\n  const response = fetchSync('/api/bestSellers');\n\n  if (!response.ok) {\n    console.error(\n      `Unable to load top products ${response.url} returned a ${response.status}`,\n    );\n    return null;\n  }\n\n  const products = response.json();\n\n  if (products.length === 0) {\n    return <Text format>No products found.</Text>;\n  }\n\n  return (\n    <>\n      {products.map((product) => (\n        <ProductCard product={product} key={product.id} onClick={onClose} />\n      ))}\n    </>\n  );\n}\n\nfunction Loading() {\n  return (\n    <>\n      {[...new Array(4)].map((_, i) => (\n        // eslint-disable-next-line react/no-array-index-key\n        <div key={i} className=\"grid gap-2\">\n          <Skeleton className=\"aspect-[3/4]\" />\n          <Skeleton className=\"w-32 h-4\" />\n        </div>\n      ))}\n    </>\n  );\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/cart/CartEmpty.client.jsx?no-proxy';\n\nexport const CartEmpty = /* @__PURE__ */wrapInClientProxy({ name: 'CartEmpty', id: 'CartEmpty-LTM4NTM5OTA4OQ', value: allImports['CartEmpty'], isDefault: false });\n","import {\n  useCart,\n  useCartLine,\n  CartLineQuantityAdjustButton,\n  CartLinePrice,\n  CartLineQuantity,\n  Image,\n  Link,\n} from '@shopify/hydrogen';\n\nimport {Heading, IconRemove, Text} from '~/components';\n\nexport function CartLineItem() {\n  const {linesRemove} = useCart();\n  const {id: lineId, quantity, merchandise} = useCartLine();\n\n  return (\n    <li key={lineId} className=\"flex gap-4\">\n      <div className=\"flex-shrink\">\n        <Image\n          width={112}\n          height={112}\n          widths={[112]}\n          data={merchandise.image}\n          loaderOptions={{\n            scale: 2,\n            crop: 'center',\n          }}\n          className=\"object-cover object-center w-24 h-24 border rounded md:w-28 md:h-28\"\n        />\n      </div>\n\n      <div className=\"flex justify-between flex-grow\">\n        <div className=\"grid gap-2\">\n          <Heading as=\"h3\" size=\"copy\">\n            <Link to={`/products/${merchandise.product.handle}`}>\n              {merchandise.product.title}\n            </Link>\n          </Heading>\n\n          <div className=\"grid pb-2\">\n            {(merchandise?.selectedOptions || []).map((option) => (\n              <Text color=\"subtle\" key={option.name}>\n                {option.name}: {option.value}\n              </Text>\n            ))}\n          </div>\n\n          <div className=\"flex items-center gap-2\">\n            <div className=\"flex justify-start text-copy\">\n              <CartLineQuantityAdjust lineId={lineId} quantity={quantity} />\n            </div>\n            <button\n              type=\"button\"\n              onClick={() => linesRemove([lineId])}\n              className=\"flex items-center justify-center w-10 h-10 border rounded\"\n            >\n              <span className=\"sr-only\">Remove</span>\n              <IconRemove aria-hidden=\"true\" />\n            </button>\n          </div>\n        </div>\n        <Text>\n          <CartLinePrice as=\"span\" />\n        </Text>\n      </div>\n    </li>\n  );\n}\n\nfunction CartLineQuantityAdjust({lineId, quantity}) {\n  return (\n    <>\n      <label htmlFor={`quantity-${lineId}`} className=\"sr-only\">\n        Quantity, {quantity}\n      </label>\n      <div className=\"flex items-center border rounded\">\n        <CartLineQuantityAdjustButton\n          adjust=\"decrease\"\n          aria-label=\"Decrease quantity\"\n          className=\"w-10 h-10 transition text-primary/50 hover:text-primary disabled:cursor-wait\"\n        >\n          &#8722;\n        </CartLineQuantityAdjustButton>\n        <CartLineQuantity as=\"div\" className=\"px-2 text-center\" />\n        <CartLineQuantityAdjustButton\n          adjust=\"increase\"\n          aria-label=\"Increase quantity\"\n          className=\"w-10 h-10 transition text-primary/50 hover:text-primary disabled:cursor-wait\"\n        >\n          &#43;\n        </CartLineQuantityAdjustButton>\n      </div>\n    </>\n  );\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/cart/CartLineItem.client.jsx?no-proxy';\n\nexport const CartLineItem = /* @__PURE__ */wrapInClientProxy({ name: 'CartLineItem', id: 'CartLineItem-LTczNDE1NDgzMQ', value: allImports['CartLineItem'], isDefault: false });\n","import {Fragment, useState} from 'react';\n// @ts-expect-error @headlessui/react incompatibility with node16 resolution\nimport {Dialog, Transition} from '@headlessui/react';\n\nimport {Heading, IconClose} from '~/components';\n\n/**\n * Drawer component that opens on user click.\n * @param heading - string. Shown at the top of the drawer.\n * @param open - boolean state. if true opens the drawer.\n * @param onClose - function should set the open state.\n * @param openFrom - right, left\n * @param children - react children node.\n */\nfunction Drawer({heading, open, onClose, openFrom = 'right', children}) {\n  const offScreen = {\n    right: 'translate-x-full',\n    left: '-translate-x-full',\n  };\n\n  return (\n    <Transition appear show={open} as={Fragment}>\n      <Dialog as=\"div\" className=\"relative z-50\" onClose={onClose}>\n        <Transition.Child\n          as={Fragment}\n          enter=\"ease-out duration-300\"\n          enterFrom=\"opacity-0 left-0\"\n          enterTo=\"opacity-100\"\n          leave=\"ease-in duration-200\"\n          leaveFrom=\"opacity-100\"\n          leaveTo=\"opacity-0\"\n        >\n          <div className=\"fixed inset-0 bg-black bg-opacity-25\" />\n        </Transition.Child>\n\n        <div className=\"fixed inset-0\">\n          <div className=\"absolute inset-0 overflow-hidden\">\n            <div\n              className={`fixed inset-y-0 flex max-w-full ${\n                openFrom === 'right' ? 'right-0' : ''\n              }`}\n            >\n              <Transition.Child\n                as={Fragment}\n                enter=\"transform transition ease-in-out duration-300\"\n                enterFrom={offScreen[openFrom]}\n                enterTo=\"translate-x-0\"\n                leave=\"transform transition ease-in-out duration-300\"\n                leaveFrom=\"translate-x-0\"\n                leaveTo={offScreen[openFrom]}\n              >\n                <Dialog.Panel className=\"w-screen max-w-lg text-left align-middle transition-all transform shadow-xl h-screen-dynamic bg-contrast\">\n                  <header\n                    className={`sticky top-0 flex items-center px-6 h-nav sm:px-8 md:px-12 ${\n                      heading ? 'justify-between' : 'justify-end'\n                    }`}\n                  >\n                    {heading !== null && (\n                      <Dialog.Title>\n                        <Heading as=\"span\" size=\"lead\" id=\"cart-contents\">\n                          {heading}\n                        </Heading>\n                      </Dialog.Title>\n                    )}\n                    <button\n                      type=\"button\"\n                      className=\"p-4 -m-4 transition text-primary hover:text-primary/50\"\n                      onClick={onClose}\n                    >\n                      <IconClose aria-label=\"Close panel\" />\n                    </button>\n                  </header>\n                  {children}\n                </Dialog.Panel>\n              </Transition.Child>\n            </div>\n          </div>\n        </div>\n      </Dialog>\n    </Transition>\n  );\n}\n\n/* Use for associating arialabelledby with the title*/\nDrawer.Title = Dialog.Title;\n\nexport {Drawer};\n\nexport function useDrawer(openDefault = false) {\n  const [isOpen, setIsOpen] = useState(openDefault);\n\n  function openDrawer() {\n    setIsOpen(true);\n  }\n\n  function closeDrawer() {\n    setIsOpen(false);\n  }\n\n  return {\n    isOpen,\n    openDrawer,\n    closeDrawer,\n  };\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/global/Drawer.client.jsx?no-proxy';\n\nexport const Drawer = /* @__PURE__ */wrapInClientProxy({ name: 'Drawer', id: 'Drawer-NDQ0ODQ3NTk0', value: allImports['Drawer'], isDefault: false });\nexport const useDrawer = /* @__PURE__ */wrapInClientProxy({ name: 'useDrawer', id: 'Drawer-NDQ0ODQ3NTk0', value: allImports['useDrawer'], isDefault: false });\n","// @ts-expect-error @headlessui/react incompatibility with node16 resolution\nimport {Disclosure} from '@headlessui/react';\nimport {Link} from '@shopify/hydrogen';\n\nimport {Heading, IconCaret} from '~/components';\n\n/**\n * A server component that specifies the content of the footer on the website\n */\nexport function FooterMenu({menu}) {\n  const styles = {\n    section: 'grid gap-4',\n    nav: 'grid gap-2 pb-6',\n  };\n\n  return (\n    <>\n      {(menu?.items || []).map((item) => (\n        <section key={item.id} className={styles.section}>\n          <Disclosure>\n            {/* @ts-expect-error @headlessui/react incompatibility with node16 resolution */}\n            {({open}) => (\n              <>\n                <Disclosure.Button className=\"text-left md:cursor-default\">\n                  <Heading className=\"flex justify-between\" size=\"lead\" as=\"h3\">\n                    {item.title}\n                    {item?.items?.length > 0 && (\n                      <span className=\"md:hidden\">\n                        <IconCaret direction={open ? 'up' : 'down'} />\n                      </span>\n                    )}\n                  </Heading>\n                </Disclosure.Button>\n                {item?.items?.length > 0 && (\n                  <div\n                    className={`${\n                      open ? `max-h-48 h-fit` : `max-h-0 md:max-h-fit`\n                    } overflow-hidden transition-all duration-300`}\n                  >\n                    <Disclosure.Panel static>\n                      <nav className={styles.nav}>\n                        {item.items.map((subItem) => (\n                          <Link\n                            key={subItem.id}\n                            to={subItem.to}\n                            target={subItem.target}\n                          >\n                            {subItem.title}\n                          </Link>\n                        ))}\n                      </nav>\n                    </Disclosure.Panel>\n                  </div>\n                )}\n              </>\n            )}\n          </Disclosure>\n        </section>\n      ))}{' '}\n    </>\n  );\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/global/FooterMenu.client.jsx?no-proxy';\n\nexport const FooterMenu = /* @__PURE__ */wrapInClientProxy({ name: 'FooterMenu', id: 'FooterMenu-LTYxNTQ3OTAwNw', value: allImports['FooterMenu'], isDefault: false });\n","import {CartDetails} from '~/components/cart';\nimport {Drawer} from './Drawer.client';\n\nexport function CartDrawer({isOpen, onClose}) {\n  return (\n    <Drawer open={isOpen} onClose={onClose} heading=\"Cart\" openFrom=\"right\">\n      <div className=\"grid\">\n        <CartDetails layout=\"drawer\" onClose={onClose} />\n      </div>\n    </Drawer>\n  );\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/global/CartDrawer.client.jsx?no-proxy';\n\nexport const CartDrawer = /* @__PURE__ */wrapInClientProxy({ name: 'CartDrawer', id: 'CartDrawer-MjA2MDU2ODEwNg', value: allImports['CartDrawer'], isDefault: false });\n","import {Text} from '~/components';\nimport {Drawer} from './Drawer.client';\nimport {Link} from '@shopify/hydrogen';\n\nexport function MenuDrawer({isOpen, onClose, menu}) {\n  return (\n    <Drawer open={isOpen} onClose={onClose} openFrom=\"left\" heading=\"Menu\">\n      <div className=\"grid\">\n        <MenuMobileNav menu={menu} onClose={onClose} />\n      </div>\n    </Drawer>\n  );\n}\n\nfunction MenuMobileNav({menu, onClose}) {\n  return (\n    <nav className=\"grid gap-4 p-6 sm:gap-6 sm:px-12 sm:py-8\">\n      {/* Top level menu items */}\n      {(menu?.items || []).map((item) => (\n        <Link key={item.id} to={item.to} target={item.target} onClick={onClose}>\n          <Text as=\"span\" size=\"copy\">\n            {item.title}\n          </Text>\n        </Link>\n      ))}\n    </nav>\n  );\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/global/MenuDrawer.client.jsx?no-proxy';\n\nexport const MenuDrawer = /* @__PURE__ */wrapInClientProxy({ name: 'MenuDrawer', id: 'MenuDrawer-NjI0NjI4MTcx', value: allImports['MenuDrawer'], isDefault: false });\n","import {Link, useUrl, useCart} from '@shopify/hydrogen';\nimport {useWindowScroll} from 'react-use';\n\nimport {\n  Heading,\n  IconAccount,\n  IconBag,\n  IconMenu,\n  IconSearch,\n  Input,\n} from '~/components';\n\nimport {CartDrawer} from './CartDrawer.client';\nimport {MenuDrawer} from './MenuDrawer.client';\nimport {useDrawer} from './Drawer.client';\n\n/**\n * A client component that specifies the content of the header on the website\n */\nexport function Header({title, menu}) {\n  const {pathname} = useUrl();\n\n  const localeMatch = /^\\/([a-z]{2})(\\/|$)/i.exec(pathname);\n  const countryCode = localeMatch ? localeMatch[1] : undefined;\n\n  const isHome = pathname === `/${countryCode ? countryCode + '/' : ''}`;\n\n  const {\n    isOpen: isCartOpen,\n    openDrawer: openCart,\n    closeDrawer: closeCart,\n  } = useDrawer();\n\n  const {\n    isOpen: isMenuOpen,\n    openDrawer: openMenu,\n    closeDrawer: closeMenu,\n  } = useDrawer();\n\n  return (\n    <>\n      <CartDrawer isOpen={isCartOpen} onClose={closeCart} />\n      <MenuDrawer isOpen={isMenuOpen} onClose={closeMenu} menu={menu} />\n      <DesktopHeader\n        countryCode={countryCode}\n        isHome={isHome}\n        title={title}\n        menu={menu}\n        openCart={openCart}\n      />\n      <MobileHeader\n        countryCode={countryCode}\n        isHome={isHome}\n        title={title}\n        openCart={openCart}\n        openMenu={openMenu}\n      />\n    </>\n  );\n}\n\nfunction MobileHeader({countryCode, title, isHome, openCart, openMenu}) {\n  const {y} = useWindowScroll();\n\n  const styles = {\n    button: 'relative flex items-center justify-center w-8 h-8',\n    container: `${\n      isHome\n        ? 'bg-primary/80 dark:bg-contrast/60 text-contrast dark:text-primary shadow-darkHeader'\n        : 'bg-contrast/80 text-primary'\n    } ${\n      y > 50 && !isHome ? 'shadow-lightHeader ' : ''\n    }flex lg:hidden items-center h-nav sticky backdrop-blur-lg z-40 top-0 justify-between w-full leading-none gap-4 px-4 md:px-8`,\n  };\n\n  return (\n    <header role=\"banner\" className={styles.container}>\n      <div className=\"flex items-center justify-start w-full gap-4\">\n        <button onClick={openMenu} className={styles.button}>\n          <IconMenu />\n        </button>\n        <form\n          action={`/${countryCode ? countryCode + '/' : ''}search`}\n          className=\"items-center gap-2 sm:flex\"\n        >\n          <button type=\"submit\" className={styles.button}>\n            <IconSearch />\n          </button>\n          <Input\n            className={\n              isHome\n                ? 'focus:border-contrast/20 dark:focus:border-primary/20'\n                : 'focus:border-primary/20'\n            }\n            type=\"search\"\n            variant=\"minisearch\"\n            placeholder=\"Search\"\n            name=\"q\"\n          />\n        </form>\n      </div>\n\n      <Link\n        className=\"flex items-center self-stretch leading-[3rem] md:leading-[4rem] justify-center flex-grow w-full h-full\"\n        to=\"/\"\n      >\n        <Heading className=\"font-bold text-center\" as={isHome ? 'h1' : 'h2'}>\n          {title}\n        </Heading>\n      </Link>\n\n      <div className=\"flex items-center justify-end w-full gap-4\">\n        <Link to={'/account'} className={styles.button}>\n          <IconAccount />\n        </Link>\n        <button onClick={openCart} className={styles.button}>\n          <IconBag />\n          <CartBadge dark={isHome} />\n        </button>\n      </div>\n    </header>\n  );\n}\n\nfunction DesktopHeader({countryCode, isHome, menu, openCart, title}) {\n  const {y} = useWindowScroll();\n\n  const styles = {\n    button:\n      'relative flex items-center justify-center w-8 h-8 focus:ring-primary/5',\n    container: `${\n      isHome\n        ? 'bg-primary/80 dark:bg-contrast/60 text-contrast dark:text-primary shadow-darkHeader'\n        : 'bg-contrast/80 text-primary'\n    } ${\n      y > 50 && !isHome ? 'shadow-lightHeader ' : ''\n    }hidden h-nav lg:flex items-center sticky transition duration-300 backdrop-blur-lg z-40 top-0 justify-between w-full leading-none gap-8 px-12 py-8`,\n  };\n\n  return (\n    <header role=\"banner\" className={styles.container}>\n      <div className=\"flex gap-12\">\n        <Link className={`font-bold`} to=\"/\">\n          {title}\n        </Link>\n        <nav className=\"flex gap-8\">\n          {/* Top level menu items */}\n          {(menu?.items || []).map((item) => (\n            <Link key={item.id} to={item.to} target={item.target}>\n              {item.title}\n            </Link>\n          ))}\n        </nav>\n      </div>\n      <div className=\"flex items-center gap-1\">\n        <form\n          action={`/${countryCode ? countryCode + '/' : ''}search`}\n          className=\"flex items-center gap-2\"\n        >\n          <Input\n            className={\n              isHome\n                ? 'focus:border-contrast/20 dark:focus:border-primary/20'\n                : 'focus:border-primary/20'\n            }\n            type=\"search\"\n            variant=\"minisearch\"\n            placeholder=\"Search\"\n            name=\"q\"\n          />\n          <button type=\"submit\" className={styles.button}>\n            <IconSearch />\n          </button>\n        </form>\n        <Link to={'/account'} className={styles.button}>\n          <IconAccount />\n        </Link>\n        <button onClick={openCart} className={styles.button}>\n          <IconBag />\n          <CartBadge dark={isHome} />\n        </button>\n      </div>\n    </header>\n  );\n}\n\nfunction CartBadge({dark}) {\n  const {totalQuantity} = useCart();\n\n  if (totalQuantity < 1) {\n    return null;\n  }\n  return (\n    <div\n      className={`${\n        dark\n          ? 'text-primary bg-contrast dark:text-contrast dark:bg-primary'\n          : 'text-contrast bg-primary'\n      } absolute bottom-1 right-1 text-[0.625rem] font-medium subpixel-antialiased h-3 min-w-[0.75rem] flex items-center justify-center leading-none text-center rounded-full w-auto px-[0.125rem] pb-px`}\n    >\n      <span>{totalQuantity}</span>\n    </div>\n  );\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/global/Header.client.jsx?no-proxy';\n\nexport const Header = /* @__PURE__ */wrapInClientProxy({ name: 'Header', id: 'Header-NjI1ODA4MDc4', value: allImports['Header'], isDefault: false });\n","import {IconClose} from '~/components';\n\nexport function Modal({children, close}) {\n  return (\n    <div\n      className=\"relative z-50\"\n      aria-labelledby=\"modal-title\"\n      role=\"dialog\"\n      aria-modal=\"true\"\n      id=\"modal-bg\"\n    >\n      <div className=\"fixed inset-0 transition-opacity bg-opacity-75 bg-primary/40\"></div>\n      <div className=\"fixed inset-0 z-50 overflow-y-auto\">\n        <div className=\"flex items-center justify-center min-h-full p-4 text-center sm:p-0\">\n          <div\n            className=\"relative flex-1 px-4 pt-5 pb-4 overflow-hidden text-left transition-all transform rounded shadow-xl bg-contrast sm:my-12 sm:flex-none sm:w-full sm:max-w-sm sm:p-6\"\n            role=\"button\"\n            onClick={(e) => e.stopPropagation()}\n            onKeyPress={(e) => e.stopPropagation()}\n            tabIndex={0}\n          >\n            <div className=\"absolute top-0 right-0 hidden pt-4 pr-4 sm:block\">\n              <button\n                type=\"button\"\n                className=\"p-4 -m-4 transition text-primary hover:text-primary/50\"\n                onClick={close}\n              >\n                <IconClose aria-label=\"Close panel\" />\n              </button>\n            </div>\n            {children}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/global/Modal.client.jsx?no-proxy';\n\nexport const Modal = /* @__PURE__ */wrapInClientProxy({ name: 'Modal', id: 'Modal-MTU3MzIwNTA2OA', value: allImports['Modal'], isDefault: false });\n","import clsx from 'clsx';\n\nimport {Heading} from '~/components';\n\nexport function PageHeader({\n  children,\n  className,\n  heading,\n  variant = 'default',\n  ...props\n}) {\n  const variants = {\n    default: 'grid w-full gap-8 p-6 py-8 md:p-8 lg:p-12 justify-items-start',\n    blogPost:\n      'grid md:text-center w-full gap-4 p-6 py-8 md:p-8 lg:p-12 md:justify-items-center',\n    allCollections:\n      'flex justify-between items-baseline gap-8 p-6 md:p-8 lg:p-12',\n  };\n\n  const styles = clsx(variants[variant], className);\n\n  return (\n    <header {...props} className={styles}>\n      {heading && (\n        <Heading as=\"h1\" width=\"narrow\" size=\"heading\" className=\"inline-block\">\n          {heading}\n        </Heading>\n      )}\n      {children}\n    </header>\n  );\n}\n","import {useEffect, useCallback, useState} from 'react';\n\nimport {\n  useProductOptions,\n  isBrowser,\n  useUrl,\n  AddToCartButton,\n  Money,\n  ShopPayButton,\n} from '@shopify/hydrogen';\n\nimport {Heading, Text, Button, ProductOptions} from '~/components';\n\nexport function ProductForm() {\n  const {pathname, search} = useUrl();\n  const [params, setParams] = useState(new URLSearchParams(search));\n\n  const {options, setSelectedOption, selectedOptions, selectedVariant} =\n    useProductOptions();\n\n  const isOutOfStock = !selectedVariant?.availableForSale || false;\n  const isOnSale =\n    selectedVariant?.priceV2?.amount <\n      selectedVariant?.compareAtPriceV2?.amount || false;\n\n  useEffect(() => {\n    if (params || !search) return;\n    setParams(new URLSearchParams(search));\n  }, [params, search]);\n\n  useEffect(() => {\n    options.map(({name, values}) => {\n      if (!params) return;\n      const currentValue = params.get(name.toLowerCase()) || null;\n      if (currentValue) {\n        const matchedValue = values.filter(\n          (value) => encodeURIComponent(value.toLowerCase()) === currentValue,\n        );\n        setSelectedOption(name, matchedValue[0]);\n      } else {\n        params.set(\n          encodeURIComponent(name.toLowerCase()),\n          encodeURIComponent(selectedOptions[name].toLowerCase()),\n        ),\n          window.history.replaceState(\n            null,\n            '',\n            `${pathname}?${params.toString()}`,\n          );\n      }\n    });\n  }, []);\n\n  const handleChange = useCallback(\n    (name, value) => {\n      setSelectedOption(name, value);\n      if (!params) return;\n      params.set(\n        encodeURIComponent(name.toLowerCase()),\n        encodeURIComponent(value.toLowerCase()),\n      );\n      if (isBrowser()) {\n        window.history.replaceState(\n          null,\n          '',\n          `${pathname}?${params.toString()}`,\n        );\n      }\n    },\n    [setSelectedOption, params, pathname],\n  );\n\n  return (\n    <form className=\"grid gap-10\">\n      {\n        <div className=\"grid gap-4\">\n          {options.map(({name, values}) => {\n            if (values.length === 1) {\n              return null;\n            }\n            return (\n              <div\n                key={name}\n                className=\"flex flex-col flex-wrap mb-4 gap-y-2 last:mb-0\"\n              >\n                <Heading as=\"legend\" size=\"lead\" className=\"min-w-[4rem]\">\n                  {name}\n                </Heading>\n                <div className=\"flex flex-wrap items-baseline gap-4\">\n                  <ProductOptions\n                    name={name}\n                    handleChange={handleChange}\n                    values={values}\n                  />\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      }\n      <div className=\"grid items-stretch gap-4\">\n        <AddToCartButton\n          variantId={selectedVariant?.id}\n          quantity={1}\n          accessibleAddingToCartLabel=\"Adding item to your cart\"\n          disabled={isOutOfStock}\n          type=\"button\"\n        >\n          <Button\n            width=\"full\"\n            variant={isOutOfStock ? 'secondary' : 'primary'}\n            as=\"span\"\n          >\n            {isOutOfStock ? (\n              <Text>Sold out</Text>\n            ) : (\n              <Text\n                as=\"span\"\n                className=\"flex items-center justify-center gap-2\"\n              >\n                <span>Add to bag</span> <span></span>{' '}\n                <Money\n                  withoutTrailingZeros\n                  data={selectedVariant.priceV2}\n                  as=\"span\"\n                />\n                {isOnSale && (\n                  <Money\n                    withoutTrailingZeros\n                    data={selectedVariant.compareAtPriceV2}\n                    as=\"span\"\n                    className=\"opacity-50 strike\"\n                  />\n                )}\n              </Text>\n            )}\n          </Button>\n        </AddToCartButton>\n        {!isOutOfStock && <ShopPayButton variantIds={[selectedVariant.id]} />}\n      </div>\n    </form>\n  );\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/product/ProductForm.client.jsx?no-proxy';\n\nexport const ProductForm = /* @__PURE__ */wrapInClientProxy({ name: 'ProductForm', id: 'ProductForm-MTUxOTA4NjE2NA', value: allImports['ProductForm'], isDefault: false });\n","export const PAGINATION_SIZE = 8;\nexport const DEFAULT_GRID_IMG_LOAD_EAGER_COUNT = 4;\nexport const ATTR_LOADING_EAGER = 'eager';\n\nexport function getImageLoadingPriority(\n  index,\n  maxEagerLoadCount = DEFAULT_GRID_IMG_LOAD_EAGER_COUNT,\n) {\n  return index < maxEagerLoadCount ? ATTR_LOADING_EAGER : undefined;\n}\n","import {MediaFile} from '@shopify/hydrogen/client';\nimport {ATTR_LOADING_EAGER} from '~/lib/const';\n\n/**\n * A client component that defines a media gallery for hosting images, 3D models, and videos of products\n */\nexport function ProductGallery({media, className}) {\n  if (!media.length) {\n    return null;\n  }\n\n  return (\n    <div\n      className={`swimlane md:grid-flow-row hiddenScroll md:p-0 md:overflow-x-auto md:grid-cols-2 ${className}`}\n    >\n      {media.map((med, i) => {\n        let mediaProps = {};\n        const isFirst = i === 0;\n        const isFourth = i === 3;\n        const isFullWidth = i % 3 === 0;\n\n        const data = {\n          ...med,\n          image: {\n            // @ts-ignore\n            ...med.image,\n            altText: med.alt || 'Product image',\n          },\n        };\n\n        switch (med.mediaContentType) {\n          case 'IMAGE':\n            mediaProps = {\n              width: 800,\n              widths: [400, 800, 1200, 1600, 2000, 2400],\n            };\n            break;\n          case 'VIDEO':\n            mediaProps = {\n              width: '100%',\n              autoPlay: true,\n              controls: false,\n              muted: true,\n              loop: true,\n              preload: 'auto',\n            };\n            break;\n          case 'EXTERNAL_VIDEO':\n            mediaProps = {width: '100%'};\n            break;\n          case 'MODEL_3D':\n            mediaProps = {\n              width: '100%',\n              interactionPromptThreshold: '0',\n              ar: true,\n              loading: ATTR_LOADING_EAGER,\n              disableZoom: true,\n            };\n            break;\n        }\n\n        if (i === 0 && med.mediaContentType === 'IMAGE') {\n          mediaProps.loading = ATTR_LOADING_EAGER;\n        }\n\n        const style = [\n          isFullWidth ? 'md:col-span-2' : 'md:col-span-1',\n          isFirst || isFourth ? '' : 'md:aspect-[4/5]',\n          'aspect-square snap-center card-image bg-white dark:bg-contrast/10 w-mobileGallery md:w-full',\n        ].join(' ');\n\n        return (\n          <div\n            className={style}\n            // @ts-ignore\n            key={med.id || med.image.id}\n          >\n            <MediaFile\n              tabIndex=\"0\"\n              className={`w-full h-full aspect-square fadeIn object-cover`}\n              data={data}\n              sizes={\n                isFullWidth\n                  ? '(min-width: 64em) 60vw, (min-width: 48em) 50vw, 90vw'\n                  : '(min-width: 64em) 30vw, (min-width: 48em) 25vw, 90vw'\n              }\n              // @ts-ignore\n              options={{\n                crop: 'center',\n                scale: 2,\n              }}\n              {...mediaProps}\n            />\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/product/ProductGallery.client.jsx?no-proxy';\n\nexport const ProductGallery = /* @__PURE__ */wrapInClientProxy({ name: 'ProductGallery', id: 'ProductGallery-LTMwMjA1MjQwNg', value: allImports['ProductGallery'], isDefault: false });\n","import {useState, useRef, useEffect, useCallback} from 'react';\nimport {Link, flattenConnection} from '@shopify/hydrogen';\n\nimport {Button, Grid, ProductCard} from '~/components';\nimport {getImageLoadingPriority} from '~/lib/const';\n\nexport function ProductGrid({url, collection}) {\n  const nextButtonRef = useRef(null);\n  const initialProducts = collection?.products?.nodes || [];\n  const {hasNextPage, endCursor} = collection?.products?.pageInfo ?? {};\n  const [products, setProducts] = useState(initialProducts);\n  const [cursor, setCursor] = useState(endCursor ?? '');\n  const [nextPage, setNextPage] = useState(hasNextPage);\n  const [pending, setPending] = useState(false);\n  const haveProducts = initialProducts.length > 0;\n\n  const fetchProducts = useCallback(async () => {\n    setPending(true);\n    const postUrl = new URL(window.location.origin + url);\n    postUrl.searchParams.set('cursor', cursor);\n\n    const response = await fetch(postUrl, {\n      method: 'POST',\n    });\n    const {data} = await response.json();\n\n    // ProductGrid can paginate collection, products and search routes\n    // @ts-ignore TODO: Fix types\n    const newProducts = flattenConnection(\n      data?.collection?.products || data?.products || [],\n    );\n    const {endCursor, hasNextPage} = data?.collection?.products?.pageInfo ||\n      data?.products?.pageInfo || {endCursor: '', hasNextPage: false};\n\n    setProducts([...products, ...newProducts]);\n    setCursor(endCursor);\n    setNextPage(hasNextPage);\n    setPending(false);\n  }, [cursor, url, products]);\n\n  const handleIntersect = useCallback(\n    (entries) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          fetchProducts();\n        }\n      });\n    },\n    [fetchProducts],\n  );\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(handleIntersect, {\n      rootMargin: '100%',\n    });\n\n    const nextButton = nextButtonRef.current;\n\n    if (nextButton) observer.observe(nextButton);\n\n    return () => {\n      if (nextButton) observer.unobserve(nextButton);\n    };\n  }, [nextButtonRef, cursor, handleIntersect]);\n\n  if (!haveProducts) {\n    return (\n      <>\n        <p>No products found on this collection</p>\n        <Link to=\"/products\">\n          <p className=\"underline\">Browse catalog</p>\n        </Link>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <Grid layout=\"products\">\n        {products.map((product, i) => (\n          <ProductCard\n            key={product.id}\n            product={product}\n            loading={getImageLoadingPriority(i)}\n          />\n        ))}\n      </Grid>\n\n      {nextPage && (\n        <div\n          className=\"flex items-center justify-center mt-6\"\n          ref={nextButtonRef}\n        >\n          <Button\n            variant=\"secondary\"\n            disabled={pending}\n            onClick={fetchProducts}\n            width=\"full\"\n          >\n            {pending ? 'Loading...' : 'Load more products'}\n          </Button>\n        </div>\n      )}\n    </>\n  );\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/product/ProductGrid.client.jsx?no-proxy';\n\nexport const ProductGrid = /* @__PURE__ */wrapInClientProxy({ name: 'ProductGrid', id: 'ProductGrid-LTEzMDYxMjI2MDY', value: allImports['ProductGrid'], isDefault: false });\n","// @ts-expect-error @headlessui/react incompatibility with node16 resolution\nimport {Disclosure} from '@headlessui/react';\nimport {Link} from '@shopify/hydrogen';\n\nimport {Text, IconClose} from '~/components';\n\nexport function ProductDetail({title, content, learnMore}) {\n  return (\n    <Disclosure key={title} as=\"div\" className=\"grid w-full gap-2\">\n      {/* @ts-expect-error @headlessui/react incompatibility with node16 resolution */}\n      {({open}) => (\n        <>\n          <Disclosure.Button className=\"text-left\">\n            <div className=\"flex justify-between\">\n              <Text size=\"lead\" as=\"h4\">\n                {title}\n              </Text>\n              <IconClose\n                className={`${\n                  open ? '' : 'rotate-[45deg]'\n                } transition-transform transform-gpu duration-200`}\n              />\n            </div>\n          </Disclosure.Button>\n\n          <Disclosure.Panel className={'pb-4 pt-2 grid gap-2'}>\n            <div\n              className=\"prose dark:prose-invert\"\n              dangerouslySetInnerHTML={{__html: content}}\n            />\n            {learnMore && (\n              <div className=\"\">\n                <Link\n                  className=\"pb-px border-b border-primary/30 text-primary/50\"\n                  to={learnMore}\n                >\n                  Learn more\n                </Link>\n              </div>\n            )}\n          </Disclosure.Panel>\n        </>\n      )}\n    </Disclosure>\n  );\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/product/ProductDetail.client.jsx?no-proxy';\n\nexport const ProductDetail = /* @__PURE__ */wrapInClientProxy({ name: 'ProductDetail', id: 'ProductDetail-MTYyMDY4ODE2Nw', value: allImports['ProductDetail'], isDefault: false });\n","import {useCallback, useState} from 'react';\n// @ts-expect-error @headlessui/react incompatibility with node16 resolution\nimport {Listbox} from '@headlessui/react';\nimport {useProductOptions} from '@shopify/hydrogen';\n\nimport {Text, IconCheck, IconCaret} from '~/components';\n\nexport function ProductOptions({values, ...props}) {\n  const asDropdown = values.length > 7;\n\n  return asDropdown ? (\n    <OptionsDropdown values={values} {...props} />\n  ) : (\n    <OptionsGrid values={values} {...props} />\n  );\n}\n\nfunction OptionsGrid({values, name, handleChange}) {\n  const {selectedOptions} = useProductOptions();\n\n  return (\n    <>\n      {values.map((value) => {\n        const checked = selectedOptions[name] === value;\n        const id = `option-${name}-${value}`;\n\n        return (\n          <Text as=\"label\" key={id} htmlFor={id}>\n            <input\n              className=\"sr-only\"\n              type=\"radio\"\n              id={id}\n              name={`option[${name}]`}\n              value={value}\n              checked={checked}\n              onChange={() => handleChange(name, value)}\n            />\n            <div\n              className={`leading-none py-1 border-b-[1.5px] cursor-pointer transition-all duration-200 ${\n                checked ? 'border-primary/50' : 'border-primary/0'\n              }`}\n            >\n              {value}\n            </div>\n          </Text>\n        );\n      })}\n    </>\n  );\n}\n\n// TODO: De-dupe UI with CountrySelector\nfunction OptionsDropdown({values, name, handleChange}) {\n  const [listboxOpen, setListboxOpen] = useState(false);\n  const {selectedOptions} = useProductOptions();\n\n  const updateSelectedOption = useCallback(\n    (value) => {\n      handleChange(name, value);\n    },\n    [name, handleChange],\n  );\n\n  return (\n    <div className=\"relative w-full\">\n      <Listbox onChange={updateSelectedOption} value=\"\">\n        {/* @ts-expect-error @headlessui/react incompatibility with node16 resolution */}\n        {({open}) => {\n          setTimeout(() => setListboxOpen(open));\n          return (\n            <>\n              <Listbox.Button\n                className={`flex items-center justify-between w-full py-3 px-4 border border-primary ${\n                  open ? 'rounded-b md:rounded-t md:rounded-b-none' : 'rounded'\n                }`}\n              >\n                <span>{selectedOptions[name]}</span>\n                <IconCaret direction={open ? 'up' : 'down'} />\n              </Listbox.Button>\n\n              <Listbox.Options\n                className={`border-primary bg-contrast absolute bottom-12 z-30 grid\n                h-48 w-full overflow-y-scroll rounded-t border px-2 py-2 transition-[max-height]\n                duration-150 sm:bottom-auto md:rounded-b md:rounded-t-none md:border-t-0 md:border-b ${\n                  listboxOpen ? 'max-h-48' : 'max-h-0'\n                }`}\n              >\n                {values.map((value) => {\n                  const isSelected = selectedOptions[name] === value;\n                  const id = `option-${name}-${value}`;\n\n                  return (\n                    <Listbox.Option key={id} value={value}>\n                      {/* @ts-expect-error @headlessui/react incompatibility with node16 resolution */}\n                      {({active}) => (\n                        <div\n                          className={`text-primary w-full p-2 transition rounded flex justify-start items-center text-left cursor-pointer ${\n                            active ? 'bg-primary/10' : null\n                          }`}\n                        >\n                          {value}\n                          {isSelected ? (\n                            <span className=\"ml-2\">\n                              <IconCheck />\n                            </span>\n                          ) : null}\n                        </div>\n                      )}\n                    </Listbox.Option>\n                  );\n                })}\n              </Listbox.Options>\n            </>\n          );\n        }}\n      </Listbox>\n    </div>\n  );\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/product/ProductOptions.client.jsx?no-proxy';\n\nexport const ProductOptions = /* @__PURE__ */wrapInClientProxy({ name: 'ProductOptions', id: 'ProductOptions-LTEyNDIzODUxNTQ', value: allImports['ProductOptions'], isDefault: false });\n","import {Link, Image} from '@shopify/hydrogen';\n\nimport {Heading, Section, Grid} from '~/components';\n\nexport function FeaturedCollections({data, title = 'Collections', ...props}) {\n  const items = data.filter((item) => item.image).length;\n  const haveCollections = data.length > 0;\n\n  if (!haveCollections) return null;\n\n  return (\n    <Section {...props} heading={title}>\n      <Grid items={items}>\n        {data.map((collection) => {\n          if (!collection?.image) {\n            return null;\n          }\n          // TODO: Refactor to use CollectionCard\n          return (\n            <Link key={collection.id} to={`/collections/${collection.handle}`}>\n              <div className=\"grid gap-4\">\n                <div className=\"card-image bg-primary/5 aspect-[3/2]\">\n                  {collection?.image && (\n                    <Image\n                      alt={`Image of ${collection.title}`}\n                      data={collection.image}\n                      height={400}\n                      sizes=\"(max-width: 32em) 100vw, 33vw\"\n                      width={600}\n                      widths={[400, 500, 600, 700, 800, 900]}\n                      loaderOptions={{\n                        scale: 2,\n                        crop: 'center',\n                      }}\n                    />\n                  )}\n                </div>\n                <Heading size=\"copy\">{collection.title}</Heading>\n              </div>\n            </Link>\n          );\n        })}\n      </Grid>\n    </Section>\n  );\n}\n","import {Image, Link, Video} from '@shopify/hydrogen';\n\nimport {Heading, Text} from '~/components';\n\nexport function Hero({\n  byline,\n  cta,\n  handle,\n  heading,\n  height,\n  loading,\n  spread,\n  spreadSecondary,\n  top,\n}) {\n  return (\n    <Link to={`/collections/${handle}`}>\n      <section\n        className={`relative justify-end flex flex-col w-full ${\n          top && '-mt-nav'\n        } ${\n          height === 'full'\n            ? 'h-screen'\n            : 'aspect-[4/5] sm:aspect-square md:aspect-[5/4] lg:aspect-[3/2] xl:aspect-[2/1]'\n        }`}\n      >\n        <div className=\"absolute inset-0 grid flex-grow grid-flow-col pointer-events-none auto-cols-fr -z-10 content-stretch overflow-clip\">\n          {spread?.reference && (\n            <div className=\"\">\n              <SpreadMedia\n                scale={2}\n                sizes={\n                  spreadSecondary?.reference\n                    ? '(min-width: 80em) 700px, (min-width: 48em) 450px, 500px'\n                    : '(min-width: 80em) 1400px, (min-width: 48em) 900px, 500px'\n                }\n                widths={\n                  spreadSecondary?.reference\n                    ? [500, 450, 700]\n                    : [500, 900, 1400]\n                }\n                width={spreadSecondary?.reference ? 375 : 750}\n                data={spread.reference}\n                loading={loading}\n              />\n            </div>\n          )}\n          {spreadSecondary?.reference && (\n            <div className=\"hidden md:block\">\n              <SpreadMedia\n                sizes=\"(min-width: 80em) 700, (min-width: 48em) 450, 500\"\n                widths={[450, 700]}\n                width={375}\n                data={spreadSecondary.reference}\n              />\n            </div>\n          )}\n        </div>\n        <div className=\"flex flex-col items-baseline justify-between gap-4 px-6 py-8 sm:px-8 md:px-12 bg-gradient-to-t dark:from-contrast/60 dark:text-primary from-primary/60 text-contrast\">\n          {heading?.value && (\n            <Heading format as=\"h2\" size=\"display\" className=\"max-w-md\">\n              {heading.value}\n            </Heading>\n          )}\n          {byline?.value && (\n            <Text format width=\"narrow\" as=\"p\" size=\"lead\">\n              {byline.value}\n            </Text>\n          )}\n          {cta?.value && <Text size=\"lead\">{cta.value}</Text>}\n        </div>\n      </section>\n    </Link>\n  );\n}\n\nfunction SpreadMedia({data, loading, scale, sizes, width, widths}) {\n  if (data.mediaContentType === 'VIDEO') {\n    return (\n      <Video\n        previewImageOptions={{scale, src: data.previewImage.url}}\n        width={scale * width}\n        className=\"block object-cover w-full h-full\"\n        data={data}\n        controls={false}\n        muted\n        loop\n        playsInline\n        autoPlay\n      />\n    );\n  }\n\n  if (data.mediaContentType === 'IMAGE') {\n    return (\n      <Image\n        widths={widths}\n        sizes={sizes}\n        alt={data.alt || 'Marketing Banner Image'}\n        className=\"block object-cover w-full h-full\"\n        // @ts-ignore\n        data={data.image}\n        loading={loading}\n        width={width}\n        loaderOptions={{scale, crop: 'center'}}\n      />\n    );\n  }\n\n  return null;\n}\n","import {useCallback, useState, Suspense} from 'react';\nimport {useLocalization, fetchSync} from '@shopify/hydrogen';\n// @ts-expect-error @headlessui/react incompatibility with node16 resolution\nimport {Listbox} from '@headlessui/react';\n\nimport {IconCheck, IconCaret} from '~/components';\nimport {useMemo} from 'react';\n\n/**\n * A client component that selects the appropriate country to display for products on a website\n */\nexport function CountrySelector() {\n  const [listboxOpen, setListboxOpen] = useState(false);\n  const {\n    country: {isoCode},\n  } = useLocalization();\n  const currentCountry = useMemo(() => {\n    const regionNamesInEnglish = new Intl.DisplayNames(['en'], {\n      type: 'region',\n    });\n\n    return {\n      name: regionNamesInEnglish.of(isoCode),\n      isoCode: isoCode,\n    };\n  }, [isoCode]);\n\n  const setCountry = useCallback(\n    ({isoCode: newIsoCode}) => {\n      const currentPath = window.location.pathname;\n      let redirectPath;\n\n      if (newIsoCode !== 'US') {\n        if (currentCountry.isoCode === 'US') {\n          redirectPath = `/${newIsoCode.toLowerCase()}${currentPath}`;\n        } else {\n          redirectPath = `/${newIsoCode.toLowerCase()}${currentPath.substring(\n            currentPath.indexOf('/', 1),\n          )}`;\n        }\n      } else {\n        redirectPath = `${currentPath.substring(currentPath.indexOf('/', 1))}`;\n      }\n\n      window.location.href = redirectPath;\n    },\n    [currentCountry],\n  );\n\n  return (\n    <div className=\"relative\">\n      <Listbox onChange={setCountry}>\n        {/* @ts-expect-error @headlessui/react incompatibility with node16 resolution */}\n        {({open}) => {\n          setTimeout(() => setListboxOpen(open));\n          return (\n            <>\n              <Listbox.Button\n                className={`flex items-center justify-between w-full py-3 px-4 border ${\n                  open ? 'rounded-b md:rounded-t md:rounded-b-none' : 'rounded'\n                } border-contrast/30 dark:border-white`}\n              >\n                <span className=\"\">{currentCountry.name}</span>\n                <IconCaret direction={open ? 'up' : 'down'} />\n              </Listbox.Button>\n\n              <Listbox.Options\n                className={`border-t-contrast/30 border-contrast/30 bg-primary dark:bg-contrast absolute bottom-12 z-10 grid\n                h-48 w-full overflow-y-scroll rounded-t border dark:border-white px-2 py-2\n                transition-[max-height] duration-150 sm:bottom-auto md:rounded-b md:rounded-t-none\n                md:border-t-0 md:border-b ${\n                  listboxOpen ? 'max-h-48' : 'max-h-0'\n                }`}\n              >\n                {listboxOpen && (\n                  <Suspense fallback={<div className=\"p-2\">Loading</div>}>\n                    {/* @ts-expect-error @headlessui/react incompatibility with node16 resolution */}\n                    <Countries\n                      selectedCountry={currentCountry}\n                      getClassName={(active) => {\n                        return `text-contrast dark:text-primary bg-primary \n                        dark:bg-contrast w-full p-2 transition rounded \n                        flex justify-start items-center text-left cursor-pointer ${\n                          active ? 'bg-primary/10' : null\n                        }`;\n                      }}\n                    />\n                  </Suspense>\n                )}\n              </Listbox.Options>\n            </>\n          );\n        }}\n      </Listbox>\n    </div>\n  );\n}\n\nexport function Countries({selectedCountry, getClassName}) {\n  const response = fetchSync('/api/countries');\n\n  let countries;\n\n  if (response.ok) {\n    countries = response.json();\n  } else {\n    console.error(\n      `Unable to load available countries ${response.url} returned a ${response.status}`,\n    );\n  }\n\n  return countries ? (\n    countries.map((country) => {\n      const isSelected = country.isoCode === selectedCountry.isoCode;\n\n      return (\n        <Listbox.Option key={country.isoCode} value={country}>\n          {/* @ts-expect-error @headlessui/react incompatibility with node16 resolution */}\n          {({active}) => (\n            <div\n              className={`text-contrast dark:text-primary ${getClassName(\n                active,\n              )}`}\n            >\n              {country.name}\n              {isSelected ? (\n                <span className=\"ml-2\">\n                  <IconCheck />\n                </span>\n              ) : null}\n            </div>\n          )}\n        </Listbox.Option>\n      );\n    })\n  ) : (\n    <div className=\"flex justify-center\">\n      <div className=\"mt-4 text-center\">\n        <div>Unable to load available countries.</div>\n        <div>Please try again.</div>\n      </div>\n    </div>\n  );\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/CountrySelector.client.jsx?no-proxy';\n\nexport const CountrySelector = /* @__PURE__ */wrapInClientProxy({ name: 'CountrySelector', id: 'CountrySelector-LTEwMzM3NzEyMTQ', value: allImports['CountrySelector'], isDefault: false });\nexport const Countries = /* @__PURE__ */wrapInClientProxy({ name: 'Countries', id: 'CountrySelector-LTEwMzM3NzEyMTQ', value: allImports['Countries'], isDefault: false });\n","// When making building your custom storefront, you will most likely want to\n// use custom fonts as well. These are often implemented without critical\n// performance optimizations.\n\n// Below, you'll find the markup needed to optimally render a pair of web fonts\n// that we will use on our journal articles. This typeface, IBM Plex,\n// can be found at: https://www.ibm.com/plex/, as well as on\n// Google Fonts: https://fonts.google.com/specimen/IBM+Plex+Serif. We included\n// these locally since youll most likely be using commercially licensed fonts.\n\n// When implementing a custom font, specifying the Unicode range you need,\n// and using `font-display: swap` will help you improve your performance.\n\n// For fonts that appear in the critical rendering path, you can speed up\n// performance even more by including a <link> tag in your HTML.\n\n// In a production environment, you will likely want to include the below\n// markup right in your index.html and index.css files.\n\nimport '../styles/custom-font.css';\n\nexport function CustomFont() {}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/CustomFont.client.jsx?no-proxy';\n\nexport const CustomFont = /* @__PURE__ */wrapInClientProxy({ name: 'CustomFont', id: 'CustomFont-MTE2MTAxMzU4MQ', value: allImports['CustomFont'], isDefault: false });\n","export function HeaderFallback({isHome}) {\n  const styles = isHome\n    ? 'bg-primary/80 dark:bg-contrast/60 text-contrast dark:text-primary shadow-darkHeader'\n    : 'bg-contrast/80 text-primary';\n  return (\n    <header\n      role=\"banner\"\n      className={`${styles} flex h-nav items-center backdrop-blur-lg z-40 top-0 justify-between w-full leading-none gap-8 px-12 py-8`}\n    >\n      <div className=\"flex space-x-4\">\n        <Box isHome={isHome} />\n        <Box isHome={isHome} />\n        <Box isHome={isHome} />\n        <Box isHome={isHome} />\n        <Box isHome={isHome} />\n      </div>\n      <Box isHome={isHome} wide={true} />\n    </header>\n  );\n}\n\nfunction Box({wide, isHome}) {\n  return (\n    <div\n      className={`h-6 rounded-sm ${wide ? 'w-32' : 'w-16'} ${\n        isHome ? 'bg-primary/60' : 'bg-primary/20'\n      }`}\n    />\n  );\n}\n","import {ClientAnalytics} from '@shopify/hydrogen';\nimport {useEffect} from 'react';\n\nlet init = false;\n\n// Example client-side event listener\nexport function EventsListener() {\n  useEffect(() => {\n    if (init) return;\n    init = true;\n\n    // cart events\n    ClientAnalytics.subscribe(\n      ClientAnalytics.eventNames.ADD_TO_CART,\n      ({cart, prevCart}) => {\n        // emit ADD_TO_CART event to server\n      },\n    );\n    ClientAnalytics.subscribe(\n      ClientAnalytics.eventNames.REMOVE_FROM_CART,\n      ({cart, prevCart}) => {\n        // emit REMOVE_FROM_CART event to server\n      },\n    );\n    ClientAnalytics.subscribe(\n      ClientAnalytics.eventNames.UPDATE_CART,\n      ({cart, prevCart}) => {\n        // emit UPDATE_CART event to server\n      },\n    );\n\n    // other events...\n  }, []);\n\n  return null;\n}\n","import {wrapInClientProxy} from 'react-server-dom-vite/client-proxy';\nimport * as allImports from '/Users/james.spencer/Developer/shopify-hydrogen-test/src/components/EventsListener.client.jsx?no-proxy';\n\nexport const EventsListener = /* @__PURE__ */wrapInClientProxy({ name: 'EventsListener', id: 'EventsListener-LTE5MDc1Mzc4ODg', value: allImports['EventsListener'], isDefault: false });\n","import {Image, Link} from '@shopify/hydrogen';\n\nimport {Heading} from '~/components';\n\nexport function CollectionCard({collection, loading}) {\n  return (\n    <Link to={`/collections/${collection.handle}`} className=\"grid gap-4\">\n      <div className=\"card-image bg-primary/5 aspect-[3/2]\">\n        {collection?.image && (\n          <Image\n            alt={`Image of ${collection.title}`}\n            data={collection.image}\n            height={400}\n            sizes=\"(max-width: 32em) 100vw, 33vw\"\n            width={600}\n            widths={[400, 500, 600, 700, 800, 900]}\n            loaderOptions={{\n              scale: 2,\n              crop: 'center',\n            }}\n          />\n        )}\n      </div>\n      <Heading as=\"h3\" size=\"copy\">\n        {collection.title}\n      </Heading>\n    </Link>\n  );\n}\n","import {useUrl} from '@shopify/hydrogen';\n\nimport {Section, Heading, FooterMenu, CountrySelector} from '~/components';\n\n/**\n * A server component that specifies the content of the footer on the website\n */\nexport function Footer({menu}) {\n  const {pathname} = useUrl();\n\n  const localeMatch = /^\\/([a-z]{2})(\\/|$)/i.exec(pathname);\n  const countryCode = localeMatch ? localeMatch[1] : null;\n\n  const isHome = pathname === `/${countryCode ? countryCode + '/' : ''}`;\n  const itemsCount = menu\n    ? menu?.items?.length + 1 > 4\n      ? 4\n      : menu?.items?.length + 1\n    : [];\n\n  return (\n    <Section\n      divider={isHome ? 'none' : 'top'}\n      as=\"footer\"\n      role=\"contentinfo\"\n      className={`grid min-h-[25rem] items-start grid-flow-row w-full gap-6 py-8 px-6 md:px-8 lg:px-12 \n        border-b md:gap-8 lg:gap-12 grid-cols-1 md:grid-cols-2 lg:grid-cols-${itemsCount}\n        bg-primary dark:bg-contrast dark:text-primary text-contrast overflow-hidden`}\n    >\n      <FooterMenu menu={menu} />\n      <section className=\"grid gap-4 w-full md:max-w-[335px] md:ml-auto\">\n        <Heading size=\"lead\" className=\"cursor-default\" as=\"h3\">\n          Country\n        </Heading>\n        <CountrySelector />\n      </section>\n      <div\n        className={`self-end pt-8 opacity-50 md:col-span-2 lg:col-span-${itemsCount}`}\n      >\n        &copy; {new Date().getFullYear()} / Shopify, Inc. Hydrogen is an MIT\n        Licensed Open Source project. This website is carbon&nbsp;neutral.\n      </div>\n    </Section>\n  );\n}\n","import {Suspense} from 'react';\nimport {useLocalization, useShopQuery, CacheLong, gql} from '@shopify/hydrogen';\n\nimport {Header} from '~/components';\nimport {Footer} from '~/components/index.server';\nimport {parseMenu} from '~/lib/utils';\n\nconst HEADER_MENU_HANDLE = 'main-menu';\nconst FOOTER_MENU_HANDLE = 'footer';\n\nconst SHOP_NAME_FALLBACK = 'Hydrogen';\n\n/**\n * A server component that defines a structure and organization of a page that can be used in different parts of the Hydrogen app\n */\nexport function Layout({children}) {\n  return (\n    <>\n      <div className=\"flex flex-col min-h-screen\">\n        <div className=\"\">\n          <a href=\"#mainContent\" className=\"sr-only\">\n            Skip to content\n          </a>\n        </div>\n        <Suspense fallback={<Header title={SHOP_NAME_FALLBACK} />}>\n          <HeaderWithMenu />\n        </Suspense>\n        <main role=\"main\" id=\"mainContent\" className=\"flex-grow\">\n          {children}\n        </main>\n      </div>\n      <Suspense fallback={<Footer />}>\n        <FooterWithMenu />\n      </Suspense>\n    </>\n  );\n}\n\nfunction HeaderWithMenu() {\n  const {shopName, headerMenu} = useLayoutQuery();\n  return <Header title={shopName} menu={headerMenu} />;\n}\n\nfunction FooterWithMenu() {\n  const {footerMenu} = useLayoutQuery();\n  return <Footer menu={footerMenu} />;\n}\n\nfunction useLayoutQuery() {\n  const {\n    language: {isoCode: languageCode},\n  } = useLocalization();\n\n  const {data} = useShopQuery({\n    query: SHOP_QUERY,\n    variables: {\n      language: languageCode,\n      headerMenuHandle: HEADER_MENU_HANDLE,\n      footerMenuHandle: FOOTER_MENU_HANDLE,\n    },\n    cache: CacheLong(),\n    preload: '*',\n  });\n\n  const shopName = data ? data.shop.name : SHOP_NAME_FALLBACK;\n\n  /*\n        Modify specific links/routes (optional)\n        @see: https://shopify.dev/api/storefront/unstable/enums/MenuItemType\n        e.g here we map:\n          - /blogs/news -> /news\n          - /blog/news/blog-post -> /news/blog-post\n          - /collections/all -> /products\n      */\n  const customPrefixes = {BLOG: '', CATALOG: 'products'};\n\n  const headerMenu = data?.headerMenu\n    ? parseMenu(data.headerMenu, customPrefixes)\n    : undefined;\n\n  const footerMenu = data?.footerMenu\n    ? parseMenu(data.footerMenu, customPrefixes)\n    : undefined;\n\n  return {footerMenu, headerMenu, shopName};\n}\n\nconst SHOP_QUERY = gql`\n  fragment MenuItem on MenuItem {\n    id\n    resourceId\n    tags\n    title\n    type\n    url\n  }\n  query layoutMenus(\n    $language: LanguageCode\n    $headerMenuHandle: String!\n    $footerMenuHandle: String!\n  ) @inContext(language: $language) {\n    shop {\n      name\n    }\n    headerMenu: menu(handle: $headerMenuHandle) {\n      id\n      items {\n        ...MenuItem\n        items {\n          ...MenuItem\n        }\n      }\n    }\n    footerMenu: menu(handle: $footerMenuHandle) {\n      id\n      items {\n        ...MenuItem\n        items {\n          ...MenuItem\n        }\n      }\n    }\n  }\n`;\n","import {gql} from '@shopify/hydrogen';\n\nexport const MEDIA_FRAGMENT = gql`\n  fragment Media on Media {\n    mediaContentType\n    alt\n    previewImage {\n      url\n    }\n    ... on MediaImage {\n      id\n      image {\n        url\n        width\n        height\n      }\n    }\n    ... on Video {\n      id\n      sources {\n        mimeType\n        url\n      }\n    }\n    ... on Model3d {\n      id\n      sources {\n        mimeType\n        url\n      }\n    }\n    ... on ExternalVideo {\n      id\n      embedUrl\n      host\n    }\n  }\n`;\n\nexport const PRODUCT_CARD_FRAGMENT = gql`\n  fragment ProductCard on Product {\n    id\n    title\n    publishedAt\n    handle\n    variants(first: 1) {\n      nodes {\n        id\n        image {\n          url\n          altText\n          width\n          height\n        }\n        priceV2 {\n          amount\n          currencyCode\n        }\n        compareAtPriceV2 {\n          amount\n          currencyCode\n        }\n      }\n    }\n  }\n`;\n","import {gql, useLocalization, useShopQuery} from '@shopify/hydrogen';\n\nimport {Suspense} from 'react';\nimport {PRODUCT_CARD_FRAGMENT} from '~/lib/fragments';\nimport {Button, FeaturedCollections, PageHeader, Text} from '~/components';\nimport {ProductSwimlane, Layout} from '~/components/index.server';\n\nexport function NotFound({response, type = 'page'}) {\n  if (response) {\n    response.status = 404;\n    response.statusText = 'Not found';\n  }\n\n  const heading = `Weve lost this ${type}`;\n  const description = `We couldnt find the ${type} youre looking for. Try checking the URL or heading back to the home page.`;\n\n  return (\n    <Layout>\n      <PageHeader heading={heading}>\n        <Text width=\"narrow\" as=\"p\">\n          {description}\n        </Text>\n        <Button width=\"auto\" variant=\"secondary\" to={'/'}>\n          Take me to the home page\n        </Button>\n      </PageHeader>\n      <Suspense>\n        <FeaturedSection />\n      </Suspense>\n    </Layout>\n  );\n}\n\nfunction FeaturedSection() {\n  const {\n    language: {isoCode: languageCode},\n    country: {isoCode: countryCode},\n  } = useLocalization();\n\n  const {data} = useShopQuery({\n    query: NOT_FOUND_QUERY,\n    variables: {\n      language: languageCode,\n      country: countryCode,\n    },\n    preload: true,\n  });\n\n  const {featuredCollections, featuredProducts} = data;\n\n  return (\n    <>\n      {featuredCollections.nodes.length < 2 && (\n        <FeaturedCollections\n          title=\"Popular Collections\"\n          data={featuredCollections.nodes}\n        />\n      )}\n      <ProductSwimlane data={featuredProducts.nodes} />\n    </>\n  );\n}\n\nconst NOT_FOUND_QUERY = gql`\n  ${PRODUCT_CARD_FRAGMENT}\n  query homepage($country: CountryCode, $language: LanguageCode)\n  @inContext(country: $country, language: $language) {\n    featuredCollections: collections(first: 3, sortKey: UPDATED_AT) {\n      nodes {\n        id\n        title\n        handle\n        image {\n          altText\n          width\n          height\n          url\n        }\n      }\n    }\n    featuredProducts: products(first: 12) {\n      nodes {\n        ...ProductCard\n      }\n    }\n  }\n`;\n","import {Suspense, useMemo} from 'react';\nimport {gql, useShopQuery, useLocalization} from '@shopify/hydrogen';\nimport {PRODUCT_CARD_FRAGMENT} from '~/lib/fragments';\nimport {ProductCard, Section} from '~/components';\n\nconst mockProducts = new Array(12).fill('');\n\nexport function ProductSwimlane({\n  title = 'Featured Products',\n  data = mockProducts,\n  count = 12,\n  ...props\n}) {\n  const productCardsMarkup = useMemo(() => {\n    // If the data is already provided, there's no need to query it, so we'll just return the data\n    if (typeof data === 'object') {\n      return <ProductCards products={data} />;\n    }\n\n    // If the data provided is a productId, we will query the productRecommendations API.\n    // To make sure we have enough products for the swimlane, we'll combine the results with our top selling products.\n    if (typeof data === 'string') {\n      return (\n        <Suspense>\n          <RecommendedProducts productId={data} count={count} />\n        </Suspense>\n      );\n    }\n\n    // If no data is provided, we'll go and query the top products\n    return <TopProducts count={count} />;\n  }, [count, data]);\n\n  return (\n    <Section heading={title} padding=\"y\" {...props}>\n      <div className=\"swimlane hiddenScroll md:pb-8 md:scroll-px-8 lg:scroll-px-12 md:px-8 lg:px-12\">\n        {productCardsMarkup}\n      </div>\n    </Section>\n  );\n}\n\nfunction ProductCards({products}) {\n  return (\n    <>\n      {products.map((product) => (\n        <ProductCard\n          product={product}\n          key={product.id}\n          className={'snap-start w-80'}\n        />\n      ))}\n    </>\n  );\n}\n\nfunction RecommendedProducts({productId, count}) {\n  const {\n    language: {isoCode: languageCode},\n    country: {isoCode: countryCode},\n  } = useLocalization();\n\n  const {data: products} = useShopQuery({\n    query: RECOMMENDED_PRODUCTS_QUERY,\n    variables: {\n      count,\n      productId,\n      languageCode,\n      countryCode,\n    },\n  });\n\n  const mergedProducts = products.recommended\n    .concat(products.additional.nodes)\n    .filter(\n      (value, index, array) =>\n        array.findIndex((value2) => value2.id === value.id) === index,\n    );\n\n  const originalProduct = mergedProducts\n    .map((item) => item.id)\n    .indexOf(productId);\n\n  mergedProducts.splice(originalProduct, 1);\n\n  return <ProductCards products={mergedProducts} />;\n}\n\nfunction TopProducts({count}) {\n  const {\n    data: {products},\n  } = useShopQuery({\n    query: TOP_PRODUCTS_QUERY,\n    variables: {\n      count,\n    },\n  });\n\n  return <ProductCards products={products.nodes} />;\n}\n\nconst RECOMMENDED_PRODUCTS_QUERY = gql`\n  ${PRODUCT_CARD_FRAGMENT}\n  query productRecommendations(\n    $productId: ID!\n    $count: Int\n    $countryCode: CountryCode\n    $languageCode: LanguageCode\n  ) @inContext(country: $countryCode, language: $languageCode) {\n    recommended: productRecommendations(productId: $productId) {\n      ...ProductCard\n    }\n    additional: products(first: $count, sortKey: BEST_SELLING) {\n      nodes {\n        ...ProductCard\n      }\n    }\n  }\n`;\n\nconst TOP_PRODUCTS_QUERY = gql`\n  ${PRODUCT_CARD_FRAGMENT}\n  query topProducts(\n    $count: Int\n    $countryCode: CountryCode\n    $languageCode: LanguageCode\n  ) @inContext(country: $countryCode, language: $languageCode) {\n    products(first: $count, sortKey: BEST_SELLING) {\n      nodes {\n        ...ProductCard\n      }\n    }\n  }\n`;\n","import {gql, useShopQuery} from '@shopify/hydrogen';\n\nimport {PRODUCT_CARD_FRAGMENT} from '~/lib/fragments';\nimport {FeaturedCollections} from '~/components';\nimport {ProductSwimlane} from '~/components/index.server';\nimport {PAGINATION_SIZE} from '~/lib/const';\n\nexport function NoResultRecommendations({country, language}) {\n  const {data} = useShopQuery({\n    query: SEARCH_NO_RESULTS_QUERY,\n    variables: {\n      country,\n      language,\n      pageBy: PAGINATION_SIZE,\n    },\n    preload: false,\n  });\n\n  return (\n    <>\n      <FeaturedCollections\n        title=\"Trending Collections\"\n        data={data.featuredCollections.nodes}\n      />\n      <ProductSwimlane\n        title=\"Trending Products\"\n        data={data.featuredProducts.nodes}\n      />\n    </>\n  );\n}\n\nconst SEARCH_NO_RESULTS_QUERY = gql`\n  ${PRODUCT_CARD_FRAGMENT}\n  query searchNoResult(\n    $country: CountryCode\n    $language: LanguageCode\n    $pageBy: Int!\n  ) @inContext(country: $country, language: $language) {\n    featuredCollections: collections(first: 3, sortKey: UPDATED_AT) {\n      nodes {\n        id\n        title\n        handle\n        image {\n          altText\n          width\n          height\n          url\n        }\n      }\n    }\n    featuredProducts: products(first: $pageBy) {\n      nodes {\n        ...ProductCard\n      }\n    }\n  }\n`;\n","import {Heading, Input, PageHeader} from '~/components';\nimport {Layout} from '~/components/index.server';\n\nexport function SearchPage({searchTerm, children}) {\n  return (\n    <Layout>\n      <PageHeader>\n        <Heading as=\"h1\" size=\"copy\">\n          Search\n        </Heading>\n        <form className=\"relative flex w-full text-heading\">\n          <Input\n            defaultValue={searchTerm}\n            placeholder=\"Search\"\n            type=\"search\"\n            variant=\"search\"\n            name=\"q\"\n          />\n          <button className=\"absolute right-0 py-2\" type=\"submit\">\n            Go\n          </button>\n        </form>\n      </PageHeader>\n      {children}\n    </Layout>\n  );\n}\n","import {CacheLong, gql, Seo, useShopQuery} from '@shopify/hydrogen';\n\n/**\n * A server component that fetches a `shop.name` and sets default values and templates for every page on a website\n */\nexport function DefaultSeo() {\n  const {\n    data: {\n      shop: {name, description},\n    },\n  } = useShopQuery({\n    query: SHOP_QUERY,\n    cache: CacheLong(),\n    preload: '*',\n  });\n\n  return (\n    // @ts-ignore TODO: Fix types\n    <Seo\n      type=\"defaultSeo\"\n      data={{\n        title: name,\n        description,\n        titleTemplate: `%s  ${name}`,\n      }}\n    />\n  );\n}\n\nconst SHOP_QUERY = gql`\n  query shopInfo {\n    shop {\n      name\n      description\n    }\n  }\n`;\n","import {Suspense} from 'react';\nimport renderHydrogen from '@shopify/hydrogen/entry-server';\nimport {\n  FileRoutes,\n  PerformanceMetrics,\n  PerformanceMetricsDebug,\n  Route,\n  Router,\n  ShopifyAnalytics,\n  ShopifyProvider,\n  CartProvider,\n} from '@shopify/hydrogen';\nimport {HeaderFallback, EventsListener} from '~/components';\nimport {DefaultSeo, NotFound} from '~/components/index.server';\n\nfunction App({request}) {\n  const pathname = new URL(request.normalizedUrl).pathname;\n  const localeMatch = /^\\/([a-z]{2})(\\/|$)/i.exec(pathname);\n  const countryCode = localeMatch ? localeMatch[1] : undefined;\n\n  const isHome = pathname === `/${countryCode ? countryCode + '/' : ''}`;\n\n  return (\n    <Suspense fallback={<HeaderFallback isHome={isHome} />}>\n      <EventsListener />\n      <ShopifyProvider countryCode={countryCode}>\n        <CartProvider countryCode={countryCode}>\n          <Suspense>\n            <DefaultSeo />\n          </Suspense>\n          <Router>\n            <FileRoutes\n              basePath={countryCode ? `/${countryCode}/` : undefined}\n            />\n            <Route path=\"*\" page={<NotFound />} />\n          </Router>\n        </CartProvider>\n        <PerformanceMetrics />\n        {import.meta.env.DEV && <PerformanceMetricsDebug />}\n        <ShopifyAnalytics cookieDomain=\"hydrogen.shop\" />\n      </ShopifyProvider>\n    </Suspense>\n  );\n}\n\nexport default renderHydrogen(App);\n","export default \"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n  <head>\\n    <meta charset=\\\"UTF-8\\\" />\\n    <link rel=\\\"icon\\\" type=\\\"image/svg+xml\\\" href=\\\"/assets/favicon.48633abf.svg\\\" />\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\" />\\n    <title>Hydrogen</title>\\n    \\n    <link rel=\\\"preconnect\\\" href=\\\"https://cdn.shopify.com\\\" />\\n    <link rel=\\\"preconnect\\\" href=\\\"https://shop.app/\\\" />\\n    <link rel=\\\"preconnect\\\" href=\\\"https://hydrogen-preview.myshopify.com/\\\" />\\n    <script type=\\\"module\\\" crossorigin src=\\\"/assets/index.622fe8db.js\\\"></script>\\n    <link rel=\\\"stylesheet\\\" href=\\\"/assets/index.408fc8e9.css\\\">\\n  </head>\\n  <body>\\n    <div id=\\\"root\\\"></div>\\n    \\n  </body>\\n</html>\\n\"","// This file is modified by Vite at build time\n// with user project information and re-exports it.\n// @ts-ignore\nimport appEntry from '__HYDROGEN_ENTRY__';\nexport const handleRequest = appEntry;\nexport { default as indexTemplate } from '__HYDROGEN_HTML_TEMPLATE__?raw';\nexport const assets = new Set(['__HYDROGEN_ASSETS__']);\nexport const assetPrefix = '/__HYDROGEN_ASSETS_DIR__/';\nexport const isAsset = (pathname = '') => pathname.startsWith(assetPrefix) || assets.has(pathname);\nexport const relativeClientBuildPath = '__HYDROGEN_RELATIVE_CLIENT_BUILD__';\nexport const assetBasePath = '__HYDROGEN_ASSETS_BASE_URL__';\nthrow new Error('This file must be overwritten in a Vite plugin');\n","import { graphiqlHtml } from './graphiql.js';\nexport function graphiqlMiddleware({ getShopifyConfig, dev, }) {\n    return async function (request, response, next) {\n        if (dev && isGraphiqlRequest(request)) {\n            const shopifyConfig = await getShopifyConfig(request);\n            return respondWithGraphiql(response, shopifyConfig);\n        }\n        next();\n    };\n}\nlet entrypointError = null;\n/**\n * Provides middleware to Node.js Express-like servers. Used by the Hydrogen\n * Vite dev server plugin as well as production Node.js implementation.\n */\nexport function hydrogenMiddleware({ dev, cache, indexTemplate, getServerEntrypoint, devServer, }) {\n    if (dev && devServer) {\n        // Store this globally for devtools\n        // @ts-ignore\n        globalThis.__viteDevServer = devServer;\n    }\n    /**\n     * We're running in the Node.js runtime without access to `fetch`,\n     * which is needed for proxy requests and server-side API requests.\n     */\n    const webPolyfills = !globalThis.fetch || !globalThis.ReadableStream\n        ? import('../utilities/web-api-polyfill.js')\n        : undefined;\n    return async function (request, response, next) {\n        try {\n            await webPolyfills;\n            const entrypoint = await Promise.resolve(getServerEntrypoint()).catch((error) => {\n                // Errors are only thrown the first time we try to load the entry point.\n                // After refreshing the browser, this just loads an empty module\n                // and doesn't throw anymore. Store this error in the outer scope\n                // to keep throwing it on refresh until things are fixed.\n                entrypointError = error;\n            });\n            const handleRequest = entrypoint?.default ?? entrypoint;\n            if (typeof handleRequest !== 'function') {\n                if (entrypointError) {\n                    throw entrypointError;\n                }\n                else {\n                    // This means there is no error when loading the entry point but\n                    // we are still not getting a function as the default export.\n                    throw new Error('Something is wrong in your project. Make sure to add \"export default renderHydrogen(...)\" in your server entry file.');\n                }\n            }\n            entrypointError = null;\n            await handleRequest(request, {\n                dev,\n                cache,\n                indexTemplate,\n                streamableResponse: response,\n            });\n        }\n        catch (e) {\n            if (dev && devServer)\n                devServer.ssrFixStacktrace(e);\n            response.statusCode = 500;\n            /**\n             * Attempt to print the error stack within the template.\n             * This allows the react-refresh plugin and other Vite runtime helpers\n             * to display the error and auto-refresh when the error is fixed, instead\n             * of a white screen that needs a manual refresh.\n             */\n            try {\n                const template = typeof indexTemplate === 'function'\n                    ? await indexTemplate(request.originalUrl ?? request.url ?? '')\n                    : indexTemplate;\n                const html = template.replace(`<div id=\"root\"></div>`, `<div id=\"root\"><pre><code>${e.stack}</code></pre></div>`);\n                response.write(html);\n                next(e);\n            }\n            catch (_e) {\n                // If template loading is the culprit, give up and just return the error stack.\n                response.write(e.stack);\n                next(e);\n            }\n        }\n    };\n}\n/**\n * /graphiql and /___graphql are supported\n */\nfunction isGraphiqlRequest(request) {\n    return /^\\/(?:_{3})?graphi?ql/.test(request.url || '');\n}\nasync function respondWithGraphiql(response, shopifyConfig) {\n    if (!shopifyConfig) {\n        throw new Error(\"You must provide a 'shopify' property in your Hydrogen config file\");\n    }\n    const { storeDomain, storefrontToken, storefrontApiVersion } = shopifyConfig;\n    response.setHeader('Content-Type', 'text/html');\n    response.end(graphiqlHtml(storeDomain?.replace(/^https?:\\/\\//, ''), storefrontToken, storefrontApiVersion));\n}\n","/*!\n * encodeurl\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = encodeUrl\n\n/**\n * RegExp to match non-URL code points, *after* encoding (i.e. not including \"%\")\n * and including invalid escape sequences.\n * @private\n */\n\nvar ENCODE_CHARS_REGEXP = /(?:[^\\x21\\x25\\x26-\\x3B\\x3D\\x3F-\\x5B\\x5D\\x5F\\x61-\\x7A\\x7E]|%(?:[^0-9A-Fa-f]|[0-9A-Fa-f][^0-9A-Fa-f]|$))+/g\n\n/**\n * RegExp to match unmatched surrogate pair.\n * @private\n */\n\nvar UNMATCHED_SURROGATE_PAIR_REGEXP = /(^|[^\\uD800-\\uDBFF])[\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF]([^\\uDC00-\\uDFFF]|$)/g\n\n/**\n * String to replace unmatched surrogate pair with.\n * @private\n */\n\nvar UNMATCHED_SURROGATE_PAIR_REPLACE = '$1\\uFFFD$2'\n\n/**\n * Encode a URL to a percent-encoded form, excluding already-encoded sequences.\n *\n * This function will take an already-encoded URL and encode all the non-URL\n * code points. This function will not encode the \"%\" character unless it is\n * not part of a valid sequence (`%20` will be left as-is, but `%foo` will\n * be encoded as `%25foo`).\n *\n * This encode is meant to be \"safe\" and does not throw errors. It will try as\n * hard as it can to properly encode the given URL, including replacing any raw,\n * unpaired surrogate pairs with the Unicode replacement character prior to\n * encoding.\n *\n * @param {string} url\n * @return {string}\n * @public\n */\n\nfunction encodeUrl (url) {\n  return String(url)\n    .replace(UNMATCHED_SURROGATE_PAIR_REGEXP, UNMATCHED_SURROGATE_PAIR_REPLACE)\n    .replace(ENCODE_CHARS_REGEXP, encodeURI)\n}\n","/*!\n * escape-html\n * Copyright(c) 2012-2013 TJ Holowaychuk\n * Copyright(c) 2015 Andreas Lubbe\n * Copyright(c) 2015 Tiancheng \"Timothy\" Gu\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module variables.\n * @private\n */\n\nvar matchHtmlRegExp = /[\"'&<>]/;\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = escapeHtml;\n\n/**\n * Escape special characters in the given string of html.\n *\n * @param  {string} string The string to escape for inserting into HTML\n * @return {string}\n * @public\n */\n\nfunction escapeHtml(string) {\n  var str = '' + string;\n  var match = matchHtmlRegExp.exec(str);\n\n  if (!match) {\n    return str;\n  }\n\n  var escape;\n  var html = '';\n  var index = 0;\n  var lastIndex = 0;\n\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34: // \"\n        escape = '&quot;';\n        break;\n      case 38: // &\n        escape = '&amp;';\n        break;\n      case 39: // '\n        escape = '&#39;';\n        break;\n      case 60: // <\n        escape = '&lt;';\n        break;\n      case 62: // >\n        escape = '&gt;';\n        break;\n      default:\n        continue;\n    }\n\n    if (lastIndex !== index) {\n      html += str.substring(lastIndex, index);\n    }\n\n    lastIndex = index + 1;\n    html += escape;\n  }\n\n  return lastIndex !== index\n    ? html + str.substring(lastIndex, index)\n    : html;\n}\n","/*!\n * parseurl\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar url = require('url')\nvar parse = url.parse\nvar Url = url.Url\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = parseurl\nmodule.exports.original = originalurl\n\n/**\n * Parse the `req` url with memoization.\n *\n * @param {ServerRequest} req\n * @return {Object}\n * @public\n */\n\nfunction parseurl (req) {\n  var url = req.url\n\n  if (url === undefined) {\n    // URL is undefined\n    return undefined\n  }\n\n  var parsed = req._parsedUrl\n\n  if (fresh(url, parsed)) {\n    // Return cached URL parse\n    return parsed\n  }\n\n  // Parse the URL\n  parsed = fastparse(url)\n  parsed._raw = url\n\n  return (req._parsedUrl = parsed)\n};\n\n/**\n * Parse the `req` original url with fallback and memoization.\n *\n * @param {ServerRequest} req\n * @return {Object}\n * @public\n */\n\nfunction originalurl (req) {\n  var url = req.originalUrl\n\n  if (typeof url !== 'string') {\n    // Fallback\n    return parseurl(req)\n  }\n\n  var parsed = req._parsedOriginalUrl\n\n  if (fresh(url, parsed)) {\n    // Return cached URL parse\n    return parsed\n  }\n\n  // Parse the URL\n  parsed = fastparse(url)\n  parsed._raw = url\n\n  return (req._parsedOriginalUrl = parsed)\n};\n\n/**\n * Parse the `str` url with fast-path short-cut.\n *\n * @param {string} str\n * @return {Object}\n * @private\n */\n\nfunction fastparse (str) {\n  if (typeof str !== 'string' || str.charCodeAt(0) !== 0x2f /* / */) {\n    return parse(str)\n  }\n\n  var pathname = str\n  var query = null\n  var search = null\n\n  // This takes the regexp from https://github.com/joyent/node/pull/7878\n  // Which is /^(\\/[^?#\\s]*)(\\?[^#\\s]*)?$/\n  // And unrolls it into a for loop\n  for (var i = 1; i < str.length; i++) {\n    switch (str.charCodeAt(i)) {\n      case 0x3f: /* ?  */\n        if (search === null) {\n          pathname = str.substring(0, i)\n          query = str.substring(i + 1)\n          search = str.substring(i)\n        }\n        break\n      case 0x09: /* \\t */\n      case 0x0a: /* \\n */\n      case 0x0c: /* \\f */\n      case 0x0d: /* \\r */\n      case 0x20: /*    */\n      case 0x23: /* #  */\n      case 0xa0:\n      case 0xfeff:\n        return parse(str)\n    }\n  }\n\n  var url = Url !== undefined\n    ? new Url()\n    : {}\n\n  url.path = str\n  url.href = str\n  url.pathname = pathname\n\n  if (search !== null) {\n    url.query = query\n    url.search = search\n  }\n\n  return url\n}\n\n/**\n * Determine if parsed is still fresh for url.\n *\n * @param {string} url\n * @param {object} parsedUrl\n * @return {boolean}\n * @private\n */\n\nfunction fresh (url, parsedUrl) {\n  return typeof parsedUrl === 'object' &&\n    parsedUrl !== null &&\n    (Url === undefined || parsedUrl instanceof Url) &&\n    parsedUrl._raw === url\n}\n","/*!\n * depd\n * Copyright(c) 2014-2018 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module dependencies.\n */\n\nvar relative = require('path').relative\n\n/**\n * Module exports.\n */\n\nmodule.exports = depd\n\n/**\n * Get the path to base files on.\n */\n\nvar basePath = process.cwd()\n\n/**\n * Determine if namespace is contained in the string.\n */\n\nfunction containsNamespace (str, namespace) {\n  var vals = str.split(/[ ,]+/)\n  var ns = String(namespace).toLowerCase()\n\n  for (var i = 0; i < vals.length; i++) {\n    var val = vals[i]\n\n    // namespace contained\n    if (val && (val === '*' || val.toLowerCase() === ns)) {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * Convert a data descriptor to accessor descriptor.\n */\n\nfunction convertDataDescriptorToAccessor (obj, prop, message) {\n  var descriptor = Object.getOwnPropertyDescriptor(obj, prop)\n  var value = descriptor.value\n\n  descriptor.get = function getter () { return value }\n\n  if (descriptor.writable) {\n    descriptor.set = function setter (val) { return (value = val) }\n  }\n\n  delete descriptor.value\n  delete descriptor.writable\n\n  Object.defineProperty(obj, prop, descriptor)\n\n  return descriptor\n}\n\n/**\n * Create arguments string to keep arity.\n */\n\nfunction createArgumentsString (arity) {\n  var str = ''\n\n  for (var i = 0; i < arity; i++) {\n    str += ', arg' + i\n  }\n\n  return str.substr(2)\n}\n\n/**\n * Create stack string from stack.\n */\n\nfunction createStackString (stack) {\n  var str = this.name + ': ' + this.namespace\n\n  if (this.message) {\n    str += ' deprecated ' + this.message\n  }\n\n  for (var i = 0; i < stack.length; i++) {\n    str += '\\n    at ' + stack[i].toString()\n  }\n\n  return str\n}\n\n/**\n * Create deprecate for namespace in caller.\n */\n\nfunction depd (namespace) {\n  if (!namespace) {\n    throw new TypeError('argument namespace is required')\n  }\n\n  var stack = getStack()\n  var site = callSiteLocation(stack[1])\n  var file = site[0]\n\n  function deprecate (message) {\n    // call to self as log\n    log.call(deprecate, message)\n  }\n\n  deprecate._file = file\n  deprecate._ignored = isignored(namespace)\n  deprecate._namespace = namespace\n  deprecate._traced = istraced(namespace)\n  deprecate._warned = Object.create(null)\n\n  deprecate.function = wrapfunction\n  deprecate.property = wrapproperty\n\n  return deprecate\n}\n\n/**\n * Determine if event emitter has listeners of a given type.\n *\n * The way to do this check is done three different ways in Node.js >= 0.8\n * so this consolidates them into a minimal set using instance methods.\n *\n * @param {EventEmitter} emitter\n * @param {string} type\n * @returns {boolean}\n * @private\n */\n\nfunction eehaslisteners (emitter, type) {\n  var count = typeof emitter.listenerCount !== 'function'\n    ? emitter.listeners(type).length\n    : emitter.listenerCount(type)\n\n  return count > 0\n}\n\n/**\n * Determine if namespace is ignored.\n */\n\nfunction isignored (namespace) {\n  if (process.noDeprecation) {\n    // --no-deprecation support\n    return true\n  }\n\n  var str = process.env.NO_DEPRECATION || ''\n\n  // namespace ignored\n  return containsNamespace(str, namespace)\n}\n\n/**\n * Determine if namespace is traced.\n */\n\nfunction istraced (namespace) {\n  if (process.traceDeprecation) {\n    // --trace-deprecation support\n    return true\n  }\n\n  var str = process.env.TRACE_DEPRECATION || ''\n\n  // namespace traced\n  return containsNamespace(str, namespace)\n}\n\n/**\n * Display deprecation message.\n */\n\nfunction log (message, site) {\n  var haslisteners = eehaslisteners(process, 'deprecation')\n\n  // abort early if no destination\n  if (!haslisteners && this._ignored) {\n    return\n  }\n\n  var caller\n  var callFile\n  var callSite\n  var depSite\n  var i = 0\n  var seen = false\n  var stack = getStack()\n  var file = this._file\n\n  if (site) {\n    // provided site\n    depSite = site\n    callSite = callSiteLocation(stack[1])\n    callSite.name = depSite.name\n    file = callSite[0]\n  } else {\n    // get call site\n    i = 2\n    depSite = callSiteLocation(stack[i])\n    callSite = depSite\n  }\n\n  // get caller of deprecated thing in relation to file\n  for (; i < stack.length; i++) {\n    caller = callSiteLocation(stack[i])\n    callFile = caller[0]\n\n    if (callFile === file) {\n      seen = true\n    } else if (callFile === this._file) {\n      file = this._file\n    } else if (seen) {\n      break\n    }\n  }\n\n  var key = caller\n    ? depSite.join(':') + '__' + caller.join(':')\n    : undefined\n\n  if (key !== undefined && key in this._warned) {\n    // already warned\n    return\n  }\n\n  this._warned[key] = true\n\n  // generate automatic message from call site\n  var msg = message\n  if (!msg) {\n    msg = callSite === depSite || !callSite.name\n      ? defaultMessage(depSite)\n      : defaultMessage(callSite)\n  }\n\n  // emit deprecation if listeners exist\n  if (haslisteners) {\n    var err = DeprecationError(this._namespace, msg, stack.slice(i))\n    process.emit('deprecation', err)\n    return\n  }\n\n  // format and write message\n  var format = process.stderr.isTTY\n    ? formatColor\n    : formatPlain\n  var output = format.call(this, msg, caller, stack.slice(i))\n  process.stderr.write(output + '\\n', 'utf8')\n}\n\n/**\n * Get call site location as array.\n */\n\nfunction callSiteLocation (callSite) {\n  var file = callSite.getFileName() || '<anonymous>'\n  var line = callSite.getLineNumber()\n  var colm = callSite.getColumnNumber()\n\n  if (callSite.isEval()) {\n    file = callSite.getEvalOrigin() + ', ' + file\n  }\n\n  var site = [file, line, colm]\n\n  site.callSite = callSite\n  site.name = callSite.getFunctionName()\n\n  return site\n}\n\n/**\n * Generate a default message from the site.\n */\n\nfunction defaultMessage (site) {\n  var callSite = site.callSite\n  var funcName = site.name\n\n  // make useful anonymous name\n  if (!funcName) {\n    funcName = '<anonymous@' + formatLocation(site) + '>'\n  }\n\n  var context = callSite.getThis()\n  var typeName = context && callSite.getTypeName()\n\n  // ignore useless type name\n  if (typeName === 'Object') {\n    typeName = undefined\n  }\n\n  // make useful type name\n  if (typeName === 'Function') {\n    typeName = context.name || typeName\n  }\n\n  return typeName && callSite.getMethodName()\n    ? typeName + '.' + funcName\n    : funcName\n}\n\n/**\n * Format deprecation message without color.\n */\n\nfunction formatPlain (msg, caller, stack) {\n  var timestamp = new Date().toUTCString()\n\n  var formatted = timestamp +\n    ' ' + this._namespace +\n    ' deprecated ' + msg\n\n  // add stack trace\n  if (this._traced) {\n    for (var i = 0; i < stack.length; i++) {\n      formatted += '\\n    at ' + stack[i].toString()\n    }\n\n    return formatted\n  }\n\n  if (caller) {\n    formatted += ' at ' + formatLocation(caller)\n  }\n\n  return formatted\n}\n\n/**\n * Format deprecation message with color.\n */\n\nfunction formatColor (msg, caller, stack) {\n  var formatted = '\\x1b[36;1m' + this._namespace + '\\x1b[22;39m' + // bold cyan\n    ' \\x1b[33;1mdeprecated\\x1b[22;39m' + // bold yellow\n    ' \\x1b[0m' + msg + '\\x1b[39m' // reset\n\n  // add stack trace\n  if (this._traced) {\n    for (var i = 0; i < stack.length; i++) {\n      formatted += '\\n    \\x1b[36mat ' + stack[i].toString() + '\\x1b[39m' // cyan\n    }\n\n    return formatted\n  }\n\n  if (caller) {\n    formatted += ' \\x1b[36m' + formatLocation(caller) + '\\x1b[39m' // cyan\n  }\n\n  return formatted\n}\n\n/**\n * Format call site location.\n */\n\nfunction formatLocation (callSite) {\n  return relative(basePath, callSite[0]) +\n    ':' + callSite[1] +\n    ':' + callSite[2]\n}\n\n/**\n * Get the stack as array of call sites.\n */\n\nfunction getStack () {\n  var limit = Error.stackTraceLimit\n  var obj = {}\n  var prep = Error.prepareStackTrace\n\n  Error.prepareStackTrace = prepareObjectStackTrace\n  Error.stackTraceLimit = Math.max(10, limit)\n\n  // capture the stack\n  Error.captureStackTrace(obj)\n\n  // slice this function off the top\n  var stack = obj.stack.slice(1)\n\n  Error.prepareStackTrace = prep\n  Error.stackTraceLimit = limit\n\n  return stack\n}\n\n/**\n * Capture call site stack from v8.\n */\n\nfunction prepareObjectStackTrace (obj, stack) {\n  return stack\n}\n\n/**\n * Return a wrapped function in a deprecation message.\n */\n\nfunction wrapfunction (fn, message) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('argument fn must be a function')\n  }\n\n  var args = createArgumentsString(fn.length)\n  var stack = getStack()\n  var site = callSiteLocation(stack[1])\n\n  site.name = fn.name\n\n  // eslint-disable-next-line no-new-func\n  var deprecatedfn = new Function('fn', 'log', 'deprecate', 'message', 'site',\n    '\"use strict\"\\n' +\n    'return function (' + args + ') {' +\n    'log.call(deprecate, message, site)\\n' +\n    'return fn.apply(this, arguments)\\n' +\n    '}')(fn, log, this, message, site)\n\n  return deprecatedfn\n}\n\n/**\n * Wrap property in a deprecation message.\n */\n\nfunction wrapproperty (obj, prop, message) {\n  if (!obj || (typeof obj !== 'object' && typeof obj !== 'function')) {\n    throw new TypeError('argument obj must be object')\n  }\n\n  var descriptor = Object.getOwnPropertyDescriptor(obj, prop)\n\n  if (!descriptor) {\n    throw new TypeError('must call property on owner object')\n  }\n\n  if (!descriptor.configurable) {\n    throw new TypeError('property must be configurable')\n  }\n\n  var deprecate = this\n  var stack = getStack()\n  var site = callSiteLocation(stack[1])\n\n  // set site name\n  site.name = prop\n\n  // convert data descriptor\n  if ('value' in descriptor) {\n    descriptor = convertDataDescriptorToAccessor(obj, prop, message)\n  }\n\n  var get = descriptor.get\n  var set = descriptor.set\n\n  // wrap getter\n  if (typeof get === 'function') {\n    descriptor.get = function getter () {\n      log.call(deprecate, message, site)\n      return get.apply(this, arguments)\n    }\n  }\n\n  // wrap setter\n  if (typeof set === 'function') {\n    descriptor.set = function setter () {\n      log.call(deprecate, message, site)\n      return set.apply(this, arguments)\n    }\n  }\n\n  Object.defineProperty(obj, prop, descriptor)\n}\n\n/**\n * Create DeprecationError for deprecation\n */\n\nfunction DeprecationError (namespace, message, stack) {\n  var error = new Error()\n  var stackString\n\n  Object.defineProperty(error, 'constructor', {\n    value: DeprecationError\n  })\n\n  Object.defineProperty(error, 'message', {\n    configurable: true,\n    enumerable: false,\n    value: message,\n    writable: true\n  })\n\n  Object.defineProperty(error, 'name', {\n    enumerable: false,\n    configurable: true,\n    value: 'DeprecationError',\n    writable: true\n  })\n\n  Object.defineProperty(error, 'namespace', {\n    configurable: true,\n    enumerable: false,\n    value: namespace,\n    writable: true\n  })\n\n  Object.defineProperty(error, 'stack', {\n    configurable: true,\n    enumerable: false,\n    get: function () {\n      if (stackString !== undefined) {\n        return stackString\n      }\n\n      // prepare stack trace\n      return (stackString = createStackString.call(this, stack))\n    },\n    set: function setter (val) {\n      stackString = val\n    }\n  })\n\n  return error\n}\n","'use strict'\n/* eslint no-proto: 0 */\nmodule.exports = Object.setPrototypeOf || ({ __proto__: [] } instanceof Array ? setProtoOf : mixinProperties)\n\nfunction setProtoOf (obj, proto) {\n  obj.__proto__ = proto\n  return obj\n}\n\nfunction mixinProperties (obj, proto) {\n  for (var prop in proto) {\n    if (!Object.prototype.hasOwnProperty.call(obj, prop)) {\n      obj[prop] = proto[prop]\n    }\n  }\n  return obj\n}\n","/*!\n * statuses\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar codes = require('./codes.json')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = status\n\n// status code to message map\nstatus.message = codes\n\n// status message (lower-case) to code map\nstatus.code = createMessageToStatusCodeMap(codes)\n\n// array of status codes\nstatus.codes = createStatusCodeList(codes)\n\n// status codes for redirects\nstatus.redirect = {\n  300: true,\n  301: true,\n  302: true,\n  303: true,\n  305: true,\n  307: true,\n  308: true\n}\n\n// status codes for empty bodies\nstatus.empty = {\n  204: true,\n  205: true,\n  304: true\n}\n\n// status codes for when you should retry the request\nstatus.retry = {\n  502: true,\n  503: true,\n  504: true\n}\n\n/**\n * Create a map of message to status code.\n * @private\n */\n\nfunction createMessageToStatusCodeMap (codes) {\n  var map = {}\n\n  Object.keys(codes).forEach(function forEachCode (code) {\n    var message = codes[code]\n    var status = Number(code)\n\n    // populate map\n    map[message.toLowerCase()] = status\n  })\n\n  return map\n}\n\n/**\n * Create a list of all status codes.\n * @private\n */\n\nfunction createStatusCodeList (codes) {\n  return Object.keys(codes).map(function mapCode (code) {\n    return Number(code)\n  })\n}\n\n/**\n * Get the status code for given message.\n * @private\n */\n\nfunction getStatusCode (message) {\n  var msg = message.toLowerCase()\n\n  if (!Object.prototype.hasOwnProperty.call(status.code, msg)) {\n    throw new Error('invalid status message: \"' + message + '\"')\n  }\n\n  return status.code[msg]\n}\n\n/**\n * Get the status message for given code.\n * @private\n */\n\nfunction getStatusMessage (code) {\n  if (!Object.prototype.hasOwnProperty.call(status.message, code)) {\n    throw new Error('invalid status code: ' + code)\n  }\n\n  return status.message[code]\n}\n\n/**\n * Get the status code.\n *\n * Given a number, this will throw if it is not a known status\n * code, otherwise the code will be returned. Given a string,\n * the string will be parsed for a number and return the code\n * if valid, otherwise will lookup the code assuming this is\n * the status message.\n *\n * @param {string|number} code\n * @returns {number}\n * @public\n */\n\nfunction status (code) {\n  if (typeof code === 'number') {\n    return getStatusMessage(code)\n  }\n\n  if (typeof code !== 'string') {\n    throw new TypeError('code must be a number or string')\n  }\n\n  // '403'\n  var n = parseInt(code, 10)\n  if (!isNaN(n)) {\n    return getStatusMessage(n)\n  }\n\n  return getStatusCode(code)\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","try {\n  var util = require('util');\n  /* istanbul ignore next */\n  if (typeof util.inherits !== 'function') throw '';\n  module.exports = util.inherits;\n} catch (e) {\n  /* istanbul ignore next */\n  module.exports = require('./inherits_browser.js');\n}\n","/*!\n * toidentifier\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = toIdentifier\n\n/**\n * Trasform the given string into a JavaScript identifier\n *\n * @param {string} str\n * @returns {string}\n * @public\n */\n\nfunction toIdentifier (str) {\n  return str\n    .split(' ')\n    .map(function (token) {\n      return token.slice(0, 1).toUpperCase() + token.slice(1)\n    })\n    .join('')\n    .replace(/[^ _0-9a-z]/gi, '')\n}\n","/*!\n * http-errors\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar deprecate = require('depd')('http-errors')\nvar setPrototypeOf = require('setprototypeof')\nvar statuses = require('statuses')\nvar inherits = require('inherits')\nvar toIdentifier = require('toidentifier')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = createError\nmodule.exports.HttpError = createHttpErrorConstructor()\nmodule.exports.isHttpError = createIsHttpErrorFunction(module.exports.HttpError)\n\n// Populate exports for all constructors\npopulateConstructorExports(module.exports, statuses.codes, module.exports.HttpError)\n\n/**\n * Get the code class of a status code.\n * @private\n */\n\nfunction codeClass (status) {\n  return Number(String(status).charAt(0) + '00')\n}\n\n/**\n * Create a new HTTP Error.\n *\n * @returns {Error}\n * @public\n */\n\nfunction createError () {\n  // so much arity going on ~_~\n  var err\n  var msg\n  var status = 500\n  var props = {}\n  for (var i = 0; i < arguments.length; i++) {\n    var arg = arguments[i]\n    var type = typeof arg\n    if (type === 'object' && arg instanceof Error) {\n      err = arg\n      status = err.status || err.statusCode || status\n    } else if (type === 'number' && i === 0) {\n      status = arg\n    } else if (type === 'string') {\n      msg = arg\n    } else if (type === 'object') {\n      props = arg\n    } else {\n      throw new TypeError('argument #' + (i + 1) + ' unsupported type ' + type)\n    }\n  }\n\n  if (typeof status === 'number' && (status < 400 || status >= 600)) {\n    deprecate('non-error status code; use only 4xx or 5xx status codes')\n  }\n\n  if (typeof status !== 'number' ||\n    (!statuses.message[status] && (status < 400 || status >= 600))) {\n    status = 500\n  }\n\n  // constructor\n  var HttpError = createError[status] || createError[codeClass(status)]\n\n  if (!err) {\n    // create error\n    err = HttpError\n      ? new HttpError(msg)\n      : new Error(msg || statuses.message[status])\n    Error.captureStackTrace(err, createError)\n  }\n\n  if (!HttpError || !(err instanceof HttpError) || err.status !== status) {\n    // add properties to generic error\n    err.expose = status < 500\n    err.status = err.statusCode = status\n  }\n\n  for (var key in props) {\n    if (key !== 'status' && key !== 'statusCode') {\n      err[key] = props[key]\n    }\n  }\n\n  return err\n}\n\n/**\n * Create HTTP error abstract base class.\n * @private\n */\n\nfunction createHttpErrorConstructor () {\n  function HttpError () {\n    throw new TypeError('cannot construct abstract class')\n  }\n\n  inherits(HttpError, Error)\n\n  return HttpError\n}\n\n/**\n * Create a constructor for a client error.\n * @private\n */\n\nfunction createClientErrorConstructor (HttpError, name, code) {\n  var className = toClassName(name)\n\n  function ClientError (message) {\n    // create the error object\n    var msg = message != null ? message : statuses.message[code]\n    var err = new Error(msg)\n\n    // capture a stack trace to the construction point\n    Error.captureStackTrace(err, ClientError)\n\n    // adjust the [[Prototype]]\n    setPrototypeOf(err, ClientError.prototype)\n\n    // redefine the error message\n    Object.defineProperty(err, 'message', {\n      enumerable: true,\n      configurable: true,\n      value: msg,\n      writable: true\n    })\n\n    // redefine the error name\n    Object.defineProperty(err, 'name', {\n      enumerable: false,\n      configurable: true,\n      value: className,\n      writable: true\n    })\n\n    return err\n  }\n\n  inherits(ClientError, HttpError)\n  nameFunc(ClientError, className)\n\n  ClientError.prototype.status = code\n  ClientError.prototype.statusCode = code\n  ClientError.prototype.expose = true\n\n  return ClientError\n}\n\n/**\n * Create function to test is a value is a HttpError.\n * @private\n */\n\nfunction createIsHttpErrorFunction (HttpError) {\n  return function isHttpError (val) {\n    if (!val || typeof val !== 'object') {\n      return false\n    }\n\n    if (val instanceof HttpError) {\n      return true\n    }\n\n    return val instanceof Error &&\n      typeof val.expose === 'boolean' &&\n      typeof val.statusCode === 'number' && val.status === val.statusCode\n  }\n}\n\n/**\n * Create a constructor for a server error.\n * @private\n */\n\nfunction createServerErrorConstructor (HttpError, name, code) {\n  var className = toClassName(name)\n\n  function ServerError (message) {\n    // create the error object\n    var msg = message != null ? message : statuses.message[code]\n    var err = new Error(msg)\n\n    // capture a stack trace to the construction point\n    Error.captureStackTrace(err, ServerError)\n\n    // adjust the [[Prototype]]\n    setPrototypeOf(err, ServerError.prototype)\n\n    // redefine the error message\n    Object.defineProperty(err, 'message', {\n      enumerable: true,\n      configurable: true,\n      value: msg,\n      writable: true\n    })\n\n    // redefine the error name\n    Object.defineProperty(err, 'name', {\n      enumerable: false,\n      configurable: true,\n      value: className,\n      writable: true\n    })\n\n    return err\n  }\n\n  inherits(ServerError, HttpError)\n  nameFunc(ServerError, className)\n\n  ServerError.prototype.status = code\n  ServerError.prototype.statusCode = code\n  ServerError.prototype.expose = false\n\n  return ServerError\n}\n\n/**\n * Set the name of a function, if possible.\n * @private\n */\n\nfunction nameFunc (func, name) {\n  var desc = Object.getOwnPropertyDescriptor(func, 'name')\n\n  if (desc && desc.configurable) {\n    desc.value = name\n    Object.defineProperty(func, 'name', desc)\n  }\n}\n\n/**\n * Populate the exports object with constructors for every error class.\n * @private\n */\n\nfunction populateConstructorExports (exports, codes, HttpError) {\n  codes.forEach(function forEachCode (code) {\n    var CodeError\n    var name = toIdentifier(statuses.message[code])\n\n    switch (codeClass(code)) {\n      case 400:\n        CodeError = createClientErrorConstructor(HttpError, name, code)\n        break\n      case 500:\n        CodeError = createServerErrorConstructor(HttpError, name, code)\n        break\n    }\n\n    if (CodeError) {\n      // export the constructor\n      exports[code] = CodeError\n      exports[name] = CodeError\n    }\n  })\n}\n\n/**\n * Get a class name from a name identifier.\n * @private\n */\n\nfunction toClassName (name) {\n  return name.substr(-5) !== 'Error'\n    ? name + 'Error'\n    : name\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","/**\n * Module dependencies.\n */\n\nvar tty = require('tty');\nvar util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // camel-case\n  var prop = key\n    .substring(6)\n    .toLowerCase()\n    .replace(/_([a-z])/g, function (_, k) { return k.toUpperCase() });\n\n  // coerce string value into JS value\n  var val = process.env[key];\n  if (/^(yes|on|true|enabled)$/i.test(val)) val = true;\n  else if (/^(no|off|false|disabled)$/i.test(val)) val = false;\n  else if (val === 'null') val = null;\n  else val = Number(val);\n\n  obj[prop] = val;\n  return obj;\n}, {});\n\n/**\n * The file descriptor to write the `debug()` calls to.\n * Set the `DEBUG_FD` env variable to override with another value. i.e.:\n *\n *   $ DEBUG_FD=3 node script.js 3>debug.log\n */\n\nvar fd = parseInt(process.env.DEBUG_FD, 10) || 2;\n\nif (1 !== fd && 2 !== fd) {\n  util.deprecate(function(){}, 'except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)')()\n}\n\nvar stream = 1 === fd ? process.stdout :\n             2 === fd ? process.stderr :\n             createWritableStdioStream(fd);\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts\n    ? Boolean(exports.inspectOpts.colors)\n    : tty.isatty(fd);\n}\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nexports.formatters.o = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .split('\\n').map(function(str) {\n      return str.trim()\n    }).join(' ');\n};\n\n/**\n * Map %o to `util.inspect()`, allowing multiple lines if needed.\n */\n\nexports.formatters.O = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var name = this.namespace;\n  var useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var prefix = '  \\u001b[3' + c + ';1m' + name + ' ' + '\\u001b[0m';\n\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push('\\u001b[3' + c + 'm+' + exports.humanize(this.diff) + '\\u001b[0m');\n  } else {\n    args[0] = new Date().toUTCString()\n      + ' ' + name + ' ' + args[0];\n  }\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to `stream`.\n */\n\nfunction log() {\n  return stream.write(util.format.apply(util, arguments) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  if (null == namespaces) {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  } else {\n    process.env.DEBUG = namespaces;\n  }\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  return process.env.DEBUG;\n}\n\n/**\n * Copied from `node/src/node.js`.\n *\n * XXX: It's lame that node doesn't expose this API out-of-the-box. It also\n * relies on the undocumented `tty_wrap.guessHandleType()` which is also lame.\n */\n\nfunction createWritableStdioStream (fd) {\n  var stream;\n  var tty_wrap = process.binding('tty_wrap');\n\n  // Note stream._type is used for test-module-load-list.js\n\n  switch (tty_wrap.guessHandleType(fd)) {\n    case 'TTY':\n      stream = new tty.WriteStream(fd);\n      stream._type = 'tty';\n\n      // Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    case 'FILE':\n      var fs = require('fs');\n      stream = new fs.SyncWriteStream(fd, { autoClose: false });\n      stream._type = 'fs';\n      break;\n\n    case 'PIPE':\n    case 'TCP':\n      var net = require('net');\n      stream = new net.Socket({\n        fd: fd,\n        readable: false,\n        writable: true\n      });\n\n      // FIXME Should probably have an option in net.Socket to create a\n      // stream from an existing fd which is writable only. But for now\n      // we'll just add this hack and set the `readable` member to false.\n      // Test: ./node test/fixtures/echo.js < /etc/passwd\n      stream.readable = false;\n      stream.read = null;\n      stream._type = 'pipe';\n\n      // FIXME Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    default:\n      // Probably an error on in uv_guess_handle()\n      throw new Error('Implement me. Unknown stream file type!');\n  }\n\n  // For supporting legacy API we put the FD here.\n  stream.fd = fd;\n\n  stream._isStdio = true;\n\n  return stream;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init (debug) {\n  debug.inspectOpts = {};\n\n  var keys = Object.keys(exports.inspectOpts);\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\n/**\n * Enable namespaces listed in `process.env.DEBUG` initially.\n */\n\nexports.enable(load());\n","/**\n * Detect Electron renderer process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process !== 'undefined' && process.type === 'renderer') {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","/*!\n * destroy\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar EventEmitter = require('events').EventEmitter\nvar ReadStream = require('fs').ReadStream\nvar Stream = require('stream')\nvar Zlib = require('zlib')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = destroy\n\n/**\n * Destroy the given stream, and optionally suppress any future `error` events.\n *\n * @param {object} stream\n * @param {boolean} suppress\n * @public\n */\n\nfunction destroy (stream, suppress) {\n  if (isFsReadStream(stream)) {\n    destroyReadStream(stream)\n  } else if (isZlibStream(stream)) {\n    destroyZlibStream(stream)\n  } else if (hasDestroy(stream)) {\n    stream.destroy()\n  }\n\n  if (isEventEmitter(stream) && suppress) {\n    stream.removeAllListeners('error')\n    stream.addListener('error', noop)\n  }\n\n  return stream\n}\n\n/**\n * Destroy a ReadStream.\n *\n * @param {object} stream\n * @private\n */\n\nfunction destroyReadStream (stream) {\n  stream.destroy()\n\n  if (typeof stream.close === 'function') {\n    // node.js core bug work-around\n    stream.on('open', onOpenClose)\n  }\n}\n\n/**\n * Close a Zlib stream.\n *\n * Zlib streams below Node.js 4.5.5 have a buggy implementation\n * of .close() when zlib encountered an error.\n *\n * @param {object} stream\n * @private\n */\n\nfunction closeZlibStream (stream) {\n  if (stream._hadError === true) {\n    var prop = stream._binding === null\n      ? '_binding'\n      : '_handle'\n\n    stream[prop] = {\n      close: function () { this[prop] = null }\n    }\n  }\n\n  stream.close()\n}\n\n/**\n * Destroy a Zlib stream.\n *\n * Zlib streams don't have a destroy function in Node.js 6. On top of that\n * simply calling destroy on a zlib stream in Node.js 8+ will result in a\n * memory leak. So until that is fixed, we need to call both close AND destroy.\n *\n * PR to fix memory leak: https://github.com/nodejs/node/pull/23734\n *\n * In Node.js 6+8, it's important that destroy is called before close as the\n * stream would otherwise emit the error 'zlib binding closed'.\n *\n * @param {object} stream\n * @private\n */\n\nfunction destroyZlibStream (stream) {\n  if (typeof stream.destroy === 'function') {\n    // node.js core bug work-around\n    // istanbul ignore if: node.js 0.8\n    if (stream._binding) {\n      // node.js < 0.10.0\n      stream.destroy()\n      if (stream._processing) {\n        stream._needDrain = true\n        stream.once('drain', onDrainClearBinding)\n      } else {\n        stream._binding.clear()\n      }\n    } else if (stream._destroy && stream._destroy !== Stream.Transform.prototype._destroy) {\n      // node.js >= 12, ^11.1.0, ^10.15.1\n      stream.destroy()\n    } else if (stream._destroy && typeof stream.close === 'function') {\n      // node.js 7, 8\n      stream.destroyed = true\n      stream.close()\n    } else {\n      // fallback\n      // istanbul ignore next\n      stream.destroy()\n    }\n  } else if (typeof stream.close === 'function') {\n    // node.js < 8 fallback\n    closeZlibStream(stream)\n  }\n}\n\n/**\n * Determine if stream has destroy.\n * @private\n */\n\nfunction hasDestroy (stream) {\n  return stream instanceof Stream &&\n    typeof stream.destroy === 'function'\n}\n\n/**\n * Determine if val is EventEmitter.\n * @private\n */\n\nfunction isEventEmitter (val) {\n  return val instanceof EventEmitter\n}\n\n/**\n * Determine if stream is fs.ReadStream stream.\n * @private\n */\n\nfunction isFsReadStream (stream) {\n  return stream instanceof ReadStream\n}\n\n/**\n * Determine if stream is Zlib stream.\n * @private\n */\n\nfunction isZlibStream (stream) {\n  return stream instanceof Zlib.Gzip ||\n    stream instanceof Zlib.Gunzip ||\n    stream instanceof Zlib.Deflate ||\n    stream instanceof Zlib.DeflateRaw ||\n    stream instanceof Zlib.Inflate ||\n    stream instanceof Zlib.InflateRaw ||\n    stream instanceof Zlib.Unzip\n}\n\n/**\n * No-op function.\n * @private\n */\n\nfunction noop () {}\n\n/**\n * On drain handler to clear binding.\n * @private\n */\n\n// istanbul ignore next: node.js 0.8\nfunction onDrainClearBinding () {\n  this._binding.clear()\n}\n\n/**\n * On open handler to close stream.\n * @private\n */\n\nfunction onOpenClose () {\n  if (typeof this.fd === 'number') {\n    // actually close down the fd\n    this.close()\n  }\n}\n","/*!\n * etag\n * Copyright(c) 2014-2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = etag\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar crypto = require('crypto')\nvar Stats = require('fs').Stats\n\n/**\n * Module variables.\n * @private\n */\n\nvar toString = Object.prototype.toString\n\n/**\n * Generate an entity tag.\n *\n * @param {Buffer|string} entity\n * @return {string}\n * @private\n */\n\nfunction entitytag (entity) {\n  if (entity.length === 0) {\n    // fast-path empty\n    return '\"0-2jmj7l5rSw0yVb/vlWAYkK/YBwk\"'\n  }\n\n  // compute hash of entity\n  var hash = crypto\n    .createHash('sha1')\n    .update(entity, 'utf8')\n    .digest('base64')\n    .substring(0, 27)\n\n  // compute length of entity\n  var len = typeof entity === 'string'\n    ? Buffer.byteLength(entity, 'utf8')\n    : entity.length\n\n  return '\"' + len.toString(16) + '-' + hash + '\"'\n}\n\n/**\n * Create a simple ETag.\n *\n * @param {string|Buffer|Stats} entity\n * @param {object} [options]\n * @param {boolean} [options.weak]\n * @return {String}\n * @public\n */\n\nfunction etag (entity, options) {\n  if (entity == null) {\n    throw new TypeError('argument entity is required')\n  }\n\n  // support fs.Stats object\n  var isStats = isstats(entity)\n  var weak = options && typeof options.weak === 'boolean'\n    ? options.weak\n    : isStats\n\n  // validate argument\n  if (!isStats && typeof entity !== 'string' && !Buffer.isBuffer(entity)) {\n    throw new TypeError('argument entity must be string, Buffer, or fs.Stats')\n  }\n\n  // generate entity tag\n  var tag = isStats\n    ? stattag(entity)\n    : entitytag(entity)\n\n  return weak\n    ? 'W/' + tag\n    : tag\n}\n\n/**\n * Determine if object is a Stats object.\n *\n * @param {object} obj\n * @return {boolean}\n * @api private\n */\n\nfunction isstats (obj) {\n  // genuine fs.Stats\n  if (typeof Stats === 'function' && obj instanceof Stats) {\n    return true\n  }\n\n  // quack quack\n  return obj && typeof obj === 'object' &&\n    'ctime' in obj && toString.call(obj.ctime) === '[object Date]' &&\n    'mtime' in obj && toString.call(obj.mtime) === '[object Date]' &&\n    'ino' in obj && typeof obj.ino === 'number' &&\n    'size' in obj && typeof obj.size === 'number'\n}\n\n/**\n * Generate a tag for a stat.\n *\n * @param {object} stat\n * @return {string}\n * @private\n */\n\nfunction stattag (stat) {\n  var mtime = stat.mtime.getTime().toString(16)\n  var size = stat.size.toString(16)\n\n  return '\"' + size + '-' + mtime + '\"'\n}\n","/*!\n * fresh\n * Copyright(c) 2012 TJ Holowaychuk\n * Copyright(c) 2016-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * RegExp to check for no-cache token in Cache-Control.\n * @private\n */\n\nvar CACHE_CONTROL_NO_CACHE_REGEXP = /(?:^|,)\\s*?no-cache\\s*?(?:,|$)/\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = fresh\n\n/**\n * Check freshness of the response using request and response headers.\n *\n * @param {Object} reqHeaders\n * @param {Object} resHeaders\n * @return {Boolean}\n * @public\n */\n\nfunction fresh (reqHeaders, resHeaders) {\n  // fields\n  var modifiedSince = reqHeaders['if-modified-since']\n  var noneMatch = reqHeaders['if-none-match']\n\n  // unconditional request\n  if (!modifiedSince && !noneMatch) {\n    return false\n  }\n\n  // Always return stale when Cache-Control: no-cache\n  // to support end-to-end reload requests\n  // https://tools.ietf.org/html/rfc2616#section-14.9.4\n  var cacheControl = reqHeaders['cache-control']\n  if (cacheControl && CACHE_CONTROL_NO_CACHE_REGEXP.test(cacheControl)) {\n    return false\n  }\n\n  // if-none-match\n  if (noneMatch && noneMatch !== '*') {\n    var etag = resHeaders['etag']\n\n    if (!etag) {\n      return false\n    }\n\n    var etagStale = true\n    var matches = parseTokenList(noneMatch)\n    for (var i = 0; i < matches.length; i++) {\n      var match = matches[i]\n      if (match === etag || match === 'W/' + etag || 'W/' + match === etag) {\n        etagStale = false\n        break\n      }\n    }\n\n    if (etagStale) {\n      return false\n    }\n  }\n\n  // if-modified-since\n  if (modifiedSince) {\n    var lastModified = resHeaders['last-modified']\n    var modifiedStale = !lastModified || !(parseHttpDate(lastModified) <= parseHttpDate(modifiedSince))\n\n    if (modifiedStale) {\n      return false\n    }\n  }\n\n  return true\n}\n\n/**\n * Parse an HTTP Date into a number.\n *\n * @param {string} date\n * @private\n */\n\nfunction parseHttpDate (date) {\n  var timestamp = date && Date.parse(date)\n\n  // istanbul ignore next: guard against date.js Date.parse patching\n  return typeof timestamp === 'number'\n    ? timestamp\n    : NaN\n}\n\n/**\n * Parse a HTTP token list.\n *\n * @param {string} str\n * @private\n */\n\nfunction parseTokenList (str) {\n  var end = 0\n  var list = []\n  var start = 0\n\n  // gather tokens\n  for (var i = 0, len = str.length; i < len; i++) {\n    switch (str.charCodeAt(i)) {\n      case 0x20: /*   */\n        if (start === end) {\n          start = end = i + 1\n        }\n        break\n      case 0x2c: /* , */\n        list.push(str.substring(start, end))\n        start = end = i + 1\n        break\n      default:\n        end = i + 1\n        break\n    }\n  }\n\n  // final token\n  list.push(str.substring(start, end))\n\n  return list\n}\n","var path = require('path');\nvar fs = require('fs');\n\nfunction Mime() {\n  // Map of extension -> mime type\n  this.types = Object.create(null);\n\n  // Map of mime type -> extension\n  this.extensions = Object.create(null);\n}\n\n/**\n * Define mimetype -> extension mappings.  Each key is a mime-type that maps\n * to an array of extensions associated with the type.  The first extension is\n * used as the default extension for the type.\n *\n * e.g. mime.define({'audio/ogg', ['oga', 'ogg', 'spx']});\n *\n * @param map (Object) type definitions\n */\nMime.prototype.define = function (map) {\n  for (var type in map) {\n    var exts = map[type];\n    for (var i = 0; i < exts.length; i++) {\n      if (process.env.DEBUG_MIME && this.types[exts[i]]) {\n        console.warn((this._loading || \"define()\").replace(/.*\\//, ''), 'changes \"' + exts[i] + '\" extension type from ' +\n          this.types[exts[i]] + ' to ' + type);\n      }\n\n      this.types[exts[i]] = type;\n    }\n\n    // Default extension is the first one we encounter\n    if (!this.extensions[type]) {\n      this.extensions[type] = exts[0];\n    }\n  }\n};\n\n/**\n * Load an Apache2-style \".types\" file\n *\n * This may be called multiple times (it's expected).  Where files declare\n * overlapping types/extensions, the last file wins.\n *\n * @param file (String) path of file to load.\n */\nMime.prototype.load = function(file) {\n  this._loading = file;\n  // Read file and split into lines\n  var map = {},\n      content = fs.readFileSync(file, 'ascii'),\n      lines = content.split(/[\\r\\n]+/);\n\n  lines.forEach(function(line) {\n    // Clean up whitespace/comments, and split into fields\n    var fields = line.replace(/\\s*#.*|^\\s*|\\s*$/g, '').split(/\\s+/);\n    map[fields.shift()] = fields;\n  });\n\n  this.define(map);\n\n  this._loading = null;\n};\n\n/**\n * Lookup a mime type based on extension\n */\nMime.prototype.lookup = function(path, fallback) {\n  var ext = path.replace(/^.*[\\.\\/\\\\]/, '').toLowerCase();\n\n  return this.types[ext] || fallback || this.default_type;\n};\n\n/**\n * Return file extension associated with a mime type\n */\nMime.prototype.extension = function(mimeType) {\n  var type = mimeType.match(/^\\s*([^;\\s]*)(?:;|\\s|$)/)[1].toLowerCase();\n  return this.extensions[type];\n};\n\n// Default instance\nvar mime = new Mime();\n\n// Define built-in types\nmime.define(require('./types.json'));\n\n// Default type\nmime.default_type = mime.lookup('bin');\n\n//\n// Additional API specific to the default instance\n//\n\nmime.Mime = Mime;\n\n/**\n * Lookup a charset based on mime type.\n */\nmime.charsets = {\n  lookup: function(mimeType, fallback) {\n    // Assume text types are utf8\n    return (/^text\\/|^application\\/(javascript|json)/).test(mimeType) ? 'UTF-8' : fallback;\n  }\n};\n\nmodule.exports = mime;\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","/*!\n * ee-first\n * Copyright(c) 2014 Jonathan Ong\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = first\n\n/**\n * Get the first event in a set of event emitters and event pairs.\n *\n * @param {array} stuff\n * @param {function} done\n * @public\n */\n\nfunction first(stuff, done) {\n  if (!Array.isArray(stuff))\n    throw new TypeError('arg must be an array of [ee, events...] arrays')\n\n  var cleanups = []\n\n  for (var i = 0; i < stuff.length; i++) {\n    var arr = stuff[i]\n\n    if (!Array.isArray(arr) || arr.length < 2)\n      throw new TypeError('each array member must be [ee, events...]')\n\n    var ee = arr[0]\n\n    for (var j = 1; j < arr.length; j++) {\n      var event = arr[j]\n      var fn = listener(event, callback)\n\n      // listen to the event\n      ee.on(event, fn)\n      // push this listener to the list of cleanups\n      cleanups.push({\n        ee: ee,\n        event: event,\n        fn: fn,\n      })\n    }\n  }\n\n  function callback() {\n    cleanup()\n    done.apply(null, arguments)\n  }\n\n  function cleanup() {\n    var x\n    for (var i = 0; i < cleanups.length; i++) {\n      x = cleanups[i]\n      x.ee.removeListener(x.event, x.fn)\n    }\n  }\n\n  function thunk(fn) {\n    done = fn\n  }\n\n  thunk.cancel = cleanup\n\n  return thunk\n}\n\n/**\n * Create the event listener.\n * @private\n */\n\nfunction listener(event, done) {\n  return function onevent(arg1) {\n    var args = new Array(arguments.length)\n    var ee = this\n    var err = event === 'error'\n      ? arg1\n      : null\n\n    // copy args to prevent arguments escaping scope\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n\n    done(err, ee, event, args)\n  }\n}\n","/*!\n * on-finished\n * Copyright(c) 2013 Jonathan Ong\n * Copyright(c) 2014 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = onFinished\nmodule.exports.isFinished = isFinished\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar asyncHooks = tryRequireAsyncHooks()\nvar first = require('ee-first')\n\n/**\n * Variables.\n * @private\n */\n\n/* istanbul ignore next */\nvar defer = typeof setImmediate === 'function'\n  ? setImmediate\n  : function (fn) { process.nextTick(fn.bind.apply(fn, arguments)) }\n\n/**\n * Invoke callback when the response has finished, useful for\n * cleaning up resources afterwards.\n *\n * @param {object} msg\n * @param {function} listener\n * @return {object}\n * @public\n */\n\nfunction onFinished (msg, listener) {\n  if (isFinished(msg) !== false) {\n    defer(listener, null, msg)\n    return msg\n  }\n\n  // attach the listener to the message\n  attachListener(msg, wrap(listener))\n\n  return msg\n}\n\n/**\n * Determine if message is already finished.\n *\n * @param {object} msg\n * @return {boolean}\n * @public\n */\n\nfunction isFinished (msg) {\n  var socket = msg.socket\n\n  if (typeof msg.finished === 'boolean') {\n    // OutgoingMessage\n    return Boolean(msg.finished || (socket && !socket.writable))\n  }\n\n  if (typeof msg.complete === 'boolean') {\n    // IncomingMessage\n    return Boolean(msg.upgrade || !socket || !socket.readable || (msg.complete && !msg.readable))\n  }\n\n  // don't know\n  return undefined\n}\n\n/**\n * Attach a finished listener to the message.\n *\n * @param {object} msg\n * @param {function} callback\n * @private\n */\n\nfunction attachFinishedListener (msg, callback) {\n  var eeMsg\n  var eeSocket\n  var finished = false\n\n  function onFinish (error) {\n    eeMsg.cancel()\n    eeSocket.cancel()\n\n    finished = true\n    callback(error)\n  }\n\n  // finished on first message event\n  eeMsg = eeSocket = first([[msg, 'end', 'finish']], onFinish)\n\n  function onSocket (socket) {\n    // remove listener\n    msg.removeListener('socket', onSocket)\n\n    if (finished) return\n    if (eeMsg !== eeSocket) return\n\n    // finished on first socket event\n    eeSocket = first([[socket, 'error', 'close']], onFinish)\n  }\n\n  if (msg.socket) {\n    // socket already assigned\n    onSocket(msg.socket)\n    return\n  }\n\n  // wait for socket to be assigned\n  msg.on('socket', onSocket)\n\n  if (msg.socket === undefined) {\n    // istanbul ignore next: node.js 0.8 patch\n    patchAssignSocket(msg, onSocket)\n  }\n}\n\n/**\n * Attach the listener to the message.\n *\n * @param {object} msg\n * @return {function}\n * @private\n */\n\nfunction attachListener (msg, listener) {\n  var attached = msg.__onFinished\n\n  // create a private single listener with queue\n  if (!attached || !attached.queue) {\n    attached = msg.__onFinished = createListener(msg)\n    attachFinishedListener(msg, attached)\n  }\n\n  attached.queue.push(listener)\n}\n\n/**\n * Create listener on message.\n *\n * @param {object} msg\n * @return {function}\n * @private\n */\n\nfunction createListener (msg) {\n  function listener (err) {\n    if (msg.__onFinished === listener) msg.__onFinished = null\n    if (!listener.queue) return\n\n    var queue = listener.queue\n    listener.queue = null\n\n    for (var i = 0; i < queue.length; i++) {\n      queue[i](err, msg)\n    }\n  }\n\n  listener.queue = []\n\n  return listener\n}\n\n/**\n * Patch ServerResponse.prototype.assignSocket for node.js 0.8.\n *\n * @param {ServerResponse} res\n * @param {function} callback\n * @private\n */\n\n// istanbul ignore next: node.js 0.8 patch\nfunction patchAssignSocket (res, callback) {\n  var assignSocket = res.assignSocket\n\n  if (typeof assignSocket !== 'function') return\n\n  // res.on('socket', callback) is broken in 0.8\n  res.assignSocket = function _assignSocket (socket) {\n    assignSocket.call(this, socket)\n    callback(socket)\n  }\n}\n\n/**\n * Try to require async_hooks\n * @private\n */\n\nfunction tryRequireAsyncHooks () {\n  try {\n    return require('async_hooks')\n  } catch (e) {\n    return {}\n  }\n}\n\n/**\n * Wrap function with async resource, if possible.\n * AsyncResource.bind static method backported.\n * @private\n */\n\nfunction wrap (fn) {\n  var res\n\n  // create anonymous resource\n  if (asyncHooks.AsyncResource) {\n    res = new asyncHooks.AsyncResource(fn.name || 'bound-anonymous-fn')\n  }\n\n  // incompatible node.js\n  if (!res || !res.runInAsyncScope) {\n    return fn\n  }\n\n  // return bound function\n  return res.runInAsyncScope.bind(res, fn, null)\n}\n","/*!\n * range-parser\n * Copyright(c) 2012-2014 TJ Holowaychuk\n * Copyright(c) 2015-2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = rangeParser\n\n/**\n * Parse \"Range\" header `str` relative to the given file `size`.\n *\n * @param {Number} size\n * @param {String} str\n * @param {Object} [options]\n * @return {Array}\n * @public\n */\n\nfunction rangeParser (size, str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string')\n  }\n\n  var index = str.indexOf('=')\n\n  if (index === -1) {\n    return -2\n  }\n\n  // split the range string\n  var arr = str.slice(index + 1).split(',')\n  var ranges = []\n\n  // add ranges type\n  ranges.type = str.slice(0, index)\n\n  // parse all ranges\n  for (var i = 0; i < arr.length; i++) {\n    var range = arr[i].split('-')\n    var start = parseInt(range[0], 10)\n    var end = parseInt(range[1], 10)\n\n    // -nnn\n    if (isNaN(start)) {\n      start = size - end\n      end = size - 1\n    // nnn-\n    } else if (isNaN(end)) {\n      end = size - 1\n    }\n\n    // limit last-byte-pos to current length\n    if (end > size - 1) {\n      end = size - 1\n    }\n\n    // invalid or unsatisifiable\n    if (isNaN(start) || isNaN(end) || start > end || start < 0) {\n      continue\n    }\n\n    // add range\n    ranges.push({\n      start: start,\n      end: end\n    })\n  }\n\n  if (ranges.length < 1) {\n    // unsatisifiable\n    return -1\n  }\n\n  return options && options.combine\n    ? combineRanges(ranges)\n    : ranges\n}\n\n/**\n * Combine overlapping & adjacent ranges.\n * @private\n */\n\nfunction combineRanges (ranges) {\n  var ordered = ranges.map(mapWithIndex).sort(sortByRangeStart)\n\n  for (var j = 0, i = 1; i < ordered.length; i++) {\n    var range = ordered[i]\n    var current = ordered[j]\n\n    if (range.start > current.end + 1) {\n      // next range\n      ordered[++j] = range\n    } else if (range.end > current.end) {\n      // extend range\n      current.end = range.end\n      current.index = Math.min(current.index, range.index)\n    }\n  }\n\n  // trim ordered array\n  ordered.length = j + 1\n\n  // generate combined range\n  var combined = ordered.sort(sortByRangeIndex).map(mapWithoutIndex)\n\n  // copy ranges type\n  combined.type = ranges.type\n\n  return combined\n}\n\n/**\n * Map function to add index value to ranges.\n * @private\n */\n\nfunction mapWithIndex (range, index) {\n  return {\n    start: range.start,\n    end: range.end,\n    index: index\n  }\n}\n\n/**\n * Map function to remove index value from ranges.\n * @private\n */\n\nfunction mapWithoutIndex (range) {\n  return {\n    start: range.start,\n    end: range.end\n  }\n}\n\n/**\n * Sort function to sort ranges by index.\n * @private\n */\n\nfunction sortByRangeIndex (a, b) {\n  return a.index - b.index\n}\n\n/**\n * Sort function to sort ranges by start position.\n * @private\n */\n\nfunction sortByRangeStart (a, b) {\n  return a.start - b.start\n}\n","/*!\n * statuses\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar codes = require('./codes.json')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = status\n\n// status code to message map\nstatus.message = codes\n\n// status message (lower-case) to code map\nstatus.code = createMessageToStatusCodeMap(codes)\n\n// array of status codes\nstatus.codes = createStatusCodeList(codes)\n\n// status codes for redirects\nstatus.redirect = {\n  300: true,\n  301: true,\n  302: true,\n  303: true,\n  305: true,\n  307: true,\n  308: true\n}\n\n// status codes for empty bodies\nstatus.empty = {\n  204: true,\n  205: true,\n  304: true\n}\n\n// status codes for when you should retry the request\nstatus.retry = {\n  502: true,\n  503: true,\n  504: true\n}\n\n/**\n * Create a map of message to status code.\n * @private\n */\n\nfunction createMessageToStatusCodeMap (codes) {\n  var map = {}\n\n  Object.keys(codes).forEach(function forEachCode (code) {\n    var message = codes[code]\n    var status = Number(code)\n\n    // populate map\n    map[message.toLowerCase()] = status\n  })\n\n  return map\n}\n\n/**\n * Create a list of all status codes.\n * @private\n */\n\nfunction createStatusCodeList (codes) {\n  return Object.keys(codes).map(function mapCode (code) {\n    return Number(code)\n  })\n}\n\n/**\n * Get the status code for given message.\n * @private\n */\n\nfunction getStatusCode (message) {\n  var msg = message.toLowerCase()\n\n  if (!Object.prototype.hasOwnProperty.call(status.code, msg)) {\n    throw new Error('invalid status message: \"' + message + '\"')\n  }\n\n  return status.code[msg]\n}\n\n/**\n * Get the status message for given code.\n * @private\n */\n\nfunction getStatusMessage (code) {\n  if (!Object.prototype.hasOwnProperty.call(status.message, code)) {\n    throw new Error('invalid status code: ' + code)\n  }\n\n  return status.message[code]\n}\n\n/**\n * Get the status code.\n *\n * Given a number, this will throw if it is not a known status\n * code, otherwise the code will be returned. Given a string,\n * the string will be parsed for a number and return the code\n * if valid, otherwise will lookup the code assuming this is\n * the status message.\n *\n * @param {string|number} code\n * @returns {number}\n * @public\n */\n\nfunction status (code) {\n  if (typeof code === 'number') {\n    return getStatusMessage(code)\n  }\n\n  if (typeof code !== 'string') {\n    throw new TypeError('code must be a number or string')\n  }\n\n  // '403'\n  var n = parseInt(code, 10)\n  if (!isNaN(n)) {\n    return getStatusMessage(n)\n  }\n\n  return getStatusCode(code)\n}\n","/*!\n * send\n * Copyright(c) 2012 TJ Holowaychuk\n * Copyright(c) 2014-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar createError = require('http-errors')\nvar debug = require('debug')('send')\nvar deprecate = require('depd')('send')\nvar destroy = require('destroy')\nvar encodeUrl = require('encodeurl')\nvar escapeHtml = require('escape-html')\nvar etag = require('etag')\nvar fresh = require('fresh')\nvar fs = require('fs')\nvar mime = require('mime')\nvar ms = require('ms')\nvar onFinished = require('on-finished')\nvar parseRange = require('range-parser')\nvar path = require('path')\nvar statuses = require('statuses')\nvar Stream = require('stream')\nvar util = require('util')\n\n/**\n * Path function references.\n * @private\n */\n\nvar extname = path.extname\nvar join = path.join\nvar normalize = path.normalize\nvar resolve = path.resolve\nvar sep = path.sep\n\n/**\n * Regular expression for identifying a bytes Range header.\n * @private\n */\n\nvar BYTES_RANGE_REGEXP = /^ *bytes=/\n\n/**\n * Maximum value allowed for the max age.\n * @private\n */\n\nvar MAX_MAXAGE = 60 * 60 * 24 * 365 * 1000 // 1 year\n\n/**\n * Regular expression to match a path with a directory up component.\n * @private\n */\n\nvar UP_PATH_REGEXP = /(?:^|[\\\\/])\\.\\.(?:[\\\\/]|$)/\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = send\nmodule.exports.mime = mime\n\n/**\n * Return a `SendStream` for `req` and `path`.\n *\n * @param {object} req\n * @param {string} path\n * @param {object} [options]\n * @return {SendStream}\n * @public\n */\n\nfunction send (req, path, options) {\n  return new SendStream(req, path, options)\n}\n\n/**\n * Initialize a `SendStream` with the given `path`.\n *\n * @param {Request} req\n * @param {String} path\n * @param {object} [options]\n * @private\n */\n\nfunction SendStream (req, path, options) {\n  Stream.call(this)\n\n  var opts = options || {}\n\n  this.options = opts\n  this.path = path\n  this.req = req\n\n  this._acceptRanges = opts.acceptRanges !== undefined\n    ? Boolean(opts.acceptRanges)\n    : true\n\n  this._cacheControl = opts.cacheControl !== undefined\n    ? Boolean(opts.cacheControl)\n    : true\n\n  this._etag = opts.etag !== undefined\n    ? Boolean(opts.etag)\n    : true\n\n  this._dotfiles = opts.dotfiles !== undefined\n    ? opts.dotfiles\n    : 'ignore'\n\n  if (this._dotfiles !== 'ignore' && this._dotfiles !== 'allow' && this._dotfiles !== 'deny') {\n    throw new TypeError('dotfiles option must be \"allow\", \"deny\", or \"ignore\"')\n  }\n\n  this._hidden = Boolean(opts.hidden)\n\n  if (opts.hidden !== undefined) {\n    deprecate('hidden: use dotfiles: \\'' + (this._hidden ? 'allow' : 'ignore') + '\\' instead')\n  }\n\n  // legacy support\n  if (opts.dotfiles === undefined) {\n    this._dotfiles = undefined\n  }\n\n  this._extensions = opts.extensions !== undefined\n    ? normalizeList(opts.extensions, 'extensions option')\n    : []\n\n  this._immutable = opts.immutable !== undefined\n    ? Boolean(opts.immutable)\n    : false\n\n  this._index = opts.index !== undefined\n    ? normalizeList(opts.index, 'index option')\n    : ['index.html']\n\n  this._lastModified = opts.lastModified !== undefined\n    ? Boolean(opts.lastModified)\n    : true\n\n  this._maxage = opts.maxAge || opts.maxage\n  this._maxage = typeof this._maxage === 'string'\n    ? ms(this._maxage)\n    : Number(this._maxage)\n  this._maxage = !isNaN(this._maxage)\n    ? Math.min(Math.max(0, this._maxage), MAX_MAXAGE)\n    : 0\n\n  this._root = opts.root\n    ? resolve(opts.root)\n    : null\n\n  if (!this._root && opts.from) {\n    this.from(opts.from)\n  }\n}\n\n/**\n * Inherits from `Stream`.\n */\n\nutil.inherits(SendStream, Stream)\n\n/**\n * Enable or disable etag generation.\n *\n * @param {Boolean} val\n * @return {SendStream}\n * @api public\n */\n\nSendStream.prototype.etag = deprecate.function(function etag (val) {\n  this._etag = Boolean(val)\n  debug('etag %s', this._etag)\n  return this\n}, 'send.etag: pass etag as option')\n\n/**\n * Enable or disable \"hidden\" (dot) files.\n *\n * @param {Boolean} path\n * @return {SendStream}\n * @api public\n */\n\nSendStream.prototype.hidden = deprecate.function(function hidden (val) {\n  this._hidden = Boolean(val)\n  this._dotfiles = undefined\n  debug('hidden %s', this._hidden)\n  return this\n}, 'send.hidden: use dotfiles option')\n\n/**\n * Set index `paths`, set to a falsy\n * value to disable index support.\n *\n * @param {String|Boolean|Array} paths\n * @return {SendStream}\n * @api public\n */\n\nSendStream.prototype.index = deprecate.function(function index (paths) {\n  var index = !paths ? [] : normalizeList(paths, 'paths argument')\n  debug('index %o', paths)\n  this._index = index\n  return this\n}, 'send.index: pass index as option')\n\n/**\n * Set root `path`.\n *\n * @param {String} path\n * @return {SendStream}\n * @api public\n */\n\nSendStream.prototype.root = function root (path) {\n  this._root = resolve(String(path))\n  debug('root %s', this._root)\n  return this\n}\n\nSendStream.prototype.from = deprecate.function(SendStream.prototype.root,\n  'send.from: pass root as option')\n\nSendStream.prototype.root = deprecate.function(SendStream.prototype.root,\n  'send.root: pass root as option')\n\n/**\n * Set max-age to `maxAge`.\n *\n * @param {Number} maxAge\n * @return {SendStream}\n * @api public\n */\n\nSendStream.prototype.maxage = deprecate.function(function maxage (maxAge) {\n  this._maxage = typeof maxAge === 'string'\n    ? ms(maxAge)\n    : Number(maxAge)\n  this._maxage = !isNaN(this._maxage)\n    ? Math.min(Math.max(0, this._maxage), MAX_MAXAGE)\n    : 0\n  debug('max-age %d', this._maxage)\n  return this\n}, 'send.maxage: pass maxAge as option')\n\n/**\n * Emit error with `status`.\n *\n * @param {number} status\n * @param {Error} [err]\n * @private\n */\n\nSendStream.prototype.error = function error (status, err) {\n  // emit if listeners instead of responding\n  if (hasListeners(this, 'error')) {\n    return this.emit('error', createHttpError(status, err))\n  }\n\n  var res = this.res\n  var msg = statuses.message[status] || String(status)\n  var doc = createHtmlDocument('Error', escapeHtml(msg))\n\n  // clear existing headers\n  clearHeaders(res)\n\n  // add error headers\n  if (err && err.headers) {\n    setHeaders(res, err.headers)\n  }\n\n  // send basic response\n  res.statusCode = status\n  res.setHeader('Content-Type', 'text/html; charset=UTF-8')\n  res.setHeader('Content-Length', Buffer.byteLength(doc))\n  res.setHeader('Content-Security-Policy', \"default-src 'none'\")\n  res.setHeader('X-Content-Type-Options', 'nosniff')\n  res.end(doc)\n}\n\n/**\n * Check if the pathname ends with \"/\".\n *\n * @return {boolean}\n * @private\n */\n\nSendStream.prototype.hasTrailingSlash = function hasTrailingSlash () {\n  return this.path[this.path.length - 1] === '/'\n}\n\n/**\n * Check if this is a conditional GET request.\n *\n * @return {Boolean}\n * @api private\n */\n\nSendStream.prototype.isConditionalGET = function isConditionalGET () {\n  return this.req.headers['if-match'] ||\n    this.req.headers['if-unmodified-since'] ||\n    this.req.headers['if-none-match'] ||\n    this.req.headers['if-modified-since']\n}\n\n/**\n * Check if the request preconditions failed.\n *\n * @return {boolean}\n * @private\n */\n\nSendStream.prototype.isPreconditionFailure = function isPreconditionFailure () {\n  var req = this.req\n  var res = this.res\n\n  // if-match\n  var match = req.headers['if-match']\n  if (match) {\n    var etag = res.getHeader('ETag')\n    return !etag || (match !== '*' && parseTokenList(match).every(function (match) {\n      return match !== etag && match !== 'W/' + etag && 'W/' + match !== etag\n    }))\n  }\n\n  // if-unmodified-since\n  var unmodifiedSince = parseHttpDate(req.headers['if-unmodified-since'])\n  if (!isNaN(unmodifiedSince)) {\n    var lastModified = parseHttpDate(res.getHeader('Last-Modified'))\n    return isNaN(lastModified) || lastModified > unmodifiedSince\n  }\n\n  return false\n}\n\n/**\n * Strip various content header fields for a change in entity.\n *\n * @private\n */\n\nSendStream.prototype.removeContentHeaderFields = function removeContentHeaderFields () {\n  var res = this.res\n\n  res.removeHeader('Content-Encoding')\n  res.removeHeader('Content-Language')\n  res.removeHeader('Content-Length')\n  res.removeHeader('Content-Range')\n  res.removeHeader('Content-Type')\n}\n\n/**\n * Respond with 304 not modified.\n *\n * @api private\n */\n\nSendStream.prototype.notModified = function notModified () {\n  var res = this.res\n  debug('not modified')\n  this.removeContentHeaderFields()\n  res.statusCode = 304\n  res.end()\n}\n\n/**\n * Raise error that headers already sent.\n *\n * @api private\n */\n\nSendStream.prototype.headersAlreadySent = function headersAlreadySent () {\n  var err = new Error('Can\\'t set headers after they are sent.')\n  debug('headers already sent')\n  this.error(500, err)\n}\n\n/**\n * Check if the request is cacheable, aka\n * responded with 2xx or 304 (see RFC 2616 section 14.2{5,6}).\n *\n * @return {Boolean}\n * @api private\n */\n\nSendStream.prototype.isCachable = function isCachable () {\n  var statusCode = this.res.statusCode\n  return (statusCode >= 200 && statusCode < 300) ||\n    statusCode === 304\n}\n\n/**\n * Handle stat() error.\n *\n * @param {Error} error\n * @private\n */\n\nSendStream.prototype.onStatError = function onStatError (error) {\n  switch (error.code) {\n    case 'ENAMETOOLONG':\n    case 'ENOENT':\n    case 'ENOTDIR':\n      this.error(404, error)\n      break\n    default:\n      this.error(500, error)\n      break\n  }\n}\n\n/**\n * Check if the cache is fresh.\n *\n * @return {Boolean}\n * @api private\n */\n\nSendStream.prototype.isFresh = function isFresh () {\n  return fresh(this.req.headers, {\n    etag: this.res.getHeader('ETag'),\n    'last-modified': this.res.getHeader('Last-Modified')\n  })\n}\n\n/**\n * Check if the range is fresh.\n *\n * @return {Boolean}\n * @api private\n */\n\nSendStream.prototype.isRangeFresh = function isRangeFresh () {\n  var ifRange = this.req.headers['if-range']\n\n  if (!ifRange) {\n    return true\n  }\n\n  // if-range as etag\n  if (ifRange.indexOf('\"') !== -1) {\n    var etag = this.res.getHeader('ETag')\n    return Boolean(etag && ifRange.indexOf(etag) !== -1)\n  }\n\n  // if-range as modified date\n  var lastModified = this.res.getHeader('Last-Modified')\n  return parseHttpDate(lastModified) <= parseHttpDate(ifRange)\n}\n\n/**\n * Redirect to path.\n *\n * @param {string} path\n * @private\n */\n\nSendStream.prototype.redirect = function redirect (path) {\n  var res = this.res\n\n  if (hasListeners(this, 'directory')) {\n    this.emit('directory', res, path)\n    return\n  }\n\n  if (this.hasTrailingSlash()) {\n    this.error(403)\n    return\n  }\n\n  var loc = encodeUrl(collapseLeadingSlashes(this.path + '/'))\n  var doc = createHtmlDocument('Redirecting', 'Redirecting to <a href=\"' + escapeHtml(loc) + '\">' +\n    escapeHtml(loc) + '</a>')\n\n  // redirect\n  res.statusCode = 301\n  res.setHeader('Content-Type', 'text/html; charset=UTF-8')\n  res.setHeader('Content-Length', Buffer.byteLength(doc))\n  res.setHeader('Content-Security-Policy', \"default-src 'none'\")\n  res.setHeader('X-Content-Type-Options', 'nosniff')\n  res.setHeader('Location', loc)\n  res.end(doc)\n}\n\n/**\n * Pipe to `res.\n *\n * @param {Stream} res\n * @return {Stream} res\n * @api public\n */\n\nSendStream.prototype.pipe = function pipe (res) {\n  // root path\n  var root = this._root\n\n  // references\n  this.res = res\n\n  // decode the path\n  var path = decode(this.path)\n  if (path === -1) {\n    this.error(400)\n    return res\n  }\n\n  // null byte(s)\n  if (~path.indexOf('\\0')) {\n    this.error(400)\n    return res\n  }\n\n  var parts\n  if (root !== null) {\n    // normalize\n    if (path) {\n      path = normalize('.' + sep + path)\n    }\n\n    // malicious path\n    if (UP_PATH_REGEXP.test(path)) {\n      debug('malicious path \"%s\"', path)\n      this.error(403)\n      return res\n    }\n\n    // explode path parts\n    parts = path.split(sep)\n\n    // join / normalize from optional root dir\n    path = normalize(join(root, path))\n  } else {\n    // \"..\" is malicious without \"root\"\n    if (UP_PATH_REGEXP.test(path)) {\n      debug('malicious path \"%s\"', path)\n      this.error(403)\n      return res\n    }\n\n    // explode path parts\n    parts = normalize(path).split(sep)\n\n    // resolve the path\n    path = resolve(path)\n  }\n\n  // dotfile handling\n  if (containsDotFile(parts)) {\n    var access = this._dotfiles\n\n    // legacy support\n    if (access === undefined) {\n      access = parts[parts.length - 1][0] === '.'\n        ? (this._hidden ? 'allow' : 'ignore')\n        : 'allow'\n    }\n\n    debug('%s dotfile \"%s\"', access, path)\n    switch (access) {\n      case 'allow':\n        break\n      case 'deny':\n        this.error(403)\n        return res\n      case 'ignore':\n      default:\n        this.error(404)\n        return res\n    }\n  }\n\n  // index file support\n  if (this._index.length && this.hasTrailingSlash()) {\n    this.sendIndex(path)\n    return res\n  }\n\n  this.sendFile(path)\n  return res\n}\n\n/**\n * Transfer `path`.\n *\n * @param {String} path\n * @api public\n */\n\nSendStream.prototype.send = function send (path, stat) {\n  var len = stat.size\n  var options = this.options\n  var opts = {}\n  var res = this.res\n  var req = this.req\n  var ranges = req.headers.range\n  var offset = options.start || 0\n\n  if (headersSent(res)) {\n    // impossible to send now\n    this.headersAlreadySent()\n    return\n  }\n\n  debug('pipe \"%s\"', path)\n\n  // set header fields\n  this.setHeader(path, stat)\n\n  // set content-type\n  this.type(path)\n\n  // conditional GET support\n  if (this.isConditionalGET()) {\n    if (this.isPreconditionFailure()) {\n      this.error(412)\n      return\n    }\n\n    if (this.isCachable() && this.isFresh()) {\n      this.notModified()\n      return\n    }\n  }\n\n  // adjust len to start/end options\n  len = Math.max(0, len - offset)\n  if (options.end !== undefined) {\n    var bytes = options.end - offset + 1\n    if (len > bytes) len = bytes\n  }\n\n  // Range support\n  if (this._acceptRanges && BYTES_RANGE_REGEXP.test(ranges)) {\n    // parse\n    ranges = parseRange(len, ranges, {\n      combine: true\n    })\n\n    // If-Range support\n    if (!this.isRangeFresh()) {\n      debug('range stale')\n      ranges = -2\n    }\n\n    // unsatisfiable\n    if (ranges === -1) {\n      debug('range unsatisfiable')\n\n      // Content-Range\n      res.setHeader('Content-Range', contentRange('bytes', len))\n\n      // 416 Requested Range Not Satisfiable\n      return this.error(416, {\n        headers: { 'Content-Range': res.getHeader('Content-Range') }\n      })\n    }\n\n    // valid (syntactically invalid/multiple ranges are treated as a regular response)\n    if (ranges !== -2 && ranges.length === 1) {\n      debug('range %j', ranges)\n\n      // Content-Range\n      res.statusCode = 206\n      res.setHeader('Content-Range', contentRange('bytes', len, ranges[0]))\n\n      // adjust for requested range\n      offset += ranges[0].start\n      len = ranges[0].end - ranges[0].start + 1\n    }\n  }\n\n  // clone options\n  for (var prop in options) {\n    opts[prop] = options[prop]\n  }\n\n  // set read options\n  opts.start = offset\n  opts.end = Math.max(offset, offset + len - 1)\n\n  // content-length\n  res.setHeader('Content-Length', len)\n\n  // HEAD support\n  if (req.method === 'HEAD') {\n    res.end()\n    return\n  }\n\n  this.stream(path, opts)\n}\n\n/**\n * Transfer file for `path`.\n *\n * @param {String} path\n * @api private\n */\nSendStream.prototype.sendFile = function sendFile (path) {\n  var i = 0\n  var self = this\n\n  debug('stat \"%s\"', path)\n  fs.stat(path, function onstat (err, stat) {\n    if (err && err.code === 'ENOENT' && !extname(path) && path[path.length - 1] !== sep) {\n      // not found, check extensions\n      return next(err)\n    }\n    if (err) return self.onStatError(err)\n    if (stat.isDirectory()) return self.redirect(path)\n    self.emit('file', path, stat)\n    self.send(path, stat)\n  })\n\n  function next (err) {\n    if (self._extensions.length <= i) {\n      return err\n        ? self.onStatError(err)\n        : self.error(404)\n    }\n\n    var p = path + '.' + self._extensions[i++]\n\n    debug('stat \"%s\"', p)\n    fs.stat(p, function (err, stat) {\n      if (err) return next(err)\n      if (stat.isDirectory()) return next()\n      self.emit('file', p, stat)\n      self.send(p, stat)\n    })\n  }\n}\n\n/**\n * Transfer index for `path`.\n *\n * @param {String} path\n * @api private\n */\nSendStream.prototype.sendIndex = function sendIndex (path) {\n  var i = -1\n  var self = this\n\n  function next (err) {\n    if (++i >= self._index.length) {\n      if (err) return self.onStatError(err)\n      return self.error(404)\n    }\n\n    var p = join(path, self._index[i])\n\n    debug('stat \"%s\"', p)\n    fs.stat(p, function (err, stat) {\n      if (err) return next(err)\n      if (stat.isDirectory()) return next()\n      self.emit('file', p, stat)\n      self.send(p, stat)\n    })\n  }\n\n  next()\n}\n\n/**\n * Stream `path` to the response.\n *\n * @param {String} path\n * @param {Object} options\n * @api private\n */\n\nSendStream.prototype.stream = function stream (path, options) {\n  var self = this\n  var res = this.res\n\n  // pipe\n  var stream = fs.createReadStream(path, options)\n  this.emit('stream', stream)\n  stream.pipe(res)\n\n  // cleanup\n  function cleanup () {\n    destroy(stream, true)\n  }\n\n  // response finished, cleanup\n  onFinished(res, cleanup)\n\n  // error handling\n  stream.on('error', function onerror (err) {\n    // clean up stream early\n    cleanup()\n\n    // error\n    self.onStatError(err)\n  })\n\n  // end\n  stream.on('end', function onend () {\n    self.emit('end')\n  })\n}\n\n/**\n * Set content-type based on `path`\n * if it hasn't been explicitly set.\n *\n * @param {String} path\n * @api private\n */\n\nSendStream.prototype.type = function type (path) {\n  var res = this.res\n\n  if (res.getHeader('Content-Type')) return\n\n  var type = mime.lookup(path)\n\n  if (!type) {\n    debug('no content-type')\n    return\n  }\n\n  var charset = mime.charsets.lookup(type)\n\n  debug('content-type %s', type)\n  res.setHeader('Content-Type', type + (charset ? '; charset=' + charset : ''))\n}\n\n/**\n * Set response header fields, most\n * fields may be pre-defined.\n *\n * @param {String} path\n * @param {Object} stat\n * @api private\n */\n\nSendStream.prototype.setHeader = function setHeader (path, stat) {\n  var res = this.res\n\n  this.emit('headers', res, path, stat)\n\n  if (this._acceptRanges && !res.getHeader('Accept-Ranges')) {\n    debug('accept ranges')\n    res.setHeader('Accept-Ranges', 'bytes')\n  }\n\n  if (this._cacheControl && !res.getHeader('Cache-Control')) {\n    var cacheControl = 'public, max-age=' + Math.floor(this._maxage / 1000)\n\n    if (this._immutable) {\n      cacheControl += ', immutable'\n    }\n\n    debug('cache-control %s', cacheControl)\n    res.setHeader('Cache-Control', cacheControl)\n  }\n\n  if (this._lastModified && !res.getHeader('Last-Modified')) {\n    var modified = stat.mtime.toUTCString()\n    debug('modified %s', modified)\n    res.setHeader('Last-Modified', modified)\n  }\n\n  if (this._etag && !res.getHeader('ETag')) {\n    var val = etag(stat)\n    debug('etag %s', val)\n    res.setHeader('ETag', val)\n  }\n}\n\n/**\n * Clear all headers from a response.\n *\n * @param {object} res\n * @private\n */\n\nfunction clearHeaders (res) {\n  var headers = getHeaderNames(res)\n\n  for (var i = 0; i < headers.length; i++) {\n    res.removeHeader(headers[i])\n  }\n}\n\n/**\n * Collapse all leading slashes into a single slash\n *\n * @param {string} str\n * @private\n */\nfunction collapseLeadingSlashes (str) {\n  for (var i = 0; i < str.length; i++) {\n    if (str[i] !== '/') {\n      break\n    }\n  }\n\n  return i > 1\n    ? '/' + str.substr(i)\n    : str\n}\n\n/**\n * Determine if path parts contain a dotfile.\n *\n * @api private\n */\n\nfunction containsDotFile (parts) {\n  for (var i = 0; i < parts.length; i++) {\n    var part = parts[i]\n    if (part.length > 1 && part[0] === '.') {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * Create a Content-Range header.\n *\n * @param {string} type\n * @param {number} size\n * @param {array} [range]\n */\n\nfunction contentRange (type, size, range) {\n  return type + ' ' + (range ? range.start + '-' + range.end : '*') + '/' + size\n}\n\n/**\n * Create a minimal HTML document.\n *\n * @param {string} title\n * @param {string} body\n * @private\n */\n\nfunction createHtmlDocument (title, body) {\n  return '<!DOCTYPE html>\\n' +\n    '<html lang=\"en\">\\n' +\n    '<head>\\n' +\n    '<meta charset=\"utf-8\">\\n' +\n    '<title>' + title + '</title>\\n' +\n    '</head>\\n' +\n    '<body>\\n' +\n    '<pre>' + body + '</pre>\\n' +\n    '</body>\\n' +\n    '</html>\\n'\n}\n\n/**\n * Create a HttpError object from simple arguments.\n *\n * @param {number} status\n * @param {Error|object} err\n * @private\n */\n\nfunction createHttpError (status, err) {\n  if (!err) {\n    return createError(status)\n  }\n\n  return err instanceof Error\n    ? createError(status, err, { expose: false })\n    : createError(status, err)\n}\n\n/**\n * decodeURIComponent.\n *\n * Allows V8 to only deoptimize this fn instead of all\n * of send().\n *\n * @param {String} path\n * @api private\n */\n\nfunction decode (path) {\n  try {\n    return decodeURIComponent(path)\n  } catch (err) {\n    return -1\n  }\n}\n\n/**\n * Get the header names on a respnse.\n *\n * @param {object} res\n * @returns {array[string]}\n * @private\n */\n\nfunction getHeaderNames (res) {\n  return typeof res.getHeaderNames !== 'function'\n    ? Object.keys(res._headers || {})\n    : res.getHeaderNames()\n}\n\n/**\n * Determine if emitter has listeners of a given type.\n *\n * The way to do this check is done three different ways in Node.js >= 0.8\n * so this consolidates them into a minimal set using instance methods.\n *\n * @param {EventEmitter} emitter\n * @param {string} type\n * @returns {boolean}\n * @private\n */\n\nfunction hasListeners (emitter, type) {\n  var count = typeof emitter.listenerCount !== 'function'\n    ? emitter.listeners(type).length\n    : emitter.listenerCount(type)\n\n  return count > 0\n}\n\n/**\n * Determine if the response headers have been sent.\n *\n * @param {object} res\n * @returns {boolean}\n * @private\n */\n\nfunction headersSent (res) {\n  return typeof res.headersSent !== 'boolean'\n    ? Boolean(res._header)\n    : res.headersSent\n}\n\n/**\n * Normalize the index option into an array.\n *\n * @param {boolean|string|array} val\n * @param {string} name\n * @private\n */\n\nfunction normalizeList (val, name) {\n  var list = [].concat(val || [])\n\n  for (var i = 0; i < list.length; i++) {\n    if (typeof list[i] !== 'string') {\n      throw new TypeError(name + ' must be array of strings or false')\n    }\n  }\n\n  return list\n}\n\n/**\n * Parse an HTTP Date into a number.\n *\n * @param {string} date\n * @private\n */\n\nfunction parseHttpDate (date) {\n  var timestamp = date && Date.parse(date)\n\n  return typeof timestamp === 'number'\n    ? timestamp\n    : NaN\n}\n\n/**\n * Parse a HTTP token list.\n *\n * @param {string} str\n * @private\n */\n\nfunction parseTokenList (str) {\n  var end = 0\n  var list = []\n  var start = 0\n\n  // gather tokens\n  for (var i = 0, len = str.length; i < len; i++) {\n    switch (str.charCodeAt(i)) {\n      case 0x20: /*   */\n        if (start === end) {\n          start = end = i + 1\n        }\n        break\n      case 0x2c: /* , */\n        if (start !== end) {\n          list.push(str.substring(start, end))\n        }\n        start = end = i + 1\n        break\n      default:\n        end = i + 1\n        break\n    }\n  }\n\n  // final token\n  if (start !== end) {\n    list.push(str.substring(start, end))\n  }\n\n  return list\n}\n\n/**\n * Set an object of headers on a response.\n *\n * @param {object} res\n * @param {object} headers\n * @private\n */\n\nfunction setHeaders (res, headers) {\n  var keys = Object.keys(headers)\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i]\n    res.setHeader(key, headers[key])\n  }\n}\n","/*!\n * serve-static\n * Copyright(c) 2010 Sencha Inc.\n * Copyright(c) 2011 TJ Holowaychuk\n * Copyright(c) 2014-2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar encodeUrl = require('encodeurl')\nvar escapeHtml = require('escape-html')\nvar parseUrl = require('parseurl')\nvar resolve = require('path').resolve\nvar send = require('send')\nvar url = require('url')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = serveStatic\nmodule.exports.mime = send.mime\n\n/**\n * @param {string} root\n * @param {object} [options]\n * @return {function}\n * @public\n */\n\nfunction serveStatic (root, options) {\n  if (!root) {\n    throw new TypeError('root path required')\n  }\n\n  if (typeof root !== 'string') {\n    throw new TypeError('root path must be a string')\n  }\n\n  // copy options object\n  var opts = Object.create(options || null)\n\n  // fall-though\n  var fallthrough = opts.fallthrough !== false\n\n  // default redirect\n  var redirect = opts.redirect !== false\n\n  // headers listener\n  var setHeaders = opts.setHeaders\n\n  if (setHeaders && typeof setHeaders !== 'function') {\n    throw new TypeError('option setHeaders must be function')\n  }\n\n  // setup options for send\n  opts.maxage = opts.maxage || opts.maxAge || 0\n  opts.root = resolve(root)\n\n  // construct directory listener\n  var onDirectory = redirect\n    ? createRedirectDirectoryListener()\n    : createNotFoundDirectoryListener()\n\n  return function serveStatic (req, res, next) {\n    if (req.method !== 'GET' && req.method !== 'HEAD') {\n      if (fallthrough) {\n        return next()\n      }\n\n      // method not allowed\n      res.statusCode = 405\n      res.setHeader('Allow', 'GET, HEAD')\n      res.setHeader('Content-Length', '0')\n      res.end()\n      return\n    }\n\n    var forwardError = !fallthrough\n    var originalUrl = parseUrl.original(req)\n    var path = parseUrl(req).pathname\n\n    // make sure redirect occurs at mount\n    if (path === '/' && originalUrl.pathname.substr(-1) !== '/') {\n      path = ''\n    }\n\n    // create send stream\n    var stream = send(req, path, opts)\n\n    // add directory handler\n    stream.on('directory', onDirectory)\n\n    // add headers listener\n    if (setHeaders) {\n      stream.on('headers', setHeaders)\n    }\n\n    // add file listener for fallthrough\n    if (fallthrough) {\n      stream.on('file', function onFile () {\n        // once file is determined, always forward error\n        forwardError = true\n      })\n    }\n\n    // forward errors\n    stream.on('error', function error (err) {\n      if (forwardError || !(err.statusCode < 500)) {\n        next(err)\n        return\n      }\n\n      next()\n    })\n\n    // pipe\n    stream.pipe(res)\n  }\n}\n\n/**\n * Collapse all leading slashes into a single slash\n * @private\n */\nfunction collapseLeadingSlashes (str) {\n  for (var i = 0; i < str.length; i++) {\n    if (str.charCodeAt(i) !== 0x2f /* / */) {\n      break\n    }\n  }\n\n  return i > 1\n    ? '/' + str.substr(i)\n    : str\n}\n\n/**\n * Create a minimal HTML document.\n *\n * @param {string} title\n * @param {string} body\n * @private\n */\n\nfunction createHtmlDocument (title, body) {\n  return '<!DOCTYPE html>\\n' +\n    '<html lang=\"en\">\\n' +\n    '<head>\\n' +\n    '<meta charset=\"utf-8\">\\n' +\n    '<title>' + title + '</title>\\n' +\n    '</head>\\n' +\n    '<body>\\n' +\n    '<pre>' + body + '</pre>\\n' +\n    '</body>\\n' +\n    '</html>\\n'\n}\n\n/**\n * Create a directory listener that just 404s.\n * @private\n */\n\nfunction createNotFoundDirectoryListener () {\n  return function notFound () {\n    this.error(404)\n  }\n}\n\n/**\n * Create a directory listener that performs a redirect.\n * @private\n */\n\nfunction createRedirectDirectoryListener () {\n  return function redirect (res) {\n    if (this.hasTrailingSlash()) {\n      this.error(404)\n      return\n    }\n\n    // get original URL\n    var originalUrl = parseUrl.original(this.req)\n\n    // append trailing slash\n    originalUrl.path = null\n    originalUrl.pathname = collapseLeadingSlashes(originalUrl.pathname + '/')\n\n    // reformat the URL\n    var loc = encodeUrl(url.format(originalUrl))\n    var doc = createHtmlDocument('Redirecting', 'Redirecting to <a href=\"' + escapeHtml(loc) + '\">' +\n      escapeHtml(loc) + '</a>')\n\n    // send redirect response\n    res.statusCode = 301\n    res.setHeader('Content-Type', 'text/html; charset=UTF-8')\n    res.setHeader('Content-Length', Buffer.byteLength(doc))\n    res.setHeader('Content-Security-Policy', \"default-src 'none'\")\n    res.setHeader('X-Content-Type-Options', 'nosniff')\n    res.setHeader('Location', loc)\n    res.end(doc)\n  }\n}\n","/**\n * negotiator\n * Copyright(c) 2012 Isaac Z. Schlueter\n * Copyright(c) 2014 Federico Romero\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = preferredCharsets;\nmodule.exports.preferredCharsets = preferredCharsets;\n\n/**\n * Module variables.\n * @private\n */\n\nvar simpleCharsetRegExp = /^\\s*([^\\s;]+)\\s*(?:;(.*))?$/;\n\n/**\n * Parse the Accept-Charset header.\n * @private\n */\n\nfunction parseAcceptCharset(accept) {\n  var accepts = accept.split(',');\n\n  for (var i = 0, j = 0; i < accepts.length; i++) {\n    var charset = parseCharset(accepts[i].trim(), i);\n\n    if (charset) {\n      accepts[j++] = charset;\n    }\n  }\n\n  // trim accepts\n  accepts.length = j;\n\n  return accepts;\n}\n\n/**\n * Parse a charset from the Accept-Charset header.\n * @private\n */\n\nfunction parseCharset(str, i) {\n  var match = simpleCharsetRegExp.exec(str);\n  if (!match) return null;\n\n  var charset = match[1];\n  var q = 1;\n  if (match[2]) {\n    var params = match[2].split(';')\n    for (var j = 0; j < params.length; j++) {\n      var p = params[j].trim().split('=');\n      if (p[0] === 'q') {\n        q = parseFloat(p[1]);\n        break;\n      }\n    }\n  }\n\n  return {\n    charset: charset,\n    q: q,\n    i: i\n  };\n}\n\n/**\n * Get the priority of a charset.\n * @private\n */\n\nfunction getCharsetPriority(charset, accepted, index) {\n  var priority = {o: -1, q: 0, s: 0};\n\n  for (var i = 0; i < accepted.length; i++) {\n    var spec = specify(charset, accepted[i], index);\n\n    if (spec && (priority.s - spec.s || priority.q - spec.q || priority.o - spec.o) < 0) {\n      priority = spec;\n    }\n  }\n\n  return priority;\n}\n\n/**\n * Get the specificity of the charset.\n * @private\n */\n\nfunction specify(charset, spec, index) {\n  var s = 0;\n  if(spec.charset.toLowerCase() === charset.toLowerCase()){\n    s |= 1;\n  } else if (spec.charset !== '*' ) {\n    return null\n  }\n\n  return {\n    i: index,\n    o: spec.i,\n    q: spec.q,\n    s: s\n  }\n}\n\n/**\n * Get the preferred charsets from an Accept-Charset header.\n * @public\n */\n\nfunction preferredCharsets(accept, provided) {\n  // RFC 2616 sec 14.2: no header = *\n  var accepts = parseAcceptCharset(accept === undefined ? '*' : accept || '');\n\n  if (!provided) {\n    // sorted list of all charsets\n    return accepts\n      .filter(isQuality)\n      .sort(compareSpecs)\n      .map(getFullCharset);\n  }\n\n  var priorities = provided.map(function getPriority(type, index) {\n    return getCharsetPriority(type, accepts, index);\n  });\n\n  // sorted list of accepted charsets\n  return priorities.filter(isQuality).sort(compareSpecs).map(function getCharset(priority) {\n    return provided[priorities.indexOf(priority)];\n  });\n}\n\n/**\n * Compare two specs.\n * @private\n */\n\nfunction compareSpecs(a, b) {\n  return (b.q - a.q) || (b.s - a.s) || (a.o - b.o) || (a.i - b.i) || 0;\n}\n\n/**\n * Get full charset string.\n * @private\n */\n\nfunction getFullCharset(spec) {\n  return spec.charset;\n}\n\n/**\n * Check if a spec has any quality.\n * @private\n */\n\nfunction isQuality(spec) {\n  return spec.q > 0;\n}\n","/**\n * negotiator\n * Copyright(c) 2012 Isaac Z. Schlueter\n * Copyright(c) 2014 Federico Romero\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = preferredEncodings;\nmodule.exports.preferredEncodings = preferredEncodings;\n\n/**\n * Module variables.\n * @private\n */\n\nvar simpleEncodingRegExp = /^\\s*([^\\s;]+)\\s*(?:;(.*))?$/;\n\n/**\n * Parse the Accept-Encoding header.\n * @private\n */\n\nfunction parseAcceptEncoding(accept) {\n  var accepts = accept.split(',');\n  var hasIdentity = false;\n  var minQuality = 1;\n\n  for (var i = 0, j = 0; i < accepts.length; i++) {\n    var encoding = parseEncoding(accepts[i].trim(), i);\n\n    if (encoding) {\n      accepts[j++] = encoding;\n      hasIdentity = hasIdentity || specify('identity', encoding);\n      minQuality = Math.min(minQuality, encoding.q || 1);\n    }\n  }\n\n  if (!hasIdentity) {\n    /*\n     * If identity doesn't explicitly appear in the accept-encoding header,\n     * it's added to the list of acceptable encoding with the lowest q\n     */\n    accepts[j++] = {\n      encoding: 'identity',\n      q: minQuality,\n      i: i\n    };\n  }\n\n  // trim accepts\n  accepts.length = j;\n\n  return accepts;\n}\n\n/**\n * Parse an encoding from the Accept-Encoding header.\n * @private\n */\n\nfunction parseEncoding(str, i) {\n  var match = simpleEncodingRegExp.exec(str);\n  if (!match) return null;\n\n  var encoding = match[1];\n  var q = 1;\n  if (match[2]) {\n    var params = match[2].split(';');\n    for (var j = 0; j < params.length; j++) {\n      var p = params[j].trim().split('=');\n      if (p[0] === 'q') {\n        q = parseFloat(p[1]);\n        break;\n      }\n    }\n  }\n\n  return {\n    encoding: encoding,\n    q: q,\n    i: i\n  };\n}\n\n/**\n * Get the priority of an encoding.\n * @private\n */\n\nfunction getEncodingPriority(encoding, accepted, index) {\n  var priority = {o: -1, q: 0, s: 0};\n\n  for (var i = 0; i < accepted.length; i++) {\n    var spec = specify(encoding, accepted[i], index);\n\n    if (spec && (priority.s - spec.s || priority.q - spec.q || priority.o - spec.o) < 0) {\n      priority = spec;\n    }\n  }\n\n  return priority;\n}\n\n/**\n * Get the specificity of the encoding.\n * @private\n */\n\nfunction specify(encoding, spec, index) {\n  var s = 0;\n  if(spec.encoding.toLowerCase() === encoding.toLowerCase()){\n    s |= 1;\n  } else if (spec.encoding !== '*' ) {\n    return null\n  }\n\n  return {\n    i: index,\n    o: spec.i,\n    q: spec.q,\n    s: s\n  }\n};\n\n/**\n * Get the preferred encodings from an Accept-Encoding header.\n * @public\n */\n\nfunction preferredEncodings(accept, provided) {\n  var accepts = parseAcceptEncoding(accept || '');\n\n  if (!provided) {\n    // sorted list of all encodings\n    return accepts\n      .filter(isQuality)\n      .sort(compareSpecs)\n      .map(getFullEncoding);\n  }\n\n  var priorities = provided.map(function getPriority(type, index) {\n    return getEncodingPriority(type, accepts, index);\n  });\n\n  // sorted list of accepted encodings\n  return priorities.filter(isQuality).sort(compareSpecs).map(function getEncoding(priority) {\n    return provided[priorities.indexOf(priority)];\n  });\n}\n\n/**\n * Compare two specs.\n * @private\n */\n\nfunction compareSpecs(a, b) {\n  return (b.q - a.q) || (b.s - a.s) || (a.o - b.o) || (a.i - b.i) || 0;\n}\n\n/**\n * Get full encoding string.\n * @private\n */\n\nfunction getFullEncoding(spec) {\n  return spec.encoding;\n}\n\n/**\n * Check if a spec has any quality.\n * @private\n */\n\nfunction isQuality(spec) {\n  return spec.q > 0;\n}\n","/**\n * negotiator\n * Copyright(c) 2012 Isaac Z. Schlueter\n * Copyright(c) 2014 Federico Romero\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = preferredLanguages;\nmodule.exports.preferredLanguages = preferredLanguages;\n\n/**\n * Module variables.\n * @private\n */\n\nvar simpleLanguageRegExp = /^\\s*([^\\s\\-;]+)(?:-([^\\s;]+))?\\s*(?:;(.*))?$/;\n\n/**\n * Parse the Accept-Language header.\n * @private\n */\n\nfunction parseAcceptLanguage(accept) {\n  var accepts = accept.split(',');\n\n  for (var i = 0, j = 0; i < accepts.length; i++) {\n    var language = parseLanguage(accepts[i].trim(), i);\n\n    if (language) {\n      accepts[j++] = language;\n    }\n  }\n\n  // trim accepts\n  accepts.length = j;\n\n  return accepts;\n}\n\n/**\n * Parse a language from the Accept-Language header.\n * @private\n */\n\nfunction parseLanguage(str, i) {\n  var match = simpleLanguageRegExp.exec(str);\n  if (!match) return null;\n\n  var prefix = match[1]\n  var suffix = match[2]\n  var full = prefix\n\n  if (suffix) full += \"-\" + suffix;\n\n  var q = 1;\n  if (match[3]) {\n    var params = match[3].split(';')\n    for (var j = 0; j < params.length; j++) {\n      var p = params[j].split('=');\n      if (p[0] === 'q') q = parseFloat(p[1]);\n    }\n  }\n\n  return {\n    prefix: prefix,\n    suffix: suffix,\n    q: q,\n    i: i,\n    full: full\n  };\n}\n\n/**\n * Get the priority of a language.\n * @private\n */\n\nfunction getLanguagePriority(language, accepted, index) {\n  var priority = {o: -1, q: 0, s: 0};\n\n  for (var i = 0; i < accepted.length; i++) {\n    var spec = specify(language, accepted[i], index);\n\n    if (spec && (priority.s - spec.s || priority.q - spec.q || priority.o - spec.o) < 0) {\n      priority = spec;\n    }\n  }\n\n  return priority;\n}\n\n/**\n * Get the specificity of the language.\n * @private\n */\n\nfunction specify(language, spec, index) {\n  var p = parseLanguage(language)\n  if (!p) return null;\n  var s = 0;\n  if(spec.full.toLowerCase() === p.full.toLowerCase()){\n    s |= 4;\n  } else if (spec.prefix.toLowerCase() === p.full.toLowerCase()) {\n    s |= 2;\n  } else if (spec.full.toLowerCase() === p.prefix.toLowerCase()) {\n    s |= 1;\n  } else if (spec.full !== '*' ) {\n    return null\n  }\n\n  return {\n    i: index,\n    o: spec.i,\n    q: spec.q,\n    s: s\n  }\n};\n\n/**\n * Get the preferred languages from an Accept-Language header.\n * @public\n */\n\nfunction preferredLanguages(accept, provided) {\n  // RFC 2616 sec 14.4: no header = *\n  var accepts = parseAcceptLanguage(accept === undefined ? '*' : accept || '');\n\n  if (!provided) {\n    // sorted list of all languages\n    return accepts\n      .filter(isQuality)\n      .sort(compareSpecs)\n      .map(getFullLanguage);\n  }\n\n  var priorities = provided.map(function getPriority(type, index) {\n    return getLanguagePriority(type, accepts, index);\n  });\n\n  // sorted list of accepted languages\n  return priorities.filter(isQuality).sort(compareSpecs).map(function getLanguage(priority) {\n    return provided[priorities.indexOf(priority)];\n  });\n}\n\n/**\n * Compare two specs.\n * @private\n */\n\nfunction compareSpecs(a, b) {\n  return (b.q - a.q) || (b.s - a.s) || (a.o - b.o) || (a.i - b.i) || 0;\n}\n\n/**\n * Get full language string.\n * @private\n */\n\nfunction getFullLanguage(spec) {\n  return spec.full;\n}\n\n/**\n * Check if a spec has any quality.\n * @private\n */\n\nfunction isQuality(spec) {\n  return spec.q > 0;\n}\n","/**\n * negotiator\n * Copyright(c) 2012 Isaac Z. Schlueter\n * Copyright(c) 2014 Federico Romero\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = preferredMediaTypes;\nmodule.exports.preferredMediaTypes = preferredMediaTypes;\n\n/**\n * Module variables.\n * @private\n */\n\nvar simpleMediaTypeRegExp = /^\\s*([^\\s\\/;]+)\\/([^;\\s]+)\\s*(?:;(.*))?$/;\n\n/**\n * Parse the Accept header.\n * @private\n */\n\nfunction parseAccept(accept) {\n  var accepts = splitMediaTypes(accept);\n\n  for (var i = 0, j = 0; i < accepts.length; i++) {\n    var mediaType = parseMediaType(accepts[i].trim(), i);\n\n    if (mediaType) {\n      accepts[j++] = mediaType;\n    }\n  }\n\n  // trim accepts\n  accepts.length = j;\n\n  return accepts;\n}\n\n/**\n * Parse a media type from the Accept header.\n * @private\n */\n\nfunction parseMediaType(str, i) {\n  var match = simpleMediaTypeRegExp.exec(str);\n  if (!match) return null;\n\n  var params = Object.create(null);\n  var q = 1;\n  var subtype = match[2];\n  var type = match[1];\n\n  if (match[3]) {\n    var kvps = splitParameters(match[3]).map(splitKeyValuePair);\n\n    for (var j = 0; j < kvps.length; j++) {\n      var pair = kvps[j];\n      var key = pair[0].toLowerCase();\n      var val = pair[1];\n\n      // get the value, unwrapping quotes\n      var value = val && val[0] === '\"' && val[val.length - 1] === '\"'\n        ? val.substr(1, val.length - 2)\n        : val;\n\n      if (key === 'q') {\n        q = parseFloat(value);\n        break;\n      }\n\n      // store parameter\n      params[key] = value;\n    }\n  }\n\n  return {\n    type: type,\n    subtype: subtype,\n    params: params,\n    q: q,\n    i: i\n  };\n}\n\n/**\n * Get the priority of a media type.\n * @private\n */\n\nfunction getMediaTypePriority(type, accepted, index) {\n  var priority = {o: -1, q: 0, s: 0};\n\n  for (var i = 0; i < accepted.length; i++) {\n    var spec = specify(type, accepted[i], index);\n\n    if (spec && (priority.s - spec.s || priority.q - spec.q || priority.o - spec.o) < 0) {\n      priority = spec;\n    }\n  }\n\n  return priority;\n}\n\n/**\n * Get the specificity of the media type.\n * @private\n */\n\nfunction specify(type, spec, index) {\n  var p = parseMediaType(type);\n  var s = 0;\n\n  if (!p) {\n    return null;\n  }\n\n  if(spec.type.toLowerCase() == p.type.toLowerCase()) {\n    s |= 4\n  } else if(spec.type != '*') {\n    return null;\n  }\n\n  if(spec.subtype.toLowerCase() == p.subtype.toLowerCase()) {\n    s |= 2\n  } else if(spec.subtype != '*') {\n    return null;\n  }\n\n  var keys = Object.keys(spec.params);\n  if (keys.length > 0) {\n    if (keys.every(function (k) {\n      return spec.params[k] == '*' || (spec.params[k] || '').toLowerCase() == (p.params[k] || '').toLowerCase();\n    })) {\n      s |= 1\n    } else {\n      return null\n    }\n  }\n\n  return {\n    i: index,\n    o: spec.i,\n    q: spec.q,\n    s: s,\n  }\n}\n\n/**\n * Get the preferred media types from an Accept header.\n * @public\n */\n\nfunction preferredMediaTypes(accept, provided) {\n  // RFC 2616 sec 14.2: no header = */*\n  var accepts = parseAccept(accept === undefined ? '*/*' : accept || '');\n\n  if (!provided) {\n    // sorted list of all types\n    return accepts\n      .filter(isQuality)\n      .sort(compareSpecs)\n      .map(getFullType);\n  }\n\n  var priorities = provided.map(function getPriority(type, index) {\n    return getMediaTypePriority(type, accepts, index);\n  });\n\n  // sorted list of accepted types\n  return priorities.filter(isQuality).sort(compareSpecs).map(function getType(priority) {\n    return provided[priorities.indexOf(priority)];\n  });\n}\n\n/**\n * Compare two specs.\n * @private\n */\n\nfunction compareSpecs(a, b) {\n  return (b.q - a.q) || (b.s - a.s) || (a.o - b.o) || (a.i - b.i) || 0;\n}\n\n/**\n * Get full type string.\n * @private\n */\n\nfunction getFullType(spec) {\n  return spec.type + '/' + spec.subtype;\n}\n\n/**\n * Check if a spec has any quality.\n * @private\n */\n\nfunction isQuality(spec) {\n  return spec.q > 0;\n}\n\n/**\n * Count the number of quotes in a string.\n * @private\n */\n\nfunction quoteCount(string) {\n  var count = 0;\n  var index = 0;\n\n  while ((index = string.indexOf('\"', index)) !== -1) {\n    count++;\n    index++;\n  }\n\n  return count;\n}\n\n/**\n * Split a key value pair.\n * @private\n */\n\nfunction splitKeyValuePair(str) {\n  var index = str.indexOf('=');\n  var key;\n  var val;\n\n  if (index === -1) {\n    key = str;\n  } else {\n    key = str.substr(0, index);\n    val = str.substr(index + 1);\n  }\n\n  return [key, val];\n}\n\n/**\n * Split an Accept header into media types.\n * @private\n */\n\nfunction splitMediaTypes(accept) {\n  var accepts = accept.split(',');\n\n  for (var i = 1, j = 0; i < accepts.length; i++) {\n    if (quoteCount(accepts[j]) % 2 == 0) {\n      accepts[++j] = accepts[i];\n    } else {\n      accepts[j] += ',' + accepts[i];\n    }\n  }\n\n  // trim accepts\n  accepts.length = j + 1;\n\n  return accepts;\n}\n\n/**\n * Split a string of parameters.\n * @private\n */\n\nfunction splitParameters(str) {\n  var parameters = str.split(';');\n\n  for (var i = 1, j = 0; i < parameters.length; i++) {\n    if (quoteCount(parameters[j]) % 2 == 0) {\n      parameters[++j] = parameters[i];\n    } else {\n      parameters[j] += ';' + parameters[i];\n    }\n  }\n\n  // trim parameters\n  parameters.length = j + 1;\n\n  for (var i = 0; i < parameters.length; i++) {\n    parameters[i] = parameters[i].trim();\n  }\n\n  return parameters;\n}\n","/*!\n * negotiator\n * Copyright(c) 2012 Federico Romero\n * Copyright(c) 2012-2014 Isaac Z. Schlueter\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\nvar preferredCharsets = require('./lib/charset')\nvar preferredEncodings = require('./lib/encoding')\nvar preferredLanguages = require('./lib/language')\nvar preferredMediaTypes = require('./lib/mediaType')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = Negotiator;\nmodule.exports.Negotiator = Negotiator;\n\n/**\n * Create a Negotiator instance from a request.\n * @param {object} request\n * @public\n */\n\nfunction Negotiator(request) {\n  if (!(this instanceof Negotiator)) {\n    return new Negotiator(request);\n  }\n\n  this.request = request;\n}\n\nNegotiator.prototype.charset = function charset(available) {\n  var set = this.charsets(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.charsets = function charsets(available) {\n  return preferredCharsets(this.request.headers['accept-charset'], available);\n};\n\nNegotiator.prototype.encoding = function encoding(available) {\n  var set = this.encodings(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.encodings = function encodings(available) {\n  return preferredEncodings(this.request.headers['accept-encoding'], available);\n};\n\nNegotiator.prototype.language = function language(available) {\n  var set = this.languages(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.languages = function languages(available) {\n  return preferredLanguages(this.request.headers['accept-language'], available);\n};\n\nNegotiator.prototype.mediaType = function mediaType(available) {\n  var set = this.mediaTypes(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.mediaTypes = function mediaTypes(available) {\n  return preferredMediaTypes(this.request.headers.accept, available);\n};\n\n// Backwards compatibility\nNegotiator.prototype.preferredCharset = Negotiator.prototype.charset;\nNegotiator.prototype.preferredCharsets = Negotiator.prototype.charsets;\nNegotiator.prototype.preferredEncoding = Negotiator.prototype.encoding;\nNegotiator.prototype.preferredEncodings = Negotiator.prototype.encodings;\nNegotiator.prototype.preferredLanguage = Negotiator.prototype.language;\nNegotiator.prototype.preferredLanguages = Negotiator.prototype.languages;\nNegotiator.prototype.preferredMediaType = Negotiator.prototype.mediaType;\nNegotiator.prototype.preferredMediaTypes = Negotiator.prototype.mediaTypes;\n","/*!\n * mime-db\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module exports.\n */\n\nmodule.exports = require('./db.json')\n","/*!\n * mime-types\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar db = require('mime-db')\nvar extname = require('path').extname\n\n/**\n * Module variables.\n * @private\n */\n\nvar EXTRACT_TYPE_REGEXP = /^\\s*([^;\\s]*)(?:;|\\s|$)/\nvar TEXT_TYPE_REGEXP = /^text\\//i\n\n/**\n * Module exports.\n * @public\n */\n\nexports.charset = charset\nexports.charsets = { lookup: charset }\nexports.contentType = contentType\nexports.extension = extension\nexports.extensions = Object.create(null)\nexports.lookup = lookup\nexports.types = Object.create(null)\n\n// Populate the extensions/types maps\npopulateMaps(exports.extensions, exports.types)\n\n/**\n * Get the default charset for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction charset (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n  var mime = match && db[match[1].toLowerCase()]\n\n  if (mime && mime.charset) {\n    return mime.charset\n  }\n\n  // default text/* to utf-8\n  if (match && TEXT_TYPE_REGEXP.test(match[1])) {\n    return 'UTF-8'\n  }\n\n  return false\n}\n\n/**\n * Create a full Content-Type header given a MIME type or extension.\n *\n * @param {string} str\n * @return {boolean|string}\n */\n\nfunction contentType (str) {\n  // TODO: should this even be in this module?\n  if (!str || typeof str !== 'string') {\n    return false\n  }\n\n  var mime = str.indexOf('/') === -1\n    ? exports.lookup(str)\n    : str\n\n  if (!mime) {\n    return false\n  }\n\n  // TODO: use content-type or other module\n  if (mime.indexOf('charset') === -1) {\n    var charset = exports.charset(mime)\n    if (charset) mime += '; charset=' + charset.toLowerCase()\n  }\n\n  return mime\n}\n\n/**\n * Get the default extension for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction extension (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n\n  // get extensions\n  var exts = match && exports.extensions[match[1].toLowerCase()]\n\n  if (!exts || !exts.length) {\n    return false\n  }\n\n  return exts[0]\n}\n\n/**\n * Lookup the MIME type for a file path/extension.\n *\n * @param {string} path\n * @return {boolean|string}\n */\n\nfunction lookup (path) {\n  if (!path || typeof path !== 'string') {\n    return false\n  }\n\n  // get the extension (\"ext\" or \".ext\" or full path)\n  var extension = extname('x.' + path)\n    .toLowerCase()\n    .substr(1)\n\n  if (!extension) {\n    return false\n  }\n\n  return exports.types[extension] || false\n}\n\n/**\n * Populate the extensions and types maps.\n * @private\n */\n\nfunction populateMaps (extensions, types) {\n  // source preference (least -> most)\n  var preference = ['nginx', 'apache', undefined, 'iana']\n\n  Object.keys(db).forEach(function forEachMimeType (type) {\n    var mime = db[type]\n    var exts = mime.extensions\n\n    if (!exts || !exts.length) {\n      return\n    }\n\n    // mime -> extensions\n    extensions[type] = exts\n\n    // extension -> mime\n    for (var i = 0; i < exts.length; i++) {\n      var extension = exts[i]\n\n      if (types[extension]) {\n        var from = preference.indexOf(db[types[extension]].source)\n        var to = preference.indexOf(mime.source)\n\n        if (types[extension] !== 'application/octet-stream' &&\n          (from > to || (from === to && types[extension].substr(0, 12) === 'application/'))) {\n          // skip the remapping\n          continue\n        }\n      }\n\n      // set the extension -> mime\n      types[extension] = type\n    }\n  })\n}\n","/*!\n * accepts\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar Negotiator = require('negotiator')\nvar mime = require('mime-types')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = Accepts\n\n/**\n * Create a new Accepts object for the given req.\n *\n * @param {object} req\n * @public\n */\n\nfunction Accepts (req) {\n  if (!(this instanceof Accepts)) {\n    return new Accepts(req)\n  }\n\n  this.headers = req.headers\n  this.negotiator = new Negotiator(req)\n}\n\n/**\n * Check if the given `type(s)` is acceptable, returning\n * the best match when true, otherwise `undefined`, in which\n * case you should respond with 406 \"Not Acceptable\".\n *\n * The `type` value may be a single mime type string\n * such as \"application/json\", the extension name\n * such as \"json\" or an array `[\"json\", \"html\", \"text/plain\"]`. When a list\n * or array is given the _best_ match, if any is returned.\n *\n * Examples:\n *\n *     // Accept: text/html\n *     this.types('html');\n *     // => \"html\"\n *\n *     // Accept: text/*, application/json\n *     this.types('html');\n *     // => \"html\"\n *     this.types('text/html');\n *     // => \"text/html\"\n *     this.types('json', 'text');\n *     // => \"json\"\n *     this.types('application/json');\n *     // => \"application/json\"\n *\n *     // Accept: text/*, application/json\n *     this.types('image/png');\n *     this.types('png');\n *     // => undefined\n *\n *     // Accept: text/*;q=.5, application/json\n *     this.types(['html', 'json']);\n *     this.types('html', 'json');\n *     // => \"json\"\n *\n * @param {String|Array} types...\n * @return {String|Array|Boolean}\n * @public\n */\n\nAccepts.prototype.type =\nAccepts.prototype.types = function (types_) {\n  var types = types_\n\n  // support flattened arguments\n  if (types && !Array.isArray(types)) {\n    types = new Array(arguments.length)\n    for (var i = 0; i < types.length; i++) {\n      types[i] = arguments[i]\n    }\n  }\n\n  // no types, return all requested types\n  if (!types || types.length === 0) {\n    return this.negotiator.mediaTypes()\n  }\n\n  // no accept header, return first given type\n  if (!this.headers.accept) {\n    return types[0]\n  }\n\n  var mimes = types.map(extToMime)\n  var accepts = this.negotiator.mediaTypes(mimes.filter(validMime))\n  var first = accepts[0]\n\n  return first\n    ? types[mimes.indexOf(first)]\n    : false\n}\n\n/**\n * Return accepted encodings or best fit based on `encodings`.\n *\n * Given `Accept-Encoding: gzip, deflate`\n * an array sorted by quality is returned:\n *\n *     ['gzip', 'deflate']\n *\n * @param {String|Array} encodings...\n * @return {String|Array}\n * @public\n */\n\nAccepts.prototype.encoding =\nAccepts.prototype.encodings = function (encodings_) {\n  var encodings = encodings_\n\n  // support flattened arguments\n  if (encodings && !Array.isArray(encodings)) {\n    encodings = new Array(arguments.length)\n    for (var i = 0; i < encodings.length; i++) {\n      encodings[i] = arguments[i]\n    }\n  }\n\n  // no encodings, return all requested encodings\n  if (!encodings || encodings.length === 0) {\n    return this.negotiator.encodings()\n  }\n\n  return this.negotiator.encodings(encodings)[0] || false\n}\n\n/**\n * Return accepted charsets or best fit based on `charsets`.\n *\n * Given `Accept-Charset: utf-8, iso-8859-1;q=0.2, utf-7;q=0.5`\n * an array sorted by quality is returned:\n *\n *     ['utf-8', 'utf-7', 'iso-8859-1']\n *\n * @param {String|Array} charsets...\n * @return {String|Array}\n * @public\n */\n\nAccepts.prototype.charset =\nAccepts.prototype.charsets = function (charsets_) {\n  var charsets = charsets_\n\n  // support flattened arguments\n  if (charsets && !Array.isArray(charsets)) {\n    charsets = new Array(arguments.length)\n    for (var i = 0; i < charsets.length; i++) {\n      charsets[i] = arguments[i]\n    }\n  }\n\n  // no charsets, return all requested charsets\n  if (!charsets || charsets.length === 0) {\n    return this.negotiator.charsets()\n  }\n\n  return this.negotiator.charsets(charsets)[0] || false\n}\n\n/**\n * Return accepted languages or best fit based on `langs`.\n *\n * Given `Accept-Language: en;q=0.8, es, pt`\n * an array sorted by quality is returned:\n *\n *     ['es', 'pt', 'en']\n *\n * @param {String|Array} langs...\n * @return {Array|String}\n * @public\n */\n\nAccepts.prototype.lang =\nAccepts.prototype.langs =\nAccepts.prototype.language =\nAccepts.prototype.languages = function (languages_) {\n  var languages = languages_\n\n  // support flattened arguments\n  if (languages && !Array.isArray(languages)) {\n    languages = new Array(arguments.length)\n    for (var i = 0; i < languages.length; i++) {\n      languages[i] = arguments[i]\n    }\n  }\n\n  // no languages, return all requested languages\n  if (!languages || languages.length === 0) {\n    return this.negotiator.languages()\n  }\n\n  return this.negotiator.languages(languages)[0] || false\n}\n\n/**\n * Convert extnames to mime.\n *\n * @param {String} type\n * @return {String}\n * @private\n */\n\nfunction extToMime (type) {\n  return type.indexOf('/') === -1\n    ? mime.lookup(type)\n    : type\n}\n\n/**\n * Check if mime is valid.\n *\n * @param {String} type\n * @return {String}\n * @private\n */\n\nfunction validMime (type) {\n  return typeof type === 'string'\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nvar K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    var arr = new Uint8Array(1)\n    var proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  var buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  var valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  var b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(\n      value[Symbol.toPrimitive]('string'), encodingOrOffset, length\n    )\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  var length = byteLength(string, encoding) | 0\n  var buf = createBuffer(length)\n\n  var actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  var buf = createBuffer(length)\n  for (var i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    var copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  var buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    var buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        Buffer.from(buf).copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  var len = string.length\n  var mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  var strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (var i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    var len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nvar hexSliceLookupTable = (function () {\n  var alphabet = '0123456789abcdef'\n  var table = new Array(256)\n  for (var i = 0; i < 16; ++i) {\n    var i16 = i * 16\n    for (var j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","/*!\n * bytes\n * Copyright(c) 2012-2014 TJ Holowaychuk\n * Copyright(c) 2015 Jed Watson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = bytes;\nmodule.exports.format = format;\nmodule.exports.parse = parse;\n\n/**\n * Module variables.\n * @private\n */\n\nvar formatThousandsRegExp = /\\B(?=(\\d{3})+(?!\\d))/g;\n\nvar formatDecimalsRegExp = /(?:\\.0*|(\\.[^0]+)0+)$/;\n\nvar map = {\n  b:  1,\n  kb: 1 << 10,\n  mb: 1 << 20,\n  gb: 1 << 30,\n  tb: ((1 << 30) * 1024)\n};\n\nvar parseRegExp = /^((-|\\+)?(\\d+(?:\\.\\d+)?)) *(kb|mb|gb|tb)$/i;\n\n/**\n * Convert the given value in bytes into a string or parse to string to an integer in bytes.\n *\n * @param {string|number} value\n * @param {{\n *  case: [string],\n *  decimalPlaces: [number]\n *  fixedDecimals: [boolean]\n *  thousandsSeparator: [string]\n *  unitSeparator: [string]\n *  }} [options] bytes options.\n *\n * @returns {string|number|null}\n */\n\nfunction bytes(value, options) {\n  if (typeof value === 'string') {\n    return parse(value);\n  }\n\n  if (typeof value === 'number') {\n    return format(value, options);\n  }\n\n  return null;\n}\n\n/**\n * Format the given value in bytes into a string.\n *\n * If the value is negative, it is kept as such. If it is a float,\n * it is rounded.\n *\n * @param {number} value\n * @param {object} [options]\n * @param {number} [options.decimalPlaces=2]\n * @param {number} [options.fixedDecimals=false]\n * @param {string} [options.thousandsSeparator=]\n * @param {string} [options.unit=]\n * @param {string} [options.unitSeparator=]\n *\n * @returns {string|null}\n * @public\n */\n\nfunction format(value, options) {\n  if (!Number.isFinite(value)) {\n    return null;\n  }\n\n  var mag = Math.abs(value);\n  var thousandsSeparator = (options && options.thousandsSeparator) || '';\n  var unitSeparator = (options && options.unitSeparator) || '';\n  var decimalPlaces = (options && options.decimalPlaces !== undefined) ? options.decimalPlaces : 2;\n  var fixedDecimals = Boolean(options && options.fixedDecimals);\n  var unit = (options && options.unit) || '';\n\n  if (!unit || !map[unit.toLowerCase()]) {\n    if (mag >= map.tb) {\n      unit = 'TB';\n    } else if (mag >= map.gb) {\n      unit = 'GB';\n    } else if (mag >= map.mb) {\n      unit = 'MB';\n    } else if (mag >= map.kb) {\n      unit = 'KB';\n    } else {\n      unit = 'B';\n    }\n  }\n\n  var val = value / map[unit.toLowerCase()];\n  var str = val.toFixed(decimalPlaces);\n\n  if (!fixedDecimals) {\n    str = str.replace(formatDecimalsRegExp, '$1');\n  }\n\n  if (thousandsSeparator) {\n    str = str.replace(formatThousandsRegExp, thousandsSeparator);\n  }\n\n  return str + unitSeparator + unit;\n}\n\n/**\n * Parse the string value into an integer in bytes.\n *\n * If no unit is given, it is assumed the value is in bytes.\n *\n * @param {number|string} val\n *\n * @returns {number|null}\n * @public\n */\n\nfunction parse(val) {\n  if (typeof val === 'number' && !isNaN(val)) {\n    return val;\n  }\n\n  if (typeof val !== 'string') {\n    return null;\n  }\n\n  // Test if the string passed is valid\n  var results = parseRegExp.exec(val);\n  var floatValue;\n  var unit = 'b';\n\n  if (!results) {\n    // Nothing could be extracted from the given string\n    floatValue = parseInt(val, 10);\n    unit = 'b'\n  } else {\n    // Retrieve the value and the unit\n    floatValue = parseFloat(results[1]);\n    unit = results[4].toLowerCase();\n  }\n\n  return Math.floor(map[unit] * floatValue);\n}\n","/*!\n * compressible\n * Copyright(c) 2013 Jonathan Ong\n * Copyright(c) 2014 Jeremiah Senkpiel\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar db = require('mime-db')\n\n/**\n * Module variables.\n * @private\n */\n\nvar COMPRESSIBLE_TYPE_REGEXP = /^text\\/|\\+(?:json|text|xml)$/i\nvar EXTRACT_TYPE_REGEXP = /^\\s*([^;\\s]*)(?:;|\\s|$)/\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = compressible\n\n/**\n * Checks if a type is compressible.\n *\n * @param {string} type\n * @return {Boolean} compressible\n * @public\n */\n\nfunction compressible (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // strip parameters\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n  var mime = match && match[1].toLowerCase()\n  var data = db[mime]\n\n  // return database information\n  if (data && data.compressible !== undefined) {\n    return data.compressible\n  }\n\n  // fallback to regexp or unknown\n  return COMPRESSIBLE_TYPE_REGEXP.test(mime) || undefined\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","/**\n * Module dependencies.\n */\n\nvar tty = require('tty');\nvar util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // camel-case\n  var prop = key\n    .substring(6)\n    .toLowerCase()\n    .replace(/_([a-z])/g, function (_, k) { return k.toUpperCase() });\n\n  // coerce string value into JS value\n  var val = process.env[key];\n  if (/^(yes|on|true|enabled)$/i.test(val)) val = true;\n  else if (/^(no|off|false|disabled)$/i.test(val)) val = false;\n  else if (val === 'null') val = null;\n  else val = Number(val);\n\n  obj[prop] = val;\n  return obj;\n}, {});\n\n/**\n * The file descriptor to write the `debug()` calls to.\n * Set the `DEBUG_FD` env variable to override with another value. i.e.:\n *\n *   $ DEBUG_FD=3 node script.js 3>debug.log\n */\n\nvar fd = parseInt(process.env.DEBUG_FD, 10) || 2;\n\nif (1 !== fd && 2 !== fd) {\n  util.deprecate(function(){}, 'except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)')()\n}\n\nvar stream = 1 === fd ? process.stdout :\n             2 === fd ? process.stderr :\n             createWritableStdioStream(fd);\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts\n    ? Boolean(exports.inspectOpts.colors)\n    : tty.isatty(fd);\n}\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nexports.formatters.o = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .split('\\n').map(function(str) {\n      return str.trim()\n    }).join(' ');\n};\n\n/**\n * Map %o to `util.inspect()`, allowing multiple lines if needed.\n */\n\nexports.formatters.O = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var name = this.namespace;\n  var useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var prefix = '  \\u001b[3' + c + ';1m' + name + ' ' + '\\u001b[0m';\n\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push('\\u001b[3' + c + 'm+' + exports.humanize(this.diff) + '\\u001b[0m');\n  } else {\n    args[0] = new Date().toUTCString()\n      + ' ' + name + ' ' + args[0];\n  }\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to `stream`.\n */\n\nfunction log() {\n  return stream.write(util.format.apply(util, arguments) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  if (null == namespaces) {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  } else {\n    process.env.DEBUG = namespaces;\n  }\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  return process.env.DEBUG;\n}\n\n/**\n * Copied from `node/src/node.js`.\n *\n * XXX: It's lame that node doesn't expose this API out-of-the-box. It also\n * relies on the undocumented `tty_wrap.guessHandleType()` which is also lame.\n */\n\nfunction createWritableStdioStream (fd) {\n  var stream;\n  var tty_wrap = process.binding('tty_wrap');\n\n  // Note stream._type is used for test-module-load-list.js\n\n  switch (tty_wrap.guessHandleType(fd)) {\n    case 'TTY':\n      stream = new tty.WriteStream(fd);\n      stream._type = 'tty';\n\n      // Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    case 'FILE':\n      var fs = require('fs');\n      stream = new fs.SyncWriteStream(fd, { autoClose: false });\n      stream._type = 'fs';\n      break;\n\n    case 'PIPE':\n    case 'TCP':\n      var net = require('net');\n      stream = new net.Socket({\n        fd: fd,\n        readable: false,\n        writable: true\n      });\n\n      // FIXME Should probably have an option in net.Socket to create a\n      // stream from an existing fd which is writable only. But for now\n      // we'll just add this hack and set the `readable` member to false.\n      // Test: ./node test/fixtures/echo.js < /etc/passwd\n      stream.readable = false;\n      stream.read = null;\n      stream._type = 'pipe';\n\n      // FIXME Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    default:\n      // Probably an error on in uv_guess_handle()\n      throw new Error('Implement me. Unknown stream file type!');\n  }\n\n  // For supporting legacy API we put the FD here.\n  stream.fd = fd;\n\n  stream._isStdio = true;\n\n  return stream;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init (debug) {\n  debug.inspectOpts = {};\n\n  var keys = Object.keys(exports.inspectOpts);\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\n/**\n * Enable namespaces listed in `process.env.DEBUG` initially.\n */\n\nexports.enable(load());\n","/**\n * Detect Electron renderer process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process !== 'undefined' && process.type === 'renderer') {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n","/*!\n * on-headers\n * Copyright(c) 2014 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = onHeaders\n\n/**\n * Create a replacement writeHead method.\n *\n * @param {function} prevWriteHead\n * @param {function} listener\n * @private\n */\n\nfunction createWriteHead (prevWriteHead, listener) {\n  var fired = false\n\n  // return function with core name and argument list\n  return function writeHead (statusCode) {\n    // set headers from arguments\n    var args = setWriteHeadHeaders.apply(this, arguments)\n\n    // fire listener\n    if (!fired) {\n      fired = true\n      listener.call(this)\n\n      // pass-along an updated status code\n      if (typeof args[0] === 'number' && this.statusCode !== args[0]) {\n        args[0] = this.statusCode\n        args.length = 1\n      }\n    }\n\n    return prevWriteHead.apply(this, args)\n  }\n}\n\n/**\n * Execute a listener when a response is about to write headers.\n *\n * @param {object} res\n * @return {function} listener\n * @public\n */\n\nfunction onHeaders (res, listener) {\n  if (!res) {\n    throw new TypeError('argument res is required')\n  }\n\n  if (typeof listener !== 'function') {\n    throw new TypeError('argument listener must be a function')\n  }\n\n  res.writeHead = createWriteHead(res.writeHead, listener)\n}\n\n/**\n * Set headers contained in array on the response object.\n *\n * @param {object} res\n * @param {array} headers\n * @private\n */\n\nfunction setHeadersFromArray (res, headers) {\n  for (var i = 0; i < headers.length; i++) {\n    res.setHeader(headers[i][0], headers[i][1])\n  }\n}\n\n/**\n * Set headers contained in object on the response object.\n *\n * @param {object} res\n * @param {object} headers\n * @private\n */\n\nfunction setHeadersFromObject (res, headers) {\n  var keys = Object.keys(headers)\n  for (var i = 0; i < keys.length; i++) {\n    var k = keys[i]\n    if (k) res.setHeader(k, headers[k])\n  }\n}\n\n/**\n * Set headers and other properties on the response object.\n *\n * @param {number} statusCode\n * @private\n */\n\nfunction setWriteHeadHeaders (statusCode) {\n  var length = arguments.length\n  var headerIndex = length > 1 && typeof arguments[1] === 'string'\n    ? 2\n    : 1\n\n  var headers = length >= headerIndex + 1\n    ? arguments[headerIndex]\n    : undefined\n\n  this.statusCode = statusCode\n\n  if (Array.isArray(headers)) {\n    // handle array case\n    setHeadersFromArray(this, headers)\n  } else if (headers) {\n    // handle object case\n    setHeadersFromObject(this, headers)\n  }\n\n  // copy leading arguments\n  var args = new Array(Math.min(length, headerIndex))\n  for (var i = 0; i < args.length; i++) {\n    args[i] = arguments[i]\n  }\n\n  return args\n}\n","/*!\n * vary\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n */\n\nmodule.exports = vary\nmodule.exports.append = append\n\n/**\n * RegExp to match field-name in RFC 7230 sec 3.2\n *\n * field-name    = token\n * token         = 1*tchar\n * tchar         = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" / \"*\"\n *               / \"+\" / \"-\" / \".\" / \"^\" / \"_\" / \"`\" / \"|\" / \"~\"\n *               / DIGIT / ALPHA\n *               ; any VCHAR, except delimiters\n */\n\nvar FIELD_NAME_REGEXP = /^[!#$%&'*+\\-.^_`|~0-9A-Za-z]+$/\n\n/**\n * Append a field to a vary header.\n *\n * @param {String} header\n * @param {String|Array} field\n * @return {String}\n * @public\n */\n\nfunction append (header, field) {\n  if (typeof header !== 'string') {\n    throw new TypeError('header argument is required')\n  }\n\n  if (!field) {\n    throw new TypeError('field argument is required')\n  }\n\n  // get fields array\n  var fields = !Array.isArray(field)\n    ? parse(String(field))\n    : field\n\n  // assert on invalid field names\n  for (var j = 0; j < fields.length; j++) {\n    if (!FIELD_NAME_REGEXP.test(fields[j])) {\n      throw new TypeError('field argument contains an invalid header name')\n    }\n  }\n\n  // existing, unspecified vary\n  if (header === '*') {\n    return header\n  }\n\n  // enumerate current values\n  var val = header\n  var vals = parse(header.toLowerCase())\n\n  // unspecified vary\n  if (fields.indexOf('*') !== -1 || vals.indexOf('*') !== -1) {\n    return '*'\n  }\n\n  for (var i = 0; i < fields.length; i++) {\n    var fld = fields[i].toLowerCase()\n\n    // append value (case-preserving)\n    if (vals.indexOf(fld) === -1) {\n      vals.push(fld)\n      val = val\n        ? val + ', ' + fields[i]\n        : fields[i]\n    }\n  }\n\n  return val\n}\n\n/**\n * Parse a vary header into an array.\n *\n * @param {String} header\n * @return {Array}\n * @private\n */\n\nfunction parse (header) {\n  var end = 0\n  var list = []\n  var start = 0\n\n  // gather tokens\n  for (var i = 0, len = header.length; i < len; i++) {\n    switch (header.charCodeAt(i)) {\n      case 0x20: /*   */\n        if (start === end) {\n          start = end = i + 1\n        }\n        break\n      case 0x2c: /* , */\n        list.push(header.substring(start, end))\n        start = end = i + 1\n        break\n      default:\n        end = i + 1\n        break\n    }\n  }\n\n  // final token\n  list.push(header.substring(start, end))\n\n  return list\n}\n\n/**\n * Mark that a request is varied on a header field.\n *\n * @param {Object} res\n * @param {String|Array} field\n * @public\n */\n\nfunction vary (res, field) {\n  if (!res || !res.getHeader || !res.setHeader) {\n    // quack quack\n    throw new TypeError('res argument is required')\n  }\n\n  // get existing header\n  var val = res.getHeader('Vary') || ''\n  var header = Array.isArray(val)\n    ? val.join(', ')\n    : String(val)\n\n  // set new header\n  if ((val = append(header, field))) {\n    res.setHeader('Vary', val)\n  }\n}\n","/*!\n * compression\n * Copyright(c) 2010 Sencha Inc.\n * Copyright(c) 2011 TJ Holowaychuk\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar accepts = require('accepts')\nvar Buffer = require('safe-buffer').Buffer\nvar bytes = require('bytes')\nvar compressible = require('compressible')\nvar debug = require('debug')('compression')\nvar onHeaders = require('on-headers')\nvar vary = require('vary')\nvar zlib = require('zlib')\n\n/**\n * Module exports.\n */\n\nmodule.exports = compression\nmodule.exports.filter = shouldCompress\n\n/**\n * Module variables.\n * @private\n */\n\nvar cacheControlNoTransformRegExp = /(?:^|,)\\s*?no-transform\\s*?(?:,|$)/\n\n/**\n * Compress response data with gzip / deflate.\n *\n * @param {Object} [options]\n * @return {Function} middleware\n * @public\n */\n\nfunction compression (options) {\n  var opts = options || {}\n\n  // options\n  var filter = opts.filter || shouldCompress\n  var threshold = bytes.parse(opts.threshold)\n\n  if (threshold == null) {\n    threshold = 1024\n  }\n\n  return function compression (req, res, next) {\n    var ended = false\n    var length\n    var listeners = []\n    var stream\n\n    var _end = res.end\n    var _on = res.on\n    var _write = res.write\n\n    // flush\n    res.flush = function flush () {\n      if (stream) {\n        stream.flush()\n      }\n    }\n\n    // proxy\n\n    res.write = function write (chunk, encoding) {\n      if (ended) {\n        return false\n      }\n\n      if (!this._header) {\n        this._implicitHeader()\n      }\n\n      return stream\n        ? stream.write(toBuffer(chunk, encoding))\n        : _write.call(this, chunk, encoding)\n    }\n\n    res.end = function end (chunk, encoding) {\n      if (ended) {\n        return false\n      }\n\n      if (!this._header) {\n        // estimate the length\n        if (!this.getHeader('Content-Length')) {\n          length = chunkLength(chunk, encoding)\n        }\n\n        this._implicitHeader()\n      }\n\n      if (!stream) {\n        return _end.call(this, chunk, encoding)\n      }\n\n      // mark ended\n      ended = true\n\n      // write Buffer for Node.js 0.8\n      return chunk\n        ? stream.end(toBuffer(chunk, encoding))\n        : stream.end()\n    }\n\n    res.on = function on (type, listener) {\n      if (!listeners || type !== 'drain') {\n        return _on.call(this, type, listener)\n      }\n\n      if (stream) {\n        return stream.on(type, listener)\n      }\n\n      // buffer listeners for future stream\n      listeners.push([type, listener])\n\n      return this\n    }\n\n    function nocompress (msg) {\n      debug('no compression: %s', msg)\n      addListeners(res, _on, listeners)\n      listeners = null\n    }\n\n    onHeaders(res, function onResponseHeaders () {\n      // determine if request is filtered\n      if (!filter(req, res)) {\n        nocompress('filtered')\n        return\n      }\n\n      // determine if the entity should be transformed\n      if (!shouldTransform(req, res)) {\n        nocompress('no transform')\n        return\n      }\n\n      // vary\n      vary(res, 'Accept-Encoding')\n\n      // content-length below threshold\n      if (Number(res.getHeader('Content-Length')) < threshold || length < threshold) {\n        nocompress('size below threshold')\n        return\n      }\n\n      var encoding = res.getHeader('Content-Encoding') || 'identity'\n\n      // already encoded\n      if (encoding !== 'identity') {\n        nocompress('already encoded')\n        return\n      }\n\n      // head\n      if (req.method === 'HEAD') {\n        nocompress('HEAD request')\n        return\n      }\n\n      // compression method\n      var accept = accepts(req)\n      var method = accept.encoding(['gzip', 'deflate', 'identity'])\n\n      // we really don't prefer deflate\n      if (method === 'deflate' && accept.encoding(['gzip'])) {\n        method = accept.encoding(['gzip', 'identity'])\n      }\n\n      // negotiation failed\n      if (!method || method === 'identity') {\n        nocompress('not acceptable')\n        return\n      }\n\n      // compression stream\n      debug('%s compression', method)\n      stream = method === 'gzip'\n        ? zlib.createGzip(opts)\n        : zlib.createDeflate(opts)\n\n      // add buffered listeners to stream\n      addListeners(stream, stream.on, listeners)\n\n      // header fields\n      res.setHeader('Content-Encoding', method)\n      res.removeHeader('Content-Length')\n\n      // compression\n      stream.on('data', function onStreamData (chunk) {\n        if (_write.call(res, chunk) === false) {\n          stream.pause()\n        }\n      })\n\n      stream.on('end', function onStreamEnd () {\n        _end.call(res)\n      })\n\n      _on.call(res, 'drain', function onResponseDrain () {\n        stream.resume()\n      })\n    })\n\n    next()\n  }\n}\n\n/**\n * Add bufferred listeners to stream\n * @private\n */\n\nfunction addListeners (stream, on, listeners) {\n  for (var i = 0; i < listeners.length; i++) {\n    on.apply(stream, listeners[i])\n  }\n}\n\n/**\n * Get the length of a given chunk\n */\n\nfunction chunkLength (chunk, encoding) {\n  if (!chunk) {\n    return 0\n  }\n\n  return !Buffer.isBuffer(chunk)\n    ? Buffer.byteLength(chunk, encoding)\n    : chunk.length\n}\n\n/**\n * Default filter function.\n * @private\n */\n\nfunction shouldCompress (req, res) {\n  var type = res.getHeader('Content-Type')\n\n  if (type === undefined || !compressible(type)) {\n    debug('%s not compressible', type)\n    return false\n  }\n\n  return true\n}\n\n/**\n * Determine if the entity should be transformed.\n * @private\n */\n\nfunction shouldTransform (req, res) {\n  var cacheControl = res.getHeader('Cache-Control')\n\n  // Don't compress for Cache-Control: no-transform\n  // https://tools.ietf.org/html/rfc7234#section-5.2.2.4\n  return !cacheControl ||\n    !cacheControlNoTransformRegExp.test(cacheControl)\n}\n\n/**\n * Coerce arguments to Buffer\n * @private\n */\n\nfunction toBuffer (chunk, encoding) {\n  return !Buffer.isBuffer(chunk)\n    ? Buffer.from(chunk, encoding)\n    : chunk\n}\n","/*!\n * bytes\n * Copyright(c) 2012-2014 TJ Holowaychuk\n * Copyright(c) 2015 Jed Watson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = bytes;\nmodule.exports.format = format;\nmodule.exports.parse = parse;\n\n/**\n * Module variables.\n * @private\n */\n\nvar formatThousandsRegExp = /\\B(?=(\\d{3})+(?!\\d))/g;\n\nvar formatDecimalsRegExp = /(?:\\.0*|(\\.[^0]+)0+)$/;\n\nvar map = {\n  b:  1,\n  kb: 1 << 10,\n  mb: 1 << 20,\n  gb: 1 << 30,\n  tb: Math.pow(1024, 4),\n  pb: Math.pow(1024, 5),\n};\n\nvar parseRegExp = /^((-|\\+)?(\\d+(?:\\.\\d+)?)) *(kb|mb|gb|tb|pb)$/i;\n\n/**\n * Convert the given value in bytes into a string or parse to string to an integer in bytes.\n *\n * @param {string|number} value\n * @param {{\n *  case: [string],\n *  decimalPlaces: [number]\n *  fixedDecimals: [boolean]\n *  thousandsSeparator: [string]\n *  unitSeparator: [string]\n *  }} [options] bytes options.\n *\n * @returns {string|number|null}\n */\n\nfunction bytes(value, options) {\n  if (typeof value === 'string') {\n    return parse(value);\n  }\n\n  if (typeof value === 'number') {\n    return format(value, options);\n  }\n\n  return null;\n}\n\n/**\n * Format the given value in bytes into a string.\n *\n * If the value is negative, it is kept as such. If it is a float,\n * it is rounded.\n *\n * @param {number} value\n * @param {object} [options]\n * @param {number} [options.decimalPlaces=2]\n * @param {number} [options.fixedDecimals=false]\n * @param {string} [options.thousandsSeparator=]\n * @param {string} [options.unit=]\n * @param {string} [options.unitSeparator=]\n *\n * @returns {string|null}\n * @public\n */\n\nfunction format(value, options) {\n  if (!Number.isFinite(value)) {\n    return null;\n  }\n\n  var mag = Math.abs(value);\n  var thousandsSeparator = (options && options.thousandsSeparator) || '';\n  var unitSeparator = (options && options.unitSeparator) || '';\n  var decimalPlaces = (options && options.decimalPlaces !== undefined) ? options.decimalPlaces : 2;\n  var fixedDecimals = Boolean(options && options.fixedDecimals);\n  var unit = (options && options.unit) || '';\n\n  if (!unit || !map[unit.toLowerCase()]) {\n    if (mag >= map.pb) {\n      unit = 'PB';\n    } else if (mag >= map.tb) {\n      unit = 'TB';\n    } else if (mag >= map.gb) {\n      unit = 'GB';\n    } else if (mag >= map.mb) {\n      unit = 'MB';\n    } else if (mag >= map.kb) {\n      unit = 'KB';\n    } else {\n      unit = 'B';\n    }\n  }\n\n  var val = value / map[unit.toLowerCase()];\n  var str = val.toFixed(decimalPlaces);\n\n  if (!fixedDecimals) {\n    str = str.replace(formatDecimalsRegExp, '$1');\n  }\n\n  if (thousandsSeparator) {\n    str = str.split('.').map(function (s, i) {\n      return i === 0\n        ? s.replace(formatThousandsRegExp, thousandsSeparator)\n        : s\n    }).join('.');\n  }\n\n  return str + unitSeparator + unit;\n}\n\n/**\n * Parse the string value into an integer in bytes.\n *\n * If no unit is given, it is assumed the value is in bytes.\n *\n * @param {number|string} val\n *\n * @returns {number|null}\n * @public\n */\n\nfunction parse(val) {\n  if (typeof val === 'number' && !isNaN(val)) {\n    return val;\n  }\n\n  if (typeof val !== 'string') {\n    return null;\n  }\n\n  // Test if the string passed is valid\n  var results = parseRegExp.exec(val);\n  var floatValue;\n  var unit = 'b';\n\n  if (!results) {\n    // Nothing could be extracted from the given string\n    floatValue = parseInt(val, 10);\n    unit = 'b'\n  } else {\n    // Retrieve the value and the unit\n    floatValue = parseFloat(results[1]);\n    unit = results[4].toLowerCase();\n  }\n\n  if (isNaN(floatValue)) {\n    return null;\n  }\n\n  return Math.floor(map[unit] * floatValue);\n}\n","/*!\n * content-type\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * RegExp to match *( \";\" parameter ) in RFC 7231 sec 3.1.1.1\n *\n * parameter     = token \"=\" ( token / quoted-string )\n * token         = 1*tchar\n * tchar         = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" / \"*\"\n *               / \"+\" / \"-\" / \".\" / \"^\" / \"_\" / \"`\" / \"|\" / \"~\"\n *               / DIGIT / ALPHA\n *               ; any VCHAR, except delimiters\n * quoted-string = DQUOTE *( qdtext / quoted-pair ) DQUOTE\n * qdtext        = HTAB / SP / %x21 / %x23-5B / %x5D-7E / obs-text\n * obs-text      = %x80-FF\n * quoted-pair   = \"\\\" ( HTAB / SP / VCHAR / obs-text )\n */\nvar PARAM_REGEXP = /; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *(\"(?:[\\u000b\\u0020\\u0021\\u0023-\\u005b\\u005d-\\u007e\\u0080-\\u00ff]|\\\\[\\u000b\\u0020-\\u00ff])*\"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g\nvar TEXT_REGEXP = /^[\\u000b\\u0020-\\u007e\\u0080-\\u00ff]+$/\nvar TOKEN_REGEXP = /^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/\n\n/**\n * RegExp to match quoted-pair in RFC 7230 sec 3.2.6\n *\n * quoted-pair = \"\\\" ( HTAB / SP / VCHAR / obs-text )\n * obs-text    = %x80-FF\n */\nvar QESC_REGEXP = /\\\\([\\u000b\\u0020-\\u00ff])/g\n\n/**\n * RegExp to match chars that must be quoted-pair in RFC 7230 sec 3.2.6\n */\nvar QUOTE_REGEXP = /([\\\\\"])/g\n\n/**\n * RegExp to match type in RFC 7231 sec 3.1.1.1\n *\n * media-type = type \"/\" subtype\n * type       = token\n * subtype    = token\n */\nvar TYPE_REGEXP = /^[!#$%&'*+.^_`|~0-9A-Za-z-]+\\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/\n\n/**\n * Module exports.\n * @public\n */\n\nexports.format = format\nexports.parse = parse\n\n/**\n * Format object to media type.\n *\n * @param {object} obj\n * @return {string}\n * @public\n */\n\nfunction format (obj) {\n  if (!obj || typeof obj !== 'object') {\n    throw new TypeError('argument obj is required')\n  }\n\n  var parameters = obj.parameters\n  var type = obj.type\n\n  if (!type || !TYPE_REGEXP.test(type)) {\n    throw new TypeError('invalid type')\n  }\n\n  var string = type\n\n  // append parameters\n  if (parameters && typeof parameters === 'object') {\n    var param\n    var params = Object.keys(parameters).sort()\n\n    for (var i = 0; i < params.length; i++) {\n      param = params[i]\n\n      if (!TOKEN_REGEXP.test(param)) {\n        throw new TypeError('invalid parameter name')\n      }\n\n      string += '; ' + param + '=' + qstring(parameters[param])\n    }\n  }\n\n  return string\n}\n\n/**\n * Parse media type to object.\n *\n * @param {string|object} string\n * @return {Object}\n * @public\n */\n\nfunction parse (string) {\n  if (!string) {\n    throw new TypeError('argument string is required')\n  }\n\n  // support req/res-like objects as argument\n  var header = typeof string === 'object'\n    ? getcontenttype(string)\n    : string\n\n  if (typeof header !== 'string') {\n    throw new TypeError('argument string is required to be a string')\n  }\n\n  var index = header.indexOf(';')\n  var type = index !== -1\n    ? header.substr(0, index).trim()\n    : header.trim()\n\n  if (!TYPE_REGEXP.test(type)) {\n    throw new TypeError('invalid media type')\n  }\n\n  var obj = new ContentType(type.toLowerCase())\n\n  // parse parameters\n  if (index !== -1) {\n    var key\n    var match\n    var value\n\n    PARAM_REGEXP.lastIndex = index\n\n    while ((match = PARAM_REGEXP.exec(header))) {\n      if (match.index !== index) {\n        throw new TypeError('invalid parameter format')\n      }\n\n      index += match[0].length\n      key = match[1].toLowerCase()\n      value = match[2]\n\n      if (value[0] === '\"') {\n        // remove quotes and escapes\n        value = value\n          .substr(1, value.length - 2)\n          .replace(QESC_REGEXP, '$1')\n      }\n\n      obj.parameters[key] = value\n    }\n\n    if (index !== header.length) {\n      throw new TypeError('invalid parameter format')\n    }\n  }\n\n  return obj\n}\n\n/**\n * Get content-type from req/res objects.\n *\n * @param {object}\n * @return {Object}\n * @private\n */\n\nfunction getcontenttype (obj) {\n  var header\n\n  if (typeof obj.getHeader === 'function') {\n    // res-like\n    header = obj.getHeader('content-type')\n  } else if (typeof obj.headers === 'object') {\n    // req-like\n    header = obj.headers && obj.headers['content-type']\n  }\n\n  if (typeof header !== 'string') {\n    throw new TypeError('content-type header is missing from object')\n  }\n\n  return header\n}\n\n/**\n * Quote a string if necessary.\n *\n * @param {string} val\n * @return {string}\n * @private\n */\n\nfunction qstring (val) {\n  var str = String(val)\n\n  // no need to quote tokens\n  if (TOKEN_REGEXP.test(str)) {\n    return str\n  }\n\n  if (str.length > 0 && !TEXT_REGEXP.test(str)) {\n    throw new TypeError('invalid parameter value')\n  }\n\n  return '\"' + str.replace(QUOTE_REGEXP, '\\\\$1') + '\"'\n}\n\n/**\n * Class to represent a content type.\n * @private\n */\nfunction ContentType (type) {\n  this.parameters = Object.create(null)\n  this.type = type\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","/**\n * Module dependencies.\n */\n\nvar tty = require('tty');\nvar util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // camel-case\n  var prop = key\n    .substring(6)\n    .toLowerCase()\n    .replace(/_([a-z])/g, function (_, k) { return k.toUpperCase() });\n\n  // coerce string value into JS value\n  var val = process.env[key];\n  if (/^(yes|on|true|enabled)$/i.test(val)) val = true;\n  else if (/^(no|off|false|disabled)$/i.test(val)) val = false;\n  else if (val === 'null') val = null;\n  else val = Number(val);\n\n  obj[prop] = val;\n  return obj;\n}, {});\n\n/**\n * The file descriptor to write the `debug()` calls to.\n * Set the `DEBUG_FD` env variable to override with another value. i.e.:\n *\n *   $ DEBUG_FD=3 node script.js 3>debug.log\n */\n\nvar fd = parseInt(process.env.DEBUG_FD, 10) || 2;\n\nif (1 !== fd && 2 !== fd) {\n  util.deprecate(function(){}, 'except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)')()\n}\n\nvar stream = 1 === fd ? process.stdout :\n             2 === fd ? process.stderr :\n             createWritableStdioStream(fd);\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts\n    ? Boolean(exports.inspectOpts.colors)\n    : tty.isatty(fd);\n}\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nexports.formatters.o = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .split('\\n').map(function(str) {\n      return str.trim()\n    }).join(' ');\n};\n\n/**\n * Map %o to `util.inspect()`, allowing multiple lines if needed.\n */\n\nexports.formatters.O = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var name = this.namespace;\n  var useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var prefix = '  \\u001b[3' + c + ';1m' + name + ' ' + '\\u001b[0m';\n\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push('\\u001b[3' + c + 'm+' + exports.humanize(this.diff) + '\\u001b[0m');\n  } else {\n    args[0] = new Date().toUTCString()\n      + ' ' + name + ' ' + args[0];\n  }\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to `stream`.\n */\n\nfunction log() {\n  return stream.write(util.format.apply(util, arguments) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  if (null == namespaces) {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  } else {\n    process.env.DEBUG = namespaces;\n  }\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  return process.env.DEBUG;\n}\n\n/**\n * Copied from `node/src/node.js`.\n *\n * XXX: It's lame that node doesn't expose this API out-of-the-box. It also\n * relies on the undocumented `tty_wrap.guessHandleType()` which is also lame.\n */\n\nfunction createWritableStdioStream (fd) {\n  var stream;\n  var tty_wrap = process.binding('tty_wrap');\n\n  // Note stream._type is used for test-module-load-list.js\n\n  switch (tty_wrap.guessHandleType(fd)) {\n    case 'TTY':\n      stream = new tty.WriteStream(fd);\n      stream._type = 'tty';\n\n      // Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    case 'FILE':\n      var fs = require('fs');\n      stream = new fs.SyncWriteStream(fd, { autoClose: false });\n      stream._type = 'fs';\n      break;\n\n    case 'PIPE':\n    case 'TCP':\n      var net = require('net');\n      stream = new net.Socket({\n        fd: fd,\n        readable: false,\n        writable: true\n      });\n\n      // FIXME Should probably have an option in net.Socket to create a\n      // stream from an existing fd which is writable only. But for now\n      // we'll just add this hack and set the `readable` member to false.\n      // Test: ./node test/fixtures/echo.js < /etc/passwd\n      stream.readable = false;\n      stream.read = null;\n      stream._type = 'pipe';\n\n      // FIXME Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    default:\n      // Probably an error on in uv_guess_handle()\n      throw new Error('Implement me. Unknown stream file type!');\n  }\n\n  // For supporting legacy API we put the FD here.\n  stream.fd = fd;\n\n  stream._isStdio = true;\n\n  return stream;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init (debug) {\n  debug.inspectOpts = {};\n\n  var keys = Object.keys(exports.inspectOpts);\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\n/**\n * Enable namespaces listed in `process.env.DEBUG` initially.\n */\n\nexports.enable(load());\n","/**\n * Detect Electron renderer process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process !== 'undefined' && process.type === 'renderer') {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n","/* eslint-disable node/no-deprecated-api */\n\n'use strict'\n\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\nvar safer = {}\n\nvar key\n\nfor (key in buffer) {\n  if (!buffer.hasOwnProperty(key)) continue\n  if (key === 'SlowBuffer' || key === 'Buffer') continue\n  safer[key] = buffer[key]\n}\n\nvar Safer = safer.Buffer = {}\nfor (key in Buffer) {\n  if (!Buffer.hasOwnProperty(key)) continue\n  if (key === 'allocUnsafe' || key === 'allocUnsafeSlow') continue\n  Safer[key] = Buffer[key]\n}\n\nsafer.Buffer.prototype = Buffer.prototype\n\nif (!Safer.from || Safer.from === Uint8Array.from) {\n  Safer.from = function (value, encodingOrOffset, length) {\n    if (typeof value === 'number') {\n      throw new TypeError('The \"value\" argument must not be of type number. Received type ' + typeof value)\n    }\n    if (value && typeof value.length === 'undefined') {\n      throw new TypeError('The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type ' + typeof value)\n    }\n    return Buffer(value, encodingOrOffset, length)\n  }\n}\n\nif (!Safer.alloc) {\n  Safer.alloc = function (size, fill, encoding) {\n    if (typeof size !== 'number') {\n      throw new TypeError('The \"size\" argument must be of type number. Received type ' + typeof size)\n    }\n    if (size < 0 || size >= 2 * (1 << 30)) {\n      throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n    }\n    var buf = Buffer(size)\n    if (!fill || fill.length === 0) {\n      buf.fill(0)\n    } else if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n    return buf\n  }\n}\n\nif (!safer.kStringMaxLength) {\n  try {\n    safer.kStringMaxLength = process.binding('buffer').kStringMaxLength\n  } catch (e) {\n    // we can't determine kStringMaxLength in environments where process.binding\n    // is unsupported, so let's not set it\n  }\n}\n\nif (!safer.constants) {\n  safer.constants = {\n    MAX_LENGTH: safer.kMaxLength\n  }\n  if (safer.kStringMaxLength) {\n    safer.constants.MAX_STRING_LENGTH = safer.kStringMaxLength\n  }\n}\n\nmodule.exports = safer\n","\"use strict\";\n\nvar BOMChar = '\\uFEFF';\n\nexports.PrependBOM = PrependBOMWrapper\nfunction PrependBOMWrapper(encoder, options) {\n    this.encoder = encoder;\n    this.addBOM = true;\n}\n\nPrependBOMWrapper.prototype.write = function(str) {\n    if (this.addBOM) {\n        str = BOMChar + str;\n        this.addBOM = false;\n    }\n\n    return this.encoder.write(str);\n}\n\nPrependBOMWrapper.prototype.end = function() {\n    return this.encoder.end();\n}\n\n\n//------------------------------------------------------------------------------\n\nexports.StripBOM = StripBOMWrapper;\nfunction StripBOMWrapper(decoder, options) {\n    this.decoder = decoder;\n    this.pass = false;\n    this.options = options || {};\n}\n\nStripBOMWrapper.prototype.write = function(buf) {\n    var res = this.decoder.write(buf);\n    if (this.pass || !res)\n        return res;\n\n    if (res[0] === BOMChar) {\n        res = res.slice(1);\n        if (typeof this.options.stripBOM === 'function')\n            this.options.stripBOM();\n    }\n\n    this.pass = true;\n    return res;\n}\n\nStripBOMWrapper.prototype.end = function() {\n    return this.decoder.end();\n}\n\n","/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Export Node.js internal encodings.\n\nmodule.exports = {\n    // Encodings\n    utf8:   { type: \"_internal\", bomAware: true},\n    cesu8:  { type: \"_internal\", bomAware: true},\n    unicode11utf8: \"utf8\",\n\n    ucs2:   { type: \"_internal\", bomAware: true},\n    utf16le: \"ucs2\",\n\n    binary: { type: \"_internal\" },\n    base64: { type: \"_internal\" },\n    hex:    { type: \"_internal\" },\n\n    // Codec.\n    _internal: InternalCodec,\n};\n\n//------------------------------------------------------------------------------\n\nfunction InternalCodec(codecOptions, iconv) {\n    this.enc = codecOptions.encodingName;\n    this.bomAware = codecOptions.bomAware;\n\n    if (this.enc === \"base64\")\n        this.encoder = InternalEncoderBase64;\n    else if (this.enc === \"cesu8\") {\n        this.enc = \"utf8\"; // Use utf8 for decoding.\n        this.encoder = InternalEncoderCesu8;\n\n        // Add decoder for versions of Node not supporting CESU-8\n        if (Buffer.from('eda0bdedb2a9', 'hex').toString() !== '') {\n            this.decoder = InternalDecoderCesu8;\n            this.defaultCharUnicode = iconv.defaultCharUnicode;\n        }\n    }\n}\n\nInternalCodec.prototype.encoder = InternalEncoder;\nInternalCodec.prototype.decoder = InternalDecoder;\n\n//------------------------------------------------------------------------------\n\n// We use node.js internal decoder. Its signature is the same as ours.\nvar StringDecoder = require('string_decoder').StringDecoder;\n\nif (!StringDecoder.prototype.end) // Node v0.8 doesn't have this method.\n    StringDecoder.prototype.end = function() {};\n\n\nfunction InternalDecoder(options, codec) {\n    StringDecoder.call(this, codec.enc);\n}\n\nInternalDecoder.prototype = StringDecoder.prototype;\n\n\n//------------------------------------------------------------------------------\n// Encoder is mostly trivial\n\nfunction InternalEncoder(options, codec) {\n    this.enc = codec.enc;\n}\n\nInternalEncoder.prototype.write = function(str) {\n    return Buffer.from(str, this.enc);\n}\n\nInternalEncoder.prototype.end = function() {\n}\n\n\n//------------------------------------------------------------------------------\n// Except base64 encoder, which must keep its state.\n\nfunction InternalEncoderBase64(options, codec) {\n    this.prevStr = '';\n}\n\nInternalEncoderBase64.prototype.write = function(str) {\n    str = this.prevStr + str;\n    var completeQuads = str.length - (str.length % 4);\n    this.prevStr = str.slice(completeQuads);\n    str = str.slice(0, completeQuads);\n\n    return Buffer.from(str, \"base64\");\n}\n\nInternalEncoderBase64.prototype.end = function() {\n    return Buffer.from(this.prevStr, \"base64\");\n}\n\n\n//------------------------------------------------------------------------------\n// CESU-8 encoder is also special.\n\nfunction InternalEncoderCesu8(options, codec) {\n}\n\nInternalEncoderCesu8.prototype.write = function(str) {\n    var buf = Buffer.alloc(str.length * 3), bufIdx = 0;\n    for (var i = 0; i < str.length; i++) {\n        var charCode = str.charCodeAt(i);\n        // Naive implementation, but it works because CESU-8 is especially easy\n        // to convert from UTF-16 (which all JS strings are encoded in).\n        if (charCode < 0x80)\n            buf[bufIdx++] = charCode;\n        else if (charCode < 0x800) {\n            buf[bufIdx++] = 0xC0 + (charCode >>> 6);\n            buf[bufIdx++] = 0x80 + (charCode & 0x3f);\n        }\n        else { // charCode will always be < 0x10000 in javascript.\n            buf[bufIdx++] = 0xE0 + (charCode >>> 12);\n            buf[bufIdx++] = 0x80 + ((charCode >>> 6) & 0x3f);\n            buf[bufIdx++] = 0x80 + (charCode & 0x3f);\n        }\n    }\n    return buf.slice(0, bufIdx);\n}\n\nInternalEncoderCesu8.prototype.end = function() {\n}\n\n//------------------------------------------------------------------------------\n// CESU-8 decoder is not implemented in Node v4.0+\n\nfunction InternalDecoderCesu8(options, codec) {\n    this.acc = 0;\n    this.contBytes = 0;\n    this.accBytes = 0;\n    this.defaultCharUnicode = codec.defaultCharUnicode;\n}\n\nInternalDecoderCesu8.prototype.write = function(buf) {\n    var acc = this.acc, contBytes = this.contBytes, accBytes = this.accBytes, \n        res = '';\n    for (var i = 0; i < buf.length; i++) {\n        var curByte = buf[i];\n        if ((curByte & 0xC0) !== 0x80) { // Leading byte\n            if (contBytes > 0) { // Previous code is invalid\n                res += this.defaultCharUnicode;\n                contBytes = 0;\n            }\n\n            if (curByte < 0x80) { // Single-byte code\n                res += String.fromCharCode(curByte);\n            } else if (curByte < 0xE0) { // Two-byte code\n                acc = curByte & 0x1F;\n                contBytes = 1; accBytes = 1;\n            } else if (curByte < 0xF0) { // Three-byte code\n                acc = curByte & 0x0F;\n                contBytes = 2; accBytes = 1;\n            } else { // Four or more are not supported for CESU-8.\n                res += this.defaultCharUnicode;\n            }\n        } else { // Continuation byte\n            if (contBytes > 0) { // We're waiting for it.\n                acc = (acc << 6) | (curByte & 0x3f);\n                contBytes--; accBytes++;\n                if (contBytes === 0) {\n                    // Check for overlong encoding, but support Modified UTF-8 (encoding NULL as C0 80)\n                    if (accBytes === 2 && acc < 0x80 && acc > 0)\n                        res += this.defaultCharUnicode;\n                    else if (accBytes === 3 && acc < 0x800)\n                        res += this.defaultCharUnicode;\n                    else\n                        // Actually add character.\n                        res += String.fromCharCode(acc);\n                }\n            } else { // Unexpected continuation byte\n                res += this.defaultCharUnicode;\n            }\n        }\n    }\n    this.acc = acc; this.contBytes = contBytes; this.accBytes = accBytes;\n    return res;\n}\n\nInternalDecoderCesu8.prototype.end = function() {\n    var res = 0;\n    if (this.contBytes > 0)\n        res += this.defaultCharUnicode;\n    return res;\n}\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Note: UTF16-LE (or UCS2) codec is Node.js native. See encodings/internal.js\n\n// == UTF16-BE codec. ==========================================================\n\nexports.utf16be = Utf16BECodec;\nfunction Utf16BECodec() {\n}\n\nUtf16BECodec.prototype.encoder = Utf16BEEncoder;\nUtf16BECodec.prototype.decoder = Utf16BEDecoder;\nUtf16BECodec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nfunction Utf16BEEncoder() {\n}\n\nUtf16BEEncoder.prototype.write = function(str) {\n    var buf = Buffer.from(str, 'ucs2');\n    for (var i = 0; i < buf.length; i += 2) {\n        var tmp = buf[i]; buf[i] = buf[i+1]; buf[i+1] = tmp;\n    }\n    return buf;\n}\n\nUtf16BEEncoder.prototype.end = function() {\n}\n\n\n// -- Decoding\n\nfunction Utf16BEDecoder() {\n    this.overflowByte = -1;\n}\n\nUtf16BEDecoder.prototype.write = function(buf) {\n    if (buf.length == 0)\n        return '';\n\n    var buf2 = Buffer.alloc(buf.length + 1),\n        i = 0, j = 0;\n\n    if (this.overflowByte !== -1) {\n        buf2[0] = buf[0];\n        buf2[1] = this.overflowByte;\n        i = 1; j = 2;\n    }\n\n    for (; i < buf.length-1; i += 2, j+= 2) {\n        buf2[j] = buf[i+1];\n        buf2[j+1] = buf[i];\n    }\n\n    this.overflowByte = (i == buf.length-1) ? buf[buf.length-1] : -1;\n\n    return buf2.slice(0, j).toString('ucs2');\n}\n\nUtf16BEDecoder.prototype.end = function() {\n}\n\n\n// == UTF-16 codec =============================================================\n// Decoder chooses automatically from UTF-16LE and UTF-16BE using BOM and space-based heuristic.\n// Defaults to UTF-16LE, as it's prevalent and default in Node.\n// http://en.wikipedia.org/wiki/UTF-16 and http://encoding.spec.whatwg.org/#utf-16le\n// Decoder default can be changed: iconv.decode(buf, 'utf16', {defaultEncoding: 'utf-16be'});\n\n// Encoder uses UTF-16LE and prepends BOM (which can be overridden with addBOM: false).\n\nexports.utf16 = Utf16Codec;\nfunction Utf16Codec(codecOptions, iconv) {\n    this.iconv = iconv;\n}\n\nUtf16Codec.prototype.encoder = Utf16Encoder;\nUtf16Codec.prototype.decoder = Utf16Decoder;\n\n\n// -- Encoding (pass-through)\n\nfunction Utf16Encoder(options, codec) {\n    options = options || {};\n    if (options.addBOM === undefined)\n        options.addBOM = true;\n    this.encoder = codec.iconv.getEncoder('utf-16le', options);\n}\n\nUtf16Encoder.prototype.write = function(str) {\n    return this.encoder.write(str);\n}\n\nUtf16Encoder.prototype.end = function() {\n    return this.encoder.end();\n}\n\n\n// -- Decoding\n\nfunction Utf16Decoder(options, codec) {\n    this.decoder = null;\n    this.initialBytes = [];\n    this.initialBytesLen = 0;\n\n    this.options = options || {};\n    this.iconv = codec.iconv;\n}\n\nUtf16Decoder.prototype.write = function(buf) {\n    if (!this.decoder) {\n        // Codec is not chosen yet. Accumulate initial bytes.\n        this.initialBytes.push(buf);\n        this.initialBytesLen += buf.length;\n        \n        if (this.initialBytesLen < 16) // We need more bytes to use space heuristic (see below)\n            return '';\n\n        // We have enough bytes -> detect endianness.\n        var buf = Buffer.concat(this.initialBytes),\n            encoding = detectEncoding(buf, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n        this.initialBytes.length = this.initialBytesLen = 0;\n    }\n\n    return this.decoder.write(buf);\n}\n\nUtf16Decoder.prototype.end = function() {\n    if (!this.decoder) {\n        var buf = Buffer.concat(this.initialBytes),\n            encoding = detectEncoding(buf, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n\n        var res = this.decoder.write(buf),\n            trail = this.decoder.end();\n\n        return trail ? (res + trail) : res;\n    }\n    return this.decoder.end();\n}\n\nfunction detectEncoding(buf, defaultEncoding) {\n    var enc = defaultEncoding || 'utf-16le';\n\n    if (buf.length >= 2) {\n        // Check BOM.\n        if (buf[0] == 0xFE && buf[1] == 0xFF) // UTF-16BE BOM\n            enc = 'utf-16be';\n        else if (buf[0] == 0xFF && buf[1] == 0xFE) // UTF-16LE BOM\n            enc = 'utf-16le';\n        else {\n            // No BOM found. Try to deduce encoding from initial content.\n            // Most of the time, the content has ASCII chars (U+00**), but the opposite (U+**00) is uncommon.\n            // So, we count ASCII as if it was LE or BE, and decide from that.\n            var asciiCharsLE = 0, asciiCharsBE = 0, // Counts of chars in both positions\n                _len = Math.min(buf.length - (buf.length % 2), 64); // Len is always even.\n\n            for (var i = 0; i < _len; i += 2) {\n                if (buf[i] === 0 && buf[i+1] !== 0) asciiCharsBE++;\n                if (buf[i] !== 0 && buf[i+1] === 0) asciiCharsLE++;\n            }\n\n            if (asciiCharsBE > asciiCharsLE)\n                enc = 'utf-16be';\n            else if (asciiCharsBE < asciiCharsLE)\n                enc = 'utf-16le';\n        }\n    }\n\n    return enc;\n}\n\n\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// UTF-7 codec, according to https://tools.ietf.org/html/rfc2152\n// See also below a UTF-7-IMAP codec, according to http://tools.ietf.org/html/rfc3501#section-5.1.3\n\nexports.utf7 = Utf7Codec;\nexports.unicode11utf7 = 'utf7'; // Alias UNICODE-1-1-UTF-7\nfunction Utf7Codec(codecOptions, iconv) {\n    this.iconv = iconv;\n};\n\nUtf7Codec.prototype.encoder = Utf7Encoder;\nUtf7Codec.prototype.decoder = Utf7Decoder;\nUtf7Codec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nvar nonDirectChars = /[^A-Za-z0-9'\\(\\),-\\.\\/:\\? \\n\\r\\t]+/g;\n\nfunction Utf7Encoder(options, codec) {\n    this.iconv = codec.iconv;\n}\n\nUtf7Encoder.prototype.write = function(str) {\n    // Naive implementation.\n    // Non-direct chars are encoded as \"+<base64>-\"; single \"+\" char is encoded as \"+-\".\n    return Buffer.from(str.replace(nonDirectChars, function(chunk) {\n        return \"+\" + (chunk === '+' ? '' : \n            this.iconv.encode(chunk, 'utf16-be').toString('base64').replace(/=+$/, '')) \n            + \"-\";\n    }.bind(this)));\n}\n\nUtf7Encoder.prototype.end = function() {\n}\n\n\n// -- Decoding\n\nfunction Utf7Decoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = '';\n}\n\nvar base64Regex = /[A-Za-z0-9\\/+]/;\nvar base64Chars = [];\nfor (var i = 0; i < 256; i++)\n    base64Chars[i] = base64Regex.test(String.fromCharCode(i));\n\nvar plusChar = '+'.charCodeAt(0), \n    minusChar = '-'.charCodeAt(0),\n    andChar = '&'.charCodeAt(0);\n\nUtf7Decoder.prototype.write = function(buf) {\n    var res = \"\", lastI = 0,\n        inBase64 = this.inBase64,\n        base64Accum = this.base64Accum;\n\n    // The decoder is more involved as we must handle chunks in stream.\n\n    for (var i = 0; i < buf.length; i++) {\n        if (!inBase64) { // We're in direct mode.\n            // Write direct chars until '+'\n            if (buf[i] == plusChar) {\n                res += this.iconv.decode(buf.slice(lastI, i), \"ascii\"); // Write direct chars.\n                lastI = i+1;\n                inBase64 = true;\n            }\n        } else { // We decode base64.\n            if (!base64Chars[buf[i]]) { // Base64 ended.\n                if (i == lastI && buf[i] == minusChar) {// \"+-\" -> \"+\"\n                    res += \"+\";\n                } else {\n                    var b64str = base64Accum + buf.slice(lastI, i).toString();\n                    res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n                }\n\n                if (buf[i] != minusChar) // Minus is absorbed after base64.\n                    i--;\n\n                lastI = i+1;\n                inBase64 = false;\n                base64Accum = '';\n            }\n        }\n    }\n\n    if (!inBase64) {\n        res += this.iconv.decode(buf.slice(lastI), \"ascii\"); // Write direct chars.\n    } else {\n        var b64str = base64Accum + buf.slice(lastI).toString();\n\n        var canBeDecoded = b64str.length - (b64str.length % 8); // Minimal chunk: 2 quads -> 2x3 bytes -> 3 chars.\n        base64Accum = b64str.slice(canBeDecoded); // The rest will be decoded in future.\n        b64str = b64str.slice(0, canBeDecoded);\n\n        res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n    }\n\n    this.inBase64 = inBase64;\n    this.base64Accum = base64Accum;\n\n    return res;\n}\n\nUtf7Decoder.prototype.end = function() {\n    var res = \"\";\n    if (this.inBase64 && this.base64Accum.length > 0)\n        res = this.iconv.decode(Buffer.from(this.base64Accum, 'base64'), \"utf16-be\");\n\n    this.inBase64 = false;\n    this.base64Accum = '';\n    return res;\n}\n\n\n// UTF-7-IMAP codec.\n// RFC3501 Sec. 5.1.3 Modified UTF-7 (http://tools.ietf.org/html/rfc3501#section-5.1.3)\n// Differences:\n//  * Base64 part is started by \"&\" instead of \"+\"\n//  * Direct characters are 0x20-0x7E, except \"&\" (0x26)\n//  * In Base64, \",\" is used instead of \"/\"\n//  * Base64 must not be used to represent direct characters.\n//  * No implicit shift back from Base64 (should always end with '-')\n//  * String must end in non-shifted position.\n//  * \"-&\" while in base64 is not allowed.\n\n\nexports.utf7imap = Utf7IMAPCodec;\nfunction Utf7IMAPCodec(codecOptions, iconv) {\n    this.iconv = iconv;\n};\n\nUtf7IMAPCodec.prototype.encoder = Utf7IMAPEncoder;\nUtf7IMAPCodec.prototype.decoder = Utf7IMAPDecoder;\nUtf7IMAPCodec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nfunction Utf7IMAPEncoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = Buffer.alloc(6);\n    this.base64AccumIdx = 0;\n}\n\nUtf7IMAPEncoder.prototype.write = function(str) {\n    var inBase64 = this.inBase64,\n        base64Accum = this.base64Accum,\n        base64AccumIdx = this.base64AccumIdx,\n        buf = Buffer.alloc(str.length*5 + 10), bufIdx = 0;\n\n    for (var i = 0; i < str.length; i++) {\n        var uChar = str.charCodeAt(i);\n        if (0x20 <= uChar && uChar <= 0x7E) { // Direct character or '&'.\n            if (inBase64) {\n                if (base64AccumIdx > 0) {\n                    bufIdx += buf.write(base64Accum.slice(0, base64AccumIdx).toString('base64').replace(/\\//g, ',').replace(/=+$/, ''), bufIdx);\n                    base64AccumIdx = 0;\n                }\n\n                buf[bufIdx++] = minusChar; // Write '-', then go to direct mode.\n                inBase64 = false;\n            }\n\n            if (!inBase64) {\n                buf[bufIdx++] = uChar; // Write direct character\n\n                if (uChar === andChar)  // Ampersand -> '&-'\n                    buf[bufIdx++] = minusChar;\n            }\n\n        } else { // Non-direct character\n            if (!inBase64) {\n                buf[bufIdx++] = andChar; // Write '&', then go to base64 mode.\n                inBase64 = true;\n            }\n            if (inBase64) {\n                base64Accum[base64AccumIdx++] = uChar >> 8;\n                base64Accum[base64AccumIdx++] = uChar & 0xFF;\n\n                if (base64AccumIdx == base64Accum.length) {\n                    bufIdx += buf.write(base64Accum.toString('base64').replace(/\\//g, ','), bufIdx);\n                    base64AccumIdx = 0;\n                }\n            }\n        }\n    }\n\n    this.inBase64 = inBase64;\n    this.base64AccumIdx = base64AccumIdx;\n\n    return buf.slice(0, bufIdx);\n}\n\nUtf7IMAPEncoder.prototype.end = function() {\n    var buf = Buffer.alloc(10), bufIdx = 0;\n    if (this.inBase64) {\n        if (this.base64AccumIdx > 0) {\n            bufIdx += buf.write(this.base64Accum.slice(0, this.base64AccumIdx).toString('base64').replace(/\\//g, ',').replace(/=+$/, ''), bufIdx);\n            this.base64AccumIdx = 0;\n        }\n\n        buf[bufIdx++] = minusChar; // Write '-', then go to direct mode.\n        this.inBase64 = false;\n    }\n\n    return buf.slice(0, bufIdx);\n}\n\n\n// -- Decoding\n\nfunction Utf7IMAPDecoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = '';\n}\n\nvar base64IMAPChars = base64Chars.slice();\nbase64IMAPChars[','.charCodeAt(0)] = true;\n\nUtf7IMAPDecoder.prototype.write = function(buf) {\n    var res = \"\", lastI = 0,\n        inBase64 = this.inBase64,\n        base64Accum = this.base64Accum;\n\n    // The decoder is more involved as we must handle chunks in stream.\n    // It is forgiving, closer to standard UTF-7 (for example, '-' is optional at the end).\n\n    for (var i = 0; i < buf.length; i++) {\n        if (!inBase64) { // We're in direct mode.\n            // Write direct chars until '&'\n            if (buf[i] == andChar) {\n                res += this.iconv.decode(buf.slice(lastI, i), \"ascii\"); // Write direct chars.\n                lastI = i+1;\n                inBase64 = true;\n            }\n        } else { // We decode base64.\n            if (!base64IMAPChars[buf[i]]) { // Base64 ended.\n                if (i == lastI && buf[i] == minusChar) { // \"&-\" -> \"&\"\n                    res += \"&\";\n                } else {\n                    var b64str = base64Accum + buf.slice(lastI, i).toString().replace(/,/g, '/');\n                    res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n                }\n\n                if (buf[i] != minusChar) // Minus may be absorbed after base64.\n                    i--;\n\n                lastI = i+1;\n                inBase64 = false;\n                base64Accum = '';\n            }\n        }\n    }\n\n    if (!inBase64) {\n        res += this.iconv.decode(buf.slice(lastI), \"ascii\"); // Write direct chars.\n    } else {\n        var b64str = base64Accum + buf.slice(lastI).toString().replace(/,/g, '/');\n\n        var canBeDecoded = b64str.length - (b64str.length % 8); // Minimal chunk: 2 quads -> 2x3 bytes -> 3 chars.\n        base64Accum = b64str.slice(canBeDecoded); // The rest will be decoded in future.\n        b64str = b64str.slice(0, canBeDecoded);\n\n        res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n    }\n\n    this.inBase64 = inBase64;\n    this.base64Accum = base64Accum;\n\n    return res;\n}\n\nUtf7IMAPDecoder.prototype.end = function() {\n    var res = \"\";\n    if (this.inBase64 && this.base64Accum.length > 0)\n        res = this.iconv.decode(Buffer.from(this.base64Accum, 'base64'), \"utf16-be\");\n\n    this.inBase64 = false;\n    this.base64Accum = '';\n    return res;\n}\n\n\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Single-byte codec. Needs a 'chars' string parameter that contains 256 or 128 chars that\n// correspond to encoded bytes (if 128 - then lower half is ASCII). \n\nexports._sbcs = SBCSCodec;\nfunction SBCSCodec(codecOptions, iconv) {\n    if (!codecOptions)\n        throw new Error(\"SBCS codec is called without the data.\")\n    \n    // Prepare char buffer for decoding.\n    if (!codecOptions.chars || (codecOptions.chars.length !== 128 && codecOptions.chars.length !== 256))\n        throw new Error(\"Encoding '\"+codecOptions.type+\"' has incorrect 'chars' (must be of len 128 or 256)\");\n    \n    if (codecOptions.chars.length === 128) {\n        var asciiString = \"\";\n        for (var i = 0; i < 128; i++)\n            asciiString += String.fromCharCode(i);\n        codecOptions.chars = asciiString + codecOptions.chars;\n    }\n\n    this.decodeBuf = Buffer.from(codecOptions.chars, 'ucs2');\n    \n    // Encoding buffer.\n    var encodeBuf = Buffer.alloc(65536, iconv.defaultCharSingleByte.charCodeAt(0));\n\n    for (var i = 0; i < codecOptions.chars.length; i++)\n        encodeBuf[codecOptions.chars.charCodeAt(i)] = i;\n\n    this.encodeBuf = encodeBuf;\n}\n\nSBCSCodec.prototype.encoder = SBCSEncoder;\nSBCSCodec.prototype.decoder = SBCSDecoder;\n\n\nfunction SBCSEncoder(options, codec) {\n    this.encodeBuf = codec.encodeBuf;\n}\n\nSBCSEncoder.prototype.write = function(str) {\n    var buf = Buffer.alloc(str.length);\n    for (var i = 0; i < str.length; i++)\n        buf[i] = this.encodeBuf[str.charCodeAt(i)];\n    \n    return buf;\n}\n\nSBCSEncoder.prototype.end = function() {\n}\n\n\nfunction SBCSDecoder(options, codec) {\n    this.decodeBuf = codec.decodeBuf;\n}\n\nSBCSDecoder.prototype.write = function(buf) {\n    // Strings are immutable in JS -> we use ucs2 buffer to speed up computations.\n    var decodeBuf = this.decodeBuf;\n    var newBuf = Buffer.alloc(buf.length*2);\n    var idx1 = 0, idx2 = 0;\n    for (var i = 0; i < buf.length; i++) {\n        idx1 = buf[i]*2; idx2 = i*2;\n        newBuf[idx2] = decodeBuf[idx1];\n        newBuf[idx2+1] = decodeBuf[idx1+1];\n    }\n    return newBuf.toString('ucs2');\n}\n\nSBCSDecoder.prototype.end = function() {\n}\n","\"use strict\";\n\n// Manually added data to be used by sbcs codec in addition to generated one.\n\nmodule.exports = {\n    // Not supported by iconv, not sure why.\n    \"10029\": \"maccenteuro\",\n    \"maccenteuro\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\"\n    },\n\n    \"808\": \"cp808\",\n    \"ibm808\": \"cp808\",\n    \"cp808\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\"\n    },\n\n    \"mik\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\"\n    },\n\n    // Aliases of generated encodings.\n    \"ascii8bit\": \"ascii\",\n    \"usascii\": \"ascii\",\n    \"ansix34\": \"ascii\",\n    \"ansix341968\": \"ascii\",\n    \"ansix341986\": \"ascii\",\n    \"csascii\": \"ascii\",\n    \"cp367\": \"ascii\",\n    \"ibm367\": \"ascii\",\n    \"isoir6\": \"ascii\",\n    \"iso646us\": \"ascii\",\n    \"iso646irv\": \"ascii\",\n    \"us\": \"ascii\",\n\n    \"latin1\": \"iso88591\",\n    \"latin2\": \"iso88592\",\n    \"latin3\": \"iso88593\",\n    \"latin4\": \"iso88594\",\n    \"latin5\": \"iso88599\",\n    \"latin6\": \"iso885910\",\n    \"latin7\": \"iso885913\",\n    \"latin8\": \"iso885914\",\n    \"latin9\": \"iso885915\",\n    \"latin10\": \"iso885916\",\n\n    \"csisolatin1\": \"iso88591\",\n    \"csisolatin2\": \"iso88592\",\n    \"csisolatin3\": \"iso88593\",\n    \"csisolatin4\": \"iso88594\",\n    \"csisolatincyrillic\": \"iso88595\",\n    \"csisolatinarabic\": \"iso88596\",\n    \"csisolatingreek\" : \"iso88597\",\n    \"csisolatinhebrew\": \"iso88598\",\n    \"csisolatin5\": \"iso88599\",\n    \"csisolatin6\": \"iso885910\",\n\n    \"l1\": \"iso88591\",\n    \"l2\": \"iso88592\",\n    \"l3\": \"iso88593\",\n    \"l4\": \"iso88594\",\n    \"l5\": \"iso88599\",\n    \"l6\": \"iso885910\",\n    \"l7\": \"iso885913\",\n    \"l8\": \"iso885914\",\n    \"l9\": \"iso885915\",\n    \"l10\": \"iso885916\",\n\n    \"isoir14\": \"iso646jp\",\n    \"isoir57\": \"iso646cn\",\n    \"isoir100\": \"iso88591\",\n    \"isoir101\": \"iso88592\",\n    \"isoir109\": \"iso88593\",\n    \"isoir110\": \"iso88594\",\n    \"isoir144\": \"iso88595\",\n    \"isoir127\": \"iso88596\",\n    \"isoir126\": \"iso88597\",\n    \"isoir138\": \"iso88598\",\n    \"isoir148\": \"iso88599\",\n    \"isoir157\": \"iso885910\",\n    \"isoir166\": \"tis620\",\n    \"isoir179\": \"iso885913\",\n    \"isoir199\": \"iso885914\",\n    \"isoir203\": \"iso885915\",\n    \"isoir226\": \"iso885916\",\n\n    \"cp819\": \"iso88591\",\n    \"ibm819\": \"iso88591\",\n\n    \"cyrillic\": \"iso88595\",\n\n    \"arabic\": \"iso88596\",\n    \"arabic8\": \"iso88596\",\n    \"ecma114\": \"iso88596\",\n    \"asmo708\": \"iso88596\",\n\n    \"greek\" : \"iso88597\",\n    \"greek8\" : \"iso88597\",\n    \"ecma118\" : \"iso88597\",\n    \"elot928\" : \"iso88597\",\n\n    \"hebrew\": \"iso88598\",\n    \"hebrew8\": \"iso88598\",\n\n    \"turkish\": \"iso88599\",\n    \"turkish8\": \"iso88599\",\n\n    \"thai\": \"iso885911\",\n    \"thai8\": \"iso885911\",\n\n    \"celtic\": \"iso885914\",\n    \"celtic8\": \"iso885914\",\n    \"isoceltic\": \"iso885914\",\n\n    \"tis6200\": \"tis620\",\n    \"tis62025291\": \"tis620\",\n    \"tis62025330\": \"tis620\",\n\n    \"10000\": \"macroman\",\n    \"10006\": \"macgreek\",\n    \"10007\": \"maccyrillic\",\n    \"10079\": \"maciceland\",\n    \"10081\": \"macturkish\",\n\n    \"cspc8codepage437\": \"cp437\",\n    \"cspc775baltic\": \"cp775\",\n    \"cspc850multilingual\": \"cp850\",\n    \"cspcp852\": \"cp852\",\n    \"cspc862latinhebrew\": \"cp862\",\n    \"cpgr\": \"cp869\",\n\n    \"msee\": \"cp1250\",\n    \"mscyrl\": \"cp1251\",\n    \"msansi\": \"cp1252\",\n    \"msgreek\": \"cp1253\",\n    \"msturk\": \"cp1254\",\n    \"mshebr\": \"cp1255\",\n    \"msarab\": \"cp1256\",\n    \"winbaltrim\": \"cp1257\",\n\n    \"cp20866\": \"koi8r\",\n    \"20866\": \"koi8r\",\n    \"ibm878\": \"koi8r\",\n    \"cskoi8r\": \"koi8r\",\n\n    \"cp21866\": \"koi8u\",\n    \"21866\": \"koi8u\",\n    \"ibm1168\": \"koi8u\",\n\n    \"strk10482002\": \"rk1048\",\n\n    \"tcvn5712\": \"tcvn\",\n    \"tcvn57121\": \"tcvn\",\n\n    \"gb198880\": \"iso646cn\",\n    \"cn\": \"iso646cn\",\n\n    \"csiso14jisc6220ro\": \"iso646jp\",\n    \"jisc62201969ro\": \"iso646jp\",\n    \"jp\": \"iso646jp\",\n\n    \"cshproman8\": \"hproman8\",\n    \"r8\": \"hproman8\",\n    \"roman8\": \"hproman8\",\n    \"xroman8\": \"hproman8\",\n    \"ibm1051\": \"hproman8\",\n\n    \"mac\": \"macintosh\",\n    \"csmacintosh\": \"macintosh\",\n};\n\n","\"use strict\";\n\n// Generated data for sbcs codec. Don't edit manually. Regenerate using generation/gen-sbcs.js script.\nmodule.exports = {\n  \"437\": \"cp437\",\n  \"737\": \"cp737\",\n  \"775\": \"cp775\",\n  \"850\": \"cp850\",\n  \"852\": \"cp852\",\n  \"855\": \"cp855\",\n  \"856\": \"cp856\",\n  \"857\": \"cp857\",\n  \"858\": \"cp858\",\n  \"860\": \"cp860\",\n  \"861\": \"cp861\",\n  \"862\": \"cp862\",\n  \"863\": \"cp863\",\n  \"864\": \"cp864\",\n  \"865\": \"cp865\",\n  \"866\": \"cp866\",\n  \"869\": \"cp869\",\n  \"874\": \"windows874\",\n  \"922\": \"cp922\",\n  \"1046\": \"cp1046\",\n  \"1124\": \"cp1124\",\n  \"1125\": \"cp1125\",\n  \"1129\": \"cp1129\",\n  \"1133\": \"cp1133\",\n  \"1161\": \"cp1161\",\n  \"1162\": \"cp1162\",\n  \"1163\": \"cp1163\",\n  \"1250\": \"windows1250\",\n  \"1251\": \"windows1251\",\n  \"1252\": \"windows1252\",\n  \"1253\": \"windows1253\",\n  \"1254\": \"windows1254\",\n  \"1255\": \"windows1255\",\n  \"1256\": \"windows1256\",\n  \"1257\": \"windows1257\",\n  \"1258\": \"windows1258\",\n  \"28591\": \"iso88591\",\n  \"28592\": \"iso88592\",\n  \"28593\": \"iso88593\",\n  \"28594\": \"iso88594\",\n  \"28595\": \"iso88595\",\n  \"28596\": \"iso88596\",\n  \"28597\": \"iso88597\",\n  \"28598\": \"iso88598\",\n  \"28599\": \"iso88599\",\n  \"28600\": \"iso885910\",\n  \"28601\": \"iso885911\",\n  \"28603\": \"iso885913\",\n  \"28604\": \"iso885914\",\n  \"28605\": \"iso885915\",\n  \"28606\": \"iso885916\",\n  \"windows874\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win874\": \"windows874\",\n  \"cp874\": \"windows874\",\n  \"windows1250\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1250\": \"windows1250\",\n  \"cp1250\": \"windows1250\",\n  \"windows1251\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1251\": \"windows1251\",\n  \"cp1251\": \"windows1251\",\n  \"windows1252\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1252\": \"windows1252\",\n  \"cp1252\": \"windows1252\",\n  \"windows1253\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1253\": \"windows1253\",\n  \"cp1253\": \"windows1253\",\n  \"windows1254\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1254\": \"windows1254\",\n  \"cp1254\": \"windows1254\",\n  \"windows1255\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1255\": \"windows1255\",\n  \"cp1255\": \"windows1255\",\n  \"windows1256\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1256\": \"windows1256\",\n  \"cp1256\": \"windows1256\",\n  \"windows1257\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1257\": \"windows1257\",\n  \"cp1257\": \"windows1257\",\n  \"windows1258\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1258\": \"windows1258\",\n  \"cp1258\": \"windows1258\",\n  \"iso88591\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28591\": \"iso88591\",\n  \"iso88592\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28592\": \"iso88592\",\n  \"iso88593\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28593\": \"iso88593\",\n  \"iso88594\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28594\": \"iso88594\",\n  \"iso88595\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28595\": \"iso88595\",\n  \"iso88596\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28596\": \"iso88596\",\n  \"iso88597\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28597\": \"iso88597\",\n  \"iso88598\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28598\": \"iso88598\",\n  \"iso88599\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28599\": \"iso88599\",\n  \"iso885910\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28600\": \"iso885910\",\n  \"iso885911\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28601\": \"iso885911\",\n  \"iso885913\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28603\": \"iso885913\",\n  \"iso885914\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28604\": \"iso885914\",\n  \"iso885915\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28605\": \"iso885915\",\n  \"iso885916\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28606\": \"iso885916\",\n  \"cp437\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm437\": \"cp437\",\n  \"csibm437\": \"cp437\",\n  \"cp737\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm737\": \"cp737\",\n  \"csibm737\": \"cp737\",\n  \"cp775\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm775\": \"cp775\",\n  \"csibm775\": \"cp775\",\n  \"cp850\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm850\": \"cp850\",\n  \"csibm850\": \"cp850\",\n  \"cp852\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm852\": \"cp852\",\n  \"csibm852\": \"cp852\",\n  \"cp855\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm855\": \"cp855\",\n  \"csibm855\": \"cp855\",\n  \"cp856\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm856\": \"cp856\",\n  \"csibm856\": \"cp856\",\n  \"cp857\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm857\": \"cp857\",\n  \"csibm857\": \"cp857\",\n  \"cp858\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm858\": \"cp858\",\n  \"csibm858\": \"cp858\",\n  \"cp860\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm860\": \"cp860\",\n  \"csibm860\": \"cp860\",\n  \"cp861\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm861\": \"cp861\",\n  \"csibm861\": \"cp861\",\n  \"cp862\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm862\": \"cp862\",\n  \"csibm862\": \"cp862\",\n  \"cp863\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm863\": \"cp863\",\n  \"csibm863\": \"cp863\",\n  \"cp864\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n  },\n  \"ibm864\": \"cp864\",\n  \"csibm864\": \"cp864\",\n  \"cp865\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm865\": \"cp865\",\n  \"csibm865\": \"cp865\",\n  \"cp866\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm866\": \"cp866\",\n  \"csibm866\": \"cp866\",\n  \"cp869\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm869\": \"cp869\",\n  \"csibm869\": \"cp869\",\n  \"cp922\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm922\": \"cp922\",\n  \"csibm922\": \"cp922\",\n  \"cp1046\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1046\": \"cp1046\",\n  \"csibm1046\": \"cp1046\",\n  \"cp1124\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1124\": \"cp1124\",\n  \"csibm1124\": \"cp1124\",\n  \"cp1125\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1125\": \"cp1125\",\n  \"csibm1125\": \"cp1125\",\n  \"cp1129\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1129\": \"cp1129\",\n  \"csibm1129\": \"cp1129\",\n  \"cp1133\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1133\": \"cp1133\",\n  \"csibm1133\": \"cp1133\",\n  \"cp1161\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1161\": \"cp1161\",\n  \"csibm1161\": \"cp1161\",\n  \"cp1162\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1162\": \"cp1162\",\n  \"csibm1162\": \"cp1162\",\n  \"cp1163\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1163\": \"cp1163\",\n  \"csibm1163\": \"cp1163\",\n  \"maccroatian\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"maccyrillic\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macgreek\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"maciceland\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macroman\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macromania\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macthai\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macturkish\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macukraine\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8r\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8u\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8ru\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8t\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"armscii8\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \")(.,-\"\n  },\n  \"rk1048\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"tcvn\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0003\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n  },\n  \"georgianacademy\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"georgianps\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"pt154\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"viscii\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0003\\u0004\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0015\\u0016\\u0017\\u0018\\u001a\\u001b\\u001c\\u001d\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n  },\n  \"iso646cn\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}\"\n  },\n  \"iso646jp\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}\"\n  },\n  \"hproman8\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macintosh\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ascii\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"tis620\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  }\n}","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Multibyte codec. In this scheme, a character is represented by 1 or more bytes.\n// Our codec supports UTF-16 surrogates, extensions for GB18030 and unicode sequences.\n// To save memory and loading time, we read table files only when requested.\n\nexports._dbcs = DBCSCodec;\n\nvar UNASSIGNED = -1,\n    GB18030_CODE = -2,\n    SEQ_START  = -10,\n    NODE_START = -1000,\n    UNASSIGNED_NODE = new Array(0x100),\n    DEF_CHAR = -1;\n\nfor (var i = 0; i < 0x100; i++)\n    UNASSIGNED_NODE[i] = UNASSIGNED;\n\n\n// Class DBCSCodec reads and initializes mapping tables.\nfunction DBCSCodec(codecOptions, iconv) {\n    this.encodingName = codecOptions.encodingName;\n    if (!codecOptions)\n        throw new Error(\"DBCS codec is called without the data.\")\n    if (!codecOptions.table)\n        throw new Error(\"Encoding '\" + this.encodingName + \"' has no data.\");\n\n    // Load tables.\n    var mappingTable = codecOptions.table();\n\n\n    // Decode tables: MBCS -> Unicode.\n\n    // decodeTables is a trie, encoded as an array of arrays of integers. Internal arrays are trie nodes and all have len = 256.\n    // Trie root is decodeTables[0].\n    // Values: >=  0 -> unicode character code. can be > 0xFFFF\n    //         == UNASSIGNED -> unknown/unassigned sequence.\n    //         == GB18030_CODE -> this is the end of a GB18030 4-byte sequence.\n    //         <= NODE_START -> index of the next node in our trie to process next byte.\n    //         <= SEQ_START  -> index of the start of a character code sequence, in decodeTableSeq.\n    this.decodeTables = [];\n    this.decodeTables[0] = UNASSIGNED_NODE.slice(0); // Create root node.\n\n    // Sometimes a MBCS char corresponds to a sequence of unicode chars. We store them as arrays of integers here. \n    this.decodeTableSeq = [];\n\n    // Actual mapping tables consist of chunks. Use them to fill up decode tables.\n    for (var i = 0; i < mappingTable.length; i++)\n        this._addDecodeChunk(mappingTable[i]);\n\n    this.defaultCharUnicode = iconv.defaultCharUnicode;\n\n    \n    // Encode tables: Unicode -> DBCS.\n\n    // `encodeTable` is array mapping from unicode char to encoded char. All its values are integers for performance.\n    // Because it can be sparse, it is represented as array of buckets by 256 chars each. Bucket can be null.\n    // Values: >=  0 -> it is a normal char. Write the value (if <=256 then 1 byte, if <=65536 then 2 bytes, etc.).\n    //         == UNASSIGNED -> no conversion found. Output a default char.\n    //         <= SEQ_START  -> it's an index in encodeTableSeq, see below. The character starts a sequence.\n    this.encodeTable = [];\n    \n    // `encodeTableSeq` is used when a sequence of unicode characters is encoded as a single code. We use a tree of\n    // objects where keys correspond to characters in sequence and leafs are the encoded dbcs values. A special DEF_CHAR key\n    // means end of sequence (needed when one sequence is a strict subsequence of another).\n    // Objects are kept separately from encodeTable to increase performance.\n    this.encodeTableSeq = [];\n\n    // Some chars can be decoded, but need not be encoded.\n    var skipEncodeChars = {};\n    if (codecOptions.encodeSkipVals)\n        for (var i = 0; i < codecOptions.encodeSkipVals.length; i++) {\n            var val = codecOptions.encodeSkipVals[i];\n            if (typeof val === 'number')\n                skipEncodeChars[val] = true;\n            else\n                for (var j = val.from; j <= val.to; j++)\n                    skipEncodeChars[j] = true;\n        }\n        \n    // Use decode trie to recursively fill out encode tables.\n    this._fillEncodeTable(0, 0, skipEncodeChars);\n\n    // Add more encoding pairs when needed.\n    if (codecOptions.encodeAdd) {\n        for (var uChar in codecOptions.encodeAdd)\n            if (Object.prototype.hasOwnProperty.call(codecOptions.encodeAdd, uChar))\n                this._setEncodeChar(uChar.charCodeAt(0), codecOptions.encodeAdd[uChar]);\n    }\n\n    this.defCharSB  = this.encodeTable[0][iconv.defaultCharSingleByte.charCodeAt(0)];\n    if (this.defCharSB === UNASSIGNED) this.defCharSB = this.encodeTable[0]['?'];\n    if (this.defCharSB === UNASSIGNED) this.defCharSB = \"?\".charCodeAt(0);\n\n\n    // Load & create GB18030 tables when needed.\n    if (typeof codecOptions.gb18030 === 'function') {\n        this.gb18030 = codecOptions.gb18030(); // Load GB18030 ranges.\n\n        // Add GB18030 decode tables.\n        var thirdByteNodeIdx = this.decodeTables.length;\n        var thirdByteNode = this.decodeTables[thirdByteNodeIdx] = UNASSIGNED_NODE.slice(0);\n\n        var fourthByteNodeIdx = this.decodeTables.length;\n        var fourthByteNode = this.decodeTables[fourthByteNodeIdx] = UNASSIGNED_NODE.slice(0);\n\n        for (var i = 0x81; i <= 0xFE; i++) {\n            var secondByteNodeIdx = NODE_START - this.decodeTables[0][i];\n            var secondByteNode = this.decodeTables[secondByteNodeIdx];\n            for (var j = 0x30; j <= 0x39; j++)\n                secondByteNode[j] = NODE_START - thirdByteNodeIdx;\n        }\n        for (var i = 0x81; i <= 0xFE; i++)\n            thirdByteNode[i] = NODE_START - fourthByteNodeIdx;\n        for (var i = 0x30; i <= 0x39; i++)\n            fourthByteNode[i] = GB18030_CODE\n    }        \n}\n\nDBCSCodec.prototype.encoder = DBCSEncoder;\nDBCSCodec.prototype.decoder = DBCSDecoder;\n\n// Decoder helpers\nDBCSCodec.prototype._getDecodeTrieNode = function(addr) {\n    var bytes = [];\n    for (; addr > 0; addr >>= 8)\n        bytes.push(addr & 0xFF);\n    if (bytes.length == 0)\n        bytes.push(0);\n\n    var node = this.decodeTables[0];\n    for (var i = bytes.length-1; i > 0; i--) { // Traverse nodes deeper into the trie.\n        var val = node[bytes[i]];\n\n        if (val == UNASSIGNED) { // Create new node.\n            node[bytes[i]] = NODE_START - this.decodeTables.length;\n            this.decodeTables.push(node = UNASSIGNED_NODE.slice(0));\n        }\n        else if (val <= NODE_START) { // Existing node.\n            node = this.decodeTables[NODE_START - val];\n        }\n        else\n            throw new Error(\"Overwrite byte in \" + this.encodingName + \", addr: \" + addr.toString(16));\n    }\n    return node;\n}\n\n\nDBCSCodec.prototype._addDecodeChunk = function(chunk) {\n    // First element of chunk is the hex mbcs code where we start.\n    var curAddr = parseInt(chunk[0], 16);\n\n    // Choose the decoding node where we'll write our chars.\n    var writeTable = this._getDecodeTrieNode(curAddr);\n    curAddr = curAddr & 0xFF;\n\n    // Write all other elements of the chunk to the table.\n    for (var k = 1; k < chunk.length; k++) {\n        var part = chunk[k];\n        if (typeof part === \"string\") { // String, write as-is.\n            for (var l = 0; l < part.length;) {\n                var code = part.charCodeAt(l++);\n                if (0xD800 <= code && code < 0xDC00) { // Decode surrogate\n                    var codeTrail = part.charCodeAt(l++);\n                    if (0xDC00 <= codeTrail && codeTrail < 0xE000)\n                        writeTable[curAddr++] = 0x10000 + (code - 0xD800) * 0x400 + (codeTrail - 0xDC00);\n                    else\n                        throw new Error(\"Incorrect surrogate pair in \"  + this.encodingName + \" at chunk \" + chunk[0]);\n                }\n                else if (0x0FF0 < code && code <= 0x0FFF) { // Character sequence (our own encoding used)\n                    var len = 0xFFF - code + 2;\n                    var seq = [];\n                    for (var m = 0; m < len; m++)\n                        seq.push(part.charCodeAt(l++)); // Simple variation: don't support surrogates or subsequences in seq.\n\n                    writeTable[curAddr++] = SEQ_START - this.decodeTableSeq.length;\n                    this.decodeTableSeq.push(seq);\n                }\n                else\n                    writeTable[curAddr++] = code; // Basic char\n            }\n        } \n        else if (typeof part === \"number\") { // Integer, meaning increasing sequence starting with prev character.\n            var charCode = writeTable[curAddr - 1] + 1;\n            for (var l = 0; l < part; l++)\n                writeTable[curAddr++] = charCode++;\n        }\n        else\n            throw new Error(\"Incorrect type '\" + typeof part + \"' given in \"  + this.encodingName + \" at chunk \" + chunk[0]);\n    }\n    if (curAddr > 0xFF)\n        throw new Error(\"Incorrect chunk in \"  + this.encodingName + \" at addr \" + chunk[0] + \": too long\" + curAddr);\n}\n\n// Encoder helpers\nDBCSCodec.prototype._getEncodeBucket = function(uCode) {\n    var high = uCode >> 8; // This could be > 0xFF because of astral characters.\n    if (this.encodeTable[high] === undefined)\n        this.encodeTable[high] = UNASSIGNED_NODE.slice(0); // Create bucket on demand.\n    return this.encodeTable[high];\n}\n\nDBCSCodec.prototype._setEncodeChar = function(uCode, dbcsCode) {\n    var bucket = this._getEncodeBucket(uCode);\n    var low = uCode & 0xFF;\n    if (bucket[low] <= SEQ_START)\n        this.encodeTableSeq[SEQ_START-bucket[low]][DEF_CHAR] = dbcsCode; // There's already a sequence, set a single-char subsequence of it.\n    else if (bucket[low] == UNASSIGNED)\n        bucket[low] = dbcsCode;\n}\n\nDBCSCodec.prototype._setEncodeSequence = function(seq, dbcsCode) {\n    \n    // Get the root of character tree according to first character of the sequence.\n    var uCode = seq[0];\n    var bucket = this._getEncodeBucket(uCode);\n    var low = uCode & 0xFF;\n\n    var node;\n    if (bucket[low] <= SEQ_START) {\n        // There's already a sequence with  - use it.\n        node = this.encodeTableSeq[SEQ_START-bucket[low]];\n    }\n    else {\n        // There was no sequence object - allocate a new one.\n        node = {};\n        if (bucket[low] !== UNASSIGNED) node[DEF_CHAR] = bucket[low]; // If a char was set before - make it a single-char subsequence.\n        bucket[low] = SEQ_START - this.encodeTableSeq.length;\n        this.encodeTableSeq.push(node);\n    }\n\n    // Traverse the character tree, allocating new nodes as needed.\n    for (var j = 1; j < seq.length-1; j++) {\n        var oldVal = node[uCode];\n        if (typeof oldVal === 'object')\n            node = oldVal;\n        else {\n            node = node[uCode] = {}\n            if (oldVal !== undefined)\n                node[DEF_CHAR] = oldVal\n        }\n    }\n\n    // Set the leaf to given dbcsCode.\n    uCode = seq[seq.length-1];\n    node[uCode] = dbcsCode;\n}\n\nDBCSCodec.prototype._fillEncodeTable = function(nodeIdx, prefix, skipEncodeChars) {\n    var node = this.decodeTables[nodeIdx];\n    for (var i = 0; i < 0x100; i++) {\n        var uCode = node[i];\n        var mbCode = prefix + i;\n        if (skipEncodeChars[mbCode])\n            continue;\n\n        if (uCode >= 0)\n            this._setEncodeChar(uCode, mbCode);\n        else if (uCode <= NODE_START)\n            this._fillEncodeTable(NODE_START - uCode, mbCode << 8, skipEncodeChars);\n        else if (uCode <= SEQ_START)\n            this._setEncodeSequence(this.decodeTableSeq[SEQ_START - uCode], mbCode);\n    }\n}\n\n\n\n// == Encoder ==================================================================\n\nfunction DBCSEncoder(options, codec) {\n    // Encoder state\n    this.leadSurrogate = -1;\n    this.seqObj = undefined;\n    \n    // Static data\n    this.encodeTable = codec.encodeTable;\n    this.encodeTableSeq = codec.encodeTableSeq;\n    this.defaultCharSingleByte = codec.defCharSB;\n    this.gb18030 = codec.gb18030;\n}\n\nDBCSEncoder.prototype.write = function(str) {\n    var newBuf = Buffer.alloc(str.length * (this.gb18030 ? 4 : 3)),\n        leadSurrogate = this.leadSurrogate,\n        seqObj = this.seqObj, nextChar = -1,\n        i = 0, j = 0;\n\n    while (true) {\n        // 0. Get next character.\n        if (nextChar === -1) {\n            if (i == str.length) break;\n            var uCode = str.charCodeAt(i++);\n        }\n        else {\n            var uCode = nextChar;\n            nextChar = -1;    \n        }\n\n        // 1. Handle surrogates.\n        if (0xD800 <= uCode && uCode < 0xE000) { // Char is one of surrogates.\n            if (uCode < 0xDC00) { // We've got lead surrogate.\n                if (leadSurrogate === -1) {\n                    leadSurrogate = uCode;\n                    continue;\n                } else {\n                    leadSurrogate = uCode;\n                    // Double lead surrogate found.\n                    uCode = UNASSIGNED;\n                }\n            } else { // We've got trail surrogate.\n                if (leadSurrogate !== -1) {\n                    uCode = 0x10000 + (leadSurrogate - 0xD800) * 0x400 + (uCode - 0xDC00);\n                    leadSurrogate = -1;\n                } else {\n                    // Incomplete surrogate pair - only trail surrogate found.\n                    uCode = UNASSIGNED;\n                }\n                \n            }\n        }\n        else if (leadSurrogate !== -1) {\n            // Incomplete surrogate pair - only lead surrogate found.\n            nextChar = uCode; uCode = UNASSIGNED; // Write an error, then current char.\n            leadSurrogate = -1;\n        }\n\n        // 2. Convert uCode character.\n        var dbcsCode = UNASSIGNED;\n        if (seqObj !== undefined && uCode != UNASSIGNED) { // We are in the middle of the sequence\n            var resCode = seqObj[uCode];\n            if (typeof resCode === 'object') { // Sequence continues.\n                seqObj = resCode;\n                continue;\n\n            } else if (typeof resCode == 'number') { // Sequence finished. Write it.\n                dbcsCode = resCode;\n\n            } else if (resCode == undefined) { // Current character is not part of the sequence.\n\n                // Try default character for this sequence\n                resCode = seqObj[DEF_CHAR];\n                if (resCode !== undefined) {\n                    dbcsCode = resCode; // Found. Write it.\n                    nextChar = uCode; // Current character will be written too in the next iteration.\n\n                } else {\n                    // TODO: What if we have no default? (resCode == undefined)\n                    // Then, we should write first char of the sequence as-is and try the rest recursively.\n                    // Didn't do it for now because no encoding has this situation yet.\n                    // Currently, just skip the sequence and write current char.\n                }\n            }\n            seqObj = undefined;\n        }\n        else if (uCode >= 0) {  // Regular character\n            var subtable = this.encodeTable[uCode >> 8];\n            if (subtable !== undefined)\n                dbcsCode = subtable[uCode & 0xFF];\n            \n            if (dbcsCode <= SEQ_START) { // Sequence start\n                seqObj = this.encodeTableSeq[SEQ_START-dbcsCode];\n                continue;\n            }\n\n            if (dbcsCode == UNASSIGNED && this.gb18030) {\n                // Use GB18030 algorithm to find character(s) to write.\n                var idx = findIdx(this.gb18030.uChars, uCode);\n                if (idx != -1) {\n                    var dbcsCode = this.gb18030.gbChars[idx] + (uCode - this.gb18030.uChars[idx]);\n                    newBuf[j++] = 0x81 + Math.floor(dbcsCode / 12600); dbcsCode = dbcsCode % 12600;\n                    newBuf[j++] = 0x30 + Math.floor(dbcsCode / 1260); dbcsCode = dbcsCode % 1260;\n                    newBuf[j++] = 0x81 + Math.floor(dbcsCode / 10); dbcsCode = dbcsCode % 10;\n                    newBuf[j++] = 0x30 + dbcsCode;\n                    continue;\n                }\n            }\n        }\n\n        // 3. Write dbcsCode character.\n        if (dbcsCode === UNASSIGNED)\n            dbcsCode = this.defaultCharSingleByte;\n        \n        if (dbcsCode < 0x100) {\n            newBuf[j++] = dbcsCode;\n        }\n        else if (dbcsCode < 0x10000) {\n            newBuf[j++] = dbcsCode >> 8;   // high byte\n            newBuf[j++] = dbcsCode & 0xFF; // low byte\n        }\n        else {\n            newBuf[j++] = dbcsCode >> 16;\n            newBuf[j++] = (dbcsCode >> 8) & 0xFF;\n            newBuf[j++] = dbcsCode & 0xFF;\n        }\n    }\n\n    this.seqObj = seqObj;\n    this.leadSurrogate = leadSurrogate;\n    return newBuf.slice(0, j);\n}\n\nDBCSEncoder.prototype.end = function() {\n    if (this.leadSurrogate === -1 && this.seqObj === undefined)\n        return; // All clean. Most often case.\n\n    var newBuf = Buffer.alloc(10), j = 0;\n\n    if (this.seqObj) { // We're in the sequence.\n        var dbcsCode = this.seqObj[DEF_CHAR];\n        if (dbcsCode !== undefined) { // Write beginning of the sequence.\n            if (dbcsCode < 0x100) {\n                newBuf[j++] = dbcsCode;\n            }\n            else {\n                newBuf[j++] = dbcsCode >> 8;   // high byte\n                newBuf[j++] = dbcsCode & 0xFF; // low byte\n            }\n        } else {\n            // See todo above.\n        }\n        this.seqObj = undefined;\n    }\n\n    if (this.leadSurrogate !== -1) {\n        // Incomplete surrogate pair - only lead surrogate found.\n        newBuf[j++] = this.defaultCharSingleByte;\n        this.leadSurrogate = -1;\n    }\n    \n    return newBuf.slice(0, j);\n}\n\n// Export for testing\nDBCSEncoder.prototype.findIdx = findIdx;\n\n\n// == Decoder ==================================================================\n\nfunction DBCSDecoder(options, codec) {\n    // Decoder state\n    this.nodeIdx = 0;\n    this.prevBuf = Buffer.alloc(0);\n\n    // Static data\n    this.decodeTables = codec.decodeTables;\n    this.decodeTableSeq = codec.decodeTableSeq;\n    this.defaultCharUnicode = codec.defaultCharUnicode;\n    this.gb18030 = codec.gb18030;\n}\n\nDBCSDecoder.prototype.write = function(buf) {\n    var newBuf = Buffer.alloc(buf.length*2),\n        nodeIdx = this.nodeIdx, \n        prevBuf = this.prevBuf, prevBufOffset = this.prevBuf.length,\n        seqStart = -this.prevBuf.length, // idx of the start of current parsed sequence.\n        uCode;\n\n    if (prevBufOffset > 0) // Make prev buf overlap a little to make it easier to slice later.\n        prevBuf = Buffer.concat([prevBuf, buf.slice(0, 10)]);\n    \n    for (var i = 0, j = 0; i < buf.length; i++) {\n        var curByte = (i >= 0) ? buf[i] : prevBuf[i + prevBufOffset];\n\n        // Lookup in current trie node.\n        var uCode = this.decodeTables[nodeIdx][curByte];\n\n        if (uCode >= 0) { \n            // Normal character, just use it.\n        }\n        else if (uCode === UNASSIGNED) { // Unknown char.\n            // TODO: Callback with seq.\n            //var curSeq = (seqStart >= 0) ? buf.slice(seqStart, i+1) : prevBuf.slice(seqStart + prevBufOffset, i+1 + prevBufOffset);\n            i = seqStart; // Try to parse again, after skipping first byte of the sequence ('i' will be incremented by 'for' cycle).\n            uCode = this.defaultCharUnicode.charCodeAt(0);\n        }\n        else if (uCode === GB18030_CODE) {\n            var curSeq = (seqStart >= 0) ? buf.slice(seqStart, i+1) : prevBuf.slice(seqStart + prevBufOffset, i+1 + prevBufOffset);\n            var ptr = (curSeq[0]-0x81)*12600 + (curSeq[1]-0x30)*1260 + (curSeq[2]-0x81)*10 + (curSeq[3]-0x30);\n            var idx = findIdx(this.gb18030.gbChars, ptr);\n            uCode = this.gb18030.uChars[idx] + ptr - this.gb18030.gbChars[idx];\n        }\n        else if (uCode <= NODE_START) { // Go to next trie node.\n            nodeIdx = NODE_START - uCode;\n            continue;\n        }\n        else if (uCode <= SEQ_START) { // Output a sequence of chars.\n            var seq = this.decodeTableSeq[SEQ_START - uCode];\n            for (var k = 0; k < seq.length - 1; k++) {\n                uCode = seq[k];\n                newBuf[j++] = uCode & 0xFF;\n                newBuf[j++] = uCode >> 8;\n            }\n            uCode = seq[seq.length-1];\n        }\n        else\n            throw new Error(\"iconv-lite internal error: invalid decoding table value \" + uCode + \" at \" + nodeIdx + \"/\" + curByte);\n\n        // Write the character to buffer, handling higher planes using surrogate pair.\n        if (uCode > 0xFFFF) { \n            uCode -= 0x10000;\n            var uCodeLead = 0xD800 + Math.floor(uCode / 0x400);\n            newBuf[j++] = uCodeLead & 0xFF;\n            newBuf[j++] = uCodeLead >> 8;\n\n            uCode = 0xDC00 + uCode % 0x400;\n        }\n        newBuf[j++] = uCode & 0xFF;\n        newBuf[j++] = uCode >> 8;\n\n        // Reset trie node.\n        nodeIdx = 0; seqStart = i+1;\n    }\n\n    this.nodeIdx = nodeIdx;\n    this.prevBuf = (seqStart >= 0) ? buf.slice(seqStart) : prevBuf.slice(seqStart + prevBufOffset);\n    return newBuf.slice(0, j).toString('ucs2');\n}\n\nDBCSDecoder.prototype.end = function() {\n    var ret = '';\n\n    // Try to parse all remaining chars.\n    while (this.prevBuf.length > 0) {\n        // Skip 1 character in the buffer.\n        ret += this.defaultCharUnicode;\n        var buf = this.prevBuf.slice(1);\n\n        // Parse remaining as usual.\n        this.prevBuf = Buffer.alloc(0);\n        this.nodeIdx = 0;\n        if (buf.length > 0)\n            ret += this.write(buf);\n    }\n\n    this.nodeIdx = 0;\n    return ret;\n}\n\n// Binary search for GB18030. Returns largest i such that table[i] <= val.\nfunction findIdx(table, val) {\n    if (table[0] > val)\n        return -1;\n\n    var l = 0, r = table.length;\n    while (l < r-1) { // always table[l] <= val < table[r]\n        var mid = l + Math.floor((r-l+1)/2);\n        if (table[mid] <= val)\n            l = mid;\n        else\n            r = mid;\n    }\n    return l;\n}\n\n","\"use strict\";\n\n// Description of supported double byte encodings and aliases.\n// Tables are not require()-d until they are needed to speed up library load.\n// require()-s are direct to support Browserify.\n\nmodule.exports = {\n    \n    // == Japanese/ShiftJIS ====================================================\n    // All japanese encodings are based on JIS X set of standards:\n    // JIS X 0201 - Single-byte encoding of ASCII +  + Kana chars at 0xA1-0xDF.\n    // JIS X 0208 - Main set of 6879 characters, placed in 94x94 plane, to be encoded by 2 bytes. \n    //              Has several variations in 1978, 1983, 1990 and 1997.\n    // JIS X 0212 - Supplementary plane of 6067 chars in 94x94 plane. 1990. Effectively dead.\n    // JIS X 0213 - Extension and modern replacement of 0208 and 0212. Total chars: 11233.\n    //              2 planes, first is superset of 0208, second - revised 0212.\n    //              Introduced in 2000, revised 2004. Some characters are in Unicode Plane 2 (0x2xxxx)\n\n    // Byte encodings are:\n    //  * Shift_JIS: Compatible with 0201, uses not defined chars in top half as lead bytes for double-byte\n    //               encoding of 0208. Lead byte ranges: 0x81-0x9F, 0xE0-0xEF; Trail byte ranges: 0x40-0x7E, 0x80-0x9E, 0x9F-0xFC.\n    //               Windows CP932 is a superset of Shift_JIS. Some companies added more chars, notably KDDI.\n    //  * EUC-JP:    Up to 3 bytes per character. Used mostly on *nixes.\n    //               0x00-0x7F       - lower part of 0201\n    //               0x8E, 0xA1-0xDF - upper part of 0201\n    //               (0xA1-0xFE)x2   - 0208 plane (94x94).\n    //               0x8F, (0xA1-0xFE)x2 - 0212 plane (94x94).\n    //  * JIS X 208: 7-bit, direct encoding of 0208. Byte ranges: 0x21-0x7E (94 values). Uncommon.\n    //               Used as-is in ISO2022 family.\n    //  * ISO2022-JP: Stateful encoding, with escape sequences to switch between ASCII, \n    //                0201-1976 Roman, 0208-1978, 0208-1983.\n    //  * ISO2022-JP-1: Adds esc seq for 0212-1990.\n    //  * ISO2022-JP-2: Adds esc seq for GB2313-1980, KSX1001-1992, ISO8859-1, ISO8859-7.\n    //  * ISO2022-JP-3: Adds esc seq for 0201-1976 Kana set, 0213-2000 Planes 1, 2.\n    //  * ISO2022-JP-2004: Adds 0213-2004 Plane 1.\n    //\n    // After JIS X 0213 appeared, Shift_JIS-2004, EUC-JISX0213 and ISO2022-JP-2004 followed, with just changing the planes.\n    //\n    // Overall, it seems that it's a mess :( http://www8.plala.or.jp/tkubota1/unicode-symbols-map2.html\n\n    'shiftjis': {\n        type: '_dbcs',\n        table: function() { return require('./tables/shiftjis.json') },\n        encodeAdd: {'\\u00a5': 0x5C, '\\u203E': 0x7E},\n        encodeSkipVals: [{from: 0xED40, to: 0xF940}],\n    },\n    'csshiftjis': 'shiftjis',\n    'mskanji': 'shiftjis',\n    'sjis': 'shiftjis',\n    'windows31j': 'shiftjis',\n    'ms31j': 'shiftjis',\n    'xsjis': 'shiftjis',\n    'windows932': 'shiftjis',\n    'ms932': 'shiftjis',\n    '932': 'shiftjis',\n    'cp932': 'shiftjis',\n\n    'eucjp': {\n        type: '_dbcs',\n        table: function() { return require('./tables/eucjp.json') },\n        encodeAdd: {'\\u00a5': 0x5C, '\\u203E': 0x7E},\n    },\n\n    // TODO: KDDI extension to Shift_JIS\n    // TODO: IBM CCSID 942 = CP932, but F0-F9 custom chars and other char changes.\n    // TODO: IBM CCSID 943 = Shift_JIS = CP932 with original Shift_JIS lower 128 chars.\n\n\n    // == Chinese/GBK ==========================================================\n    // http://en.wikipedia.org/wiki/GBK\n    // We mostly implement W3C recommendation: https://www.w3.org/TR/encoding/#gbk-encoder\n\n    // Oldest GB2312 (1981, ~7600 chars) is a subset of CP936\n    'gb2312': 'cp936',\n    'gb231280': 'cp936',\n    'gb23121980': 'cp936',\n    'csgb2312': 'cp936',\n    'csiso58gb231280': 'cp936',\n    'euccn': 'cp936',\n\n    // Microsoft's CP936 is a subset and approximation of GBK.\n    'windows936': 'cp936',\n    'ms936': 'cp936',\n    '936': 'cp936',\n    'cp936': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json') },\n    },\n\n    // GBK (~22000 chars) is an extension of CP936 that added user-mapped chars and some other.\n    'gbk': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json').concat(require('./tables/gbk-added.json')) },\n    },\n    'xgbk': 'gbk',\n    'isoir58': 'gbk',\n\n    // GB18030 is an algorithmic extension of GBK.\n    // Main source: https://www.w3.org/TR/encoding/#gbk-encoder\n    // http://icu-project.org/docs/papers/gb18030.html\n    // http://source.icu-project.org/repos/icu/data/trunk/charset/data/xml/gb-18030-2000.xml\n    // http://www.khngai.com/chinese/charmap/tblgbk.php?page=0\n    'gb18030': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json').concat(require('./tables/gbk-added.json')) },\n        gb18030: function() { return require('./tables/gb18030-ranges.json') },\n        encodeSkipVals: [0x80],\n        encodeAdd: {'': 0xA2E3},\n    },\n\n    'chinese': 'gb18030',\n\n\n    // == Korean ===============================================================\n    // EUC-KR, KS_C_5601 and KS X 1001 are exactly the same.\n    'windows949': 'cp949',\n    'ms949': 'cp949',\n    '949': 'cp949',\n    'cp949': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp949.json') },\n    },\n\n    'cseuckr': 'cp949',\n    'csksc56011987': 'cp949',\n    'euckr': 'cp949',\n    'isoir149': 'cp949',\n    'korean': 'cp949',\n    'ksc56011987': 'cp949',\n    'ksc56011989': 'cp949',\n    'ksc5601': 'cp949',\n\n\n    // == Big5/Taiwan/Hong Kong ================================================\n    // There are lots of tables for Big5 and cp950. Please see the following links for history:\n    // http://moztw.org/docs/big5/  http://www.haible.de/bruno/charsets/conversion-tables/Big5.html\n    // Variations, in roughly number of defined chars:\n    //  * Windows CP 950: Microsoft variant of Big5. Canonical: http://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WINDOWS/CP950.TXT\n    //  * Windows CP 951: Microsoft variant of Big5-HKSCS-2001. Seems to be never public. http://me.abelcheung.org/articles/research/what-is-cp951/\n    //  * Big5-2003 (Taiwan standard) almost superset of cp950.\n    //  * Unicode-at-on (UAO) / Mozilla 1.8. Falling out of use on the Web. Not supported by other browsers.\n    //  * Big5-HKSCS (-2001, -2004, -2008). Hong Kong standard. \n    //    many unicode code points moved from PUA to Supplementary plane (U+2XXXX) over the years.\n    //    Plus, it has 4 combining sequences.\n    //    Seems that Mozilla refused to support it for 10 yrs. https://bugzilla.mozilla.org/show_bug.cgi?id=162431 https://bugzilla.mozilla.org/show_bug.cgi?id=310299\n    //    because big5-hkscs is the only encoding to include astral characters in non-algorithmic way.\n    //    Implementations are not consistent within browsers; sometimes labeled as just big5.\n    //    MS Internet Explorer switches from big5 to big5-hkscs when a patch applied.\n    //    Great discussion & recap of what's going on https://bugzilla.mozilla.org/show_bug.cgi?id=912470#c31\n    //    In the encoder, it might make sense to support encoding old PUA mappings to Big5 bytes seq-s.\n    //    Official spec: http://www.ogcio.gov.hk/en/business/tech_promotion/ccli/terms/doc/2003cmp_2008.txt\n    //                   http://www.ogcio.gov.hk/tc/business/tech_promotion/ccli/terms/doc/hkscs-2008-big5-iso.txt\n    // \n    // Current understanding of how to deal with Big5(-HKSCS) is in the Encoding Standard, http://encoding.spec.whatwg.org/#big5-encoder\n    // Unicode mapping (http://www.unicode.org/Public/MAPPINGS/OBSOLETE/EASTASIA/OTHER/BIG5.TXT) is said to be wrong.\n\n    'windows950': 'cp950',\n    'ms950': 'cp950',\n    '950': 'cp950',\n    'cp950': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp950.json') },\n    },\n\n    // Big5 has many variations and is an extension of cp950. We use Encoding Standard's as a consensus.\n    'big5': 'big5hkscs',\n    'big5hkscs': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp950.json').concat(require('./tables/big5-added.json')) },\n        encodeSkipVals: [0xa2cc],\n    },\n\n    'cnbig5': 'big5hkscs',\n    'csbig5': 'big5hkscs',\n    'xxbig5': 'big5hkscs',\n};\n","\"use strict\";\n\n// Update this array if you add/rename/remove files in this directory.\n// We support Browserify by skipping automatic module discovery and requiring modules directly.\nvar modules = [\n    require(\"./internal\"),\n    require(\"./utf16\"),\n    require(\"./utf7\"),\n    require(\"./sbcs-codec\"),\n    require(\"./sbcs-data\"),\n    require(\"./sbcs-data-generated\"),\n    require(\"./dbcs-codec\"),\n    require(\"./dbcs-data\"),\n];\n\n// Put all encoding/alias/codec definitions to single object and export it. \nfor (var i = 0; i < modules.length; i++) {\n    var module = modules[i];\n    for (var enc in module)\n        if (Object.prototype.hasOwnProperty.call(module, enc))\n            exports[enc] = module[enc];\n}\n","\"use strict\";\n\nvar Buffer = require(\"buffer\").Buffer,\n    Transform = require(\"stream\").Transform;\n\n\n// == Exports ==================================================================\nmodule.exports = function(iconv) {\n    \n    // Additional Public API.\n    iconv.encodeStream = function encodeStream(encoding, options) {\n        return new IconvLiteEncoderStream(iconv.getEncoder(encoding, options), options);\n    }\n\n    iconv.decodeStream = function decodeStream(encoding, options) {\n        return new IconvLiteDecoderStream(iconv.getDecoder(encoding, options), options);\n    }\n\n    iconv.supportsStreams = true;\n\n\n    // Not published yet.\n    iconv.IconvLiteEncoderStream = IconvLiteEncoderStream;\n    iconv.IconvLiteDecoderStream = IconvLiteDecoderStream;\n    iconv._collect = IconvLiteDecoderStream.prototype.collect;\n};\n\n\n// == Encoder stream =======================================================\nfunction IconvLiteEncoderStream(conv, options) {\n    this.conv = conv;\n    options = options || {};\n    options.decodeStrings = false; // We accept only strings, so we don't need to decode them.\n    Transform.call(this, options);\n}\n\nIconvLiteEncoderStream.prototype = Object.create(Transform.prototype, {\n    constructor: { value: IconvLiteEncoderStream }\n});\n\nIconvLiteEncoderStream.prototype._transform = function(chunk, encoding, done) {\n    if (typeof chunk != 'string')\n        return done(new Error(\"Iconv encoding stream needs strings as its input.\"));\n    try {\n        var res = this.conv.write(chunk);\n        if (res && res.length) this.push(res);\n        done();\n    }\n    catch (e) {\n        done(e);\n    }\n}\n\nIconvLiteEncoderStream.prototype._flush = function(done) {\n    try {\n        var res = this.conv.end();\n        if (res && res.length) this.push(res);\n        done();\n    }\n    catch (e) {\n        done(e);\n    }\n}\n\nIconvLiteEncoderStream.prototype.collect = function(cb) {\n    var chunks = [];\n    this.on('error', cb);\n    this.on('data', function(chunk) { chunks.push(chunk); });\n    this.on('end', function() {\n        cb(null, Buffer.concat(chunks));\n    });\n    return this;\n}\n\n\n// == Decoder stream =======================================================\nfunction IconvLiteDecoderStream(conv, options) {\n    this.conv = conv;\n    options = options || {};\n    options.encoding = this.encoding = 'utf8'; // We output strings.\n    Transform.call(this, options);\n}\n\nIconvLiteDecoderStream.prototype = Object.create(Transform.prototype, {\n    constructor: { value: IconvLiteDecoderStream }\n});\n\nIconvLiteDecoderStream.prototype._transform = function(chunk, encoding, done) {\n    if (!Buffer.isBuffer(chunk))\n        return done(new Error(\"Iconv decoding stream needs buffers as its input.\"));\n    try {\n        var res = this.conv.write(chunk);\n        if (res && res.length) this.push(res, this.encoding);\n        done();\n    }\n    catch (e) {\n        done(e);\n    }\n}\n\nIconvLiteDecoderStream.prototype._flush = function(done) {\n    try {\n        var res = this.conv.end();\n        if (res && res.length) this.push(res, this.encoding);                \n        done();\n    }\n    catch (e) {\n        done(e);\n    }\n}\n\nIconvLiteDecoderStream.prototype.collect = function(cb) {\n    var res = '';\n    this.on('error', cb);\n    this.on('data', function(chunk) { res += chunk; });\n    this.on('end', function() {\n        cb(null, res);\n    });\n    return this;\n}\n\n","\"use strict\";\nvar Buffer = require(\"buffer\").Buffer;\n// Note: not polyfilled with safer-buffer on a purpose, as overrides Buffer\n\n// == Extend Node primitives to use iconv-lite =================================\n\nmodule.exports = function (iconv) {\n    var original = undefined; // Place to keep original methods.\n\n    // Node authors rewrote Buffer internals to make it compatible with\n    // Uint8Array and we cannot patch key functions since then.\n    // Note: this does use older Buffer API on a purpose\n    iconv.supportsNodeEncodingsExtension = !(Buffer.from || new Buffer(0) instanceof Uint8Array);\n\n    iconv.extendNodeEncodings = function extendNodeEncodings() {\n        if (original) return;\n        original = {};\n\n        if (!iconv.supportsNodeEncodingsExtension) {\n            console.error(\"ACTION NEEDED: require('iconv-lite').extendNodeEncodings() is not supported in your version of Node\");\n            console.error(\"See more info at https://github.com/ashtuchkin/iconv-lite/wiki/Node-v4-compatibility\");\n            return;\n        }\n\n        var nodeNativeEncodings = {\n            'hex': true, 'utf8': true, 'utf-8': true, 'ascii': true, 'binary': true, \n            'base64': true, 'ucs2': true, 'ucs-2': true, 'utf16le': true, 'utf-16le': true,\n        };\n\n        Buffer.isNativeEncoding = function(enc) {\n            return enc && nodeNativeEncodings[enc.toLowerCase()];\n        }\n\n        // -- SlowBuffer -----------------------------------------------------------\n        var SlowBuffer = require('buffer').SlowBuffer;\n\n        original.SlowBufferToString = SlowBuffer.prototype.toString;\n        SlowBuffer.prototype.toString = function(encoding, start, end) {\n            encoding = String(encoding || 'utf8').toLowerCase();\n\n            // Use native conversion when possible\n            if (Buffer.isNativeEncoding(encoding))\n                return original.SlowBufferToString.call(this, encoding, start, end);\n\n            // Otherwise, use our decoding method.\n            if (typeof start == 'undefined') start = 0;\n            if (typeof end == 'undefined') end = this.length;\n            return iconv.decode(this.slice(start, end), encoding);\n        }\n\n        original.SlowBufferWrite = SlowBuffer.prototype.write;\n        SlowBuffer.prototype.write = function(string, offset, length, encoding) {\n            // Support both (string, offset, length, encoding)\n            // and the legacy (string, encoding, offset, length)\n            if (isFinite(offset)) {\n                if (!isFinite(length)) {\n                    encoding = length;\n                    length = undefined;\n                }\n            } else {  // legacy\n                var swap = encoding;\n                encoding = offset;\n                offset = length;\n                length = swap;\n            }\n\n            offset = +offset || 0;\n            var remaining = this.length - offset;\n            if (!length) {\n                length = remaining;\n            } else {\n                length = +length;\n                if (length > remaining) {\n                    length = remaining;\n                }\n            }\n            encoding = String(encoding || 'utf8').toLowerCase();\n\n            // Use native conversion when possible\n            if (Buffer.isNativeEncoding(encoding))\n                return original.SlowBufferWrite.call(this, string, offset, length, encoding);\n\n            if (string.length > 0 && (length < 0 || offset < 0))\n                throw new RangeError('attempt to write beyond buffer bounds');\n\n            // Otherwise, use our encoding method.\n            var buf = iconv.encode(string, encoding);\n            if (buf.length < length) length = buf.length;\n            buf.copy(this, offset, 0, length);\n            return length;\n        }\n\n        // -- Buffer ---------------------------------------------------------------\n\n        original.BufferIsEncoding = Buffer.isEncoding;\n        Buffer.isEncoding = function(encoding) {\n            return Buffer.isNativeEncoding(encoding) || iconv.encodingExists(encoding);\n        }\n\n        original.BufferByteLength = Buffer.byteLength;\n        Buffer.byteLength = SlowBuffer.byteLength = function(str, encoding) {\n            encoding = String(encoding || 'utf8').toLowerCase();\n\n            // Use native conversion when possible\n            if (Buffer.isNativeEncoding(encoding))\n                return original.BufferByteLength.call(this, str, encoding);\n\n            // Slow, I know, but we don't have a better way yet.\n            return iconv.encode(str, encoding).length;\n        }\n\n        original.BufferToString = Buffer.prototype.toString;\n        Buffer.prototype.toString = function(encoding, start, end) {\n            encoding = String(encoding || 'utf8').toLowerCase();\n\n            // Use native conversion when possible\n            if (Buffer.isNativeEncoding(encoding))\n                return original.BufferToString.call(this, encoding, start, end);\n\n            // Otherwise, use our decoding method.\n            if (typeof start == 'undefined') start = 0;\n            if (typeof end == 'undefined') end = this.length;\n            return iconv.decode(this.slice(start, end), encoding);\n        }\n\n        original.BufferWrite = Buffer.prototype.write;\n        Buffer.prototype.write = function(string, offset, length, encoding) {\n            var _offset = offset, _length = length, _encoding = encoding;\n            // Support both (string, offset, length, encoding)\n            // and the legacy (string, encoding, offset, length)\n            if (isFinite(offset)) {\n                if (!isFinite(length)) {\n                    encoding = length;\n                    length = undefined;\n                }\n            } else {  // legacy\n                var swap = encoding;\n                encoding = offset;\n                offset = length;\n                length = swap;\n            }\n\n            encoding = String(encoding || 'utf8').toLowerCase();\n\n            // Use native conversion when possible\n            if (Buffer.isNativeEncoding(encoding))\n                return original.BufferWrite.call(this, string, _offset, _length, _encoding);\n\n            offset = +offset || 0;\n            var remaining = this.length - offset;\n            if (!length) {\n                length = remaining;\n            } else {\n                length = +length;\n                if (length > remaining) {\n                    length = remaining;\n                }\n            }\n\n            if (string.length > 0 && (length < 0 || offset < 0))\n                throw new RangeError('attempt to write beyond buffer bounds');\n\n            // Otherwise, use our encoding method.\n            var buf = iconv.encode(string, encoding);\n            if (buf.length < length) length = buf.length;\n            buf.copy(this, offset, 0, length);\n            return length;\n\n            // TODO: Set _charsWritten.\n        }\n\n\n        // -- Readable -------------------------------------------------------------\n        if (iconv.supportsStreams) {\n            var Readable = require('stream').Readable;\n\n            original.ReadableSetEncoding = Readable.prototype.setEncoding;\n            Readable.prototype.setEncoding = function setEncoding(enc, options) {\n                // Use our own decoder, it has the same interface.\n                // We cannot use original function as it doesn't handle BOM-s.\n                this._readableState.decoder = iconv.getDecoder(enc, options);\n                this._readableState.encoding = enc;\n            }\n\n            Readable.prototype.collect = iconv._collect;\n        }\n    }\n\n    // Remove iconv-lite Node primitive extensions.\n    iconv.undoExtendNodeEncodings = function undoExtendNodeEncodings() {\n        if (!iconv.supportsNodeEncodingsExtension)\n            return;\n        if (!original)\n            throw new Error(\"require('iconv-lite').undoExtendNodeEncodings(): Nothing to undo; extendNodeEncodings() is not called.\")\n\n        delete Buffer.isNativeEncoding;\n\n        var SlowBuffer = require('buffer').SlowBuffer;\n\n        SlowBuffer.prototype.toString = original.SlowBufferToString;\n        SlowBuffer.prototype.write = original.SlowBufferWrite;\n\n        Buffer.isEncoding = original.BufferIsEncoding;\n        Buffer.byteLength = original.BufferByteLength;\n        Buffer.prototype.toString = original.BufferToString;\n        Buffer.prototype.write = original.BufferWrite;\n\n        if (iconv.supportsStreams) {\n            var Readable = require('stream').Readable;\n\n            Readable.prototype.setEncoding = original.ReadableSetEncoding;\n            delete Readable.prototype.collect;\n        }\n\n        original = undefined;\n    }\n}\n","\"use strict\";\n\n// Some environments don't have global Buffer (e.g. React Native).\n// Solution would be installing npm modules \"buffer\" and \"stream\" explicitly.\nvar Buffer = require(\"safer-buffer\").Buffer;\n\nvar bomHandling = require(\"./bom-handling\"),\n    iconv = module.exports;\n\n// All codecs and aliases are kept here, keyed by encoding name/alias.\n// They are lazy loaded in `iconv.getCodec` from `encodings/index.js`.\niconv.encodings = null;\n\n// Characters emitted in case of error.\niconv.defaultCharUnicode = '';\niconv.defaultCharSingleByte = '?';\n\n// Public API.\niconv.encode = function encode(str, encoding, options) {\n    str = \"\" + (str || \"\"); // Ensure string.\n\n    var encoder = iconv.getEncoder(encoding, options);\n\n    var res = encoder.write(str);\n    var trail = encoder.end();\n    \n    return (trail && trail.length > 0) ? Buffer.concat([res, trail]) : res;\n}\n\niconv.decode = function decode(buf, encoding, options) {\n    if (typeof buf === 'string') {\n        if (!iconv.skipDecodeWarning) {\n            console.error('Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding');\n            iconv.skipDecodeWarning = true;\n        }\n\n        buf = Buffer.from(\"\" + (buf || \"\"), \"binary\"); // Ensure buffer.\n    }\n\n    var decoder = iconv.getDecoder(encoding, options);\n\n    var res = decoder.write(buf);\n    var trail = decoder.end();\n\n    return trail ? (res + trail) : res;\n}\n\niconv.encodingExists = function encodingExists(enc) {\n    try {\n        iconv.getCodec(enc);\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\n\n// Legacy aliases to convert functions\niconv.toEncoding = iconv.encode;\niconv.fromEncoding = iconv.decode;\n\n// Search for a codec in iconv.encodings. Cache codec data in iconv._codecDataCache.\niconv._codecDataCache = {};\niconv.getCodec = function getCodec(encoding) {\n    if (!iconv.encodings)\n        iconv.encodings = require(\"../encodings\"); // Lazy load all encoding definitions.\n    \n    // Canonicalize encoding name: strip all non-alphanumeric chars and appended year.\n    var enc = iconv._canonicalizeEncoding(encoding);\n\n    // Traverse iconv.encodings to find actual codec.\n    var codecOptions = {};\n    while (true) {\n        var codec = iconv._codecDataCache[enc];\n        if (codec)\n            return codec;\n\n        var codecDef = iconv.encodings[enc];\n\n        switch (typeof codecDef) {\n            case \"string\": // Direct alias to other encoding.\n                enc = codecDef;\n                break;\n\n            case \"object\": // Alias with options. Can be layered.\n                for (var key in codecDef)\n                    codecOptions[key] = codecDef[key];\n\n                if (!codecOptions.encodingName)\n                    codecOptions.encodingName = enc;\n                \n                enc = codecDef.type;\n                break;\n\n            case \"function\": // Codec itself.\n                if (!codecOptions.encodingName)\n                    codecOptions.encodingName = enc;\n\n                // The codec function must load all tables and return object with .encoder and .decoder methods.\n                // It'll be called only once (for each different options object).\n                codec = new codecDef(codecOptions, iconv);\n\n                iconv._codecDataCache[codecOptions.encodingName] = codec; // Save it to be reused later.\n                return codec;\n\n            default:\n                throw new Error(\"Encoding not recognized: '\" + encoding + \"' (searched as: '\"+enc+\"')\");\n        }\n    }\n}\n\niconv._canonicalizeEncoding = function(encoding) {\n    // Canonicalize encoding name: strip all non-alphanumeric chars and appended year.\n    return (''+encoding).toLowerCase().replace(/:\\d{4}$|[^0-9a-z]/g, \"\");\n}\n\niconv.getEncoder = function getEncoder(encoding, options) {\n    var codec = iconv.getCodec(encoding),\n        encoder = new codec.encoder(options, codec);\n\n    if (codec.bomAware && options && options.addBOM)\n        encoder = new bomHandling.PrependBOM(encoder, options);\n\n    return encoder;\n}\n\niconv.getDecoder = function getDecoder(encoding, options) {\n    var codec = iconv.getCodec(encoding),\n        decoder = new codec.decoder(options, codec);\n\n    if (codec.bomAware && !(options && options.stripBOM === false))\n        decoder = new bomHandling.StripBOM(decoder, options);\n\n    return decoder;\n}\n\n\n// Load extensions in Node. All of them are omitted in Browserify build via 'browser' field in package.json.\nvar nodeVer = typeof process !== 'undefined' && process.versions && process.versions.node;\nif (nodeVer) {\n\n    // Load streaming support in Node v0.10+\n    var nodeVerArr = nodeVer.split(\".\").map(Number);\n    if (nodeVerArr[0] > 0 || nodeVerArr[1] >= 10) {\n        require(\"./streams\")(iconv);\n    }\n\n    // Load Node primitive extensions.\n    require(\"./extend-node\")(iconv);\n}\n\nif (\"\" != \"\\u0100\") {\n    console.error(\"iconv-lite warning: javascript files use encoding different from utf-8. See https://github.com/ashtuchkin/iconv-lite/wiki/Javascript-source-file-encodings for more info.\");\n}\n","/*!\n * unpipe\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = unpipe\n\n/**\n * Determine if there are Node.js pipe-like data listeners.\n * @private\n */\n\nfunction hasPipeDataListeners(stream) {\n  var listeners = stream.listeners('data')\n\n  for (var i = 0; i < listeners.length; i++) {\n    if (listeners[i].name === 'ondata') {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * Unpipe a stream from all destinations.\n *\n * @param {object} stream\n * @public\n */\n\nfunction unpipe(stream) {\n  if (!stream) {\n    throw new TypeError('argument stream is required')\n  }\n\n  if (typeof stream.unpipe === 'function') {\n    // new-style\n    stream.unpipe()\n    return\n  }\n\n  // Node.js 0.8 hack\n  if (!hasPipeDataListeners(stream)) {\n    return\n  }\n\n  var listener\n  var listeners = stream.listeners('close')\n\n  for (var i = 0; i < listeners.length; i++) {\n    listener = listeners[i]\n\n    if (listener.name !== 'cleanup' && listener.name !== 'onclose') {\n      continue\n    }\n\n    // invoke the listener\n    listener.call(stream)\n  }\n}\n","/*!\n * raw-body\n * Copyright(c) 2013-2014 Jonathan Ong\n * Copyright(c) 2014-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar asyncHooks = tryRequireAsyncHooks()\nvar bytes = require('bytes')\nvar createError = require('http-errors')\nvar iconv = require('iconv-lite')\nvar unpipe = require('unpipe')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = getRawBody\n\n/**\n * Module variables.\n * @private\n */\n\nvar ICONV_ENCODING_MESSAGE_REGEXP = /^Encoding not recognized: /\n\n/**\n * Get the decoder for a given encoding.\n *\n * @param {string} encoding\n * @private\n */\n\nfunction getDecoder (encoding) {\n  if (!encoding) return null\n\n  try {\n    return iconv.getDecoder(encoding)\n  } catch (e) {\n    // error getting decoder\n    if (!ICONV_ENCODING_MESSAGE_REGEXP.test(e.message)) throw e\n\n    // the encoding was not found\n    throw createError(415, 'specified encoding unsupported', {\n      encoding: encoding,\n      type: 'encoding.unsupported'\n    })\n  }\n}\n\n/**\n * Get the raw body of a stream (typically HTTP).\n *\n * @param {object} stream\n * @param {object|string|function} [options]\n * @param {function} [callback]\n * @public\n */\n\nfunction getRawBody (stream, options, callback) {\n  var done = callback\n  var opts = options || {}\n\n  if (options === true || typeof options === 'string') {\n    // short cut for encoding\n    opts = {\n      encoding: options\n    }\n  }\n\n  if (typeof options === 'function') {\n    done = options\n    opts = {}\n  }\n\n  // validate callback is a function, if provided\n  if (done !== undefined && typeof done !== 'function') {\n    throw new TypeError('argument callback must be a function')\n  }\n\n  // require the callback without promises\n  if (!done && !global.Promise) {\n    throw new TypeError('argument callback is required')\n  }\n\n  // get encoding\n  var encoding = opts.encoding !== true\n    ? opts.encoding\n    : 'utf-8'\n\n  // convert the limit to an integer\n  var limit = bytes.parse(opts.limit)\n\n  // convert the expected length to an integer\n  var length = opts.length != null && !isNaN(opts.length)\n    ? parseInt(opts.length, 10)\n    : null\n\n  if (done) {\n    // classic callback style\n    return readStream(stream, encoding, length, limit, wrap(done))\n  }\n\n  return new Promise(function executor (resolve, reject) {\n    readStream(stream, encoding, length, limit, function onRead (err, buf) {\n      if (err) return reject(err)\n      resolve(buf)\n    })\n  })\n}\n\n/**\n * Halt a stream.\n *\n * @param {Object} stream\n * @private\n */\n\nfunction halt (stream) {\n  // unpipe everything from the stream\n  unpipe(stream)\n\n  // pause stream\n  if (typeof stream.pause === 'function') {\n    stream.pause()\n  }\n}\n\n/**\n * Read the data from the stream.\n *\n * @param {object} stream\n * @param {string} encoding\n * @param {number} length\n * @param {number} limit\n * @param {function} callback\n * @public\n */\n\nfunction readStream (stream, encoding, length, limit, callback) {\n  var complete = false\n  var sync = true\n\n  // check the length and limit options.\n  // note: we intentionally leave the stream paused,\n  // so users should handle the stream themselves.\n  if (limit !== null && length !== null && length > limit) {\n    return done(createError(413, 'request entity too large', {\n      expected: length,\n      length: length,\n      limit: limit,\n      type: 'entity.too.large'\n    }))\n  }\n\n  // streams1: assert request encoding is buffer.\n  // streams2+: assert the stream encoding is buffer.\n  //   stream._decoder: streams1\n  //   state.encoding: streams2\n  //   state.decoder: streams2, specifically < 0.10.6\n  var state = stream._readableState\n  if (stream._decoder || (state && (state.encoding || state.decoder))) {\n    // developer error\n    return done(createError(500, 'stream encoding should not be set', {\n      type: 'stream.encoding.set'\n    }))\n  }\n\n  if (typeof stream.readable !== 'undefined' && !stream.readable) {\n    return done(createError(500, 'stream is not readable', {\n      type: 'stream.not.readable'\n    }))\n  }\n\n  var received = 0\n  var decoder\n\n  try {\n    decoder = getDecoder(encoding)\n  } catch (err) {\n    return done(err)\n  }\n\n  var buffer = decoder\n    ? ''\n    : []\n\n  // attach listeners\n  stream.on('aborted', onAborted)\n  stream.on('close', cleanup)\n  stream.on('data', onData)\n  stream.on('end', onEnd)\n  stream.on('error', onEnd)\n\n  // mark sync section complete\n  sync = false\n\n  function done () {\n    var args = new Array(arguments.length)\n\n    // copy arguments\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n\n    // mark complete\n    complete = true\n\n    if (sync) {\n      process.nextTick(invokeCallback)\n    } else {\n      invokeCallback()\n    }\n\n    function invokeCallback () {\n      cleanup()\n\n      if (args[0]) {\n        // halt the stream on error\n        halt(stream)\n      }\n\n      callback.apply(null, args)\n    }\n  }\n\n  function onAborted () {\n    if (complete) return\n\n    done(createError(400, 'request aborted', {\n      code: 'ECONNABORTED',\n      expected: length,\n      length: length,\n      received: received,\n      type: 'request.aborted'\n    }))\n  }\n\n  function onData (chunk) {\n    if (complete) return\n\n    received += chunk.length\n\n    if (limit !== null && received > limit) {\n      done(createError(413, 'request entity too large', {\n        limit: limit,\n        received: received,\n        type: 'entity.too.large'\n      }))\n    } else if (decoder) {\n      buffer += decoder.write(chunk)\n    } else {\n      buffer.push(chunk)\n    }\n  }\n\n  function onEnd (err) {\n    if (complete) return\n    if (err) return done(err)\n\n    if (length !== null && received !== length) {\n      done(createError(400, 'request size did not match content length', {\n        expected: length,\n        length: length,\n        received: received,\n        type: 'request.size.invalid'\n      }))\n    } else {\n      var string = decoder\n        ? buffer + (decoder.end() || '')\n        : Buffer.concat(buffer)\n      done(null, string)\n    }\n  }\n\n  function cleanup () {\n    buffer = null\n\n    stream.removeListener('aborted', onAborted)\n    stream.removeListener('data', onData)\n    stream.removeListener('end', onEnd)\n    stream.removeListener('error', onEnd)\n    stream.removeListener('close', cleanup)\n  }\n}\n\n/**\n * Try to require async_hooks\n * @private\n */\n\nfunction tryRequireAsyncHooks () {\n  try {\n    return require('async_hooks')\n  } catch (e) {\n    return {}\n  }\n}\n\n/**\n * Wrap function with async resource, if possible.\n * AsyncResource.bind static method backported.\n * @private\n */\n\nfunction wrap (fn) {\n  var res\n\n  // create anonymous resource\n  if (asyncHooks.AsyncResource) {\n    res = new asyncHooks.AsyncResource(fn.name || 'bound-anonymous-fn')\n  }\n\n  // incompatible node.js\n  if (!res || !res.runInAsyncScope) {\n    return fn\n  }\n\n  // return bound function\n  return res.runInAsyncScope.bind(res, fn, null)\n}\n","/*!\n * body-parser\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar createError = require('http-errors')\nvar destroy = require('destroy')\nvar getBody = require('raw-body')\nvar iconv = require('iconv-lite')\nvar onFinished = require('on-finished')\nvar unpipe = require('unpipe')\nvar zlib = require('zlib')\n\n/**\n * Module exports.\n */\n\nmodule.exports = read\n\n/**\n * Read a request into a buffer and parse.\n *\n * @param {object} req\n * @param {object} res\n * @param {function} next\n * @param {function} parse\n * @param {function} debug\n * @param {object} options\n * @private\n */\n\nfunction read (req, res, next, parse, debug, options) {\n  var length\n  var opts = options\n  var stream\n\n  // flag as parsed\n  req._body = true\n\n  // read options\n  var encoding = opts.encoding !== null\n    ? opts.encoding\n    : null\n  var verify = opts.verify\n\n  try {\n    // get the content stream\n    stream = contentstream(req, debug, opts.inflate)\n    length = stream.length\n    stream.length = undefined\n  } catch (err) {\n    return next(err)\n  }\n\n  // set raw-body options\n  opts.length = length\n  opts.encoding = verify\n    ? null\n    : encoding\n\n  // assert charset is supported\n  if (opts.encoding === null && encoding !== null && !iconv.encodingExists(encoding)) {\n    return next(createError(415, 'unsupported charset \"' + encoding.toUpperCase() + '\"', {\n      charset: encoding.toLowerCase(),\n      type: 'charset.unsupported'\n    }))\n  }\n\n  // read body\n  debug('read body')\n  getBody(stream, opts, function (error, body) {\n    if (error) {\n      var _error\n\n      if (error.type === 'encoding.unsupported') {\n        // echo back charset\n        _error = createError(415, 'unsupported charset \"' + encoding.toUpperCase() + '\"', {\n          charset: encoding.toLowerCase(),\n          type: 'charset.unsupported'\n        })\n      } else {\n        // set status code on error\n        _error = createError(400, error)\n      }\n\n      // unpipe from stream and destroy\n      if (stream !== req) {\n        unpipe(req)\n        destroy(stream, true)\n      }\n\n      // read off entire request\n      dump(req, function onfinished () {\n        next(createError(400, _error))\n      })\n      return\n    }\n\n    // verify\n    if (verify) {\n      try {\n        debug('verify body')\n        verify(req, res, body, encoding)\n      } catch (err) {\n        next(createError(403, err, {\n          body: body,\n          type: err.type || 'entity.verify.failed'\n        }))\n        return\n      }\n    }\n\n    // parse\n    var str = body\n    try {\n      debug('parse body')\n      str = typeof body !== 'string' && encoding !== null\n        ? iconv.decode(body, encoding)\n        : body\n      req.body = parse(str)\n    } catch (err) {\n      next(createError(400, err, {\n        body: str,\n        type: err.type || 'entity.parse.failed'\n      }))\n      return\n    }\n\n    next()\n  })\n}\n\n/**\n * Get the content stream of the request.\n *\n * @param {object} req\n * @param {function} debug\n * @param {boolean} [inflate=true]\n * @return {object}\n * @api private\n */\n\nfunction contentstream (req, debug, inflate) {\n  var encoding = (req.headers['content-encoding'] || 'identity').toLowerCase()\n  var length = req.headers['content-length']\n  var stream\n\n  debug('content-encoding \"%s\"', encoding)\n\n  if (inflate === false && encoding !== 'identity') {\n    throw createError(415, 'content encoding unsupported', {\n      encoding: encoding,\n      type: 'encoding.unsupported'\n    })\n  }\n\n  switch (encoding) {\n    case 'deflate':\n      stream = zlib.createInflate()\n      debug('inflate body')\n      req.pipe(stream)\n      break\n    case 'gzip':\n      stream = zlib.createGunzip()\n      debug('gunzip body')\n      req.pipe(stream)\n      break\n    case 'identity':\n      stream = req\n      stream.length = length\n      break\n    default:\n      throw createError(415, 'unsupported content encoding \"' + encoding + '\"', {\n        encoding: encoding,\n        type: 'encoding.unsupported'\n      })\n  }\n\n  return stream\n}\n\n/**\n * Dump the contents of a request.\n *\n * @param {object} req\n * @param {function} callback\n * @api private\n */\n\nfunction dump (req, callback) {\n  if (onFinished.isFinished(req)) {\n    callback(null)\n  } else {\n    onFinished(req, callback)\n    req.resume()\n  }\n}\n","/*!\n * media-typer\n * Copyright(c) 2014 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * RegExp to match *( \";\" parameter ) in RFC 2616 sec 3.7\n *\n * parameter     = token \"=\" ( token | quoted-string )\n * token         = 1*<any CHAR except CTLs or separators>\n * separators    = \"(\" | \")\" | \"<\" | \">\" | \"@\"\n *               | \",\" | \";\" | \":\" | \"\\\" | <\">\n *               | \"/\" | \"[\" | \"]\" | \"?\" | \"=\"\n *               | \"{\" | \"}\" | SP | HT\n * quoted-string = ( <\"> *(qdtext | quoted-pair ) <\"> )\n * qdtext        = <any TEXT except <\">>\n * quoted-pair   = \"\\\" CHAR\n * CHAR          = <any US-ASCII character (octets 0 - 127)>\n * TEXT          = <any OCTET except CTLs, but including LWS>\n * LWS           = [CRLF] 1*( SP | HT )\n * CRLF          = CR LF\n * CR            = <US-ASCII CR, carriage return (13)>\n * LF            = <US-ASCII LF, linefeed (10)>\n * SP            = <US-ASCII SP, space (32)>\n * SHT           = <US-ASCII HT, horizontal-tab (9)>\n * CTL           = <any US-ASCII control character (octets 0 - 31) and DEL (127)>\n * OCTET         = <any 8-bit sequence of data>\n */\nvar paramRegExp = /; *([!#$%&'\\*\\+\\-\\.0-9A-Z\\^_`a-z\\|~]+) *= *(\"(?:[ !\\u0023-\\u005b\\u005d-\\u007e\\u0080-\\u00ff]|\\\\[\\u0020-\\u007e])*\"|[!#$%&'\\*\\+\\-\\.0-9A-Z\\^_`a-z\\|~]+) */g;\nvar textRegExp = /^[\\u0020-\\u007e\\u0080-\\u00ff]+$/\nvar tokenRegExp = /^[!#$%&'\\*\\+\\-\\.0-9A-Z\\^_`a-z\\|~]+$/\n\n/**\n * RegExp to match quoted-pair in RFC 2616\n *\n * quoted-pair = \"\\\" CHAR\n * CHAR        = <any US-ASCII character (octets 0 - 127)>\n */\nvar qescRegExp = /\\\\([\\u0000-\\u007f])/g;\n\n/**\n * RegExp to match chars that must be quoted-pair in RFC 2616\n */\nvar quoteRegExp = /([\\\\\"])/g;\n\n/**\n * RegExp to match type in RFC 6838\n *\n * type-name = restricted-name\n * subtype-name = restricted-name\n * restricted-name = restricted-name-first *126restricted-name-chars\n * restricted-name-first  = ALPHA / DIGIT\n * restricted-name-chars  = ALPHA / DIGIT / \"!\" / \"#\" /\n *                          \"$\" / \"&\" / \"-\" / \"^\" / \"_\"\n * restricted-name-chars =/ \".\" ; Characters before first dot always\n *                              ; specify a facet name\n * restricted-name-chars =/ \"+\" ; Characters after last plus always\n *                              ; specify a structured syntax suffix\n * ALPHA =  %x41-5A / %x61-7A   ; A-Z / a-z\n * DIGIT =  %x30-39             ; 0-9\n */\nvar subtypeNameRegExp = /^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/\nvar typeNameRegExp = /^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/\nvar typeRegExp = /^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/;\n\n/**\n * Module exports.\n */\n\nexports.format = format\nexports.parse = parse\n\n/**\n * Format object to media type.\n *\n * @param {object} obj\n * @return {string}\n * @api public\n */\n\nfunction format(obj) {\n  if (!obj || typeof obj !== 'object') {\n    throw new TypeError('argument obj is required')\n  }\n\n  var parameters = obj.parameters\n  var subtype = obj.subtype\n  var suffix = obj.suffix\n  var type = obj.type\n\n  if (!type || !typeNameRegExp.test(type)) {\n    throw new TypeError('invalid type')\n  }\n\n  if (!subtype || !subtypeNameRegExp.test(subtype)) {\n    throw new TypeError('invalid subtype')\n  }\n\n  // format as type/subtype\n  var string = type + '/' + subtype\n\n  // append +suffix\n  if (suffix) {\n    if (!typeNameRegExp.test(suffix)) {\n      throw new TypeError('invalid suffix')\n    }\n\n    string += '+' + suffix\n  }\n\n  // append parameters\n  if (parameters && typeof parameters === 'object') {\n    var param\n    var params = Object.keys(parameters).sort()\n\n    for (var i = 0; i < params.length; i++) {\n      param = params[i]\n\n      if (!tokenRegExp.test(param)) {\n        throw new TypeError('invalid parameter name')\n      }\n\n      string += '; ' + param + '=' + qstring(parameters[param])\n    }\n  }\n\n  return string\n}\n\n/**\n * Parse media type to object.\n *\n * @param {string|object} string\n * @return {Object}\n * @api public\n */\n\nfunction parse(string) {\n  if (!string) {\n    throw new TypeError('argument string is required')\n  }\n\n  // support req/res-like objects as argument\n  if (typeof string === 'object') {\n    string = getcontenttype(string)\n  }\n\n  if (typeof string !== 'string') {\n    throw new TypeError('argument string is required to be a string')\n  }\n\n  var index = string.indexOf(';')\n  var type = index !== -1\n    ? string.substr(0, index)\n    : string\n\n  var key\n  var match\n  var obj = splitType(type)\n  var params = {}\n  var value\n\n  paramRegExp.lastIndex = index\n\n  while (match = paramRegExp.exec(string)) {\n    if (match.index !== index) {\n      throw new TypeError('invalid parameter format')\n    }\n\n    index += match[0].length\n    key = match[1].toLowerCase()\n    value = match[2]\n\n    if (value[0] === '\"') {\n      // remove quotes and escapes\n      value = value\n        .substr(1, value.length - 2)\n        .replace(qescRegExp, '$1')\n    }\n\n    params[key] = value\n  }\n\n  if (index !== -1 && index !== string.length) {\n    throw new TypeError('invalid parameter format')\n  }\n\n  obj.parameters = params\n\n  return obj\n}\n\n/**\n * Get content-type from req/res objects.\n *\n * @param {object}\n * @return {Object}\n * @api private\n */\n\nfunction getcontenttype(obj) {\n  if (typeof obj.getHeader === 'function') {\n    // res-like\n    return obj.getHeader('content-type')\n  }\n\n  if (typeof obj.headers === 'object') {\n    // req-like\n    return obj.headers && obj.headers['content-type']\n  }\n}\n\n/**\n * Quote a string if necessary.\n *\n * @param {string} val\n * @return {string}\n * @api private\n */\n\nfunction qstring(val) {\n  var str = String(val)\n\n  // no need to quote tokens\n  if (tokenRegExp.test(str)) {\n    return str\n  }\n\n  if (str.length > 0 && !textRegExp.test(str)) {\n    throw new TypeError('invalid parameter value')\n  }\n\n  return '\"' + str.replace(quoteRegExp, '\\\\$1') + '\"'\n}\n\n/**\n * Simply \"type/subtype+siffx\" into parts.\n *\n * @param {string} string\n * @return {Object}\n * @api private\n */\n\nfunction splitType(string) {\n  var match = typeRegExp.exec(string.toLowerCase())\n\n  if (!match) {\n    throw new TypeError('invalid media type')\n  }\n\n  var type = match[1]\n  var subtype = match[2]\n  var suffix\n\n  // suffix after last +\n  var index = subtype.lastIndexOf('+')\n  if (index !== -1) {\n    suffix = subtype.substr(index + 1)\n    subtype = subtype.substr(0, index)\n  }\n\n  var obj = {\n    type: type,\n    subtype: subtype,\n    suffix: suffix\n  }\n\n  return obj\n}\n","/*!\n * type-is\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar typer = require('media-typer')\nvar mime = require('mime-types')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = typeofrequest\nmodule.exports.is = typeis\nmodule.exports.hasBody = hasbody\nmodule.exports.normalize = normalize\nmodule.exports.match = mimeMatch\n\n/**\n * Compare a `value` content-type with `types`.\n * Each `type` can be an extension like `html`,\n * a special shortcut like `multipart` or `urlencoded`,\n * or a mime type.\n *\n * If no types match, `false` is returned.\n * Otherwise, the first `type` that matches is returned.\n *\n * @param {String} value\n * @param {Array} types\n * @public\n */\n\nfunction typeis (value, types_) {\n  var i\n  var types = types_\n\n  // remove parameters and normalize\n  var val = tryNormalizeType(value)\n\n  // no type or invalid\n  if (!val) {\n    return false\n  }\n\n  // support flattened arguments\n  if (types && !Array.isArray(types)) {\n    types = new Array(arguments.length - 1)\n    for (i = 0; i < types.length; i++) {\n      types[i] = arguments[i + 1]\n    }\n  }\n\n  // no types, return the content type\n  if (!types || !types.length) {\n    return val\n  }\n\n  var type\n  for (i = 0; i < types.length; i++) {\n    if (mimeMatch(normalize(type = types[i]), val)) {\n      return type[0] === '+' || type.indexOf('*') !== -1\n        ? val\n        : type\n    }\n  }\n\n  // no matches\n  return false\n}\n\n/**\n * Check if a request has a request body.\n * A request with a body __must__ either have `transfer-encoding`\n * or `content-length` headers set.\n * http://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html#sec4.3\n *\n * @param {Object} request\n * @return {Boolean}\n * @public\n */\n\nfunction hasbody (req) {\n  return req.headers['transfer-encoding'] !== undefined ||\n    !isNaN(req.headers['content-length'])\n}\n\n/**\n * Check if the incoming request contains the \"Content-Type\"\n * header field, and it contains any of the give mime `type`s.\n * If there is no request body, `null` is returned.\n * If there is no content type, `false` is returned.\n * Otherwise, it returns the first `type` that matches.\n *\n * Examples:\n *\n *     // With Content-Type: text/html; charset=utf-8\n *     this.is('html'); // => 'html'\n *     this.is('text/html'); // => 'text/html'\n *     this.is('text/*', 'application/json'); // => 'text/html'\n *\n *     // When Content-Type is application/json\n *     this.is('json', 'urlencoded'); // => 'json'\n *     this.is('application/json'); // => 'application/json'\n *     this.is('html', 'application/*'); // => 'application/json'\n *\n *     this.is('html'); // => false\n *\n * @param {String|Array} types...\n * @return {String|false|null}\n * @public\n */\n\nfunction typeofrequest (req, types_) {\n  var types = types_\n\n  // no body\n  if (!hasbody(req)) {\n    return null\n  }\n\n  // support flattened arguments\n  if (arguments.length > 2) {\n    types = new Array(arguments.length - 1)\n    for (var i = 0; i < types.length; i++) {\n      types[i] = arguments[i + 1]\n    }\n  }\n\n  // request content type\n  var value = req.headers['content-type']\n\n  return typeis(value, types)\n}\n\n/**\n * Normalize a mime type.\n * If it's a shorthand, expand it to a valid mime type.\n *\n * In general, you probably want:\n *\n *   var type = is(req, ['urlencoded', 'json', 'multipart']);\n *\n * Then use the appropriate body parsers.\n * These three are the most common request body types\n * and are thus ensured to work.\n *\n * @param {String} type\n * @private\n */\n\nfunction normalize (type) {\n  if (typeof type !== 'string') {\n    // invalid type\n    return false\n  }\n\n  switch (type) {\n    case 'urlencoded':\n      return 'application/x-www-form-urlencoded'\n    case 'multipart':\n      return 'multipart/*'\n  }\n\n  if (type[0] === '+') {\n    // \"+json\" -> \"*/*+json\" expando\n    return '*/*' + type\n  }\n\n  return type.indexOf('/') === -1\n    ? mime.lookup(type)\n    : type\n}\n\n/**\n * Check if `expected` mime type\n * matches `actual` mime type with\n * wildcard and +suffix support.\n *\n * @param {String} expected\n * @param {String} actual\n * @return {Boolean}\n * @private\n */\n\nfunction mimeMatch (expected, actual) {\n  // invalid type\n  if (expected === false) {\n    return false\n  }\n\n  // split types\n  var actualParts = actual.split('/')\n  var expectedParts = expected.split('/')\n\n  // invalid format\n  if (actualParts.length !== 2 || expectedParts.length !== 2) {\n    return false\n  }\n\n  // validate type\n  if (expectedParts[0] !== '*' && expectedParts[0] !== actualParts[0]) {\n    return false\n  }\n\n  // validate suffix wildcard\n  if (expectedParts[1].substr(0, 2) === '*+') {\n    return expectedParts[1].length <= actualParts[1].length + 1 &&\n      expectedParts[1].substr(1) === actualParts[1].substr(1 - expectedParts[1].length)\n  }\n\n  // validate subtype\n  if (expectedParts[1] !== '*' && expectedParts[1] !== actualParts[1]) {\n    return false\n  }\n\n  return true\n}\n\n/**\n * Normalize a type and remove parameters.\n *\n * @param {string} value\n * @return {string}\n * @private\n */\n\nfunction normalizeType (value) {\n  // parse the type\n  var type = typer.parse(value)\n\n  // remove the parameters\n  type.parameters = undefined\n\n  // reformat it\n  return typer.format(type)\n}\n\n/**\n * Try to normalize a type and remove parameters.\n *\n * @param {string} value\n * @return {string}\n * @private\n */\n\nfunction tryNormalizeType (value) {\n  if (!value) {\n    return null\n  }\n\n  try {\n    return normalizeType(value)\n  } catch (err) {\n    return null\n  }\n}\n","/*!\n * body-parser\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar bytes = require('bytes')\nvar contentType = require('content-type')\nvar createError = require('http-errors')\nvar debug = require('debug')('body-parser:json')\nvar read = require('../read')\nvar typeis = require('type-is')\n\n/**\n * Module exports.\n */\n\nmodule.exports = json\n\n/**\n * RegExp to match the first non-space in a string.\n *\n * Allowed whitespace is defined in RFC 7159:\n *\n *    ws = *(\n *            %x20 /              ; Space\n *            %x09 /              ; Horizontal tab\n *            %x0A /              ; Line feed or New line\n *            %x0D )              ; Carriage return\n */\n\nvar FIRST_CHAR_REGEXP = /^[\\x20\\x09\\x0a\\x0d]*([^\\x20\\x09\\x0a\\x0d])/ // eslint-disable-line no-control-regex\n\n/**\n * Create a middleware to parse JSON bodies.\n *\n * @param {object} [options]\n * @return {function}\n * @public\n */\n\nfunction json (options) {\n  var opts = options || {}\n\n  var limit = typeof opts.limit !== 'number'\n    ? bytes.parse(opts.limit || '100kb')\n    : opts.limit\n  var inflate = opts.inflate !== false\n  var reviver = opts.reviver\n  var strict = opts.strict !== false\n  var type = opts.type || 'application/json'\n  var verify = opts.verify || false\n\n  if (verify !== false && typeof verify !== 'function') {\n    throw new TypeError('option verify must be function')\n  }\n\n  // create the appropriate type checking function\n  var shouldParse = typeof type !== 'function'\n    ? typeChecker(type)\n    : type\n\n  function parse (body) {\n    if (body.length === 0) {\n      // special-case empty json body, as it's a common client-side mistake\n      // TODO: maybe make this configurable or part of \"strict\" option\n      return {}\n    }\n\n    if (strict) {\n      var first = firstchar(body)\n\n      if (first !== '{' && first !== '[') {\n        debug('strict violation')\n        throw createStrictSyntaxError(body, first)\n      }\n    }\n\n    try {\n      debug('parse json')\n      return JSON.parse(body, reviver)\n    } catch (e) {\n      throw normalizeJsonSyntaxError(e, {\n        message: e.message,\n        stack: e.stack\n      })\n    }\n  }\n\n  return function jsonParser (req, res, next) {\n    if (req._body) {\n      debug('body already parsed')\n      next()\n      return\n    }\n\n    req.body = req.body || {}\n\n    // skip requests without bodies\n    if (!typeis.hasBody(req)) {\n      debug('skip empty body')\n      next()\n      return\n    }\n\n    debug('content-type %j', req.headers['content-type'])\n\n    // determine if request should be parsed\n    if (!shouldParse(req)) {\n      debug('skip parsing')\n      next()\n      return\n    }\n\n    // assert charset per RFC 7159 sec 8.1\n    var charset = getCharset(req) || 'utf-8'\n    if (charset.slice(0, 4) !== 'utf-') {\n      debug('invalid charset')\n      next(createError(415, 'unsupported charset \"' + charset.toUpperCase() + '\"', {\n        charset: charset,\n        type: 'charset.unsupported'\n      }))\n      return\n    }\n\n    // read\n    read(req, res, next, parse, debug, {\n      encoding: charset,\n      inflate: inflate,\n      limit: limit,\n      verify: verify\n    })\n  }\n}\n\n/**\n * Create strict violation syntax error matching native error.\n *\n * @param {string} str\n * @param {string} char\n * @return {Error}\n * @private\n */\n\nfunction createStrictSyntaxError (str, char) {\n  var index = str.indexOf(char)\n  var partial = index !== -1\n    ? str.substring(0, index) + '#'\n    : ''\n\n  try {\n    JSON.parse(partial); /* istanbul ignore next */ throw new SyntaxError('strict violation')\n  } catch (e) {\n    return normalizeJsonSyntaxError(e, {\n      message: e.message.replace('#', char),\n      stack: e.stack\n    })\n  }\n}\n\n/**\n * Get the first non-whitespace character in a string.\n *\n * @param {string} str\n * @return {function}\n * @private\n */\n\nfunction firstchar (str) {\n  var match = FIRST_CHAR_REGEXP.exec(str)\n\n  return match\n    ? match[1]\n    : undefined\n}\n\n/**\n * Get the charset of a request.\n *\n * @param {object} req\n * @api private\n */\n\nfunction getCharset (req) {\n  try {\n    return (contentType.parse(req).parameters.charset || '').toLowerCase()\n  } catch (e) {\n    return undefined\n  }\n}\n\n/**\n * Normalize a SyntaxError for JSON.parse.\n *\n * @param {SyntaxError} error\n * @param {object} obj\n * @return {SyntaxError}\n */\n\nfunction normalizeJsonSyntaxError (error, obj) {\n  var keys = Object.getOwnPropertyNames(error)\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i]\n    if (key !== 'stack' && key !== 'message') {\n      delete error[key]\n    }\n  }\n\n  // replace stack before message for Node.js 0.10 and below\n  error.stack = obj.stack.replace(error.message, obj.message)\n  error.message = obj.message\n\n  return error\n}\n\n/**\n * Get the simple type checker.\n *\n * @param {string} type\n * @return {function}\n */\n\nfunction typeChecker (type) {\n  return function checkType (req) {\n    return Boolean(typeis(req, type))\n  }\n}\n","/*!\n * body-parser\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n */\n\nvar bytes = require('bytes')\nvar debug = require('debug')('body-parser:raw')\nvar read = require('../read')\nvar typeis = require('type-is')\n\n/**\n * Module exports.\n */\n\nmodule.exports = raw\n\n/**\n * Create a middleware to parse raw bodies.\n *\n * @param {object} [options]\n * @return {function}\n * @api public\n */\n\nfunction raw (options) {\n  var opts = options || {}\n\n  var inflate = opts.inflate !== false\n  var limit = typeof opts.limit !== 'number'\n    ? bytes.parse(opts.limit || '100kb')\n    : opts.limit\n  var type = opts.type || 'application/octet-stream'\n  var verify = opts.verify || false\n\n  if (verify !== false && typeof verify !== 'function') {\n    throw new TypeError('option verify must be function')\n  }\n\n  // create the appropriate type checking function\n  var shouldParse = typeof type !== 'function'\n    ? typeChecker(type)\n    : type\n\n  function parse (buf) {\n    return buf\n  }\n\n  return function rawParser (req, res, next) {\n    if (req._body) {\n      debug('body already parsed')\n      next()\n      return\n    }\n\n    req.body = req.body || {}\n\n    // skip requests without bodies\n    if (!typeis.hasBody(req)) {\n      debug('skip empty body')\n      next()\n      return\n    }\n\n    debug('content-type %j', req.headers['content-type'])\n\n    // determine if request should be parsed\n    if (!shouldParse(req)) {\n      debug('skip parsing')\n      next()\n      return\n    }\n\n    // read\n    read(req, res, next, parse, debug, {\n      encoding: null,\n      inflate: inflate,\n      limit: limit,\n      verify: verify\n    })\n  }\n}\n\n/**\n * Get the simple type checker.\n *\n * @param {string} type\n * @return {function}\n */\n\nfunction typeChecker (type) {\n  return function checkType (req) {\n    return Boolean(typeis(req, type))\n  }\n}\n","/*!\n * body-parser\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n */\n\nvar bytes = require('bytes')\nvar contentType = require('content-type')\nvar debug = require('debug')('body-parser:text')\nvar read = require('../read')\nvar typeis = require('type-is')\n\n/**\n * Module exports.\n */\n\nmodule.exports = text\n\n/**\n * Create a middleware to parse text bodies.\n *\n * @param {object} [options]\n * @return {function}\n * @api public\n */\n\nfunction text (options) {\n  var opts = options || {}\n\n  var defaultCharset = opts.defaultCharset || 'utf-8'\n  var inflate = opts.inflate !== false\n  var limit = typeof opts.limit !== 'number'\n    ? bytes.parse(opts.limit || '100kb')\n    : opts.limit\n  var type = opts.type || 'text/plain'\n  var verify = opts.verify || false\n\n  if (verify !== false && typeof verify !== 'function') {\n    throw new TypeError('option verify must be function')\n  }\n\n  // create the appropriate type checking function\n  var shouldParse = typeof type !== 'function'\n    ? typeChecker(type)\n    : type\n\n  function parse (buf) {\n    return buf\n  }\n\n  return function textParser (req, res, next) {\n    if (req._body) {\n      debug('body already parsed')\n      next()\n      return\n    }\n\n    req.body = req.body || {}\n\n    // skip requests without bodies\n    if (!typeis.hasBody(req)) {\n      debug('skip empty body')\n      next()\n      return\n    }\n\n    debug('content-type %j', req.headers['content-type'])\n\n    // determine if request should be parsed\n    if (!shouldParse(req)) {\n      debug('skip parsing')\n      next()\n      return\n    }\n\n    // get charset\n    var charset = getCharset(req) || defaultCharset\n\n    // read\n    read(req, res, next, parse, debug, {\n      encoding: charset,\n      inflate: inflate,\n      limit: limit,\n      verify: verify\n    })\n  }\n}\n\n/**\n * Get the charset of a request.\n *\n * @param {object} req\n * @api private\n */\n\nfunction getCharset (req) {\n  try {\n    return (contentType.parse(req).parameters.charset || '').toLowerCase()\n  } catch (e) {\n    return undefined\n  }\n}\n\n/**\n * Get the simple type checker.\n *\n * @param {string} type\n * @return {function}\n */\n\nfunction typeChecker (type) {\n  return function checkType (req) {\n    return Boolean(typeis(req, type))\n  }\n}\n","'use strict';\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\nvar bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n","'use strict';\n\nvar undefined;\n\nvar $SyntaxError = SyntaxError;\nvar $Function = Function;\nvar $TypeError = TypeError;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%ReferenceError%': ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('has');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\nvar $exec = bind.call(Function.call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\nvar bind = require('function-bind');\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $apply = GetIntrinsic('%Function.prototype.apply%');\nvar $call = GetIntrinsic('%Function.prototype.call%');\nvar $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\nvar $max = GetIntrinsic('%Math.max%');\n\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = null;\n\t}\n}\n\nmodule.exports = function callBind(originalFunction) {\n\tvar func = $reflectApply(bind, $call, arguments);\n\tif ($gOPD && $defineProperty) {\n\t\tvar desc = $gOPD(func, 'length');\n\t\tif (desc.configurable) {\n\t\t\t// original length, plus the receiver, minus any additional arguments (after the receiver)\n\t\t\t$defineProperty(\n\t\t\t\tfunc,\n\t\t\t\t'length',\n\t\t\t\t{ value: 1 + $max(0, originalFunction.length - (arguments.length - 1)) }\n\t\t\t);\n\t\t}\n\t}\n\treturn func;\n};\n\nvar applyBind = function applyBind() {\n\treturn $reflectApply(bind, $apply, arguments);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBind = require('./');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","module.exports = require('util').inspect;\n","var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype;\nvar weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar functionToString = Function.prototype.toString;\nvar $match = String.prototype.match;\nvar $slice = String.prototype.slice;\nvar $replace = String.prototype.replace;\nvar $toUpperCase = String.prototype.toUpperCase;\nvar $toLowerCase = String.prototype.toLowerCase;\nvar $test = RegExp.prototype.test;\nvar $concat = Array.prototype.concat;\nvar $join = Array.prototype.join;\nvar $arrSlice = Array.prototype.slice;\nvar $floor = Math.floor;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\nvar gOPS = Object.getOwnPropertySymbols;\nvar symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null;\nvar hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object';\n// ie, `has-tostringtag/shams\nvar toStringTag = typeof Symbol === 'function' && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? 'object' : 'symbol')\n    ? Symbol.toStringTag\n    : null;\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\nvar gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || (\n    [].__proto__ === Array.prototype // eslint-disable-line no-proto\n        ? function (O) {\n            return O.__proto__; // eslint-disable-line no-proto\n        }\n        : null\n);\n\nfunction addNumericSeparator(num, str) {\n    if (\n        num === Infinity\n        || num === -Infinity\n        || num !== num\n        || (num && num > -1000 && num < 1000)\n        || $test.call(/e/, str)\n    ) {\n        return str;\n    }\n    var sepRegex = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;\n    if (typeof num === 'number') {\n        var int = num < 0 ? -$floor(-num) : $floor(num); // trunc(num)\n        if (int !== num) {\n            var intStr = String(int);\n            var dec = $slice.call(str, intStr.length + 1);\n            return $replace.call(intStr, sepRegex, '$&_') + '.' + $replace.call($replace.call(dec, /([0-9]{3})/g, '$&_'), /_$/, '');\n        }\n    }\n    return $replace.call(str, sepRegex, '$&_');\n}\n\nvar utilInspect = require('./util.inspect');\nvar inspectCustom = utilInspect.custom;\nvar inspectSymbol = isSymbol(inspectCustom) ? inspectCustom : null;\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && (opts.quoteStyle !== 'single' && opts.quoteStyle !== 'double')) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n    if (\n        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'\n            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity\n            : opts.maxStringLength !== null\n        )\n    ) {\n        throw new TypeError('option \"maxStringLength\", if provided, must be a positive integer, Infinity, or `null`');\n    }\n    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;\n    if (typeof customInspect !== 'boolean' && customInspect !== 'symbol') {\n        throw new TypeError('option \"customInspect\", if provided, must be `true`, `false`, or `\\'symbol\\'`');\n    }\n\n    if (\n        has(opts, 'indent')\n        && opts.indent !== null\n        && opts.indent !== '\\t'\n        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)\n    ) {\n        throw new TypeError('option \"indent\" must be \"\\\\t\", an integer > 0, or `null`');\n    }\n    if (has(opts, 'numericSeparator') && typeof opts.numericSeparator !== 'boolean') {\n        throw new TypeError('option \"numericSeparator\", if provided, must be `true` or `false`');\n    }\n    var numericSeparator = opts.numericSeparator;\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        var str = String(obj);\n        return numericSeparator ? addNumericSeparator(obj, str) : str;\n    }\n    if (typeof obj === 'bigint') {\n        var bigIntStr = String(obj) + 'n';\n        return numericSeparator ? addNumericSeparator(obj, bigIntStr) : bigIntStr;\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return isArray(obj) ? '[Array]' : '[Object]';\n    }\n\n    var indent = getIndent(opts, depth);\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from, noIndent) {\n        if (from) {\n            seen = $arrSlice.call(seen);\n            seen.push(from);\n        }\n        if (noIndent) {\n            var newOpts = {\n                depth: opts.depth\n            };\n            if (has(opts, 'quoteStyle')) {\n                newOpts.quoteStyle = opts.quoteStyle;\n            }\n            return inspect_(value, newOpts, depth + 1, seen);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function' && !isRegExp(obj)) { // in older engines, regexes are callable\n        var name = nameOf(obj);\n        var keys = arrObjKeys(obj, inspect);\n        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + $join.call(keys, ', ') + ' }' : '');\n    }\n    if (isSymbol(obj)) {\n        var symString = hasShammedSymbols ? $replace.call(String(obj), /^(Symbol\\(.*\\))_[^)]*$/, '$1') : symToString.call(obj);\n        return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + $toLowerCase.call(String(obj.nodeName));\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + $toLowerCase.call(String(obj.nodeName)) + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        var xs = arrObjKeys(obj, inspect);\n        if (indent && !singleLineValues(xs)) {\n            return '[' + indentedJoin(xs, indent) + ']';\n        }\n        return '[ ' + $join.call(xs, ', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (!('cause' in Error.prototype) && 'cause' in obj && !isEnumerable.call(obj, 'cause')) {\n            return '{ [' + String(obj) + '] ' + $join.call($concat.call('[cause]: ' + inspect(obj.cause), parts), ', ') + ' }';\n        }\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + $join.call(parts, ', ') + ' }';\n    }\n    if (typeof obj === 'object' && customInspect) {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function' && utilInspect) {\n            return utilInspect(obj, { depth: maxDepth - depth });\n        } else if (customInspect !== 'symbol' && typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        mapForEach.call(obj, function (value, key) {\n            mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));\n        });\n        return collectionOf('Map', mapSize.call(obj), mapParts, indent);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        setForEach.call(obj, function (value) {\n            setParts.push(inspect(value, obj));\n        });\n        return collectionOf('Set', setSize.call(obj), setParts, indent);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isWeakRef(obj)) {\n        return weakCollectionOf('WeakRef');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var ys = arrObjKeys(obj, inspect);\n        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;\n        var protoTag = obj instanceof Object ? '' : 'null prototype';\n        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? $slice.call(toStr(obj), 8, -1) : protoTag ? 'Object' : '';\n        var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : '';\n        var tag = constructorTag + (stringTag || protoTag ? '[' + $join.call($concat.call([], stringTag || [], protoTag || []), ': ') + '] ' : '');\n        if (ys.length === 0) { return tag + '{}'; }\n        if (indent) {\n            return tag + '{' + indentedJoin(ys, indent) + '}';\n        }\n        return tag + '{ ' + $join.call(ys, ', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var quoteChar = (opts.quoteStyle || defaultStyle) === 'double' ? '\"' : \"'\";\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return $replace.call(String(s), /\"/g, '&quot;');\n}\n\nfunction isArray(obj) { return toStr(obj) === '[object Array]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isDate(obj) { return toStr(obj) === '[object Date]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isError(obj) { return toStr(obj) === '[object Error]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isString(obj) { return toStr(obj) === '[object String]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\n\n// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives\nfunction isSymbol(obj) {\n    if (hasShammedSymbols) {\n        return obj && typeof obj === 'object' && obj instanceof Symbol;\n    }\n    if (typeof obj === 'symbol') {\n        return true;\n    }\n    if (!obj || typeof obj !== 'object' || !symToString) {\n        return false;\n    }\n    try {\n        symToString.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isBigInt(obj) {\n    if (!obj || typeof obj !== 'object' || !bigIntValueOf) {\n        return false;\n    }\n    try {\n        bigIntValueOf.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = $match.call(functionToString.call(f), /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakRef(x) {\n    if (!weakRefDeref || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakRefDeref.call(x);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    if (str.length > opts.maxStringLength) {\n        var remaining = str.length - opts.maxStringLength;\n        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');\n        return inspectString($slice.call(str, 0, opts.maxStringLength), opts) + trailer;\n    }\n    // eslint-disable-next-line no-control-regex\n    var s = $replace.call($replace.call(str, /(['\\\\])/g, '\\\\$1'), /[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b',\n        9: 't',\n        10: 'n',\n        12: 'f',\n        13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + $toUpperCase.call(n.toString(16));\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries, indent) {\n    var joinedEntries = indent ? indentedJoin(entries, indent) : $join.call(entries, ', ');\n    return type + ' (' + size + ') {' + joinedEntries + '}';\n}\n\nfunction singleLineValues(xs) {\n    for (var i = 0; i < xs.length; i++) {\n        if (indexOf(xs[i], '\\n') >= 0) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction getIndent(opts, depth) {\n    var baseIndent;\n    if (opts.indent === '\\t') {\n        baseIndent = '\\t';\n    } else if (typeof opts.indent === 'number' && opts.indent > 0) {\n        baseIndent = $join.call(Array(opts.indent + 1), ' ');\n    } else {\n        return null;\n    }\n    return {\n        base: baseIndent,\n        prev: $join.call(Array(depth + 1), baseIndent)\n    };\n}\n\nfunction indentedJoin(xs, indent) {\n    if (xs.length === 0) { return ''; }\n    var lineJoiner = '\\n' + indent.prev + indent.base;\n    return lineJoiner + $join.call(xs, ',' + lineJoiner) + '\\n' + indent.prev;\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    var syms = typeof gOPS === 'function' ? gOPS(obj) : [];\n    var symMap;\n    if (hasShammedSymbols) {\n        symMap = {};\n        for (var k = 0; k < syms.length; k++) {\n            symMap['$' + syms[k]] = syms[k];\n        }\n    }\n\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) {\n            // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        } else if ($test.call(/[^\\w$]/, key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    if (typeof gOPS === 'function') {\n        for (var j = 0; j < syms.length; j++) {\n            if (isEnumerable.call(obj, syms[j])) {\n                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));\n            }\n        }\n    }\n    return xs;\n}\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bind/callBound');\nvar inspect = require('object-inspect');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\nvar $Map = GetIntrinsic('%Map%', true);\n\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\nvar $mapGet = callBound('Map.prototype.get', true);\nvar $mapSet = callBound('Map.prototype.set', true);\nvar $mapHas = callBound('Map.prototype.has', true);\n\n/*\n * This function traverses the list returning the node corresponding to the\n * given key.\n *\n * That node is also moved to the head of the list, so that if it's accessed\n * again we don't need to traverse the whole list. By doing so, all the recently\n * used nodes can be accessed relatively quickly.\n */\nvar listGetNode = function (list, key) { // eslint-disable-line consistent-return\n\tfor (var prev = list, curr; (curr = prev.next) !== null; prev = curr) {\n\t\tif (curr.key === key) {\n\t\t\tprev.next = curr.next;\n\t\t\tcurr.next = list.next;\n\t\t\tlist.next = curr; // eslint-disable-line no-param-reassign\n\t\t\treturn curr;\n\t\t}\n\t}\n};\n\nvar listGet = function (objects, key) {\n\tvar node = listGetNode(objects, key);\n\treturn node && node.value;\n};\nvar listSet = function (objects, key, value) {\n\tvar node = listGetNode(objects, key);\n\tif (node) {\n\t\tnode.value = value;\n\t} else {\n\t\t// Prepend the new node to the beginning of the list\n\t\tobjects.next = { // eslint-disable-line no-param-reassign\n\t\t\tkey: key,\n\t\t\tnext: objects.next,\n\t\t\tvalue: value\n\t\t};\n\t}\n};\nvar listHas = function (objects, key) {\n\treturn !!listGetNode(objects, key);\n};\n\nmodule.exports = function getSideChannel() {\n\tvar $wm;\n\tvar $m;\n\tvar $o;\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapGet($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listGet($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapHas($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listHas($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif (!$wm) {\n\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t}\n\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t} else if ($Map) {\n\t\t\t\tif (!$m) {\n\t\t\t\t\t$m = new $Map();\n\t\t\t\t}\n\t\t\t\t$mapSet($m, key, value);\n\t\t\t} else {\n\t\t\t\tif (!$o) {\n\t\t\t\t\t/*\n\t\t\t\t\t * Initialize the linked list as an empty node, so that we don't have\n\t\t\t\t\t * to special-case handling of the first node: we can always refer to\n\t\t\t\t\t * it as (previous node).next, instead of something like (list).head\n\t\t\t\t\t */\n\t\t\t\t\t$o = { key: {}, next: null };\n\t\t\t\t}\n\t\t\t\tlistSet($o, key, value);\n\t\t\t}\n\t\t}\n\t};\n\treturn channel;\n};\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = {\n    'default': Format.RFC3986,\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return String(value);\n        }\n    },\n    RFC1738: Format.RFC1738,\n    RFC3986: Format.RFC3986\n};\n","'use strict';\n\nvar formats = require('./formats');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar encode = function encode(str, defaultEncoder, charset, kind, format) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n            || (format === formats.RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        /* eslint operator-linebreak: [2, \"before\"] */\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    maybeMap: maybeMap,\n    merge: merge\n};\n","'use strict';\n\nvar getSideChannel = require('side-channel');\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar split = String.prototype.split;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar sentinel = {};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    format,\n    formatter,\n    encodeValuesOnly,\n    charset,\n    sideChannel\n) {\n    var obj = object;\n\n    var tmpSc = sideChannel;\n    var step = 0;\n    var findFlag = false;\n    while ((tmpSc = tmpSc.get(sentinel)) !== void undefined && !findFlag) {\n        // Where object last appeared in the ref tree\n        var pos = tmpSc.get(object);\n        step += 1;\n        if (typeof pos !== 'undefined') {\n            if (pos === step) {\n                throw new RangeError('Cyclic object value');\n            } else {\n                findFlag = true; // Break while\n            }\n        }\n        if (typeof tmpSc.get(sentinel) === 'undefined') {\n            step = 0;\n        }\n    }\n\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        });\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);\n            if (generateArrayPrefix === 'comma' && encodeValuesOnly) {\n                var valuesArray = split.call(String(obj), ',');\n                var valuesJoined = '';\n                for (var i = 0; i < valuesArray.length; ++i) {\n                    valuesJoined += (i === 0 ? '' : ',') + formatter(encoder(valuesArray[i], defaults.encoder, charset, 'value', format));\n                }\n                return [formatter(keyValue) + '=' + valuesJoined];\n            }\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        // we need to join elements in\n        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : void undefined }];\n    } else if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var j = 0; j < objKeys.length; ++j) {\n        var key = objKeys[j];\n        var value = typeof key === 'object' && typeof key.value !== 'undefined' ? key.value : obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(prefix, key) : prefix\n            : prefix + (allowDots ? '.' + key : '[' + key + ']');\n\n        sideChannel.set(object, step);\n        var valueSideChannel = getSideChannel();\n        valueSideChannel.set(sentinel, sideChannel);\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            format,\n            formatter,\n            encodeValuesOnly,\n            charset,\n            valueSideChannel\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (opts && opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if (opts && 'indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    var sideChannel = getSideChannel();\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.format,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset,\n            sideChannel\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    allowSparse: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    return val;\n};\n\n// This is what browsers will submit when the  character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the  character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n            val = utils.maybeMap(\n                parseArrayValue(part.slice(pos + 1), options),\n                function (encodedVal) {\n                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                }\n            );\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        if (has.call(obj, key)) {\n            obj[key] = utils.combine(obj[key], val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var leaf = valuesParsed ? val : parseArrayValue(val, options);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (!options.parseArrays && cleanRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else if (cleanRoot !== '__proto__') {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.decoder !== null && opts.decoder !== undefined && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    return {\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        allowSparse: typeof opts.allowSparse === 'boolean' ? opts.allowSparse : defaults.allowSparse,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    if (options.allowSparse === true) {\n        return obj;\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","/*!\n * body-parser\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar bytes = require('bytes')\nvar contentType = require('content-type')\nvar createError = require('http-errors')\nvar debug = require('debug')('body-parser:urlencoded')\nvar deprecate = require('depd')('body-parser')\nvar read = require('../read')\nvar typeis = require('type-is')\n\n/**\n * Module exports.\n */\n\nmodule.exports = urlencoded\n\n/**\n * Cache of parser modules.\n */\n\nvar parsers = Object.create(null)\n\n/**\n * Create a middleware to parse urlencoded bodies.\n *\n * @param {object} [options]\n * @return {function}\n * @public\n */\n\nfunction urlencoded (options) {\n  var opts = options || {}\n\n  // notice because option default will flip in next major\n  if (opts.extended === undefined) {\n    deprecate('undefined extended: provide extended option')\n  }\n\n  var extended = opts.extended !== false\n  var inflate = opts.inflate !== false\n  var limit = typeof opts.limit !== 'number'\n    ? bytes.parse(opts.limit || '100kb')\n    : opts.limit\n  var type = opts.type || 'application/x-www-form-urlencoded'\n  var verify = opts.verify || false\n\n  if (verify !== false && typeof verify !== 'function') {\n    throw new TypeError('option verify must be function')\n  }\n\n  // create the appropriate query parser\n  var queryparse = extended\n    ? extendedparser(opts)\n    : simpleparser(opts)\n\n  // create the appropriate type checking function\n  var shouldParse = typeof type !== 'function'\n    ? typeChecker(type)\n    : type\n\n  function parse (body) {\n    return body.length\n      ? queryparse(body)\n      : {}\n  }\n\n  return function urlencodedParser (req, res, next) {\n    if (req._body) {\n      debug('body already parsed')\n      next()\n      return\n    }\n\n    req.body = req.body || {}\n\n    // skip requests without bodies\n    if (!typeis.hasBody(req)) {\n      debug('skip empty body')\n      next()\n      return\n    }\n\n    debug('content-type %j', req.headers['content-type'])\n\n    // determine if request should be parsed\n    if (!shouldParse(req)) {\n      debug('skip parsing')\n      next()\n      return\n    }\n\n    // assert charset\n    var charset = getCharset(req) || 'utf-8'\n    if (charset !== 'utf-8') {\n      debug('invalid charset')\n      next(createError(415, 'unsupported charset \"' + charset.toUpperCase() + '\"', {\n        charset: charset,\n        type: 'charset.unsupported'\n      }))\n      return\n    }\n\n    // read\n    read(req, res, next, parse, debug, {\n      debug: debug,\n      encoding: charset,\n      inflate: inflate,\n      limit: limit,\n      verify: verify\n    })\n  }\n}\n\n/**\n * Get the extended query parser.\n *\n * @param {object} options\n */\n\nfunction extendedparser (options) {\n  var parameterLimit = options.parameterLimit !== undefined\n    ? options.parameterLimit\n    : 1000\n  var parse = parser('qs')\n\n  if (isNaN(parameterLimit) || parameterLimit < 1) {\n    throw new TypeError('option parameterLimit must be a positive number')\n  }\n\n  if (isFinite(parameterLimit)) {\n    parameterLimit = parameterLimit | 0\n  }\n\n  return function queryparse (body) {\n    var paramCount = parameterCount(body, parameterLimit)\n\n    if (paramCount === undefined) {\n      debug('too many parameters')\n      throw createError(413, 'too many parameters', {\n        type: 'parameters.too.many'\n      })\n    }\n\n    var arrayLimit = Math.max(100, paramCount)\n\n    debug('parse extended urlencoding')\n    return parse(body, {\n      allowPrototypes: true,\n      arrayLimit: arrayLimit,\n      depth: Infinity,\n      parameterLimit: parameterLimit\n    })\n  }\n}\n\n/**\n * Get the charset of a request.\n *\n * @param {object} req\n * @api private\n */\n\nfunction getCharset (req) {\n  try {\n    return (contentType.parse(req).parameters.charset || '').toLowerCase()\n  } catch (e) {\n    return undefined\n  }\n}\n\n/**\n * Count the number of parameters, stopping once limit reached\n *\n * @param {string} body\n * @param {number} limit\n * @api private\n */\n\nfunction parameterCount (body, limit) {\n  var count = 0\n  var index = 0\n\n  while ((index = body.indexOf('&', index)) !== -1) {\n    count++\n    index++\n\n    if (count === limit) {\n      return undefined\n    }\n  }\n\n  return count\n}\n\n/**\n * Get parser for module name dynamically.\n *\n * @param {string} name\n * @return {function}\n * @api private\n */\n\nfunction parser (name) {\n  var mod = parsers[name]\n\n  if (mod !== undefined) {\n    return mod.parse\n  }\n\n  // this uses a switch for static require analysis\n  switch (name) {\n    case 'qs':\n      mod = require('qs')\n      break\n    case 'querystring':\n      mod = require('querystring')\n      break\n  }\n\n  // store to prevent invoking require()\n  parsers[name] = mod\n\n  return mod.parse\n}\n\n/**\n * Get the simple query parser.\n *\n * @param {object} options\n */\n\nfunction simpleparser (options) {\n  var parameterLimit = options.parameterLimit !== undefined\n    ? options.parameterLimit\n    : 1000\n  var parse = parser('querystring')\n\n  if (isNaN(parameterLimit) || parameterLimit < 1) {\n    throw new TypeError('option parameterLimit must be a positive number')\n  }\n\n  if (isFinite(parameterLimit)) {\n    parameterLimit = parameterLimit | 0\n  }\n\n  return function queryparse (body) {\n    var paramCount = parameterCount(body, parameterLimit)\n\n    if (paramCount === undefined) {\n      debug('too many parameters')\n      throw createError(413, 'too many parameters', {\n        type: 'parameters.too.many'\n      })\n    }\n\n    debug('parse urlencoding')\n    return parse(body, undefined, undefined, { maxKeys: parameterLimit })\n  }\n}\n\n/**\n * Get the simple type checker.\n *\n * @param {string} type\n * @return {function}\n */\n\nfunction typeChecker (type) {\n  return function checkType (req) {\n    return Boolean(typeis(req, type))\n  }\n}\n","/*!\n * body-parser\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar deprecate = require('depd')('body-parser')\n\n/**\n * Cache of loaded parsers.\n * @private\n */\n\nvar parsers = Object.create(null)\n\n/**\n * @typedef Parsers\n * @type {function}\n * @property {function} json\n * @property {function} raw\n * @property {function} text\n * @property {function} urlencoded\n */\n\n/**\n * Module exports.\n * @type {Parsers}\n */\n\nexports = module.exports = deprecate.function(bodyParser,\n  'bodyParser: use individual json/urlencoded middlewares')\n\n/**\n * JSON parser.\n * @public\n */\n\nObject.defineProperty(exports, 'json', {\n  configurable: true,\n  enumerable: true,\n  get: createParserGetter('json')\n})\n\n/**\n * Raw parser.\n * @public\n */\n\nObject.defineProperty(exports, 'raw', {\n  configurable: true,\n  enumerable: true,\n  get: createParserGetter('raw')\n})\n\n/**\n * Text parser.\n * @public\n */\n\nObject.defineProperty(exports, 'text', {\n  configurable: true,\n  enumerable: true,\n  get: createParserGetter('text')\n})\n\n/**\n * URL-encoded parser.\n * @public\n */\n\nObject.defineProperty(exports, 'urlencoded', {\n  configurable: true,\n  enumerable: true,\n  get: createParserGetter('urlencoded')\n})\n\n/**\n * Create a middleware to parse json and urlencoded bodies.\n *\n * @param {object} [options]\n * @return {function}\n * @deprecated\n * @public\n */\n\nfunction bodyParser (options) {\n  var opts = {}\n\n  // exclude type option\n  if (options) {\n    for (var prop in options) {\n      if (prop !== 'type') {\n        opts[prop] = options[prop]\n      }\n    }\n  }\n\n  var _urlencoded = exports.urlencoded(opts)\n  var _json = exports.json(opts)\n\n  return function bodyParser (req, res, next) {\n    _json(req, res, function (err) {\n      if (err) return next(err)\n      _urlencoded(req, res, next)\n    })\n  }\n}\n\n/**\n * Create a getter for loading a parser.\n * @private\n */\n\nfunction createParserGetter (name) {\n  return function get () {\n    return loadParser(name)\n  }\n}\n\n/**\n * Load a parser module.\n * @private\n */\n\nfunction loadParser (parserName) {\n  var parser = parsers[parserName]\n\n  if (parser !== undefined) {\n    return parser\n  }\n\n  // this uses a switch for static require analysis\n  switch (parserName) {\n    case 'json':\n      parser = require('./lib/types/json')\n      break\n    case 'raw':\n      parser = require('./lib/types/raw')\n      break\n    case 'text':\n      parser = require('./lib/types/text')\n      break\n    case 'urlencoded':\n      parser = require('./lib/types/urlencoded')\n      break\n  }\n\n  // store to prevent invoking require()\n  return (parsers[parserName] = parser)\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","/**\n * Module dependencies.\n */\n\nvar tty = require('tty');\nvar util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // camel-case\n  var prop = key\n    .substring(6)\n    .toLowerCase()\n    .replace(/_([a-z])/g, function (_, k) { return k.toUpperCase() });\n\n  // coerce string value into JS value\n  var val = process.env[key];\n  if (/^(yes|on|true|enabled)$/i.test(val)) val = true;\n  else if (/^(no|off|false|disabled)$/i.test(val)) val = false;\n  else if (val === 'null') val = null;\n  else val = Number(val);\n\n  obj[prop] = val;\n  return obj;\n}, {});\n\n/**\n * The file descriptor to write the `debug()` calls to.\n * Set the `DEBUG_FD` env variable to override with another value. i.e.:\n *\n *   $ DEBUG_FD=3 node script.js 3>debug.log\n */\n\nvar fd = parseInt(process.env.DEBUG_FD, 10) || 2;\n\nif (1 !== fd && 2 !== fd) {\n  util.deprecate(function(){}, 'except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)')()\n}\n\nvar stream = 1 === fd ? process.stdout :\n             2 === fd ? process.stderr :\n             createWritableStdioStream(fd);\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts\n    ? Boolean(exports.inspectOpts.colors)\n    : tty.isatty(fd);\n}\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nexports.formatters.o = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .split('\\n').map(function(str) {\n      return str.trim()\n    }).join(' ');\n};\n\n/**\n * Map %o to `util.inspect()`, allowing multiple lines if needed.\n */\n\nexports.formatters.O = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var name = this.namespace;\n  var useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var prefix = '  \\u001b[3' + c + ';1m' + name + ' ' + '\\u001b[0m';\n\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push('\\u001b[3' + c + 'm+' + exports.humanize(this.diff) + '\\u001b[0m');\n  } else {\n    args[0] = new Date().toUTCString()\n      + ' ' + name + ' ' + args[0];\n  }\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to `stream`.\n */\n\nfunction log() {\n  return stream.write(util.format.apply(util, arguments) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  if (null == namespaces) {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  } else {\n    process.env.DEBUG = namespaces;\n  }\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  return process.env.DEBUG;\n}\n\n/**\n * Copied from `node/src/node.js`.\n *\n * XXX: It's lame that node doesn't expose this API out-of-the-box. It also\n * relies on the undocumented `tty_wrap.guessHandleType()` which is also lame.\n */\n\nfunction createWritableStdioStream (fd) {\n  var stream;\n  var tty_wrap = process.binding('tty_wrap');\n\n  // Note stream._type is used for test-module-load-list.js\n\n  switch (tty_wrap.guessHandleType(fd)) {\n    case 'TTY':\n      stream = new tty.WriteStream(fd);\n      stream._type = 'tty';\n\n      // Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    case 'FILE':\n      var fs = require('fs');\n      stream = new fs.SyncWriteStream(fd, { autoClose: false });\n      stream._type = 'fs';\n      break;\n\n    case 'PIPE':\n    case 'TCP':\n      var net = require('net');\n      stream = new net.Socket({\n        fd: fd,\n        readable: false,\n        writable: true\n      });\n\n      // FIXME Should probably have an option in net.Socket to create a\n      // stream from an existing fd which is writable only. But for now\n      // we'll just add this hack and set the `readable` member to false.\n      // Test: ./node test/fixtures/echo.js < /etc/passwd\n      stream.readable = false;\n      stream.read = null;\n      stream._type = 'pipe';\n\n      // FIXME Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    default:\n      // Probably an error on in uv_guess_handle()\n      throw new Error('Implement me. Unknown stream file type!');\n  }\n\n  // For supporting legacy API we put the FD here.\n  stream.fd = fd;\n\n  stream._isStdio = true;\n\n  return stream;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init (debug) {\n  debug.inspectOpts = {};\n\n  var keys = Object.keys(exports.inspectOpts);\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\n/**\n * Enable namespaces listed in `process.env.DEBUG` initially.\n */\n\nexports.enable(load());\n","/**\n * Detect Electron renderer process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process !== 'undefined' && process.type === 'renderer') {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","/**\n * Module dependencies.\n */\n\nvar tty = require('tty');\nvar util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // camel-case\n  var prop = key\n    .substring(6)\n    .toLowerCase()\n    .replace(/_([a-z])/g, function (_, k) { return k.toUpperCase() });\n\n  // coerce string value into JS value\n  var val = process.env[key];\n  if (/^(yes|on|true|enabled)$/i.test(val)) val = true;\n  else if (/^(no|off|false|disabled)$/i.test(val)) val = false;\n  else if (val === 'null') val = null;\n  else val = Number(val);\n\n  obj[prop] = val;\n  return obj;\n}, {});\n\n/**\n * The file descriptor to write the `debug()` calls to.\n * Set the `DEBUG_FD` env variable to override with another value. i.e.:\n *\n *   $ DEBUG_FD=3 node script.js 3>debug.log\n */\n\nvar fd = parseInt(process.env.DEBUG_FD, 10) || 2;\n\nif (1 !== fd && 2 !== fd) {\n  util.deprecate(function(){}, 'except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)')()\n}\n\nvar stream = 1 === fd ? process.stdout :\n             2 === fd ? process.stderr :\n             createWritableStdioStream(fd);\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts\n    ? Boolean(exports.inspectOpts.colors)\n    : tty.isatty(fd);\n}\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nexports.formatters.o = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .split('\\n').map(function(str) {\n      return str.trim()\n    }).join(' ');\n};\n\n/**\n * Map %o to `util.inspect()`, allowing multiple lines if needed.\n */\n\nexports.formatters.O = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var name = this.namespace;\n  var useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var prefix = '  \\u001b[3' + c + ';1m' + name + ' ' + '\\u001b[0m';\n\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push('\\u001b[3' + c + 'm+' + exports.humanize(this.diff) + '\\u001b[0m');\n  } else {\n    args[0] = new Date().toUTCString()\n      + ' ' + name + ' ' + args[0];\n  }\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to `stream`.\n */\n\nfunction log() {\n  return stream.write(util.format.apply(util, arguments) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  if (null == namespaces) {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  } else {\n    process.env.DEBUG = namespaces;\n  }\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  return process.env.DEBUG;\n}\n\n/**\n * Copied from `node/src/node.js`.\n *\n * XXX: It's lame that node doesn't expose this API out-of-the-box. It also\n * relies on the undocumented `tty_wrap.guessHandleType()` which is also lame.\n */\n\nfunction createWritableStdioStream (fd) {\n  var stream;\n  var tty_wrap = process.binding('tty_wrap');\n\n  // Note stream._type is used for test-module-load-list.js\n\n  switch (tty_wrap.guessHandleType(fd)) {\n    case 'TTY':\n      stream = new tty.WriteStream(fd);\n      stream._type = 'tty';\n\n      // Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    case 'FILE':\n      var fs = require('fs');\n      stream = new fs.SyncWriteStream(fd, { autoClose: false });\n      stream._type = 'fs';\n      break;\n\n    case 'PIPE':\n    case 'TCP':\n      var net = require('net');\n      stream = new net.Socket({\n        fd: fd,\n        readable: false,\n        writable: true\n      });\n\n      // FIXME Should probably have an option in net.Socket to create a\n      // stream from an existing fd which is writable only. But for now\n      // we'll just add this hack and set the `readable` member to false.\n      // Test: ./node test/fixtures/echo.js < /etc/passwd\n      stream.readable = false;\n      stream.read = null;\n      stream._type = 'pipe';\n\n      // FIXME Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    default:\n      // Probably an error on in uv_guess_handle()\n      throw new Error('Implement me. Unknown stream file type!');\n  }\n\n  // For supporting legacy API we put the FD here.\n  stream.fd = fd;\n\n  stream._isStdio = true;\n\n  return stream;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init (debug) {\n  debug.inspectOpts = {};\n\n  var keys = Object.keys(exports.inspectOpts);\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\n/**\n * Enable namespaces listed in `process.env.DEBUG` initially.\n */\n\nexports.enable(load());\n","/**\n * Detect Electron renderer process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process !== 'undefined' && process.type === 'renderer') {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n","/*!\n * on-finished\n * Copyright(c) 2013 Jonathan Ong\n * Copyright(c) 2014 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = onFinished\nmodule.exports.isFinished = isFinished\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar first = require('ee-first')\n\n/**\n * Variables.\n * @private\n */\n\n/* istanbul ignore next */\nvar defer = typeof setImmediate === 'function'\n  ? setImmediate\n  : function(fn){ process.nextTick(fn.bind.apply(fn, arguments)) }\n\n/**\n * Invoke callback when the response has finished, useful for\n * cleaning up resources afterwards.\n *\n * @param {object} msg\n * @param {function} listener\n * @return {object}\n * @public\n */\n\nfunction onFinished(msg, listener) {\n  if (isFinished(msg) !== false) {\n    defer(listener, null, msg)\n    return msg\n  }\n\n  // attach the listener to the message\n  attachListener(msg, listener)\n\n  return msg\n}\n\n/**\n * Determine if message is already finished.\n *\n * @param {object} msg\n * @return {boolean}\n * @public\n */\n\nfunction isFinished(msg) {\n  var socket = msg.socket\n\n  if (typeof msg.finished === 'boolean') {\n    // OutgoingMessage\n    return Boolean(msg.finished || (socket && !socket.writable))\n  }\n\n  if (typeof msg.complete === 'boolean') {\n    // IncomingMessage\n    return Boolean(msg.upgrade || !socket || !socket.readable || (msg.complete && !msg.readable))\n  }\n\n  // don't know\n  return undefined\n}\n\n/**\n * Attach a finished listener to the message.\n *\n * @param {object} msg\n * @param {function} callback\n * @private\n */\n\nfunction attachFinishedListener(msg, callback) {\n  var eeMsg\n  var eeSocket\n  var finished = false\n\n  function onFinish(error) {\n    eeMsg.cancel()\n    eeSocket.cancel()\n\n    finished = true\n    callback(error)\n  }\n\n  // finished on first message event\n  eeMsg = eeSocket = first([[msg, 'end', 'finish']], onFinish)\n\n  function onSocket(socket) {\n    // remove listener\n    msg.removeListener('socket', onSocket)\n\n    if (finished) return\n    if (eeMsg !== eeSocket) return\n\n    // finished on first socket event\n    eeSocket = first([[socket, 'error', 'close']], onFinish)\n  }\n\n  if (msg.socket) {\n    // socket already assigned\n    onSocket(msg.socket)\n    return\n  }\n\n  // wait for socket to be assigned\n  msg.on('socket', onSocket)\n\n  if (msg.socket === undefined) {\n    // node.js 0.8 patch\n    patchAssignSocket(msg, onSocket)\n  }\n}\n\n/**\n * Attach the listener to the message.\n *\n * @param {object} msg\n * @return {function}\n * @private\n */\n\nfunction attachListener(msg, listener) {\n  var attached = msg.__onFinished\n\n  // create a private single listener with queue\n  if (!attached || !attached.queue) {\n    attached = msg.__onFinished = createListener(msg)\n    attachFinishedListener(msg, attached)\n  }\n\n  attached.queue.push(listener)\n}\n\n/**\n * Create listener on message.\n *\n * @param {object} msg\n * @return {function}\n * @private\n */\n\nfunction createListener(msg) {\n  function listener(err) {\n    if (msg.__onFinished === listener) msg.__onFinished = null\n    if (!listener.queue) return\n\n    var queue = listener.queue\n    listener.queue = null\n\n    for (var i = 0; i < queue.length; i++) {\n      queue[i](err, msg)\n    }\n  }\n\n  listener.queue = []\n\n  return listener\n}\n\n/**\n * Patch ServerResponse.prototype.assignSocket for node.js 0.8.\n *\n * @param {ServerResponse} res\n * @param {function} callback\n * @private\n */\n\nfunction patchAssignSocket(res, callback) {\n  var assignSocket = res.assignSocket\n\n  if (typeof assignSocket !== 'function') return\n\n  // res.on('socket', callback) is broken in 0.8\n  res.assignSocket = function _assignSocket(socket) {\n    assignSocket.call(this, socket)\n    callback(socket)\n  }\n}\n","/*!\n * statuses\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar codes = require('./codes.json')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = status\n\n// status code to message map\nstatus.STATUS_CODES = codes\n\n// array of status codes\nstatus.codes = populateStatusesMap(status, codes)\n\n// status codes for redirects\nstatus.redirect = {\n  300: true,\n  301: true,\n  302: true,\n  303: true,\n  305: true,\n  307: true,\n  308: true\n}\n\n// status codes for empty bodies\nstatus.empty = {\n  204: true,\n  205: true,\n  304: true\n}\n\n// status codes for when you should retry the request\nstatus.retry = {\n  502: true,\n  503: true,\n  504: true\n}\n\n/**\n * Populate the statuses map for given codes.\n * @private\n */\n\nfunction populateStatusesMap (statuses, codes) {\n  var arr = []\n\n  Object.keys(codes).forEach(function forEachCode (code) {\n    var message = codes[code]\n    var status = Number(code)\n\n    // Populate properties\n    statuses[status] = message\n    statuses[message] = status\n    statuses[message.toLowerCase()] = status\n\n    // Add to array\n    arr.push(status)\n  })\n\n  return arr\n}\n\n/**\n * Get the status code.\n *\n * Given a number, this will throw if it is not a known status\n * code, otherwise the code will be returned. Given a string,\n * the string will be parsed for a number and return the code\n * if valid, otherwise will lookup the code assuming this is\n * the status message.\n *\n * @param {string|number} code\n * @returns {number}\n * @public\n */\n\nfunction status (code) {\n  if (typeof code === 'number') {\n    if (!status[code]) throw new Error('invalid status code: ' + code)\n    return code\n  }\n\n  if (typeof code !== 'string') {\n    throw new TypeError('code must be a number or string')\n  }\n\n  // '403'\n  var n = parseInt(code, 10)\n  if (!isNaN(n)) {\n    if (!status[n]) throw new Error('invalid status code: ' + n)\n    return n\n  }\n\n  n = status[code.toLowerCase()]\n  if (!n) throw new Error('invalid status message: \"' + code + '\"')\n  return n\n}\n","/*!\n * finalhandler\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar debug = require('debug')('finalhandler')\nvar encodeUrl = require('encodeurl')\nvar escapeHtml = require('escape-html')\nvar onFinished = require('on-finished')\nvar parseUrl = require('parseurl')\nvar statuses = require('statuses')\nvar unpipe = require('unpipe')\n\n/**\n * Module variables.\n * @private\n */\n\nvar DOUBLE_SPACE_REGEXP = /\\x20{2}/g\nvar NEWLINE_REGEXP = /\\n/g\n\n/* istanbul ignore next */\nvar defer = typeof setImmediate === 'function'\n  ? setImmediate\n  : function (fn) { process.nextTick(fn.bind.apply(fn, arguments)) }\nvar isFinished = onFinished.isFinished\n\n/**\n * Create a minimal HTML document.\n *\n * @param {string} message\n * @private\n */\n\nfunction createHtmlDocument (message) {\n  var body = escapeHtml(message)\n    .replace(NEWLINE_REGEXP, '<br>')\n    .replace(DOUBLE_SPACE_REGEXP, ' &nbsp;')\n\n  return '<!DOCTYPE html>\\n' +\n    '<html lang=\"en\">\\n' +\n    '<head>\\n' +\n    '<meta charset=\"utf-8\">\\n' +\n    '<title>Error</title>\\n' +\n    '</head>\\n' +\n    '<body>\\n' +\n    '<pre>' + body + '</pre>\\n' +\n    '</body>\\n' +\n    '</html>\\n'\n}\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = finalhandler\n\n/**\n * Create a function to handle the final response.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {Object} [options]\n * @return {Function}\n * @public\n */\n\nfunction finalhandler (req, res, options) {\n  var opts = options || {}\n\n  // get environment\n  var env = opts.env || process.env.NODE_ENV || 'development'\n\n  // get error callback\n  var onerror = opts.onerror\n\n  return function (err) {\n    var headers\n    var msg\n    var status\n\n    // ignore 404 on in-flight response\n    if (!err && headersSent(res)) {\n      debug('cannot 404 after headers sent')\n      return\n    }\n\n    // unhandled error\n    if (err) {\n      // respect status code from error\n      status = getErrorStatusCode(err)\n\n      if (status === undefined) {\n        // fallback to status code on response\n        status = getResponseStatusCode(res)\n      } else {\n        // respect headers from error\n        headers = getErrorHeaders(err)\n      }\n\n      // get error message\n      msg = getErrorMessage(err, status, env)\n    } else {\n      // not found\n      status = 404\n      msg = 'Cannot ' + req.method + ' ' + encodeUrl(getResourceName(req))\n    }\n\n    debug('default %s', status)\n\n    // schedule onerror callback\n    if (err && onerror) {\n      defer(onerror, err, req, res)\n    }\n\n    // cannot actually respond\n    if (headersSent(res)) {\n      debug('cannot %d after headers sent', status)\n      req.socket.destroy()\n      return\n    }\n\n    // send response\n    send(req, res, status, headers, msg)\n  }\n}\n\n/**\n * Get headers from Error object.\n *\n * @param {Error} err\n * @return {object}\n * @private\n */\n\nfunction getErrorHeaders (err) {\n  if (!err.headers || typeof err.headers !== 'object') {\n    return undefined\n  }\n\n  var headers = Object.create(null)\n  var keys = Object.keys(err.headers)\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i]\n    headers[key] = err.headers[key]\n  }\n\n  return headers\n}\n\n/**\n * Get message from Error object, fallback to status message.\n *\n * @param {Error} err\n * @param {number} status\n * @param {string} env\n * @return {string}\n * @private\n */\n\nfunction getErrorMessage (err, status, env) {\n  var msg\n\n  if (env !== 'production') {\n    // use err.stack, which typically includes err.message\n    msg = err.stack\n\n    // fallback to err.toString() when possible\n    if (!msg && typeof err.toString === 'function') {\n      msg = err.toString()\n    }\n  }\n\n  return msg || statuses[status]\n}\n\n/**\n * Get status code from Error object.\n *\n * @param {Error} err\n * @return {number}\n * @private\n */\n\nfunction getErrorStatusCode (err) {\n  // check err.status\n  if (typeof err.status === 'number' && err.status >= 400 && err.status < 600) {\n    return err.status\n  }\n\n  // check err.statusCode\n  if (typeof err.statusCode === 'number' && err.statusCode >= 400 && err.statusCode < 600) {\n    return err.statusCode\n  }\n\n  return undefined\n}\n\n/**\n * Get resource name for the request.\n *\n * This is typically just the original pathname of the request\n * but will fallback to \"resource\" is that cannot be determined.\n *\n * @param {IncomingMessage} req\n * @return {string}\n * @private\n */\n\nfunction getResourceName (req) {\n  try {\n    return parseUrl.original(req).pathname\n  } catch (e) {\n    return 'resource'\n  }\n}\n\n/**\n * Get status code from response.\n *\n * @param {OutgoingMessage} res\n * @return {number}\n * @private\n */\n\nfunction getResponseStatusCode (res) {\n  var status = res.statusCode\n\n  // default status code to 500 if outside valid range\n  if (typeof status !== 'number' || status < 400 || status > 599) {\n    status = 500\n  }\n\n  return status\n}\n\n/**\n * Determine if the response headers have been sent.\n *\n * @param {object} res\n * @returns {boolean}\n * @private\n */\n\nfunction headersSent (res) {\n  return typeof res.headersSent !== 'boolean'\n    ? Boolean(res._header)\n    : res.headersSent\n}\n\n/**\n * Send response.\n *\n * @param {IncomingMessage} req\n * @param {OutgoingMessage} res\n * @param {number} status\n * @param {object} headers\n * @param {string} message\n * @private\n */\n\nfunction send (req, res, status, headers, message) {\n  function write () {\n    // response body\n    var body = createHtmlDocument(message)\n\n    // response status\n    res.statusCode = status\n    res.statusMessage = statuses[status]\n\n    // response headers\n    setHeaders(res, headers)\n\n    // security headers\n    res.setHeader('Content-Security-Policy', \"default-src 'none'\")\n    res.setHeader('X-Content-Type-Options', 'nosniff')\n\n    // standard headers\n    res.setHeader('Content-Type', 'text/html; charset=utf-8')\n    res.setHeader('Content-Length', Buffer.byteLength(body, 'utf8'))\n\n    if (req.method === 'HEAD') {\n      res.end()\n      return\n    }\n\n    res.end(body, 'utf8')\n  }\n\n  if (isFinished(req)) {\n    write()\n    return\n  }\n\n  // unpipe everything from the request\n  unpipe(req)\n\n  // flush the request\n  onFinished(req, write)\n  req.resume()\n}\n\n/**\n * Set response headers from an object.\n *\n * @param {OutgoingMessage} res\n * @param {object} headers\n * @private\n */\n\nfunction setHeaders (res, headers) {\n  if (!headers) {\n    return\n  }\n\n  var keys = Object.keys(headers)\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i]\n    res.setHeader(key, headers[key])\n  }\n}\n","/**\n * Merge object b with object a.\n *\n *     var a = { foo: 'bar' }\n *       , b = { bar: 'baz' };\n *\n *     merge(a, b);\n *     // => { foo: 'bar', bar: 'baz' }\n *\n * @param {Object} a\n * @param {Object} b\n * @return {Object}\n * @api public\n */\n\nexports = module.exports = function(a, b){\n  if (a && b) {\n    for (var key in b) {\n      a[key] = b[key];\n    }\n  }\n  return a;\n};\n","/*!\n * connect\n * Copyright(c) 2010 Sencha Inc.\n * Copyright(c) 2011 TJ Holowaychuk\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar debug = require('debug')('connect:dispatcher');\nvar EventEmitter = require('events').EventEmitter;\nvar finalhandler = require('finalhandler');\nvar http = require('http');\nvar merge = require('utils-merge');\nvar parseUrl = require('parseurl');\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = createServer;\n\n/**\n * Module variables.\n * @private\n */\n\nvar env = process.env.NODE_ENV || 'development';\nvar proto = {};\n\n/* istanbul ignore next */\nvar defer = typeof setImmediate === 'function'\n  ? setImmediate\n  : function(fn){ process.nextTick(fn.bind.apply(fn, arguments)) }\n\n/**\n * Create a new connect server.\n *\n * @return {function}\n * @public\n */\n\nfunction createServer() {\n  function app(req, res, next){ app.handle(req, res, next); }\n  merge(app, proto);\n  merge(app, EventEmitter.prototype);\n  app.route = '/';\n  app.stack = [];\n  return app;\n}\n\n/**\n * Utilize the given middleware `handle` to the given `route`,\n * defaulting to _/_. This \"route\" is the mount-point for the\n * middleware, when given a value other than _/_ the middleware\n * is only effective when that segment is present in the request's\n * pathname.\n *\n * For example if we were to mount a function at _/admin_, it would\n * be invoked on _/admin_, and _/admin/settings_, however it would\n * not be invoked for _/_, or _/posts_.\n *\n * @param {String|Function|Server} route, callback or server\n * @param {Function|Server} callback or server\n * @return {Server} for chaining\n * @public\n */\n\nproto.use = function use(route, fn) {\n  var handle = fn;\n  var path = route;\n\n  // default route to '/'\n  if (typeof route !== 'string') {\n    handle = route;\n    path = '/';\n  }\n\n  // wrap sub-apps\n  if (typeof handle.handle === 'function') {\n    var server = handle;\n    server.route = path;\n    handle = function (req, res, next) {\n      server.handle(req, res, next);\n    };\n  }\n\n  // wrap vanilla http.Servers\n  if (handle instanceof http.Server) {\n    handle = handle.listeners('request')[0];\n  }\n\n  // strip trailing slash\n  if (path[path.length - 1] === '/') {\n    path = path.slice(0, -1);\n  }\n\n  // add the middleware\n  debug('use %s %s', path || '/', handle.name || 'anonymous');\n  this.stack.push({ route: path, handle: handle });\n\n  return this;\n};\n\n/**\n * Handle server requests, punting them down\n * the middleware stack.\n *\n * @private\n */\n\nproto.handle = function handle(req, res, out) {\n  var index = 0;\n  var protohost = getProtohost(req.url) || '';\n  var removed = '';\n  var slashAdded = false;\n  var stack = this.stack;\n\n  // final function handler\n  var done = out || finalhandler(req, res, {\n    env: env,\n    onerror: logerror\n  });\n\n  // store the original URL\n  req.originalUrl = req.originalUrl || req.url;\n\n  function next(err) {\n    if (slashAdded) {\n      req.url = req.url.substr(1);\n      slashAdded = false;\n    }\n\n    if (removed.length !== 0) {\n      req.url = protohost + removed + req.url.substr(protohost.length);\n      removed = '';\n    }\n\n    // next callback\n    var layer = stack[index++];\n\n    // all done\n    if (!layer) {\n      defer(done, err);\n      return;\n    }\n\n    // route data\n    var path = parseUrl(req).pathname || '/';\n    var route = layer.route;\n\n    // skip this layer if the route doesn't match\n    if (path.toLowerCase().substr(0, route.length) !== route.toLowerCase()) {\n      return next(err);\n    }\n\n    // skip if route match does not border \"/\", \".\", or end\n    var c = path.length > route.length && path[route.length];\n    if (c && c !== '/' && c !== '.') {\n      return next(err);\n    }\n\n    // trim off the part of the url that matches the route\n    if (route.length !== 0 && route !== '/') {\n      removed = route;\n      req.url = protohost + req.url.substr(protohost.length + removed.length);\n\n      // ensure leading slash\n      if (!protohost && req.url[0] !== '/') {\n        req.url = '/' + req.url;\n        slashAdded = true;\n      }\n    }\n\n    // call the layer handle\n    call(layer.handle, route, err, req, res, next);\n  }\n\n  next();\n};\n\n/**\n * Listen for connections.\n *\n * This method takes the same arguments\n * as node's `http.Server#listen()`.\n *\n * HTTP and HTTPS:\n *\n * If you run your application both as HTTP\n * and HTTPS you may wrap them individually,\n * since your Connect \"server\" is really just\n * a JavaScript `Function`.\n *\n *      var connect = require('connect')\n *        , http = require('http')\n *        , https = require('https');\n *\n *      var app = connect();\n *\n *      http.createServer(app).listen(80);\n *      https.createServer(options, app).listen(443);\n *\n * @return {http.Server}\n * @api public\n */\n\nproto.listen = function listen() {\n  var server = http.createServer(this);\n  return server.listen.apply(server, arguments);\n};\n\n/**\n * Invoke a route handle.\n * @private\n */\n\nfunction call(handle, route, err, req, res, next) {\n  var arity = handle.length;\n  var error = err;\n  var hasError = Boolean(err);\n\n  debug('%s %s : %s', handle.name || '<anonymous>', route, req.originalUrl);\n\n  try {\n    if (hasError && arity === 4) {\n      // error-handling middleware\n      handle(err, req, res, next);\n      return;\n    } else if (!hasError && arity < 4) {\n      // request-handling middleware\n      handle(req, res, next);\n      return;\n    }\n  } catch (e) {\n    // replace the error\n    error = e;\n  }\n\n  // continue\n  next(error);\n}\n\n/**\n * Log error using console.error.\n *\n * @param {Error} err\n * @private\n */\n\nfunction logerror(err) {\n  if (env !== 'test') console.error(err.stack || err.toString());\n}\n\n/**\n * Get get protocol + host for a URL.\n *\n * @param {string} url\n * @private\n */\n\nfunction getProtohost(url) {\n  if (url.length === 0 || url[0] === '/') {\n    return undefined;\n  }\n\n  var fqdnIndex = url.indexOf('://')\n\n  return fqdnIndex !== -1 && url.lastIndexOf('?', fqdnIndex) === -1\n    ? url.substr(0, url.indexOf('/', 3 + fqdnIndex))\n    : undefined;\n}\n","/**\n * This is a limited implementation of an in-memory cache.\n * It only supports the `cache-control` header.\n * It does NOT support `age` or `expires` headers.\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Cache\n */\nexport class InMemoryCache {\n    #store;\n    constructor() {\n        this.#store = new Map();\n    }\n    add(request) {\n        throw new Error('Method not implemented. Use `put` instead.');\n    }\n    addAll(requests) {\n        throw new Error('Method not implemented. Use `put` instead.');\n    }\n    matchAll(request, options) {\n        throw new Error('Method not implemented. Use `match` instead.');\n    }\n    async put(request, response) {\n        if (request.method !== 'GET') {\n            throw new TypeError('Cannot cache response to non-GET request.');\n        }\n        if (response.status === 206) {\n            throw new TypeError('Cannot cache response to a range request (206 Partial Content).');\n        }\n        if (response.headers.get('vary')?.includes('*')) {\n            throw new TypeError(\"Cannot cache response with 'Vary: *' header.\");\n        }\n        this.#store.set(request.url, {\n            body: new Uint8Array(await response.arrayBuffer()),\n            status: response.status,\n            headers: [...response.headers],\n            timestamp: Date.now(),\n        });\n    }\n    async match(request) {\n        if (request.method !== 'GET')\n            return;\n        const match = this.#store.get(request.url);\n        if (!match) {\n            return;\n        }\n        const { body, timestamp, ...metadata } = match;\n        const headers = new Headers(metadata.headers);\n        const cacheControl = headers.get('cache-control') || '';\n        const maxAge = parseInt(cacheControl.match(/max-age=(\\d+)/)?.[1] || '0', 10);\n        const swr = parseInt(cacheControl.match(/stale-while-revalidate=(\\d+)/)?.[1] || '0', 10);\n        const age = (Date.now() - timestamp) / 1000;\n        const isMiss = age > maxAge + swr;\n        if (isMiss) {\n            this.#store.delete(request.url);\n            return;\n        }\n        const isStale = age > maxAge;\n        headers.set('cache', isStale ? 'STALE' : 'HIT');\n        headers.set('date', new Date(timestamp).toUTCString());\n        return new Response(body, {\n            status: metadata.status ?? 200,\n            headers,\n        });\n    }\n    async delete(request) {\n        if (this.#store.has(request.url)) {\n            this.#store.delete(request.url);\n            return true;\n        }\n        return false;\n    }\n    keys(request) {\n        const cacheKeys = [];\n        for (const url of this.#store.keys()) {\n            if (!request || request.url === url) {\n                cacheKeys.push(new Request(url));\n            }\n        }\n        return Promise.resolve(cacheKeys);\n    }\n}\n","import '../utilities/web-api-polyfill.js';\nimport path from 'path';\nimport { handleRequest, indexTemplate, relativeClientBuildPath, } from './virtual.js';\nimport { hydrogenMiddleware } from '../framework/middleware.js';\n// @ts-ignore\nimport serveStatic from 'serve-static';\n// @ts-ignore\nimport compression from 'compression';\nimport bodyParser from 'body-parser';\nimport connect from 'connect';\nimport { InMemoryCache } from '../framework/cache/in-memory.js';\nexport async function createServer({ cache = new InMemoryCache(), } = {}) {\n    // @ts-ignore\n    globalThis.Oxygen = { env: process.env };\n    const app = connect();\n    app.use(compression());\n    app.use(serveStatic(path.resolve(__dirname, relativeClientBuildPath), {\n        index: false,\n    }));\n    app.use(bodyParser.raw({ type: '*/*' }));\n    app.use(hydrogenMiddleware({\n        getServerEntrypoint: () => handleRequest,\n        indexTemplate,\n        cache,\n    }));\n    return { app };\n}\nif (require.main === module) {\n    createServer().then(({ app }) => {\n        const port = process.env.PORT || 8080;\n        app.listen(port, () => {\n            console.log(`Hydrogen server running at http://localhost:${port}`);\n        });\n    });\n}\n","import { Cookie } from '../Cookie/Cookie.js';\n/** The `CookieSessionStorage` component is the default session storage mechanism for Hydrogen.\n */\nexport const CookieSessionStorage = function (\n/** The name of the cookie stored in the browser. */\nname, \n/** An optional object to configure [how the cookie is persisted in the browser](https://shopify.dev/api/hydrogen/components/framework/cookie#cookie-options). */\noptions) {\n    return function () {\n        const cookie = new Cookie(name, options);\n        let parsed = false;\n        return {\n            async get(request) {\n                if (!parsed) {\n                    const cookieValue = request.headers.get('cookie');\n                    cookie.parse(cookieValue || '');\n                    parsed = true;\n                }\n                return cookie.data;\n            },\n            async set(request, value) {\n                cookie.setAll(value);\n                return cookie.serialize();\n            },\n            async destroy(request) {\n                // @todo - set expires for Date in past\n                parsed = true;\n                return cookie.destroy();\n            },\n        };\n    };\n};\n","export const defineConfig = (params) => params;\nexport { ShopifyServerAnalyticsConnector } from './foundation/Analytics/connectors/Shopify/ServerAnalyticsConnector.js';\nexport { PerformanceMetricsServerAnalyticsConnector } from './foundation/Analytics/connectors/PerformanceMetrics/ServerAnalyticsConnector.js';\nexport { CookieSessionStorage } from './foundation/CookieSessionStorage/CookieSessionStorage.js';\nexport { MemorySessionStorage } from './foundation/MemorySessionStorage/MemorySessionStorage.js';\n","import {defineConfig, CookieSessionStorage} from '@shopify/hydrogen/config';\n\nexport default defineConfig({\n  shopify: {\n    defaultCountryCode: 'US',\n    defaultLanguageCode: 'EN',\n    storeDomain:\n      // @ts-ignore\n      Oxygen?.env?.PUBLIC_STORE_DOMAIN || 'hydrogen-preview.myshopify.com',\n    storefrontToken:\n      // @ts-ignore\n      Oxygen?.env?.PUBLIC_STOREFRONT_API_TOKEN ||\n      '3b580e70970c4528da70c98e097c2fa0',\n    privateStorefrontToken:\n      // @ts-ignore\n      Oxygen?.env?.PRIVATE_STOREFRONT_API_TOKEN,\n    storefrontApiVersion: '2022-07',\n    // @ts-ignore\n    storefrontId: Oxygen?.env?.PUBLIC_STOREFRONT_ID,\n  },\n  session: CookieSessionStorage('__session', {\n    path: '/',\n    httpOnly: true,\n    secure: import.meta.env.PROD,\n    sameSite: 'Strict',\n    maxAge: 60 * 60 * 24 * 30,\n  }),\n});\n","import {useShopQuery, gql, CacheLong} from '@shopify/hydrogen';\n\n/*\n  This route redirects you to your Shopify Admin\n  by querying for your myshopify.com domain.\n  Learn more about the redirect method here:\n  https://developer.mozilla.org/en-US/docs/Web/API/Response/redirect\n*/\n\nexport default function AdminRedirect({response}) {\n  const {data} = useShopQuery({\n    query: SHOP_QUERY,\n    cache: CacheLong(),\n  });\n\n  const {url} = data.shop.primaryDomain;\n  return response.redirect(`${url}/admin`);\n}\n\nconst SHOP_QUERY = gql`\n  query {\n    shop {\n      primaryDomain {\n        url\n      }\n    }\n  }\n`;\n","import {Seo} from '@shopify/hydrogen';\nimport {PageHeader, Section, CartDetails} from '~/components';\nimport {Layout} from '~/components/index.server';\n\nexport default function Cart() {\n  return (\n    <Layout>\n      <Seo type=\"page\" data={{title: 'Cart'}} />\n      <PageHeader heading=\"Your Cart\" className=\"max-w-7xl mx-auto\" />\n      <Section className=\"max-w-7xl mx-auto\">\n        <CartDetails layout=\"page\" />\n      </Section>\n    </Layout>\n  );\n}\n","import {Suspense} from 'react';\nimport {\n  CacheLong,\n  gql,\n  Seo,\n  ShopifyAnalyticsConstants,\n  useServerAnalytics,\n  useLocalization,\n  useShopQuery,\n} from '@shopify/hydrogen';\n\nimport {MEDIA_FRAGMENT, PRODUCT_CARD_FRAGMENT} from '~/lib/fragments';\nimport {getHeroPlaceholder} from '~/lib/placeholders';\nimport {FeaturedCollections, Hero} from '~/components';\nimport {Layout, ProductSwimlane} from '~/components/index.server';\n\nexport default function Homepage() {\n  useServerAnalytics({\n    shopify: {\n      pageType: ShopifyAnalyticsConstants.pageType.home,\n    },\n  });\n\n  return (\n    <Layout>\n      <Suspense>\n        <SeoForHomepage />\n      </Suspense>\n      <Suspense>\n        <HomepageContent />\n      </Suspense>\n    </Layout>\n  );\n}\n\nfunction HomepageContent() {\n  const {\n    language: {isoCode: languageCode},\n    country: {isoCode: countryCode},\n  } = useLocalization();\n\n  const {data} = useShopQuery({\n    query: HOMEPAGE_CONTENT_QUERY,\n    variables: {\n      language: languageCode,\n      country: countryCode,\n    },\n    preload: true,\n  });\n\n  const {heroBanners, featuredCollections, featuredProducts} = data;\n\n  // fill in the hero banners with placeholders if they're missing\n  const [primaryHero, secondaryHero, tertiaryHero] = getHeroPlaceholder(\n    heroBanners.nodes,\n  );\n\n  return (\n    <>\n      {primaryHero && (\n        <Hero {...primaryHero} height=\"full\" top loading=\"eager\" />\n      )}\n      <ProductSwimlane\n        data={featuredProducts.nodes}\n        title=\"Featured Products\"\n        divider=\"bottom\"\n      />\n      {secondaryHero && <Hero {...secondaryHero} />}\n      <FeaturedCollections\n        data={featuredCollections.nodes}\n        title=\"Collections\"\n      />\n      {tertiaryHero && <Hero {...tertiaryHero} />}\n    </>\n  );\n}\n\nfunction SeoForHomepage() {\n  const {\n    data: {\n      shop: {name, description},\n    },\n  } = useShopQuery({\n    query: HOMEPAGE_SEO_QUERY,\n    cache: CacheLong(),\n    preload: true,\n  });\n\n  return (\n    <Seo\n      type=\"homepage\"\n      data={{\n        title: name,\n        description,\n        titleTemplate: '%s  Powered by Hydrogen',\n      }}\n    />\n  );\n}\n\n/**\n * The homepage content query includes a request for custom metafields inside the alias\n * `heroBanners`. The template loads placeholder content if these metafields don't\n * exist. Define the following five custom metafields on your Shopify store to override placeholders:\n * - hero.title             Single line text\n * - hero.byline            Single line text\n * - hero.cta               Single line text\n * - hero.spread            File\n * - hero.spread_seconary   File\n *\n * @see https://help.shopify.com/manual/metafields/metafield-definitions/creating-custom-metafield-definitions\n * @see https://github.com/Shopify/hydrogen/discussions/1790\n */\n\nconst HOMEPAGE_CONTENT_QUERY = gql`\n  ${MEDIA_FRAGMENT}\n  ${PRODUCT_CARD_FRAGMENT}\n  query homepage($country: CountryCode, $language: LanguageCode)\n  @inContext(country: $country, language: $language) {\n    heroBanners: collections(\n      first: 3\n      query: \"collection_type:custom\"\n      sortKey: UPDATED_AT\n    ) {\n      nodes {\n        id\n        handle\n        title\n        descriptionHtml\n        heading: metafield(namespace: \"hero\", key: \"title\") {\n          value\n        }\n        byline: metafield(namespace: \"hero\", key: \"byline\") {\n          value\n        }\n        cta: metafield(namespace: \"hero\", key: \"cta\") {\n          value\n        }\n        spread: metafield(namespace: \"hero\", key: \"spread\") {\n          reference {\n            ...Media\n          }\n        }\n        spreadSecondary: metafield(namespace: \"hero\", key: \"spread_secondary\") {\n          reference {\n            ...Media\n          }\n        }\n      }\n    }\n    featuredCollections: collections(\n      first: 3\n      query: \"collection_type:smart\"\n      sortKey: UPDATED_AT\n    ) {\n      nodes {\n        id\n        title\n        handle\n        image {\n          altText\n          width\n          height\n          url\n        }\n      }\n    }\n    featuredProducts: products(first: 12) {\n      nodes {\n        ...ProductCard\n      }\n    }\n  }\n`;\n\nconst HOMEPAGE_SEO_QUERY = gql`\n  query shopInfo {\n    shop {\n      name\n      description\n    }\n  }\n`;\n","export async function api(request) {\n  const url = new URL(request.url);\n\n  return new Response(robotsTxtData({url: url.origin}), {\n    headers: {\n      'content-type': 'text/plain',\n      // Cache for 24 hours\n      'cache-control': `max-age=${60 * 60 * 24}`,\n    },\n  });\n}\n\nfunction robotsTxtData({url}) {\n  const sitemapUrl = url ? `${url}/sitemap.xml` : undefined;\n\n  return `\nUser-agent: *\nDisallow: /admin\nDisallow: /cart\nDisallow: /orders\nDisallow: /checkouts/\nDisallow: /checkout\nDisallow: /carts\nDisallow: /account\n${sitemapUrl ? `Sitemap: ${sitemapUrl}` : ''}\n\n# Google adsbot ignores robots.txt unless specifically named!\nUser-agent: adsbot-google\nDisallow: /checkouts/\nDisallow: /checkout\nDisallow: /carts\nDisallow: /orders\n\nUser-agent: Pinterest\nCrawl-delay: 1\n`.trim();\n}\n","import {gql, useLocalization, useShopQuery, useUrl} from '@shopify/hydrogen';\n\nimport {PRODUCT_CARD_FRAGMENT} from '~/lib/fragments';\nimport {ProductGrid, Section, Text} from '~/components';\nimport {NoResultRecommendations, SearchPage} from '~/components/index.server';\nimport {PAGINATION_SIZE} from '~/lib/const';\nimport {Suspense} from 'react';\n\nexport default function Search({pageBy = PAGINATION_SIZE, params}) {\n  const {\n    language: {isoCode: languageCode},\n    country: {isoCode: countryCode},\n  } = useLocalization();\n\n  const {handle} = params;\n  const {searchParams} = useUrl();\n\n  const searchTerm = searchParams.get('q');\n\n  const {data} = useShopQuery({\n    query: SEARCH_QUERY,\n    variables: {\n      handle,\n      country: countryCode,\n      language: languageCode,\n      pageBy,\n      searchTerm,\n    },\n    preload: true,\n  });\n\n  const products = data?.products;\n  const noResults = products?.nodes?.length === 0;\n\n  if (!searchTerm || noResults) {\n    return (\n      <SearchPage searchTerm={searchTerm ? decodeURI(searchTerm) : null}>\n        {noResults && (\n          <Section padding=\"x\">\n            <Text className=\"opacity-50\">No results, try something else.</Text>\n          </Section>\n        )}\n        <Suspense>\n          <NoResultRecommendations\n            country={countryCode}\n            language={languageCode}\n          />\n        </Suspense>\n      </SearchPage>\n    );\n  }\n\n  return (\n    <SearchPage searchTerm={decodeURI(searchTerm)}>\n      <Section>\n        <ProductGrid\n          key=\"search\"\n          url={`/search?country=${countryCode}&q=${searchTerm}`}\n          collection={{products}}\n        />\n      </Section>\n    </SearchPage>\n  );\n}\n\n// API to paginate the results of the search query.\n// @see templates/demo-store/src/components/product/ProductGrid.client.tsx\nexport async function api(request, {params, queryShop}) {\n  if (request.method !== 'POST') {\n    return new Response('Method not allowed', {\n      status: 405,\n      headers: {Allow: 'POST'},\n    });\n  }\n\n  const url = new URL(request.url);\n  const cursor = url.searchParams.get('cursor');\n  const country = url.searchParams.get('country');\n  const searchTerm = url.searchParams.get('q');\n  const {handle} = params;\n\n  return await queryShop({\n    query: PAGINATE_SEARCH_QUERY,\n    variables: {\n      handle,\n      cursor,\n      pageBy: PAGINATION_SIZE,\n      country,\n      searchTerm,\n    },\n  });\n}\n\nconst SEARCH_QUERY = gql`\n  ${PRODUCT_CARD_FRAGMENT}\n  query search(\n    $searchTerm: String\n    $country: CountryCode\n    $language: LanguageCode\n    $pageBy: Int!\n    $after: String\n  ) @inContext(country: $country, language: $language) {\n    products(\n      first: $pageBy\n      sortKey: RELEVANCE\n      query: $searchTerm\n      after: $after\n    ) {\n      nodes {\n        ...ProductCard\n      }\n      pageInfo {\n        startCursor\n        endCursor\n        hasNextPage\n        hasPreviousPage\n      }\n    }\n  }\n`;\n\nconst PAGINATE_SEARCH_QUERY = gql`\n  ${PRODUCT_CARD_FRAGMENT}\n  query ProductsPage(\n    $searchTerm: String\n    $pageBy: Int!\n    $cursor: String\n    $country: CountryCode\n    $language: LanguageCode\n  ) @inContext(country: $country, language: $language) {\n    products(\n      sortKey: RELEVANCE\n      query: $searchTerm\n      first: $pageBy\n      after: $cursor\n    ) {\n      nodes {\n        ...ProductCard\n      }\n      pageInfo {\n        hasNextPage\n        endCursor\n      }\n    }\n  }\n`;\n","import {flattenConnection, gql} from '@shopify/hydrogen';\n\nconst MAX_URLS = 250; // the google limit is 50K, however, SF API only allow querying for 250 resources each time\n\nexport async function api(request, {queryShop}) {\n  const {data} = await queryShop({\n    query: QUERY,\n    variables: {\n      language: 'EN',\n      urlLimits: MAX_URLS,\n    },\n  });\n\n  return new Response(shopSitemap(data, new URL(request.url).origin), {\n    headers: {\n      'content-type': 'application/xml',\n      // Cache for 24 hours\n      'cache-control': `max-age=${60 * 60 * 24}`,\n    },\n  });\n}\n\nfunction shopSitemap(data, baseUrl) {\n  const productsData = flattenConnection(data.products)\n    .filter((product) => product.onlineStoreUrl)\n    .map((product) => {\n      const url = `${baseUrl}/products/${product.handle}`;\n\n      const finalObject = {\n        url,\n        lastMod: product.updatedAt,\n        changeFreq: 'daily',\n      };\n\n      if (product.featuredImage?.url) {\n        finalObject.image = {\n          url: product.featuredImage.url,\n        };\n\n        if (product.title) {\n          finalObject.image.title = product.title;\n        }\n\n        if (product.featuredImage.altText) {\n          finalObject.image.caption = product.featuredImage.altText;\n        }\n      }\n\n      return finalObject;\n    });\n\n  const collectionsData = flattenConnection(data.collections)\n    .filter((collection) => collection.onlineStoreUrl)\n    .map((collection) => {\n      const url = `${baseUrl}/collections/${collection.handle}`;\n\n      return {\n        url,\n        lastMod: collection.updatedAt,\n        changeFreq: 'daily',\n      };\n    });\n\n  const pagesData = flattenConnection(data.pages)\n    .filter((page) => page.onlineStoreUrl)\n    .map((page) => {\n      const url = `${baseUrl}/pages/${page.handle}`;\n\n      return {\n        url,\n        lastMod: page.updatedAt,\n        changeFreq: 'weekly',\n      };\n    });\n\n  const urlsDatas = [...productsData, ...collectionsData, ...pagesData];\n\n  return `\n    <urlset\n      xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\"\n      xmlns:image=\"http://www.google.com/schemas/sitemap-image/1.1\"\n    >\n      ${urlsDatas.map((url) => renderUrlTag(url)).join('')}\n    </urlset>`;\n}\n\nfunction renderUrlTag({url, lastMod, changeFreq, image}) {\n  return `\n    <url>\n      <loc>${url}</loc>\n      <lastmod>${lastMod}</lastmod>\n      <changefreq>${changeFreq}</changefreq>\n      ${\n        image\n          ? `\n        <image:image>\n          <image:loc>${image.url}</image:loc>\n          <image:title>${image.title ?? ''}</image:title>\n          <image:caption>${image.caption ?? ''}</image:caption>\n        </image:image>`\n          : ''\n      }\n\n    </url>\n  `;\n}\n\nconst QUERY = gql`\n  query sitemaps($urlLimits: Int, $language: LanguageCode)\n  @inContext(language: $language) {\n    products(\n      first: $urlLimits\n      query: \"published_status:'online_store:visible'\"\n    ) {\n      edges {\n        node {\n          updatedAt\n          handle\n          onlineStoreUrl\n          title\n          featuredImage {\n            url\n            altText\n          }\n        }\n      }\n    }\n    collections(\n      first: $urlLimits\n      query: \"published_status:'online_store:visible'\"\n    ) {\n      edges {\n        node {\n          updatedAt\n          handle\n          onlineStoreUrl\n        }\n      }\n    }\n    pages(first: $urlLimits, query: \"published_status:'published'\") {\n      edges {\n        node {\n          updatedAt\n          handle\n          onlineStoreUrl\n        }\n      }\n    }\n  }\n`;\n","import {Suspense} from 'react';\nimport {\n  CacheNone,\n  flattenConnection,\n  gql,\n  Seo,\n  useSession,\n  useLocalization,\n  useShopQuery,\n} from '@shopify/hydrogen';\n\nimport {PRODUCT_CARD_FRAGMENT} from '~/lib/fragments';\nimport {getApiErrorMessage} from '~/lib/utils';\nimport {\n  AccountAddressBook,\n  AccountDetails,\n  AccountOrderHistory,\n  FeaturedCollections,\n  LogoutButton,\n  PageHeader,\n} from '~/components';\nimport {Layout, ProductSwimlane} from '~/components/index.server';\n\nexport default function Account({response}) {\n  response.cache(CacheNone());\n\n  const {\n    language: {isoCode: languageCode},\n    country: {isoCode: countryCode},\n  } = useLocalization();\n  const {customerAccessToken} = useSession();\n\n  if (!customerAccessToken) return response.redirect('/account/login');\n\n  const {data} = useShopQuery({\n    query: CUSTOMER_QUERY,\n    variables: {\n      customerAccessToken,\n      language: languageCode,\n      country: countryCode,\n    },\n    cache: CacheNone(),\n  });\n\n  const {customer, featuredCollections, featuredProducts} = data;\n\n  if (!customer) return response.redirect('/account/login');\n\n  const addresses = flattenConnection(customer.addresses).map((address) => ({\n    ...address,\n    id: address.id.substring(0, address.id.lastIndexOf('?')),\n    originalId: address.id,\n  }));\n\n  const defaultAddress = customer?.defaultAddress?.id?.substring(\n    0,\n    customer.defaultAddress.id.lastIndexOf('?'),\n  );\n\n  return (\n    <>\n      <AuthenticatedAccount\n        customer={customer}\n        addresses={addresses}\n        defaultAddress={defaultAddress}\n        featuredCollections={flattenConnection(featuredCollections)}\n        featuredProducts={flattenConnection(featuredProducts)}\n      />\n    </>\n  );\n}\n\nfunction AuthenticatedAccount({\n  customer,\n  addresses,\n  defaultAddress,\n  featuredCollections,\n  featuredProducts,\n}) {\n  const orders = flattenConnection(customer?.orders) || [];\n\n  const heading = customer\n    ? customer.firstName\n      ? `Welcome, ${customer.firstName}.`\n      : `Welcome to your account.`\n    : 'Account Details';\n\n  return (\n    <Layout>\n      <Suspense>\n        <Seo type=\"noindex\" data={{title: 'Account details'}} />\n      </Suspense>\n      <PageHeader heading={heading}>\n        <LogoutButton>Sign out</LogoutButton>\n      </PageHeader>\n      {orders && <AccountOrderHistory orders={orders} />}\n      <AccountDetails\n        firstName={customer.firstName}\n        lastName={customer.lastName}\n        phone={customer.phone}\n        email={customer.email}\n      />\n      <AccountAddressBook\n        defaultAddress={defaultAddress}\n        addresses={addresses}\n      />\n      {!orders && (\n        <>\n          <FeaturedCollections\n            title=\"Popular Collections\"\n            data={featuredCollections}\n          />\n          <ProductSwimlane data={featuredProducts} />\n        </>\n      )}\n    </Layout>\n  );\n}\n\nexport async function api(request, {session, queryShop}) {\n  if (request.method !== 'PATCH' && request.method !== 'DELETE') {\n    return new Response(null, {\n      status: 405,\n      headers: {\n        Allow: 'PATCH,DELETE',\n      },\n    });\n  }\n\n  if (!session) {\n    return new Response('Session storage not available.', {\n      status: 400,\n    });\n  }\n\n  const {customerAccessToken} = await session.get();\n\n  if (!customerAccessToken) return new Response(null, {status: 401});\n\n  const {email, phone, firstName, lastName, newPassword} = await request.json();\n\n  const customer = {};\n\n  if (email) customer.email = email;\n  if (phone) customer.phone = phone;\n  if (firstName) customer.firstName = firstName;\n  if (lastName) customer.lastName = lastName;\n  if (newPassword) customer.password = newPassword;\n\n  const {data, errors} = await queryShop({\n    query: CUSTOMER_UPDATE_MUTATION,\n    variables: {\n      customer,\n      customerAccessToken,\n    },\n    // @ts-expect-error `queryShop.cache` is not yet supported but soon will be.\n    cache: CacheNone(),\n  });\n\n  const error = getApiErrorMessage('customerUpdate', data, errors);\n\n  if (error) return new Response(JSON.stringify({error}), {status: 400});\n\n  return new Response(null);\n}\n\nconst CUSTOMER_QUERY = gql`\n  ${PRODUCT_CARD_FRAGMENT}\n  query CustomerDetails(\n    $customerAccessToken: String!\n    $country: CountryCode\n    $language: LanguageCode\n  ) @inContext(country: $country, language: $language) {\n    customer(customerAccessToken: $customerAccessToken) {\n      firstName\n      lastName\n      phone\n      email\n      defaultAddress {\n        id\n        formatted\n      }\n      addresses(first: 6) {\n        edges {\n          node {\n            id\n            formatted\n            firstName\n            lastName\n            company\n            address1\n            address2\n            country\n            province\n            city\n            zip\n            phone\n          }\n        }\n      }\n      orders(first: 250, sortKey: PROCESSED_AT, reverse: true) {\n        edges {\n          node {\n            id\n            orderNumber\n            processedAt\n            financialStatus\n            fulfillmentStatus\n            currentTotalPrice {\n              amount\n              currencyCode\n            }\n            lineItems(first: 2) {\n              edges {\n                node {\n                  variant {\n                    image {\n                      url\n                      altText\n                      height\n                      width\n                    }\n                  }\n                  title\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    featuredProducts: products(first: 12) {\n      nodes {\n        ...ProductCard\n      }\n    }\n    featuredCollections: collections(first: 3, sortKey: UPDATED_AT) {\n      nodes {\n        id\n        title\n        handle\n        image {\n          altText\n          width\n          height\n          url\n        }\n      }\n    }\n  }\n`;\n\nconst CUSTOMER_UPDATE_MUTATION = gql`\n  mutation customerUpdate(\n    $customer: CustomerUpdateInput!\n    $customerAccessToken: String!\n  ) {\n    customerUpdate(\n      customer: $customer\n      customerAccessToken: $customerAccessToken\n    ) {\n      customerUserErrors {\n        code\n        field\n        message\n      }\n    }\n  }\n`;\n","import {Suspense} from 'react';\nimport {useShopQuery, CacheLong, CacheNone, Seo, gql} from '@shopify/hydrogen';\n\nimport {AccountLoginForm} from '~/components';\nimport {Layout} from '~/components/index.server';\n\nexport default function Login({response}) {\n  response.cache(CacheNone());\n\n  const {\n    data: {\n      shop: {name},\n    },\n  } = useShopQuery({\n    query: SHOP_QUERY,\n    cache: CacheLong(),\n    preload: '*',\n  });\n\n  return (\n    <Layout>\n      <Suspense>\n        <Seo type=\"noindex\" data={{title: 'Login'}} />\n      </Suspense>\n      <AccountLoginForm shopName={name} />\n    </Layout>\n  );\n}\n\nconst SHOP_QUERY = gql`\n  query shopInfo {\n    shop {\n      name\n    }\n  }\n`;\n\nexport async function api(request, {session, queryShop}) {\n  if (!session) {\n    return new Response('Session storage not available.', {status: 400});\n  }\n\n  const jsonBody = await request.json();\n\n  if (!jsonBody.email || !jsonBody.password) {\n    return new Response(\n      JSON.stringify({error: 'Incorrect email or password.'}),\n      {status: 400},\n    );\n  }\n\n  const {data, errors} = await queryShop({\n    query: LOGIN_MUTATION,\n    variables: {\n      input: {\n        email: jsonBody.email,\n        password: jsonBody.password,\n      },\n    },\n    // @ts-expect-error `queryShop.cache` is not yet supported but soon will be.\n    cache: CacheNone(),\n  });\n\n  if (data?.customerAccessTokenCreate?.customerAccessToken?.accessToken) {\n    await session.set(\n      'customerAccessToken',\n      data.customerAccessTokenCreate.customerAccessToken.accessToken,\n    );\n\n    return new Response(null, {\n      status: 200,\n    });\n  } else {\n    return new Response(\n      JSON.stringify({\n        error: data?.customerAccessTokenCreate?.customerUserErrors ?? errors,\n      }),\n      {status: 401},\n    );\n  }\n}\n\nconst LOGIN_MUTATION = gql`\n  mutation customerAccessTokenCreate($input: CustomerAccessTokenCreateInput!) {\n    customerAccessTokenCreate(input: $input) {\n      customerUserErrors {\n        code\n        field\n        message\n      }\n      customerAccessToken {\n        accessToken\n        expiresAt\n      }\n    }\n  }\n`;\n","export async function api(request, {session}) {\n  if (request.method !== 'POST') {\n    return new Response('Post required to logout', {\n      status: 405,\n      headers: {\n        Allow: 'POST',\n      },\n    });\n  }\n\n  if (!session) {\n    return new Response('Session storage not available.', {\n      status: 400,\n    });\n  }\n\n  await session.set('customerAccessToken', '');\n\n  return new Response();\n}\n","import {Suspense} from 'react';\nimport {CacheNone, Seo, gql} from '@shopify/hydrogen';\n\nimport {AccountRecoverForm} from '~/components';\nimport {Layout} from '~/components/index.server';\n\n/**\n * A form for the user to fill out to _initiate_ a password reset.\n * If the form succeeds, an email will be sent to the user with a link\n * to reset their password. Clicking the link leads the user to the\n * page `/account/reset/[resetToken]`.\n */\nexport default function AccountRecover({response}) {\n  response.cache(CacheNone());\n\n  return (\n    <Layout>\n      <Suspense>\n        <Seo type=\"noindex\" data={{title: 'Recover password'}} />\n      </Suspense>\n      <AccountRecoverForm />\n    </Layout>\n  );\n}\n\nexport async function api(request, {queryShop}) {\n  const jsonBody = await request.json();\n\n  if (!jsonBody.email) {\n    return new Response(JSON.stringify({error: 'Email required'}), {\n      status: 400,\n    });\n  }\n\n  await queryShop({\n    query: CUSTOMER_RECOVER_MUTATION,\n    variables: {\n      email: jsonBody.email,\n    },\n    // @ts-expect-error `queryShop.cache` is not yet supported but soon will be.\n    cache: CacheNone(),\n  });\n\n  // Ignore errors, we don't want to tell the user if the email was\n  // valid or not, thereby allowing them to determine who uses the site\n  return new Response(null, {\n    status: 200,\n  });\n}\n\nconst CUSTOMER_RECOVER_MUTATION = gql`\n  mutation customerRecover($email: String!) {\n    customerRecover(email: $email) {\n      customerUserErrors {\n        code\n        field\n        message\n      }\n    }\n  }\n`;\n","import {Suspense} from 'react';\nimport {CacheNone, Seo, gql} from '@shopify/hydrogen';\n\nimport {AccountCreateForm} from '~/components';\nimport {Layout} from '~/components/index.server';\nimport {getApiErrorMessage} from '~/lib/utils';\n\nexport default function Register({response}) {\n  response.cache(CacheNone());\n\n  return (\n    <Layout>\n      <Suspense>\n        <Seo type=\"noindex\" data={{title: 'Register'}} />\n      </Suspense>\n      <AccountCreateForm />\n    </Layout>\n  );\n}\n\nexport async function api(request, {queryShop}) {\n  const jsonBody = await request.json();\n\n  if (!jsonBody.email || !jsonBody.password) {\n    return new Response(\n      JSON.stringify({error: 'Email and password are required'}),\n      {status: 400},\n    );\n  }\n\n  const {data, errors} = await queryShop({\n    query: CUSTOMER_CREATE_MUTATION,\n    variables: {\n      input: {\n        email: jsonBody.email,\n        password: jsonBody.password,\n        firstName: jsonBody.firstName,\n        lastName: jsonBody.lastName,\n      },\n    },\n    // @ts-expect-error `queryShop.cache` is not yet supported but soon will be.\n    cache: CacheNone(),\n  });\n\n  const errorMessage = getApiErrorMessage('customerCreate', data, errors);\n\n  if (\n    !errorMessage &&\n    data &&\n    data.customerCreate &&\n    data.customerCreate.customer &&\n    data.customerCreate.customer.id\n  ) {\n    return new Response(null, {\n      status: 200,\n    });\n  } else {\n    return new Response(\n      JSON.stringify({\n        error: errorMessage ?? 'Unknown error',\n      }),\n      {status: 401},\n    );\n  }\n}\n\nconst CUSTOMER_CREATE_MUTATION = gql`\n  mutation customerCreate($input: CustomerCreateInput!) {\n    customerCreate(input: $input) {\n      customer {\n        id\n      }\n      customerUserErrors {\n        code\n        field\n        message\n      }\n    }\n  }\n`;\n","import {gql} from '@shopify/hydrogen';\nimport {PRODUCT_CARD_FRAGMENT} from '~/lib/fragments';\n\nexport async function api(_request, {queryShop}) {\n  const {\n    data: {products},\n  } = await queryShop({\n    query: TOP_PRODUCTS_QUERY,\n    variables: {\n      count: 4,\n    },\n  });\n\n  return products.nodes;\n}\n\nconst TOP_PRODUCTS_QUERY = gql`\n  ${PRODUCT_CARD_FRAGMENT}\n  query topProducts(\n    $count: Int\n    $countryCode: CountryCode\n    $languageCode: LanguageCode\n  ) @inContext(country: $countryCode, language: $languageCode) {\n    products(first: $count, sortKey: BEST_SELLING) {\n      nodes {\n        ...ProductCard\n      }\n    }\n  }\n`;\n","import {gql} from '@shopify/hydrogen';\n\nexport async function api(_request, {queryShop}) {\n  const {\n    data: {\n      localization: {availableCountries},\n    },\n  } = await queryShop({\n    query: COUNTRIES_QUERY,\n  });\n\n  return availableCountries.sort((a, b) => a.name.localeCompare(b.name));\n}\n\nconst COUNTRIES_QUERY = gql`\n  query Localization {\n    localization {\n      availableCountries {\n        isoCode\n        name\n        currency {\n          isoCode\n        }\n      }\n    }\n  }\n`;\n","import {Suspense} from 'react';\nimport {\n  gql,\n  Seo,\n  ShopifyAnalyticsConstants,\n  useServerAnalytics,\n  useLocalization,\n  useShopQuery,\n} from '@shopify/hydrogen';\n\nimport {PRODUCT_CARD_FRAGMENT} from '~/lib/fragments';\nimport {PageHeader, ProductGrid, Section, Text} from '~/components';\nimport {NotFound, Layout} from '~/components/index.server';\n\nconst pageBy = 48;\n\nexport default function Collection({params}) {\n  const {handle} = params;\n  const {\n    language: {isoCode: language},\n    country: {isoCode: country},\n  } = useLocalization();\n\n  const {\n    data: {collection},\n  } = useShopQuery({\n    query: COLLECTION_QUERY,\n    variables: {\n      handle,\n      language,\n      country,\n      pageBy,\n    },\n    preload: true,\n  });\n\n  if (!collection) {\n    return <NotFound type=\"collection\" />;\n  }\n\n  useServerAnalytics({\n    shopify: {\n      pageType: ShopifyAnalyticsConstants.pageType.collection,\n      resourceId: collection.id,\n    },\n  });\n\n  return (\n    <Layout>\n      <Suspense>\n        <Seo type=\"collection\" data={collection} />\n      </Suspense>\n      <PageHeader heading={collection.title}>\n        {collection?.description && (\n          <div className=\"flex items-baseline justify-between w-full\">\n            <div>\n              <Text format width=\"narrow\" as=\"p\" className=\"inline-block\">\n                {collection.description}\n              </Text>\n            </div>\n          </div>\n        )}\n      </PageHeader>\n      <Section>\n        <ProductGrid\n          key={collection.id}\n          collection={collection}\n          url={`/collections/${handle}?country=${country}`}\n        />\n      </Section>\n    </Layout>\n  );\n}\n\n// API endpoint that returns paginated products for this collection\n// @see templates/demo-store/src/components/product/ProductGrid.client.tsx\nexport async function api(request, {params, queryShop}) {\n  if (request.method !== 'POST') {\n    return new Response('Method not allowed', {\n      status: 405,\n      headers: {Allow: 'POST'},\n    });\n  }\n  const url = new URL(request.url);\n\n  const cursor = url.searchParams.get('cursor');\n  const country = url.searchParams.get('country');\n  const {handle} = params;\n\n  return await queryShop({\n    query: PAGINATE_COLLECTION_QUERY,\n    variables: {\n      handle,\n      cursor,\n      pageBy,\n      country,\n    },\n  });\n}\n\nconst COLLECTION_QUERY = gql`\n  ${PRODUCT_CARD_FRAGMENT}\n  query CollectionDetails(\n    $handle: String!\n    $country: CountryCode\n    $language: LanguageCode\n    $pageBy: Int!\n    $cursor: String\n  ) @inContext(country: $country, language: $language) {\n    collection(handle: $handle) {\n      id\n      title\n      description\n      seo {\n        description\n        title\n      }\n      image {\n        id\n        url\n        width\n        height\n        altText\n      }\n      products(first: $pageBy, after: $cursor) {\n        nodes {\n          ...ProductCard\n        }\n        pageInfo {\n          hasNextPage\n          endCursor\n        }\n      }\n    }\n  }\n`;\n\nconst PAGINATE_COLLECTION_QUERY = gql`\n  ${PRODUCT_CARD_FRAGMENT}\n  query CollectionPage(\n    $handle: String!\n    $pageBy: Int!\n    $cursor: String\n    $country: CountryCode\n    $language: LanguageCode\n  ) @inContext(country: $country, language: $language) {\n    collection(handle: $handle) {\n      products(first: $pageBy, after: $cursor) {\n        nodes {\n          ...ProductCard\n        }\n        pageInfo {\n          hasNextPage\n          endCursor\n        }\n      }\n    }\n  }\n`;\n","export default function Redirect({response}) {\n  return response.redirect('/products');\n}\n","import {Suspense} from 'react';\nimport {useShopQuery, useLocalization, gql, Seo} from '@shopify/hydrogen';\n\nimport {PageHeader, Section, Grid} from '~/components';\nimport {Layout, CollectionCard} from '~/components/index.server';\nimport {getImageLoadingPriority, PAGINATION_SIZE} from '~/lib/const';\n\nexport default function Collections() {\n  return (\n    <Layout>\n      <Seo type=\"page\" data={{title: 'All Collections'}} />\n      <PageHeader heading=\"Collections\" />\n      <Section>\n        <Suspense>\n          <CollectionGrid />\n        </Suspense>\n      </Section>\n    </Layout>\n  );\n}\n\nfunction CollectionGrid() {\n  const {\n    language: {isoCode: languageCode},\n    country: {isoCode: countryCode},\n  } = useLocalization();\n\n  const {data} = useShopQuery({\n    query: COLLECTIONS_QUERY,\n    variables: {\n      pageBy: PAGINATION_SIZE,\n      country: countryCode,\n      language: languageCode,\n    },\n    preload: true,\n  });\n\n  const collections = data.collections.nodes;\n\n  return (\n    <Grid items={collections.length === 3 ? 3 : 2}>\n      {collections.map((collection, i) => (\n        <CollectionCard\n          collection={collection}\n          key={collection.id}\n          loading={getImageLoadingPriority(i, 2)}\n        />\n      ))}\n    </Grid>\n  );\n}\n\nconst COLLECTIONS_QUERY = gql`\n  query Collections(\n    $country: CountryCode\n    $language: LanguageCode\n    $pageBy: Int!\n  ) @inContext(country: $country, language: $language) {\n    collections(first: $pageBy) {\n      nodes {\n        id\n        title\n        description\n        handle\n        seo {\n          description\n          title\n        }\n        image {\n          id\n          url\n          width\n          height\n          altText\n        }\n      }\n    }\n  }\n`;\n","import {\n  useLocalization,\n  useShopQuery,\n  Seo,\n  gql,\n  Image,\n  CacheLong,\n} from '@shopify/hydrogen';\nimport {Suspense} from 'react';\n\nimport {CustomFont, PageHeader, Section} from '~/components';\nimport {Layout, NotFound} from '~/components/index.server';\nimport {ATTR_LOADING_EAGER} from '~/lib/const';\n\nconst BLOG_HANDLE = 'journal';\n\nexport default function Post({params, response}) {\n  response.cache(CacheLong());\n  const {\n    language: {isoCode: languageCode},\n    country: {isoCode: countryCode},\n  } = useLocalization();\n\n  const {handle} = params;\n  const {data} = useShopQuery({\n    query: ARTICLE_QUERY,\n    variables: {\n      language: languageCode,\n      blogHandle: BLOG_HANDLE,\n      articleHandle: handle,\n    },\n  });\n\n  if (!data?.blog?.articleByHandle) {\n    return <NotFound />;\n  }\n\n  const {title, publishedAt, contentHtml, author} = data.blog.articleByHandle;\n  const formattedDate = new Intl.DateTimeFormat(\n    `${languageCode}-${countryCode}`,\n    {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n    },\n  ).format(new Date(publishedAt));\n\n  return (\n    <Layout>\n      {/* Loads Fraunces custom font only on articles */}\n      <CustomFont />\n      <Suspense>\n        {/* @ts-expect-error Blog article types are not supported in TS */}\n        <Seo type=\"page\" data={data.blog.articleByHandle} />\n      </Suspense>\n      <PageHeader heading={title} variant=\"blogPost\">\n        <span>\n          {formattedDate} &middot; {author.name}\n        </span>\n      </PageHeader>\n      <Section as=\"article\" padding=\"x\">\n        {data.blog.articleByHandle.image && (\n          <Image\n            data={data.blog.articleByHandle.image}\n            className=\"w-full mx-auto mt-8 md:mt-16 max-w-7xl\"\n            sizes=\"90vw\"\n            widths={[400, 800, 1200]}\n            width=\"100px\"\n            loading={ATTR_LOADING_EAGER}\n            loaderOptions={{\n              scale: 2,\n              crop: 'center',\n            }}\n          />\n        )}\n        <div\n          dangerouslySetInnerHTML={{__html: contentHtml}}\n          className=\"article\"\n        />\n      </Section>\n    </Layout>\n  );\n}\n\nconst ARTICLE_QUERY = gql`\n  query ArticleDetails(\n    $language: LanguageCode\n    $blogHandle: String!\n    $articleHandle: String!\n  ) @inContext(language: $language) {\n    blog(handle: $blogHandle) {\n      articleByHandle(handle: $articleHandle) {\n        title\n        contentHtml\n        publishedAt\n        author: authorV2 {\n          name\n        }\n        image {\n          id\n          altText\n          url\n          width\n          height\n        }\n      }\n    }\n  }\n`;\n","import {\n  CacheLong,\n  flattenConnection,\n  gql,\n  Seo,\n  useLocalization,\n  useShopQuery,\n} from '@shopify/hydrogen';\nimport {Suspense} from 'react';\n\nimport {ArticleCard, Grid, PageHeader} from '~/components';\nimport {Layout} from '~/components/index.server';\nimport {getImageLoadingPriority, PAGINATION_SIZE} from '~/lib/const';\n\nconst BLOG_HANDLE = 'Journal';\n\nexport default function Blog({pageBy = PAGINATION_SIZE, response}) {\n  response.cache(CacheLong());\n\n  return (\n    <Layout>\n      <Seo type=\"page\" data={{title: 'All Journals'}} />\n      <PageHeader heading={BLOG_HANDLE} className=\"gap-0\">\n        <Suspense>\n          <JournalsGrid pageBy={pageBy} />\n        </Suspense>\n      </PageHeader>\n    </Layout>\n  );\n}\n\nfunction JournalsGrid({pageBy}) {\n  const {\n    language: {isoCode: languageCode},\n    country: {isoCode: countryCode},\n  } = useLocalization();\n\n  const {data} = useShopQuery({\n    query: BLOG_QUERY,\n    variables: {\n      language: languageCode,\n      blogHandle: BLOG_HANDLE,\n      pageBy,\n    },\n  });\n\n  // TODO: How to fix this type?\n  const rawArticles = flattenConnection(data.blog.articles);\n\n  const articles = rawArticles.map((article) => {\n    const {publishedAt} = article;\n    return {\n      ...article,\n      publishedAt: new Intl.DateTimeFormat(`${languageCode}-${countryCode}`, {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n      }).format(new Date(publishedAt)),\n    };\n  });\n\n  if (articles.length === 0) {\n    return <p>No articles found</p>;\n  }\n\n  return (\n    <Grid as=\"ol\" layout=\"blog\" gap=\"blog\">\n      {articles.map((article, i) => {\n        return (\n          <ArticleCard\n            blogHandle={BLOG_HANDLE.toLowerCase()}\n            article={article}\n            key={article.id}\n            loading={getImageLoadingPriority(i, 2)}\n          />\n        );\n      })}\n    </Grid>\n  );\n}\n\nconst BLOG_QUERY = gql`\n  query Blog(\n    $language: LanguageCode\n    $blogHandle: String!\n    $pageBy: Int!\n    $cursor: String\n  ) @inContext(language: $language) {\n    blog(handle: $blogHandle) {\n      articles(first: $pageBy, after: $cursor) {\n        edges {\n          node {\n            author: authorV2 {\n              name\n            }\n            contentHtml\n            handle\n            id\n            image {\n              id\n              altText\n              url\n              width\n              height\n            }\n            publishedAt\n            title\n          }\n        }\n      }\n    }\n  }\n`;\n","import {\n  useLocalization,\n  useShopQuery,\n  Seo,\n  useServerAnalytics,\n  ShopifyAnalyticsConstants,\n  gql,\n} from '@shopify/hydrogen';\nimport {Suspense} from 'react';\n\nimport {PageHeader} from '~/components';\nimport {NotFound, Layout} from '~/components/index.server';\n\nexport default function Page({params}) {\n  const {\n    language: {isoCode: languageCode},\n  } = useLocalization();\n\n  const {handle} = params;\n  const {\n    data: {page},\n  } = useShopQuery({\n    query: PAGE_QUERY,\n    variables: {languageCode, handle},\n  });\n\n  if (!page) {\n    return <NotFound />;\n  }\n\n  useServerAnalytics({\n    shopify: {\n      pageType: ShopifyAnalyticsConstants.pageType.page,\n      resourceId: page.id,\n    },\n  });\n\n  return (\n    <Layout>\n      <Suspense>\n        <Seo type=\"page\" data={page} />\n      </Suspense>\n      <PageHeader heading={page.title}>\n        <div\n          dangerouslySetInnerHTML={{__html: page.body}}\n          className=\"prose dark:prose-invert\"\n        />\n      </PageHeader>\n    </Layout>\n  );\n}\n\nconst PAGE_QUERY = gql`\n  query PageDetails($languageCode: LanguageCode, $handle: String!)\n  @inContext(language: $languageCode) {\n    page(handle: $handle) {\n      id\n      title\n      body\n      seo {\n        description\n        title\n      }\n    }\n  }\n`;\n","import {\n  useLocalization,\n  useShopQuery,\n  Seo,\n  useServerAnalytics,\n  ShopifyAnalyticsConstants,\n  gql,\n} from '@shopify/hydrogen';\nimport {Suspense} from 'react';\n\nimport {Button, PageHeader, Section} from '~/components';\nimport {NotFound, Layout} from '~/components/index.server';\n\nexport default function Policy({params}) {\n  const {\n    language: {isoCode: languageCode},\n  } = useLocalization();\n  const {handle} = params;\n\n  // standard policy pages\n  const policy = {\n    privacyPolicy: handle === 'privacy-policy',\n    shippingPolicy: handle === 'shipping-policy',\n    termsOfService: handle === 'terms-of-service',\n    refundPolicy: handle === 'refund-policy',\n  };\n\n  // if not a valid policy route, return not found\n  if (\n    !policy.privacyPolicy &&\n    !policy.shippingPolicy &&\n    !policy.termsOfService &&\n    !policy.refundPolicy\n  ) {\n    return <NotFound />;\n  }\n\n  // The currently visited policy page key\n  const activePolicy = Object.keys(policy).find((key) => policy[key]);\n\n  const {\n    data: {shop},\n  } = useShopQuery({\n    query: POLICIES_QUERY,\n    variables: {\n      languageCode,\n      ...policy,\n    },\n  });\n\n  const page = shop?.[activePolicy];\n\n  // If the policy page is empty, return not found\n  if (!page) {\n    return <NotFound />;\n  }\n\n  useServerAnalytics({\n    shopify: {\n      pageType: ShopifyAnalyticsConstants.pageType.page,\n      resourceId: page.id,\n    },\n  });\n\n  return (\n    <Layout>\n      <Suspense>\n        <Seo type=\"page\" data={page} />\n      </Suspense>\n      <Section\n        padding=\"all\"\n        display=\"flex\"\n        className=\"flex-col items-baseline w-full gap-8 md:flex-row\"\n      >\n        <PageHeader\n          heading={page.title}\n          className=\"grid items-start flex-grow gap-4 md:sticky top-36 md:w-5/12\"\n        >\n          <Button\n            className=\"justify-self-start\"\n            variant=\"inline\"\n            to={'/policies'}\n          >\n            &larr; Back to Policies\n          </Button>\n        </PageHeader>\n        <div className=\"flex-grow w-full md:w-7/12\">\n          <div\n            dangerouslySetInnerHTML={{__html: page.body}}\n            className=\"prose dark:prose-invert\"\n          />\n        </div>\n      </Section>\n    </Layout>\n  );\n}\n\nconst POLICIES_QUERY = gql`\n  fragment Policy on ShopPolicy {\n    body\n    handle\n    id\n    title\n    url\n  }\n\n  query PoliciesQuery(\n    $languageCode: LanguageCode\n    $privacyPolicy: Boolean!\n    $shippingPolicy: Boolean!\n    $termsOfService: Boolean!\n    $refundPolicy: Boolean!\n  ) @inContext(language: $languageCode) {\n    shop {\n      privacyPolicy @include(if: $privacyPolicy) {\n        ...Policy\n      }\n      shippingPolicy @include(if: $shippingPolicy) {\n        ...Policy\n      }\n      termsOfService @include(if: $termsOfService) {\n        ...Policy\n      }\n      refundPolicy @include(if: $refundPolicy) {\n        ...Policy\n      }\n    }\n  }\n`;\n","import {\n  useLocalization,\n  useShopQuery,\n  useServerAnalytics,\n  ShopifyAnalyticsConstants,\n  gql,\n  Link,\n} from '@shopify/hydrogen';\n\nimport {PageHeader, Section, Heading} from '~/components';\nimport {Layout, NotFound} from '~/components/index.server';\n\nexport default function Policies() {\n  const {\n    language: {isoCode: languageCode},\n  } = useLocalization();\n\n  const {data} = useShopQuery({\n    query: POLICIES_QUERY,\n    variables: {\n      languageCode,\n    },\n  });\n\n  useServerAnalytics({\n    shopify: {\n      pageType: ShopifyAnalyticsConstants.pageType.page,\n    },\n  });\n\n  const {\n    privacyPolicy,\n    shippingPolicy,\n    termsOfService,\n    refundPolicy,\n    subscriptionPolicy,\n  } = data.shop;\n\n  const policies = [\n    privacyPolicy,\n    shippingPolicy,\n    termsOfService,\n    refundPolicy,\n    subscriptionPolicy,\n  ];\n\n  if (policies.every((element) => element === null)) {\n    return <NotFound type=\"page\" />;\n  }\n\n  return (\n    <Layout>\n      <PageHeader heading=\"Policies\" />\n      <Section padding=\"x\" className=\"mb-24\">\n        {policies.map((policy) => {\n          if (!policy) {\n            return;\n          }\n          return (\n            <Heading className=\"font-normal text-heading\" key={policy.id}>\n              <Link to={`/policies/${policy.handle}`}>{policy.title}</Link>\n            </Heading>\n          );\n        })}\n      </Section>\n    </Layout>\n  );\n}\n\nconst POLICIES_QUERY = gql`\n  fragment Policy on ShopPolicy {\n    id\n    title\n    handle\n  }\n\n  query PoliciesQuery {\n    shop {\n      privacyPolicy {\n        ...Policy\n      }\n      shippingPolicy {\n        ...Policy\n      }\n      termsOfService {\n        ...Policy\n      }\n      refundPolicy {\n        ...Policy\n      }\n      subscriptionPolicy {\n        id\n        title\n        handle\n      }\n    }\n  }\n`;\n","import {Suspense} from 'react';\nimport {\n  gql,\n  ProductOptionsProvider,\n  Seo,\n  ShopifyAnalyticsConstants,\n  useLocalization,\n  useRouteParams,\n  useServerAnalytics,\n  useShopQuery,\n} from '@shopify/hydrogen';\n\nimport {MEDIA_FRAGMENT} from '~/lib/fragments';\nimport {getExcerpt} from '~/lib/utils';\nimport {NotFound, Layout, ProductSwimlane} from '~/components/index.server';\nimport {\n  Heading,\n  ProductDetail,\n  ProductForm,\n  ProductGallery,\n  Section,\n  Text,\n} from '~/components';\n\nexport default function Product() {\n  const {handle} = useRouteParams();\n  const {\n    language: {isoCode: languageCode},\n    country: {isoCode: countryCode},\n  } = useLocalization();\n\n  const {\n    data: {product, shop},\n  } = useShopQuery({\n    query: PRODUCT_QUERY,\n    variables: {\n      country: countryCode,\n      language: languageCode,\n      handle,\n    },\n    preload: true,\n  });\n\n  if (!product) {\n    return <NotFound type=\"product\" />;\n  }\n\n  useServerAnalytics({\n    shopify: {\n      pageType: ShopifyAnalyticsConstants.pageType.product,\n      resourceId: product.id,\n    },\n  });\n\n  const {media, title, vendor, descriptionHtml, id} = product;\n  const {shippingPolicy, refundPolicy} = shop;\n\n  return (\n    <Layout>\n      <Suspense>\n        <Seo type=\"product\" data={product} />\n      </Suspense>\n      <ProductOptionsProvider data={product}>\n        <Section padding=\"x\" className=\"px-0\">\n          <div className=\"grid items-start md:gap-6 lg:gap-20 md:grid-cols-2 lg:grid-cols-3\">\n            <ProductGallery\n              media={media.nodes}\n              className=\"w-screen md:w-full lg:col-span-2\"\n            />\n            <div className=\"sticky md:-mb-nav md:top-nav md:-translate-y-nav md:h-screen md:pt-nav hiddenScroll md:overflow-y-scroll\">\n              <section className=\"flex flex-col w-full max-w-xl gap-8 p-6 md:mx-auto md:max-w-sm md:px-0\">\n                <div className=\"grid gap-2\">\n                  <Heading as=\"h1\" format className=\"whitespace-normal\">\n                    {title}\n                  </Heading>\n                  {vendor && (\n                    <Text className={'opacity-50 font-medium'}>{vendor}</Text>\n                  )}\n                </div>\n                <ProductForm />\n                <div className=\"grid gap-4 py-4\">\n                  {descriptionHtml && (\n                    <ProductDetail\n                      title=\"Product Details\"\n                      content={descriptionHtml}\n                    />\n                  )}\n                  {shippingPolicy?.body && (\n                    <ProductDetail\n                      title=\"Shipping\"\n                      content={getExcerpt(shippingPolicy.body)}\n                      learnMore={`/policies/${shippingPolicy.handle}`}\n                    />\n                  )}\n                  {refundPolicy?.body && (\n                    <ProductDetail\n                      title=\"Returns\"\n                      content={getExcerpt(refundPolicy.body)}\n                      learnMore={`/policies/${refundPolicy.handle}`}\n                    />\n                  )}\n                </div>\n              </section>\n            </div>\n          </div>\n        </Section>\n        <Suspense>\n          <ProductSwimlane title=\"Related Products\" data={id} />\n        </Suspense>\n      </ProductOptionsProvider>\n    </Layout>\n  );\n}\n\nconst PRODUCT_QUERY = gql`\n  ${MEDIA_FRAGMENT}\n  query Product(\n    $country: CountryCode\n    $language: LanguageCode\n    $handle: String!\n  ) @inContext(country: $country, language: $language) {\n    product(handle: $handle) {\n      id\n      title\n      vendor\n      descriptionHtml\n      media(first: 7) {\n        nodes {\n          ...Media\n        }\n      }\n      variants(first: 100) {\n        nodes {\n          id\n          availableForSale\n          selectedOptions {\n            name\n            value\n          }\n          image {\n            id\n            url\n            altText\n            width\n            height\n          }\n          priceV2 {\n            amount\n            currencyCode\n          }\n          compareAtPriceV2 {\n            amount\n            currencyCode\n          }\n          sku\n          title\n          unitPrice {\n            amount\n            currencyCode\n          }\n        }\n      }\n      seo {\n        description\n        title\n      }\n    }\n    shop {\n      shippingPolicy {\n        body\n        handle\n      }\n      refundPolicy {\n        body\n        handle\n      }\n    }\n  }\n`;\n","import {Suspense} from 'react';\nimport {useShopQuery, gql, useLocalization, Seo} from '@shopify/hydrogen';\n\nimport {PRODUCT_CARD_FRAGMENT} from '~/lib/fragments';\nimport {PAGINATION_SIZE} from '~/lib/const';\nimport {ProductGrid, PageHeader, Section} from '~/components';\nimport {Layout} from '~/components/index.server';\n\nexport default function AllProducts() {\n  return (\n    <Layout>\n      <Seo type=\"page\" data={{title: 'All Products'}} />\n      <PageHeader heading=\"All Products\" variant=\"allCollections\" />\n      <Section>\n        <Suspense>\n          <AllProductsGrid />\n        </Suspense>\n      </Section>\n    </Layout>\n  );\n}\n\nfunction AllProductsGrid() {\n  const {\n    language: {isoCode: languageCode},\n    country: {isoCode: countryCode},\n  } = useLocalization();\n\n  const {data} = useShopQuery({\n    query: ALL_PRODUCTS_QUERY,\n    variables: {\n      country: countryCode,\n      language: languageCode,\n      pageBy: PAGINATION_SIZE,\n    },\n    preload: true,\n  });\n\n  const products = data.products;\n\n  return (\n    <ProductGrid\n      key=\"products\"\n      url={`/products?country=${countryCode}`}\n      collection={{products}}\n    />\n  );\n}\n\n// API to paginate products\n// @see templates/demo-store/src/components/product/ProductGrid.client.tsx\nexport async function api(request, {params, queryShop}) {\n  if (request.method !== 'POST') {\n    return new Response('Method not allowed', {\n      status: 405,\n      headers: {Allow: 'POST'},\n    });\n  }\n\n  const url = new URL(request.url);\n  const cursor = url.searchParams.get('cursor');\n  const country = url.searchParams.get('country');\n  const {handle} = params;\n\n  return await queryShop({\n    query: PAGINATE_ALL_PRODUCTS_QUERY,\n    variables: {\n      handle,\n      cursor,\n      pageBy: PAGINATION_SIZE,\n      country,\n    },\n  });\n}\n\nconst ALL_PRODUCTS_QUERY = gql`\n  ${PRODUCT_CARD_FRAGMENT}\n  query AllProducts(\n    $country: CountryCode\n    $language: LanguageCode\n    $pageBy: Int!\n    $cursor: String\n  ) @inContext(country: $country, language: $language) {\n    products(first: $pageBy, after: $cursor) {\n      nodes {\n        ...ProductCard\n      }\n      pageInfo {\n        hasNextPage\n        startCursor\n        endCursor\n      }\n    }\n  }\n`;\n\nconst PAGINATE_ALL_PRODUCTS_QUERY = gql`\n  ${PRODUCT_CARD_FRAGMENT}\n  query ProductsPage(\n    $pageBy: Int!\n    $cursor: String\n    $country: CountryCode\n    $language: LanguageCode\n  ) @inContext(country: $country, language: $language) {\n    products(first: $pageBy, after: $cursor) {\n      nodes {\n        ...ProductCard\n      }\n      pageInfo {\n        hasNextPage\n        endCursor\n      }\n    }\n  }\n`;\n","import {CacheNone, gql} from '@shopify/hydrogen';\n\nimport {getApiErrorMessage} from '~/lib/utils';\n\n/**\n * This API route is used by the form on `/account/activate/[id]/[activationToken]`\n * complete the reset of the user's password.\n */\nexport async function api(request, {session, queryShop}) {\n  if (!session) {\n    return new Response('Session storage not available.', {\n      status: 400,\n    });\n  }\n\n  const jsonBody = await request.json();\n\n  if (!jsonBody?.id || !jsonBody?.password || !jsonBody?.activationToken) {\n    return new Response(\n      JSON.stringify({error: 'Incorrect password or activation token.'}),\n      {\n        status: 400,\n      },\n    );\n  }\n\n  const {data, errors} = await queryShop({\n    query: CUSTOMER_ACTIVATE_MUTATION,\n    variables: {\n      id: `gid://shopify/Customer/${jsonBody.id}`,\n      input: {\n        password: jsonBody.password,\n        activationToken: jsonBody.activationToken,\n      },\n    },\n    // @ts-expect-error `queryShop.cache` is not yet supported but soon will be.\n    cache: CacheNone(),\n  });\n\n  if (data?.customerActivate?.customerAccessToken?.accessToken) {\n    await session.set(\n      'customerAccessToken',\n      data.customerActivate.customerAccessToken.accessToken,\n    );\n\n    return new Response(null, {\n      status: 200,\n    });\n  } else {\n    return new Response(\n      JSON.stringify({\n        error: getApiErrorMessage('customerActivate', data, errors),\n      }),\n      {status: 401},\n    );\n  }\n}\n\nconst CUSTOMER_ACTIVATE_MUTATION = gql`\n  mutation customerActivate($id: ID!, $input: CustomerActivateInput!) {\n    customerActivate(id: $id, input: $input) {\n      customerAccessToken {\n        accessToken\n        expiresAt\n      }\n      customerUserErrors {\n        code\n        field\n        message\n      }\n    }\n  }\n`;\n","import {CacheNone, gql} from '@shopify/hydrogen';\n\nimport {getApiErrorMessage} from '~/lib/utils';\n\nexport async function api(request, {params, session, queryShop}) {\n  if (!session) {\n    return new Response('Session storage not available.', {\n      status: 400,\n    });\n  }\n\n  const {customerAccessToken} = await session.get();\n\n  if (!customerAccessToken) return new Response(null, {status: 401});\n\n  if (request.method === 'PATCH')\n    return updateAddress(customerAccessToken, request, params, queryShop);\n  if (request.method === 'DELETE')\n    return deleteAddress(customerAccessToken, params, queryShop);\n\n  return new Response(null, {\n    status: 405,\n    headers: {\n      Allow: 'PATCH,DELETE',\n    },\n  });\n}\n\nasync function deleteAddress(customerAccessToken, params, queryShop) {\n  const {data, errors} = await queryShop({\n    query: DELETE_ADDRESS_MUTATION,\n    variables: {\n      customerAccessToken,\n      id: decodeURIComponent(params.addressId),\n    },\n    // @ts-expect-error `queryShop.cache` is not yet supported but soon will be.\n    cache: CacheNone(),\n  });\n\n  const error = getApiErrorMessage('customerAddressDelete', data, errors);\n\n  if (error) return new Response(JSON.stringify({error}), {status: 400});\n\n  return new Response(null);\n}\n\nasync function updateAddress(customerAccessToken, request, params, queryShop) {\n  const {\n    firstName,\n    lastName,\n    company,\n    address1,\n    address2,\n    country,\n    province,\n    city,\n    zip,\n    phone,\n    isDefaultAddress,\n  } = await request.json();\n\n  const address = {};\n\n  if (firstName) address.firstName = firstName;\n  if (lastName) address.lastName = lastName;\n  if (company) address.company = company;\n  if (address1) address.address1 = address1;\n  if (address2) address.address2 = address2;\n  if (country) address.country = country;\n  if (province) address.province = province;\n  if (city) address.city = city;\n  if (zip) address.zip = zip;\n  if (phone) address.phone = phone;\n\n  const {data, errors} = await queryShop({\n    query: UPDATE_ADDRESS_MUTATION,\n    variables: {\n      address,\n      customerAccessToken,\n      id: decodeURIComponent(params.addressId),\n    },\n    // @ts-expect-error `queryShop.cache` is not yet supported but soon will be.\n    cache: CacheNone(),\n  });\n\n  const error = getApiErrorMessage('customerAddressUpdate', data, errors);\n\n  if (error) return new Response(JSON.stringify({error}), {status: 400});\n\n  if (isDefaultAddress) {\n    const {data, errors} = await setDefaultAddress(\n      queryShop,\n      decodeURIComponent(params.addressId),\n      customerAccessToken,\n    );\n\n    const error = getApiErrorMessage(\n      'customerDefaultAddressUpdate',\n      data,\n      errors,\n    );\n\n    if (error) return new Response(JSON.stringify({error}), {status: 400});\n  }\n\n  return new Response(null);\n}\n\nexport function setDefaultAddress(queryShop, addressId, customerAccessToken) {\n  return queryShop({\n    query: UPDATE_DEFAULT_ADDRESS_MUTATION,\n    variables: {\n      customerAccessToken,\n      addressId,\n    },\n    // @ts-expect-error `queryShop.cache` is not yet supported but soon will be.\n    cache: CacheNone(),\n  });\n}\n\nconst UPDATE_ADDRESS_MUTATION = gql`\n  mutation customerAddressUpdate(\n    $address: MailingAddressInput!\n    $customerAccessToken: String!\n    $id: ID!\n  ) {\n    customerAddressUpdate(\n      address: $address\n      customerAccessToken: $customerAccessToken\n      id: $id\n    ) {\n      customerUserErrors {\n        code\n        field\n        message\n      }\n    }\n  }\n`;\n\nconst UPDATE_DEFAULT_ADDRESS_MUTATION = gql`\n  mutation customerDefaultAddressUpdate(\n    $addressId: ID!\n    $customerAccessToken: String!\n  ) {\n    customerDefaultAddressUpdate(\n      addressId: $addressId\n      customerAccessToken: $customerAccessToken\n    ) {\n      customerUserErrors {\n        code\n        field\n        message\n      }\n    }\n  }\n`;\n\nconst DELETE_ADDRESS_MUTATION = gql`\n  mutation customerAddressDelete($customerAccessToken: String!, $id: ID!) {\n    customerAddressDelete(customerAccessToken: $customerAccessToken, id: $id) {\n      customerUserErrors {\n        code\n        field\n        message\n      }\n      deletedCustomerAddressId\n    }\n  }\n`;\n","import {setDefaultAddress} from './[addressId].server';\nimport {CacheNone, gql} from '@shopify/hydrogen';\n\nimport {getApiErrorMessage} from '~/lib/utils';\n\nexport async function api(request, {session, queryShop}) {\n  if (request.method !== 'POST') {\n    return new Response(null, {\n      status: 405,\n      headers: {\n        Allow: 'POST',\n      },\n    });\n  }\n\n  if (!session) {\n    return new Response('Session storage not available.', {\n      status: 400,\n    });\n  }\n\n  const {customerAccessToken} = await session.get();\n\n  if (!customerAccessToken) return new Response(null, {status: 401});\n\n  const {\n    firstName,\n    lastName,\n    company,\n    address1,\n    address2,\n    country,\n    province,\n    city,\n    zip,\n    phone,\n    isDefaultAddress,\n  } = await request.json();\n\n  const address = {};\n\n  if (firstName) address.firstName = firstName;\n  if (lastName) address.lastName = lastName;\n  if (company) address.company = company;\n  if (address1) address.address1 = address1;\n  if (address2) address.address2 = address2;\n  if (country) address.country = country;\n  if (province) address.province = province;\n  if (city) address.city = city;\n  if (zip) address.zip = zip;\n  if (phone) address.phone = phone;\n\n  const {data, errors} = await queryShop({\n    query: CREATE_ADDRESS_MUTATION,\n    variables: {\n      address,\n      customerAccessToken,\n    },\n    // @ts-expect-error `queryShop.cache` is not yet supported but soon will be.\n    cache: CacheNone(),\n  });\n\n  const error = getApiErrorMessage('customerAddressCreate', data, errors);\n\n  if (error) return new Response(JSON.stringify({error}), {status: 400});\n\n  if (isDefaultAddress) {\n    const {data: defaultDataResponse, errors} = await setDefaultAddress(\n      queryShop,\n      data.customerAddressCreate.customerAddress.id,\n      customerAccessToken,\n    );\n\n    const error = getApiErrorMessage(\n      'customerDefaultAddressUpdate',\n      defaultDataResponse,\n      errors,\n    );\n\n    if (error) return new Response(JSON.stringify({error}), {status: 400});\n  }\n\n  return new Response(null);\n}\n\nconst CREATE_ADDRESS_MUTATION = gql`\n  mutation customerAddressCreate(\n    $address: MailingAddressInput!\n    $customerAccessToken: String!\n  ) {\n    customerAddressCreate(\n      address: $address\n      customerAccessToken: $customerAccessToken\n    ) {\n      customerAddress {\n        id\n      }\n      customerUserErrors {\n        code\n        field\n        message\n      }\n    }\n  }\n`;\n","import {\n  CacheNone,\n  flattenConnection,\n  gql,\n  Image,\n  Link,\n  Money,\n  Seo,\n  useRouteParams,\n  useSession,\n  useLocalization,\n  useShopQuery,\n} from '@shopify/hydrogen';\nimport {Suspense} from 'react';\n\nimport {Text, PageHeader, Heading} from '~/components';\nimport {Layout} from '~/components/index.server';\nimport {statusMessage} from '~/lib/utils';\n\nexport default function OrderDetails({response}) {\n  const {id} = useRouteParams();\n\n  response.cache(CacheNone());\n\n  const {\n    language: {isoCode: languageCode},\n    country: {isoCode: countryCode},\n  } = useLocalization();\n  const {customerAccessToken} = useSession();\n\n  if (!customerAccessToken) return response.redirect('/account/login');\n  if (!id) return response.redirect('/account/');\n\n  const {data} = useShopQuery({\n    query: ORDER_QUERY,\n    variables: {\n      customerAccessToken,\n      orderId: `id:${id}`,\n      language: languageCode,\n      country: countryCode,\n    },\n    cache: CacheNone(),\n  });\n\n  const [order] = flattenConnection(data?.customer?.orders ?? {}) || [null];\n\n  if (!order) return null;\n\n  const lineItems = flattenConnection(order.lineItems);\n  const discountApplications = flattenConnection(order.discountApplications);\n\n  const firstDiscount = discountApplications[0]?.value;\n  const discountValue =\n    firstDiscount?.__typename === 'MoneyV2' && firstDiscount;\n  const discountPercentage =\n    firstDiscount?.__typename === 'PricingPercentageValue' &&\n    firstDiscount?.percentage;\n\n  return (\n    <Layout>\n      <Suspense>\n        <Seo type=\"noindex\" data={{title: `Order ${order.name}`}} />\n      </Suspense>\n      <PageHeader heading={`Order detail`}>\n        <Link to=\"/account\">\n          <Text color=\"subtle\">Return to Account Overview</Text>\n        </Link>\n      </PageHeader>\n      <div className=\"w-full p-6 sm:grid-cols-1 md:p-8 lg:p-12 lg:py-6\">\n        <div>\n          <Text as=\"h3\" size=\"lead\">\n            Order No. {order.name}\n          </Text>\n          <Text className=\"mt-2\" as=\"p\">\n            Placed on {new Date(order.processedAt).toDateString()}\n          </Text>\n          <div className=\"grid items-start gap-12 sm:grid-cols-1 md:grid-cols-4 md:gap-16 sm:divide-y sm:divide-gray-200\">\n            <table className=\"min-w-full my-8 divide-y divide-gray-300 md:col-span-3\">\n              <thead>\n                <tr className=\"align-baseline \">\n                  <th\n                    scope=\"col\"\n                    className=\"pb-4 pl-0 pr-3 font-semibold text-left\"\n                  >\n                    Product\n                  </th>\n                  <th\n                    scope=\"col\"\n                    className=\"hidden px-4 pb-4 font-semibold text-right sm:table-cell md:table-cell\"\n                  >\n                    Price\n                  </th>\n                  <th\n                    scope=\"col\"\n                    className=\"hidden px-4 pb-4 font-semibold text-right sm:table-cell md:table-cell\"\n                  >\n                    Quantity\n                  </th>\n                  <th\n                    scope=\"col\"\n                    className=\"px-4 pb-4 font-semibold text-right\"\n                  >\n                    Total\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-gray-200\">\n                {lineItems.map((lineItem) => (\n                  <tr key={lineItem.variant.id}>\n                    <td className=\"w-full py-4 pl-0 pr-3 align-top sm:align-middle max-w-0 sm:w-auto sm:max-w-none\">\n                      <div className=\"flex gap-6\">\n                        <Link\n                          to={`/products/${lineItem.variant.product.handle}`}\n                        >\n                          {lineItem?.variant?.image && (\n                            <div className=\"w-24 card-image aspect-square\">\n                              <Image\n                                src={lineItem.variant.image.src}\n                                width={lineItem.variant.image.width}\n                                height={lineItem.variant.image.height}\n                                alt={lineItem.variant.image.altText}\n                                loaderOptions={{\n                                  scale: 2,\n                                  crop: 'center',\n                                }}\n                              />\n                            </div>\n                          )}\n                        </Link>\n                        <div className=\"flex-col justify-center hidden lg:flex\">\n                          <Text as=\"p\">{lineItem.title}</Text>\n                          <Text size=\"fine\" className=\"mt-1\" as=\"p\">\n                            {lineItem.variant.title}\n                          </Text>\n                        </div>\n                        <dl className=\"grid\">\n                          <dt className=\"sr-only\">Product</dt>\n                          <dd className=\"truncate lg:hidden\">\n                            <Heading size=\"copy\" format as=\"h3\">\n                              {lineItem.title}\n                            </Heading>\n                            <Text size=\"fine\" className=\"mt-1\">\n                              {lineItem.variant.title}\n                            </Text>\n                          </dd>\n                          <dt className=\"sr-only\">Price</dt>\n                          <dd className=\"truncate sm:hidden\">\n                            <Text size=\"fine\" className=\"mt-4\">\n                              <Money data={lineItem.variant.priceV2} />\n                            </Text>\n                          </dd>\n                          <dt className=\"sr-only\">Quantity</dt>\n                          <dd className=\"truncate sm:hidden\">\n                            <Text className=\"mt-1\" size=\"fine\">\n                              Qty: {lineItem.quantity}\n                            </Text>\n                          </dd>\n                        </dl>\n                      </div>\n                    </td>\n                    <td className=\"hidden px-3 py-4 text-right align-top sm:align-middle sm:table-cell\">\n                      <Money data={lineItem.variant.priceV2} />\n                    </td>\n                    <td className=\"hidden px-3 py-4 text-right align-top sm:align-middle sm:table-cell\">\n                      {lineItem.quantity}\n                    </td>\n                    <td className=\"px-3 py-4 text-right align-top sm:align-middle sm:table-cell\">\n                      <Text>\n                        <Money data={lineItem.discountedTotalPrice} />\n                      </Text>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n              <tfoot>\n                {((discountValue && discountValue.amount) ||\n                  discountPercentage) && (\n                  <tr>\n                    <th\n                      scope=\"row\"\n                      colSpan={3}\n                      className=\"hidden pt-6 pl-6 pr-3 font-normal text-right sm:table-cell md:pl-0\"\n                    >\n                      <Text>Discounts</Text>\n                    </th>\n                    <th\n                      scope=\"row\"\n                      className=\"pt-6 pr-3 font-normal text-left sm:hidden\"\n                    >\n                      <Text>Discounts</Text>\n                    </th>\n                    <td className=\"pt-6 pl-3 pr-4 font-medium text-right text-green-700 md:pr-3\">\n                      {discountPercentage ? (\n                        <span className=\"text-sm\">\n                          -{discountPercentage}% OFF\n                        </span>\n                      ) : (\n                        discountValue && <Money data={discountValue} />\n                      )}\n                    </td>\n                  </tr>\n                )}\n                <tr>\n                  <th\n                    scope=\"row\"\n                    colSpan={3}\n                    className=\"hidden pt-6 pl-6 pr-3 font-normal text-right sm:table-cell md:pl-0\"\n                  >\n                    <Text>Subtotal</Text>\n                  </th>\n                  <th\n                    scope=\"row\"\n                    className=\"pt-6 pr-3 font-normal text-left sm:hidden\"\n                  >\n                    <Text>Subtotal</Text>\n                  </th>\n                  <td className=\"pt-6 pl-3 pr-4 text-right md:pr-3\">\n                    <Money data={order.subtotalPriceV2} />\n                  </td>\n                </tr>\n                <tr>\n                  <th\n                    scope=\"row\"\n                    colSpan={3}\n                    className=\"hidden pt-4 pl-6 pr-3 font-normal text-right sm:table-cell md:pl-0\"\n                  >\n                    Tax\n                  </th>\n                  <th\n                    scope=\"row\"\n                    className=\"pt-4 pr-3 font-normal text-left sm:hidden\"\n                  >\n                    <Text>Tax</Text>\n                  </th>\n                  <td className=\"pt-4 pl-3 pr-4 text-right md:pr-3\">\n                    <Money data={order.totalTaxV2} />\n                  </td>\n                </tr>\n                <tr>\n                  <th\n                    scope=\"row\"\n                    colSpan={3}\n                    className=\"hidden pt-4 pl-6 pr-3 font-semibold text-right sm:table-cell md:pl-0\"\n                  >\n                    Total\n                  </th>\n                  <th\n                    scope=\"row\"\n                    className=\"pt-4 pr-3 font-semibold text-left sm:hidden\"\n                  >\n                    <Text>Total</Text>\n                  </th>\n                  <td className=\"pt-4 pl-3 pr-4 font-semibold text-right md:pr-3\">\n                    <Money data={order.totalPriceV2} />\n                  </td>\n                </tr>\n              </tfoot>\n            </table>\n            <div className=\"sticky border-none top-nav md:my-8\">\n              <Heading size=\"copy\" className=\"font-semibold\" as=\"h3\">\n                Shipping Address\n              </Heading>\n              {order?.shippingAddress ? (\n                <ul className=\"mt-6\">\n                  <li>\n                    <Text>\n                      {order.shippingAddress.firstName &&\n                        order.shippingAddress.firstName + ' '}\n                      {order.shippingAddress.lastName}\n                    </Text>\n                  </li>\n                  {order?.shippingAddress?.formatted ? (\n                    order.shippingAddress.formatted.map((line) => (\n                      <li key={line}>\n                        <Text>{line}</Text>\n                      </li>\n                    ))\n                  ) : (\n                    <></>\n                  )}\n                </ul>\n              ) : (\n                <p className=\"mt-3\">No shipping address defined</p>\n              )}\n              <Heading size=\"copy\" className=\"mt-8 font-semibold\" as=\"h3\">\n                Status\n              </Heading>\n              <div\n                className={`mt-3 px-3 py-1 text-xs font-medium rounded-full inline-block w-auto ${\n                  order.fulfillmentStatus === 'FULFILLED'\n                    ? 'bg-green-100 text-green-800'\n                    : 'bg-primary/20 text-primary/50'\n                }`}\n              >\n                <Text size=\"fine\">\n                  {statusMessage(order.fulfillmentStatus)}\n                </Text>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n}\n\n// @see: https://shopify.dev/api/storefront/2022-07/objects/Order#fields\nconst ORDER_QUERY = gql`\n  fragment Money on MoneyV2 {\n    amount\n    currencyCode\n  }\n\n  fragment AddressFull on MailingAddress {\n    address1\n    address2\n    city\n    company\n    country\n    countryCodeV2\n    firstName\n    formatted\n    id\n    lastName\n    name\n    phone\n    province\n    provinceCode\n    zip\n  }\n\n  fragment DiscountApplication on DiscountApplication {\n    value {\n      ... on MoneyV2 {\n        amount\n        currencyCode\n      }\n      ... on PricingPercentageValue {\n        percentage\n      }\n    }\n  }\n\n  fragment Image on Image {\n    altText\n    height\n    src: url(transform: {crop: CENTER, maxHeight: 96, maxWidth: 96, scale: 2})\n    id\n    width\n  }\n\n  fragment ProductVariant on ProductVariant {\n    image {\n      ...Image\n    }\n    priceV2 {\n      ...Money\n    }\n    product {\n      handle\n    }\n    sku\n    title\n  }\n\n  fragment LineItemFull on OrderLineItem {\n    title\n    quantity\n    discountAllocations {\n      allocatedAmount {\n        ...Money\n      }\n      discountApplication {\n        ...DiscountApplication\n      }\n    }\n    originalTotalPrice {\n      ...Money\n    }\n    discountedTotalPrice {\n      ...Money\n    }\n    variant {\n      ...ProductVariant\n    }\n  }\n\n  query orderById(\n    $customerAccessToken: String!\n    $orderId: String!\n    $country: CountryCode\n    $language: LanguageCode\n  ) @inContext(country: $country, language: $language) {\n    customer(customerAccessToken: $customerAccessToken) {\n      orders(first: 1, query: $orderId) {\n        nodes {\n          id\n          name\n          orderNumber\n          processedAt\n          fulfillmentStatus\n          totalTaxV2 {\n            ...Money\n          }\n          totalPriceV2 {\n            ...Money\n          }\n          subtotalPriceV2 {\n            ...Money\n          }\n          shippingAddress {\n            ...AddressFull\n          }\n          discountApplications(first: 100) {\n            nodes {\n              ...DiscountApplication\n            }\n          }\n          lineItems(first: 100) {\n            nodes {\n              ...LineItemFull\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n","import {CacheNone, gql} from '@shopify/hydrogen';\nimport {getApiErrorMessage} from '~/lib/utils';\n\n/**\n * This API route is used by the form on `/account/reset/[id]/[resetToken]`\n * complete the reset of the user's password.\n */\nexport async function api(request, {session, queryShop}) {\n  if (!session) {\n    return new Response('Session storage not available.', {\n      status: 400,\n    });\n  }\n\n  const jsonBody = await request.json();\n\n  if (!jsonBody.id || !jsonBody.password || !jsonBody.resetToken) {\n    return new Response(\n      JSON.stringify({error: 'Incorrect password or reset token.'}),\n      {\n        status: 400,\n      },\n    );\n  }\n\n  const {data, errors} = await queryShop({\n    query: CUSTOMER_RESET_MUTATION,\n    variables: {\n      id: `gid://shopify/Customer/${jsonBody.id}`,\n      input: {\n        password: jsonBody.password,\n        resetToken: jsonBody.resetToken,\n      },\n    },\n    // @ts-expect-error `queryShop.cache` is not yet supported but soon will be.\n    cache: CacheNone(),\n  });\n\n  if (data?.customerReset?.customerAccessToken?.accessToken) {\n    await session.set(\n      'customerAccessToken',\n      data.customerReset.customerAccessToken.accessToken,\n    );\n\n    return new Response(null, {\n      status: 200,\n    });\n  } else {\n    return new Response(\n      JSON.stringify({\n        error: getApiErrorMessage('customerReset', data, errors),\n      }),\n      {status: 401},\n    );\n  }\n}\n\nconst CUSTOMER_RESET_MUTATION = gql`\n  mutation customerReset($id: ID!, $input: CustomerResetInput!) {\n    customerReset(id: $id, input: $input) {\n      customerAccessToken {\n        accessToken\n        expiresAt\n      }\n      customerUserErrors {\n        code\n        field\n        message\n      }\n    }\n  }\n`;\n","import {Suspense} from 'react';\nimport {useRouteParams, Seo} from '@shopify/hydrogen';\n\nimport {AccountActivateForm} from '~/components';\nimport {Layout} from '~/components/index.server';\n\n/**\n * This page shows a form for the user to activate an account.\n * It should only be accessed by a link emailed to the user.\n */\nexport default function ActivateAccount() {\n  const {id, activationToken} = useRouteParams();\n\n  return (\n    <Layout>\n      <Suspense>\n        <Seo type=\"noindex\" data={{title: 'Activate account'}} />\n      </Suspense>\n      <AccountActivateForm id={id} activationToken={activationToken} />\n    </Layout>\n  );\n}\n","import {Suspense} from 'react';\nimport {useRouteParams, Seo} from '@shopify/hydrogen';\n\nimport {AccountPasswordResetForm} from '~/components';\nimport {Layout} from '~/components/index.server';\n\n/**\n * This page shows a form for the user to enter a new password.\n * It should only be accessed by a link emailed to the user after\n * they initiate a password reset from `/account/recover`.\n */\nexport default function ResetPassword() {\n  const {id, resetToken} = useRouteParams();\n\n  return (\n    <Layout>\n      <Suspense>\n        <Seo type=\"noindex\" data={{title: 'Reset password'}} />\n      </Suspense>\n      <AccountPasswordResetForm id={id} resetToken={resetToken} />\n    </Layout>\n  );\n}\n"],"names":["conversions","lib","sign","x","evenRound","createNumberConversion","bitLength","typeOpts","lowerBound","upperBound","moduloVal","moduloBound","V","opts","val","c","i","S","n","U","d","a","b","module","target","source","keys","impl","wrapper","maxInt","base","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","errors","baseMinusTMin","floor","stringFromCharCode","error","type","map","array","fn","result","length","mapDomain","string","parts","labels","encoded","ucs2decode","output","counter","value","extra","ucs2encode","basicToDigit","codePoint","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","k","decode","input","inputLength","bias","basic","j","index","oldi","w","t","baseMinusT","out","encode","currentValue","basicLength","handledCPCount","m","handledCPCountPlusOne","q","qMinusT","toUnicode","toASCII","punycode","require$$0","mappingTable","require$$1","PROCESSING_OPTIONS","normalize","str","s","findStatus","start","end","mid","regexAstralSymbols","countSymbols","mapChars","domain_name","useSTD3","processing_option","hasError","processed","len","status","combiningMarksRegex","validateLabel","label","processing","validation","tr46","verifyDnsLength","l","total","specialSchemes","failure","at","idx","isASCIIDigit","isASCIIAlpha","isASCIIAlphanumeric","isASCIIHex","isSingleDot","buffer","isDoubleDot","isWindowsDriveLetterCodePoints","cp1","cp2","isWindowsDriveLetterString","isNormalizedWindowsDriveLetterString","containsForbiddenHostCodePoint","containsForbiddenHostCodePointExcludingPercent","isSpecialScheme","scheme","isSpecial","url","defaultPort","percentEncode","hex","utf8PercentEncode","buf","utf8PercentDecode","isC0ControlPercentEncode","extraPathPercentEncodeSet","isPathPercentEncode","extraUserinfoPercentEncodeSet","isUserinfoPercentEncode","percentEncodeChar","encodeSetPredicate","cStr","parseIPv4Number","R","parseIPv4","numbers","part","ipv4","serializeIPv4","address","parseIPv6","pieceIndex","compress","pointer","numbersSeen","ipv4Piece","number","swaps","temp","serializeIPv6","findLongestZeroSequence","ignore0","parseHost","isSpecialArg","parseOpaqueHost","domain","asciiDomain","ipv4Host","decoded","arr","maxIdx","maxLen","currStart","currLen","serializeHost","host","trimControlChars","trimTabAndNewline","shortenPath","path","isNormalizedWindowsDriveLetter","includesCredentials","cannotHaveAUsernamePasswordPort","URLStateMachine","encodingOverride","stateOverride","res","ret","encodedCodePoints","port","fileOtherwiseCodePoints","serializeURL","excludeFragment","serializeOrigin","tuple","options","usm","username","password","integer","URLImpl_1","constructorArgs","parsedBase","parsedURL","v","utils","Impl","require$$2","URL","args","obj","privateData","publicApi","Readable","Stream","BUFFER","TYPE","Blob","blobParts","buffers","size","element","ab","readable","relativeStart","relativeEnd","span","slicedBuffer","blob","FetchError","message","systemError","convert","INTERNALS","PassThrough","Body","body","_this","_ref","_ref$size","_ref$timeout","timeout","isURLSearchParams","isBlob","err","consumeBody","ct","_this2","_this3","convertBody","proto","name","desc","_this4","accum","accumBytes","abort","resolve","reject","resTimeout","chunk","headers","charset","clone","instance","p1","p2","extractContentType","getTotalBytes","writeToStream","dest","invalidTokenRegex","invalidHeaderCharRegex","validateName","validateValue","find","key","MAP","Headers","init","rawHeaders","headerNames","headerName","method","pairs","pair","callback","thisArg","getHeaders","_pairs$i","createHeadersIterator","kind","INTERNAL","iterator","HeadersIteratorPrototype","_INTERNAL","values","exportNodeCompatibleHeaders","hostHeaderKey","createHeadersLenient","INTERNALS$1","STATUS_CODES","http","Response","contentType","INTERNALS$2","Url","whatwgUrl","parse_url","format_url","parseURL","urlStr","streamDestructionSupported","isRequest","isAbortSignal","signal","Request","inputBody","getNodeRequestOptions","request","contentLengthValue","totalBytes","agent","AbortError","URL$1","PassThrough$1","isDomainOrSubdomain","destination","original","orig","fetch","send","https","response","abortAndFinalize","finalize","req","reqTimeout","socket","location","locationURL","requestOpts","response_options","codings","zlibOptions","zlib","code","wrappers","pd","event","retv","setCancelFlag","data","Event","eventTarget","defineRedirectDescriptor","currentTarget","defineCallDescriptor","defineWrapper","BaseEvent","CustomEvent","isFunc","getWrapper","wrapEvent","Wrapper","isStopped","setEventPhase","eventPhase","setCurrentTarget","setPassiveListener","passiveListener","listenersMap","CAPTURE","BUBBLE","ATTRIBUTE","isObject","getListeners","listeners","defineEventAttributeDescriptor","eventName","node","listener","prev","newNode","defineEventAttribute","eventTargetPrototype","defineCustomEventTarget","eventNames","CustomEventTarget","EventTarget","types","optionsIsObj","listenerType","wrappedEvent","AbortSignal","aborted","abortedFlags","createAbortSignal","abortSignal","AbortController","signals","getSignal","controller","SymbolPolyfill","description","noop","getGlobals","globals","typeIsObject","rethrowAssertionErrorRejection","originalPromise","originalPromiseThen","originalPromiseResolve","originalPromiseReject","newPromise","executor","promiseResolvedWith","promiseRejectedWith","reason","PerformPromiseThen","promise","onFulfilled","onRejected","uponPromise","uponFulfillment","uponRejection","transformPromiseWith","fulfillmentHandler","rejectionHandler","setPromiseIsHandledToTrue","queueMicrotask","globalQueueMicrotask","resolvedPromise","reflectCall","F","promiseCall","QUEUE_MAX_ARRAY_SIZE","SimpleQueue","oldBack","newBack","oldFront","newFront","oldCursor","newCursor","elements","front","cursor","ReadableStreamReaderGenericInitialize","reader","stream","defaultReaderClosedPromiseInitialize","defaultReaderClosedPromiseInitializeAsResolved","defaultReaderClosedPromiseInitializeAsRejected","ReadableStreamReaderGenericCancel","ReadableStreamCancel","ReadableStreamReaderGenericRelease","defaultReaderClosedPromiseReject","defaultReaderClosedPromiseResetToRejected","readerLockException","defaultReaderClosedPromiseResolve","AbortSteps","ErrorSteps","CancelSteps","PullSteps","NumberIsFinite","MathTrunc","isDictionary","assertDictionary","context","assertFunction","assertObject","assertRequiredArgument","position","assertRequiredField","field","convertUnrestrictedDouble","censorNegativeZero","integerPart","convertUnsignedLongLongWithEnforceRange","assertReadableStream","IsReadableStream","AcquireReadableStreamDefaultReader","ReadableStreamDefaultReader","ReadableStreamAddReadRequest","readRequest","ReadableStreamFulfillReadRequest","done","ReadableStreamGetNumReadRequests","ReadableStreamHasDefaultReader","IsReadableStreamDefaultReader","IsReadableStreamLocked","defaultReaderBrandCheckException","resolvePromise","rejectPromise","e","ReadableStreamDefaultReaderRead","_a","AsyncIteratorPrototype","ReadableStreamAsyncIteratorImpl","preventCancel","nextSteps","returnSteps","ReadableStreamAsyncIteratorPrototype","IsReadableStreamAsyncIterator","streamAsyncIteratorBrandCheckException","AcquireReadableStreamAsyncIterator","NumberIsNaN","CreateArrayFromList","CopyDataBlockBytes","destOffset","src","srcOffset","IsDetachedBuffer","O","ArrayBufferSlice","begin","slice","IsNonNegativeNumber","CloneAsUint8Array","DequeueValue","container","EnqueueValueWithSize","PeekQueueValue","ResetQueue","ReadableStreamBYOBRequest","IsReadableStreamBYOBRequest","byobRequestBrandCheckException","bytesWritten","ReadableByteStreamControllerRespond","view","ReadableByteStreamControllerRespondWithNewView","ReadableByteStreamController","IsReadableByteStreamController","byteStreamControllerBrandCheckException","ReadableByteStreamControllerGetBYOBRequest","ReadableByteStreamControllerGetDesiredSize","state","ReadableByteStreamControllerClose","ReadableByteStreamControllerEnqueue","ReadableByteStreamControllerError","ReadableByteStreamControllerClearPendingPullIntos","ReadableByteStreamControllerClearAlgorithms","entry","ReadableByteStreamControllerHandleQueueDrain","autoAllocateChunkSize","bufferE","pullIntoDescriptor","ReadableByteStreamControllerCallPullIfNeeded","shouldPull","ReadableByteStreamControllerShouldCallPull","pullPromise","ReadableByteStreamControllerInvalidateBYOBRequest","ReadableByteStreamControllerCommitPullIntoDescriptor","filledView","ReadableByteStreamControllerConvertPullIntoDescriptor","ReadableStreamFulfillReadIntoRequest","bytesFilled","elementSize","ReadableByteStreamControllerEnqueueChunkToQueue","byteOffset","byteLength","ReadableByteStreamControllerFillPullIntoDescriptorFromQueue","currentAlignedBytes","maxBytesToCopy","maxBytesFilled","maxAlignedBytes","totalBytesToCopyRemaining","ready","queue","headOfQueue","bytesToCopy","destStart","ReadableByteStreamControllerFillHeadPullIntoDescriptor","ReadableStreamClose","ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue","ReadableByteStreamControllerShiftPendingPullInto","ReadableByteStreamControllerPullInto","readIntoRequest","ctor","ReadableStreamAddReadIntoRequest","emptyView","ReadableByteStreamControllerRespondInClosedState","firstDescriptor","ReadableStreamHasBYOBReader","ReadableStreamGetNumReadIntoRequests","ReadableByteStreamControllerRespondInReadableState","remainderSize","remainder","ReadableByteStreamControllerRespondInternal","descriptor","desiredSize","firstPendingPullInto","transferredBuffer","transferredView","ReadableStreamError","byobRequest","SetUpReadableStreamBYOBRequest","viewByteLength","SetUpReadableByteStreamController","startAlgorithm","pullAlgorithm","cancelAlgorithm","highWaterMark","startResult","r","SetUpReadableByteStreamControllerFromUnderlyingSource","underlyingByteSource","AcquireReadableStreamBYOBReader","ReadableStreamBYOBReader","IsReadableStreamBYOBReader","byobReaderBrandCheckException","ReadableStreamBYOBReaderRead","ExtractHighWaterMark","strategy","defaultHWM","ExtractSizeAlgorithm","convertQueuingStrategy","convertQueuingStrategySize","convertUnderlyingSink","close","write","convertUnderlyingSinkAbortCallback","convertUnderlyingSinkCloseCallback","convertUnderlyingSinkStartCallback","convertUnderlyingSinkWriteCallback","assertWritableStream","IsWritableStream","supportsAbortController","createAbortController","WritableStream","rawUnderlyingSink","rawStrategy","underlyingSink","InitializeWritableStream","sizeAlgorithm","SetUpWritableStreamDefaultControllerFromUnderlyingSink","streamBrandCheckException$2","IsWritableStreamLocked","WritableStreamAbort","WritableStreamCloseQueuedOrInFlight","WritableStreamClose","AcquireWritableStreamDefaultWriter","WritableStreamDefaultWriter","CreateWritableStream","writeAlgorithm","closeAlgorithm","abortAlgorithm","WritableStreamDefaultController","SetUpWritableStreamDefaultController","wasAlreadyErroring","WritableStreamStartErroring","closeRequest","writer","defaultWriterReadyPromiseResolve","WritableStreamDefaultControllerClose","WritableStreamAddWriteRequest","writeRequest","WritableStreamDealWithRejection","WritableStreamFinishErroring","WritableStreamDefaultWriterEnsureReadyPromiseRejected","WritableStreamHasOperationMarkedInFlight","storedError","WritableStreamRejectCloseAndClosedPromiseIfNeeded","abortRequest","WritableStreamFinishInFlightWrite","WritableStreamFinishInFlightWriteWithError","WritableStreamFinishInFlightClose","defaultWriterClosedPromiseResolve","WritableStreamFinishInFlightCloseWithError","WritableStreamMarkCloseRequestInFlight","WritableStreamMarkFirstWriteRequestInFlight","defaultWriterClosedPromiseReject","WritableStreamUpdateBackpressure","backpressure","defaultWriterReadyPromiseReset","defaultWriterReadyPromiseInitialize","defaultWriterReadyPromiseInitializeAsResolved","defaultWriterClosedPromiseInitialize","defaultWriterReadyPromiseInitializeAsRejected","defaultWriterClosedPromiseInitializeAsResolved","defaultWriterClosedPromiseInitializeAsRejected","IsWritableStreamDefaultWriter","defaultWriterBrandCheckException","defaultWriterLockException","WritableStreamDefaultWriterGetDesiredSize","WritableStreamDefaultWriterAbort","WritableStreamDefaultWriterClose","WritableStreamDefaultWriterRelease","WritableStreamDefaultWriterWrite","WritableStreamDefaultWriterCloseWithErrorPropagation","WritableStreamDefaultWriterEnsureClosedPromiseRejected","defaultWriterClosedPromiseResetToRejected","defaultWriterReadyPromiseReject","defaultWriterReadyPromiseResetToRejected","WritableStreamDefaultControllerGetDesiredSize","releasedError","chunkSize","WritableStreamDefaultControllerGetChunkSize","WritableStreamDefaultControllerWrite","closeSentinel","IsWritableStreamDefaultController","defaultControllerBrandCheckException$2","WritableStreamDefaultControllerError","WritableStreamDefaultControllerClearAlgorithms","WritableStreamDefaultControllerGetBackpressure","startPromise","WritableStreamDefaultControllerAdvanceQueueIfNeeded","chunkSizeE","WritableStreamDefaultControllerErrorIfNeeded","enqueueE","WritableStreamDefaultControllerProcessClose","WritableStreamDefaultControllerProcessWrite","sinkClosePromise","sinkWritePromise","NativeDOMException","isDOMExceptionConstructor","createDOMExceptionPolyfill","DOMException$1","ReadableStreamPipeTo","preventClose","preventAbort","shuttingDown","currentWrite","actions","shutdownWithAction","action","pipeLoop","resolveLoop","rejectLoop","next","pipeStep","resolveRead","rejectRead","isOrBecomesErrored","shutdown","isOrBecomesClosed","destClosed_1","waitForWritesToFinish","oldCurrentWrite","originalIsError","originalError","doTheRest","newError","isError","ReadableStreamDefaultController","IsReadableStreamDefaultController","defaultControllerBrandCheckException$1","ReadableStreamDefaultControllerGetDesiredSize","ReadableStreamDefaultControllerCanCloseOrEnqueue","ReadableStreamDefaultControllerClose","ReadableStreamDefaultControllerEnqueue","ReadableStreamDefaultControllerError","ReadableStreamDefaultControllerClearAlgorithms","ReadableStreamDefaultControllerCallPullIfNeeded","ReadableStreamDefaultControllerShouldCallPull","ReadableStreamDefaultControllerHasBackpressure","SetUpReadableStreamDefaultController","SetUpReadableStreamDefaultControllerFromUnderlyingSource","underlyingSource","ReadableStreamTee","cloneForBranch2","ReadableByteStreamTee","ReadableStreamDefaultTee","reading","readAgain","canceled1","canceled2","reason1","reason2","branch1","branch2","resolveCancelPromise","cancelPromise","chunk1","chunk2","cancel1Algorithm","compositeReason","cancelResult","cancel2Algorithm","CreateReadableStream","readAgainForBranch1","readAgainForBranch2","forwardReaderError","thisReader","pullWithDefaultReader","cloneE","pull1Algorithm","pull2Algorithm","pullWithBYOBReader","forBranch2","byobBranch","otherBranch","byobCanceled","otherCanceled","clonedChunk","CreateReadableByteStream","convertUnderlyingDefaultOrByteSource","cancel","pull","convertUnderlyingSourceCancelCallback","convertUnderlyingSourcePullCallback","convertUnderlyingSourceStartCallback","convertReadableStreamType","convertReaderOptions","mode","convertReadableStreamReaderMode","convertIteratorOptions","convertPipeOptions","assertAbortSignal","convertReadableWritablePair","writable","ReadableStream","rawUnderlyingSource","InitializeReadableStream","streamBrandCheckException$1","rawOptions","rawTransform","transform","branches","sourceCancelPromise","convertQueuingStrategyInit","byteLengthSizeFunction","ByteLengthQueuingStrategy","IsByteLengthQueuingStrategy","byteLengthBrandCheckException","countSizeFunction","CountQueuingStrategy","IsCountQueuingStrategy","countBrandCheckException","convertTransformer","flush","readableType","writableType","convertTransformerFlushCallback","convertTransformerStartCallback","convertTransformerTransformCallback","TransformStream","rawTransformer","rawWritableStrategy","rawReadableStrategy","writableStrategy","readableStrategy","transformer","readableHighWaterMark","readableSizeAlgorithm","writableHighWaterMark","writableSizeAlgorithm","startPromise_resolve","InitializeTransformStream","SetUpTransformStreamDefaultControllerFromTransformer","IsTransformStream","streamBrandCheckException","TransformStreamDefaultSinkWriteAlgorithm","TransformStreamDefaultSinkAbortAlgorithm","TransformStreamDefaultSinkCloseAlgorithm","TransformStreamDefaultSourcePullAlgorithm","TransformStreamErrorWritableAndUnblockWrite","TransformStreamSetBackpressure","TransformStreamError","TransformStreamDefaultControllerClearAlgorithms","TransformStreamDefaultController","IsTransformStreamDefaultController","defaultControllerBrandCheckException","readableController","TransformStreamDefaultControllerEnqueue","TransformStreamDefaultControllerError","TransformStreamDefaultControllerTerminate","SetUpTransformStreamDefaultController","transformAlgorithm","flushAlgorithm","transformResultE","TransformStreamDefaultControllerPerformTransform","transformPromise","backpressureChangePromise","flushPromise","FormData","enabled","globalVar","supportLevel","FORCE_COLOR","NODE_DISABLE_COLORS","TERM","vendor","kolorist","level","open","regex","italic","red","green","yellow","gray","lightBlue","getTime","findQueryName","parseUrl","defaultLogger","currentLogger","doLog","maybePromise","getLoggerWithContext","log","setLogger","config","SERVER_RESPONSE_MAP","logServerResponse","responseStatus","didError","coloredResponseStatus","fullType","styledType","paddedTiming","RSC_PATHNAME","EVENT_PATHNAME","EVENT_PATHNAME_REGEX","OXYGEN_SECRET_TOKEN_ENVIRONMENT_VARIABLE","STOREFRONT_API_SECRET_TOKEN_HEADER","STOREFRONT_API_PUBLIC_TOKEN_HEADER","FORM_REDIRECT_COOKIE","STOREFRONT_API_BUYER_IP_HEADER","SHOPIFY_STOREFRONT_ID_VARIABLE","SHOPIFY_STOREFRONT_ID_HEADER","SHOPIFY_STOREFRONT_Y_HEADER","SHOPIFY_STOREFRONT_S_HEADER","SHOPIFY_Y","SHOPIFY_S","hashKey","queryKey","rawKeys","hash","color","collectQueryCacheControlHeaders","cacheControlHeader","logCacheControlHeaders","queryList","longestQueryNameLength","max","query","logCacheApiStatus","queryName","TIMING_MAPPING","collectQueryTimings","timingType","duration","hashedKey","logQueryTimings","previouslyLoadedRequest","logMessage","firstSuspenseWaterfallQueryName","requestStartTime","detectSuspenseWaterfall","detectMultipleDataLoad","preloadedQueries","suspenseWaterfallDetectedCount","loadColor","warningColor","unusedQueries","getErrorMarkup","HTML_ATTR_SEP_RE","getHtmlAttrs","template","getBodyAttrs","REACT_ATTR_MAP","attrsToProps","attrs","attr","propsToAttrs","props","clientConfigOptions","Html","children","htmlAttrs","bodyAttrs","hydrogenConfig","head","clientConfig","clientConfigAttr","React","applyHtmlHead","html","headTags","extractHeadElements","generateHeadTag","helmet","htmlUniqueProps","bodyUniqueProps","title","rest","otherHeadProps","prop","_outerHtml","innerHtml","headHtml","PUBLIC","PRIVATE","NO_STORE","optionMapping","generateCacheControlHeader","cacheOptions","cacheControl","CacheNone","guardExpirableModeType","overrideOptions","CacheShort","CacheLong","MODULE_TAG","STRING_SIZE_LIMIT","FN_RSC_ERROR","isRsc","currentDispatcher","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","createModuleReference","id","isDefault","moduleRef","wrapInClientProxy","_moduleRef","get","receiver","Action","createPath","_ref$pathname","pathname","_ref$search","search","_ref$hash","RequestContextSSR","createContext","requestCacheRSC","Map","Symbol","for","getInternalReactDispatcher","ReactCurrentDispatcher","current","getCacheForType","resource","ServerRequestProvider","set","_jsx","_Fragment","useServerRequest","useContext","Error","useRequestCacheData","fetcher","cache","ctx","cacheKey","has","undefined","startApiTime","Promise","then","call","preloadRequestCacheData","preloadQueries","getPreloadQueries","forEach","preloadQuery","ServerPropsContext","ServerPropsProvider","initialServerProps","setServerPropsForRsc","setRscResponseFromApiRoute","locationServerProps","setLocationServerProps","useState","serverProps","setServerProps","pending","startTransition","useTransition","setServerPropsCallback","useCallback","propValue","getNewValue","setLocationServerPropsCallback","getProposedLocationServerPropsCallback","newValue","useMemo","getProposedLocationServerProps","useServerProps","internalServerPropsContext","useInternalServerProps","BrowserRouter","history","pHistory","useRouter","useLocation","allImports['BrowserRouter']","allImports['useRouter']","allImports['useLocation']","RouteParamsContext","routeParams","basePath","RouteParamsProvider","useBasePath","allImports['RouteParamsContext']","allImports['RouteParamsProvider']","allImports['useBasePath']","useNavigate","router","routeBasePath","buildPath","builtPath","pathFirstChar","basePathLastChar","Redirect","to","navigate","useEffect","Redirect$1","allImports['default']","HydrogenResponse","__publicField","parseJSON","json","noproto","reqCounter","generateId","preloadCache","previouslyLoadedUrls","PRELOAD_ALL","HydrogenRequest","__super","getUrlFromNodeRequest","getInitFromNodeRequest","normalizeUrl","HeadData","cookieString","saveToPreloadAllPreload","combinedPreloadQueries","urlPreloadCache","mergeMapEntries","lockKey","entries","formData","map1","map2","setCache","secure","remoteAddress","rawUrl","normalizedUrl","lexer","tokens","char","count","pattern","parse","prefixes","defaultPattern","escapeString","tryConsume","mustConsume","nextType","consumeText","prefix","name_1","pattern_1","suffix","flags","regexpToRegexp","groupsRegex","execResult","arrayToRegexp","paths","pathToRegexp","stringToRegexp","tokensToRegexp","strict","_b","_c","_d","_e","_f","endsWith","endsWithRe","delimiterRe","route","_i","tokens_1","token","mod","endToken","isEndDelimited","cacheLimit","cacheCount","compilePath","pathCache","matchPath","exact","sensitive","matched","regexp","match","isExact","memo","LIB_VERSION","defaultHeaders","fetchBuilder","requestInit","graphqlRequestBody","variables","secretTokenWarned","storefrontIdWarned","getStorefrontApiRequestHeaders","buyerIp","publicStorefrontToken","privateStorefrontToken","storefrontId","getOxygenVariable","wrapPromise","suspender","getSyncSessionApi","componentResponse","session","sessionPromises","cookie","emptySyncSessionImplementation","emptySessionImplementation","memoizedApiRoutes","memoizedRawRoutes","extractPathFromRoutesKey","routesKey","dirPrefix","firstLetter","_match","param","getApiRoutes","routes","topLevelPath","topLevelPrefix","apiRoutes","getApiRouteFromURL","foundRoute","foundRouteDetails","queryShopBuilder","shopifyConfigGetter","shopifyConfig","storeDomain","storefrontApiVersion","storefrontToken","extraHeaders","renderApiRoute","suppressLog","cookieToSet","newUrl","getRscUrl","currentUrl","rscUrl","searchParams","botUserAgents","botUARegex","isBotUA","userAgent","getCache","assign","ReactSharedInternals","format","_len2","_key2","printWarning","ReactDebugCurrentFrame","stack","argsWithFormat","item","scheduleWork","VIEW_SIZE","currentView","writtenBytes","beginWriting","writeChunk","bytesToWrite","allowableBytes","writeChunkAndReturn","completeWriting","textEncoder","stringToChunk","content","stringToPrecomputedChunk","closeWithError","stringify","serializeRowHeader","tag","processErrorChunk","errorInfo","row","processModelChunk","model","processReferenceChunk","reference","processModuleChunk","moduleMetaData","processProviderChunk","contextName","processSymbolChunk","getModuleKey","isModuleReference","resolveModuleMetaData","moduleReference","REACT_ELEMENT_TYPE","REACT_FRAGMENT_TYPE","REACT_PROVIDER_TYPE","REACT_SERVER_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_SERVER_CONTEXT_DEFAULT_VALUE_NOT_LOADED","RESERVED","STRING","BOOLEANISH_STRING","BOOLEAN","OVERLOADED_BOOLEAN","NUMERIC","POSITIVE_NUMERIC","PropertyInfoRecord","mustUseProperty","attributeName","attributeNamespace","sanitizeURL","removeEmptyString","reservedProps","CAMELIZE","capitalize","isUnitlessNumber","prefixKey","isArrayImpl","isArray","completeSegmentFunction","completeBoundaryFunction","clientRenderFunction","rendererSigil","rootContextSnapshot","currentActiveSnapshot","popNode","pushNode","popToNearestCommonAncestor","parentPrev","parentNext","popAllPrevious","pushAllNext","popPreviousToCommonLevel","popNextToCommonLevel","switchContext","newSnapshot","pushProvider","nextValue","prevValue","prevNode","popProvider","prevSnapshot","getActiveContext","readContext","currentRequest","prepareToUseHooksForRequest","resetHooksForRequest","readContext$1","currentCache","Dispatcher","nextCreate","unsupportedHook","resourceType","useId","unsupportedRefresh","setCurrentCache","getCurrentCache","ContextRegistry","getOrCreateServerContext","globalName","createServerContext","PENDING","COMPLETED","ABORTED","ERRORED","defaultErrorHandler","OPEN","CLOSING","CLOSED","createRequest","bundlerConfig","onError","identifierPrefix","abortSet","pingedTasks","resolveModelToJSON","rootContext","createRootContext","rootTask","createTask","reqContext","importServerContexts","POP","attemptResolveElement","ref","payload","wrappedType","render","extraKeys","describeValueForErrorMessage","pingTask","task","performWork","serializeByValueID","serializeByRefID","escapeStringValue","isObjectPrototype","object","ObjectPrototype","names","isSimpleObject","objectName","p0","describeKeyForErrorMessage","encodedKey","describeObjectForErrorMessage","objectOrArray","expandedName","_value","_str","_value2","insideContextProps","isInsideContextValue","parent","originalValue","newTask","ping","logRecoverableError","errorId","emitErrorChunk","moduleKey","writtenModules","existingId","moduleId","emitModuleChunk","_errorId","providerKey","writtenProviders","providerId","emitProviderChunk","symbols","writtenSymbols","_existingId","symbolId","emitSymbolChunk","fatalError","processedChunk","retryTask","_value3","prevDispatcher","prevCache","flushCompletedChunks","abortTask","moduleChunks","keepWriting","jsonChunks","_chunk","_keepWriting","errorChunks","_chunk2","_keepWriting2","startWork","startFlowing","abortableTasks","_error","contexts","prevContext","_contexts$i","_value4","importedContext","renderToReadableStream","createStringDecoder","decoderOptions","readPartialStringChunk","decoder","readFinalStringChunk","parseModel","resolveModuleReference","moduleData","allClientComponents","importClientComponent","modImport","moduleCache","preloadModule","cacheResult","requireModule","_ref2","RESOLVED_MODEL","RESOLVED_MODULE","INITIALIZED","Chunk","readChunk","initializeModelChunk","initializeModuleChunk","readRoot","getChunk","createPendingChunk","createErrorChunk","createInitializedChunk","wakeChunk","triggerErrorOnChunk","erroredChunk","createResolvedModelChunk","createResolvedModuleChunk","resolveModelChunk","resolvedChunk","resolveModuleChunk","initializedChunk","reportGlobalError","createElement","createLazyChunkWrapper","lazyType","chunks","parseModelString","parentObject","_id","parseModelTuple","createResponse","resolveModel","resolveProvider","resolveModule","resolveSymbol","resolveError","processFullRow","colon","text","processBinaryChunk","stringDecoder","linebreak","fullrow","createFromJSONCallback","createResponse$1","startReadingFromStream","progress","createFromReadableStream","rscRenderToReadableStream","_rscRenderToReadableStream","_createFromReadableStream","bufferReadableStream","cb","stringValue","stripScriptsFromTemplate","bootstrapScripts","bootstrapModules","scripts","scriptName","extractAttributes","attributes","getTemplate","indexTemplate","raw","createLinkHeader","ALLOWED_REL_ATTRS","assets","links","href","rel","isStyle","RESERVED_EVENT_NAMES","getNamedspacedEventname","eventname","mergeDeep","sources","useServerAnalytics","subscribers","pageAnalyticsData","isFirstPageViewSent","guardDupEvents","USAGE_ERROR","isInvokedFromServer","pushToPageAnalyticsData","getPageAnalyticsData","resetPageAnalyticsData","publish","guardDup","namedspacedEventname","eventGuardTimeout","namespacedTimeout","publishEvent","subs","subscribe","callbackFunction","subscriberId","pushToServer","searchParam","hasSentFirstPageView","ClientAnalytics","Analytics","analyticsDataFromServer","urlParams","addUTMData","allImports['Analytics']","AnalyticsErrorBoundary","ErrorBoundary","PRODUCTION_CDN_HOSTNAMES","LOCAL_CDN_HOSTNAMES","ALL_CDN_HOSTNAMES","IMG_SRC_SET_SIZES","addImageSizeParametersToUrl","width","height","crop","scale","multipliedScale","finalWidth","shopifyImageLoader","params","newSrc","allowedHostname","getShopifyImageDimensions","sfapiImage","loaderOptions","elementProps","aspectRatio","addParametersToEmbeddedVideoUrl","parameters","accumulator","useEmbeddedVideoUrl","SCRIPTS_LOADED","loadScript","isScriptLoaded","script","flattenConnection","connection","edge","isBrowser","htmlEncode","DELAY_KEY_1","DELAY_KEY_2","analyticsDelay","cacheFn","AnalyticsClient","delayKey","delay","delayPromise","CloseIcon","HydrogenIcon","Interface","onClose","onOpen","allImports['Interface']","Heading","linkText","Performance","navigations","navigationsMarkup","ttfb","fcp","Item","unit","allImports['Performance']","Table","items","itemsMarkup","KEY_MAP","Settings","allImports['Settings']","isComponentPanel","panel","component","Panels","settings","selectedPanel","setSelectedPanel","setNavigations","PERFORMANCE","response_start","navigation_start","first_contentful_paint","largest_contentful_paint","response_end","page_load_type","transfer_size","lcp","panels","getPanels","performance","panelComponents","display","_jsxs","borderRight","padding","style","fontWeight","textDecoration","justifyContent","alignItems","graphiql","Object","DevTools","dataFromServer","setOpen","toggleOpen","hasMounted","setHasMounted","allImports['DevTools']","getLocale","language","countryCode","isLanguageExtended","hyphenateLanguage","serverRequest","languageCode","DevToolsClient","getCacheControlSetting","userCacheOptions","generateDefaultCacheControlHeader","getItemFromCache","setItemInCache","cacheControlString","deleteItemFromCache","isStale","responseDate","responseMaxAge","maxAgeMatch","analyticsDefaultResponse","ServerAnalyticsRoute","serverAnalyticsConnectors","requestHeader","requestUrl","analyticsPromise","connector","HealthCheck","builtInRoutes","getBuiltInRoute","DOCTYPE","CONTENT_TYPE","HTML_CONTENT_TYPE","renderHydrogen","App","handleRequest","rawRequest","buyerIpHeader","sessionApi","default","importedConfig","hydrogen_config$1","inlineHydrogenConfig","hydrogenRoutes","_virtual__hydrogenRoutes_server$1","logger","cookies","doNotStream","poweredByHeader","runtime","builtInRouteResource","apiResponse","hasServerComponent","cachedResponse","lockCacheKey","staleWhileRevalidatePromise","lockExists","maxAge","processRequest","markAsSent","waitUntil","handleFetchResponseInNode","streamableResponse","revalidate","dev","nonce","nodeResponse","isRSCRequest","isRscRequest","apiRoute","getApiRoute","decodeURIComponent","rsc","runRSC","buffered","getReader","rscDidError","postRequestTasks","cacheResponse","runSSR","assembleHtml","ssrHtml","rscPayload","replace","flightContainer","noScriptTemplate","linkHeader","ssrDidError","rscReadableForFizz","rscReadableForFlight","tee","rscResponse","RscConsumer","AppSSR","canStream","Suspense","existingLinkHeader","trace","rscReadable","encoder","TextEncoder","metaTag","enqueue","savedChunks","tagOnWrite","on","statusCode","pipe","ssrRenderToPipeableStream","onShellReady","writeHeadToNodeResponse","isRedirect","startWritingToNodeResponse","setTimeout","writableEnded","onAllReady","bufferedResponse","bufferedRscPromise","toString","once","onShellError","includes","headersSent","AppRSC","__EXPERIMENTAL__devTools","setHeader","getResponseOptions","statusText","responseInit","statusMessage","setNodeHeaders","savePreloadQueries","fetchResponsePromise","toLowerCase","splitCookiesString","originalWrite","TextDecoder","arg","Uint8Array","push","apply","test","sessionHasCustomerAccessToken","saveCacheResponse","cachePutPromise","sessionData","join","Link","forwardRef","_","shouldPrefetch","setShouldPrefetch","maybePrefetch","setMaybePrefetch","reloadDocument","_replace","onClick","clientState","prefetch","scroll","internalClick","button","isModifiedEvent","preventDefault","signalPrefetchIntent","cancelPrefetchIntent","clearTimeout","onMouseEnter","composeEventHandlers","onMouseLeave","onFocus","onBlur","onTouchStart","without","startsWith","Prefetch","newPath","newLocation","window","proposedServerState","encodeURIComponent","JSON","theirHandler","ourHandler","defaultPrevented","metaKey","altKey","ctrlKey","shiftKey","newObj","allImports['Link']","Image","ShopifyImage","ExternalImage","loading","loader","widths","decoding","imgElementWidth","imgElementHeight","finalSrc","maxWidth","finalSrcset","internalImageSrcSet","alt","heightToWidthRatio","hasCustomWidths","setSizes","srcGenerator","Video","previewImageOptions","playsInline","controls","sourceProps","passthroughProps","posterUrl","ExternalVideo","frameBorder","allow","allowFullScreen","useLoadScript","setStatus","stringifiedOptions","loadScriptWrapper","allImports['useLoadScript']","ModelViewer","modelViewer","setModelViewer","callbackRef","className","modelViewerLoadedStatus","addEventListener","onLoad","onPreload","onModelVisibility","onProgress","onArStatus","onArTracking","onQuickLookButtonTapped","onCameraChange","onEnvironmentChange","onPlay","onPause","onSceneGraphReady","removeEventListener","console","warn","cameraControls","poster","previewImage","autoplay","reveal","ar","arModes","arScale","arPlacement","iosSrc","touchAction","disableZoom","orbitSensitivity","autoRotate","autoRotateDelay","rotationPerSecond","interactionPolicy","interactionPrompt","interactionPromptStyle","interactionPromptThreshold","cameraOrbit","cameraTarget","fieldOfView","maxCameraOrbit","minCameraOrbit","maxFieldOfView","minFieldOfView","bounds","interpolationDecay","skyboxImage","environmentImage","exposure","shadowIntensity","shadowSoftness","animationName","animationCrossfadeDuration","variantName","orientation","allImports['ModelViewer']","MediaFile","dataImage","CartLineAdd","cartFragment","CartCreate","CartLineRemove","CartLineUpdate","CartNoteUpdate","CartBuyerIdentityUpdate","CartAttributesUpdate","CartDiscountCodesUpdate","CartQuery","defaultCartFragment","ArticleSortKeys","BlogSortKeys","CardBrand","CartErrorCode","CheckoutErrorCode","CollectionSortKeys","CountryCode","CropRegion","CurrencyCode","CustomerErrorCode","DeliveryMethodType","DigitalWallet","DiscountApplicationAllocationMethod","DiscountApplicationTargetSelection","DiscountApplicationTargetType","FilterType","ImageContentType","LanguageCode","LocationSortKeys","MediaContentType","MediaHost","MenuItemType","OrderCancelReason","OrderFinancialStatus","OrderFulfillmentStatus","OrderSortKeys","PageSortKeys","PaymentTokenType","ProductCollectionSortKeys","ProductImageSortKeys","ProductMediaSortKeys","ProductSortKeys","ProductVariantSortKeys","SellingPlanCheckoutChargeType","TransactionKind","TransactionStatus","UnitPriceMeasurementMeasuredType","UnitPriceMeasurementMeasuredUnit","UnitSystem","WeightUnit","ShopifyContext","LocalizationContext","ShopifyProviderClient","localization","allImports['ShopifyContext']","allImports['LocalizationContext']","allImports['ShopifyProviderClient']","useShop","useEnvContext","useUrl","serverUrl","parsedUrl","g","u","useCartFetch","cookieData","allImports['useCartFetch']","CartContext","CART_ID_STORAGE_KEY","getLocalStoragePolyfill","storage","removeItem","setItem","getItem","localStorage","cartReducer","cart","group","groupEnd","lastValidCart","lines","filter","line","updatedLine","quantity","CartProvider","numCartLines","onCreate","onLineAdd","onLineRemove","onLineUpdate","onNoteUpdate","onBuyerIdentityUpdate","onAttributesUpdate","onDiscountCodesUpdate","customerAccessToken","Us","toUpperCase","initialStatus","cartFromGraphQL","dispatch","useReducer","fetchCart","countryChanged","buyerIdentity","cartFetch","cartId","country","cartCreate","ADD_TO_CART","addedCartLines","prevCart","addLineItem","cartLinesAdd","removeLineItem","cartLinesRemove","REMOVE_FROM_CART","removedCartLines","updateLineItem","cartLinesUpdate","UPDATE_CART","updatedCartLines","oldCart","noteUpdate","note","cartNoteUpdate","buyerIdentityUpdate","cartBuyerIdentityUpdate","cartAttributesUpdate","discountCodesUpdate","discountCodes","cartDiscountCodesUpdate","DISCOUNT_CODE_UPDATED","updatedDiscountCodes","didFetchCart","useRef","cartContextValue","totalQuantity","linesAdd","linesRemove","linesUpdate","allImports['CartProvider']","useCart","ProductOptionsContext","useProductOptions","allImports['useProductOptions']","BaseButton","as","defaultOnClick","buttonRef","handleOnClick","clickShouldContinue","Component","allImports['BaseButton']","AddToCartButton","addingItem","setAddingItem","variantId","explicitVariantId","sellingPlanId","accessibleAddingToCartLabel","selectedVariant","disabled","handleAddItem","merchandiseId","margin","overflow","clip","whiteSpace","borderWidth","allImports['AddToCartButton']","useLocalization","useMoney","money","locale","amount","defaultFormatter","useLazyFormatter","nameFormatter","narrowSymbolFormatter","withoutTrailingZerosFormatter","withoutCurrencyFormatter","withoutTrailingZerosOrCurrencyFormatter","isPartCurrency","lazyFormatters","memoized","Money","withoutCurrency","withoutTrailingZeros","measurement","measurementSeparator","isMoney","moneyObject","maybeMoney","allImports['Money']","CartLineContext","CartLineProvider","allImports['CartLineProvider']","useCartLine","CartLinePrice","cartLine","priceType","moneyV2","allImports['CartLinePrice']","CartLineQuantity","allImports['CartLineQuantity']","CartLineQuantityAdjustButton","adjust","handleAdjust","ShopPayButton","variantIds","variantIdsAndQuantities","shopPayLoadedStatus","ids","DoublePropsErrorMessage","curr","bareId","getIdFromGid","MissingPropsErrorMessage","allImports['ShopPayButton']","CartShopPayButton","idsAndQuantities","merchandise","allImports['CartShopPayButton']","getSelectedVariant","variants","choices","variant","option","getOptions","opt","ProductOptionsProvider","product","initialVariantId","isProductVariantArray","setSelectedVariant","getVariantBasedOnIdProp","selectedOptions","setSelectedOptions","getSelectedOptions","newSelectedVariant","setSelectedOption","isOptionInStock","availableForSale","sellingPlanGroups","sellingPlanGroup","sellingPlans","selectedSellingPlan","setSelectedSellingPlan","selectedSellingPlanAllocation","sellingPlanAllocations","nodes","edges","allocation","sellingPlan","variantsConnection","sellingPlanGroupsConnection","foundVariant","reduce","optionSet","maybeVariantArray","Array","allImports['ProductOptionsProvider']","Head","headData","Helmet","allImports['Head']","TitleSeo","allImports['TitleSeo']","DescriptionSeo","allImports['DescriptionSeo']","TwitterSeo","site","allImports['TwitterSeo']","DefaultPageSeo","titleTemplate","lang","fallBacklang","allImports['DefaultPageSeo']","HomePageSeo","organizationSchema","webSiteSchema","allImports['HomePageSeo']","ImageSeo","altText","allImports['ImageSeo']","ProductSeo","seo","featuredImage","seoTitle","seoDescription","firstVariantPrice","productSchema","flattenedVariants","firstVariant","offerSchema","allImports['ProductSeo']","CollectionSeo","image","allImports['CollectionSeo']","PageSeo","allImports['PageSeo']","NoIndexPageSeo","allImports['NoIndexPageSeo']","Seo","allImports['Seo']","gql","ss","useRouteParams","ResponseSync","__privateAdd","_text","_json","__privateSet","__privateGet","PerformanceMetrics","initTime","shopId","boomerangSaveLoadTime","boomerangInit","allImports['PerformanceMetrics']","getKeyUrl","getCacheOption","generateSubRequestCacheControlHeader","CacheApi.generateDefaultCacheControlHeader","CacheApi.getItemFromCache","CacheApi.setItemInCache","CacheApi.deleteItemFromCache","CacheApi.isStale","useQuery","queryFn","queryOptions","withCacheIdKey","cachedQueryFnBuilder","shouldPreloadQuery","hasCacheOverride","hasPreloadOverride","cacheValue","preloadValue","generateNewOutput","resolvedQueryOptions","shouldCacheResponse","useCachedQueryFn","revalidatingPromise","newOutput","setItemInCachePromise","fetchSync","preload","origin","useShopQuery","useCreateShopRequest","useQueryError","errorMessage","createErrorMessage","requestId","fetchError","FileRoutes","routeRendered","fileRoutes","files","pageRoutes","createPageRoutes","pages","api","Route","page","cloneElement","Router","DEFAULT_COUNTRY","DEFAULT_LANGUAGE","CLIENT_CONTEXT_ALLOW_LIST","makeShopifyContext","defaultCountryCode","defaultLanguageCode","shopifyProviderServerValue","shopifyProviderClientValue","clientConfigValue","ShopifyProvider","shopify","actualShopifyConfig","getLocalizationContextValue","runtimeLanguageCode","runtimeCountryCode","isoCode","zeros","tokenHash","buildUUID","crypto","randomValuesArray","hexTime","dateNumber","perfNumber","addDataIf","keyValuePairs","formattedData","longTermLength","shortTermLength","myShopifyDomain","oxygenDomain","isInit","microSessionCount","ShopifyAnalyticsClient","cookieDomain","shopifyYCookie","shopifySCookie","updateCookie","trackPageView","cookieName","maxage","getCookieDomain","hostname","sendToServer","storefrontPageViewSchema","buildStorefrontPageViewPayload","stripGId","isMerchantRequest","getResourceType","BATCH_SENT_TIMEOUT","batchedData","batchedTimeout","batchedDataToBeSent","allImports['ShopifyAnalyticsClient']","ShopifyAnalytics","currencyCode","SHOP_QUERY","article","blog","captcha","collection","customersAccount","customersActivateAccount","customersAddresses","customersLogin","customersOrder","customersRegister","customersResetPassword","giftCard","home","listCollections","forbidden","notFound","policy","ShopifyAnalyticsConstants","useSession","reservedCookieNames","Cookie","stringifyCookie","sid","cookieValue","INPUT_STYLE_CLASSES","getInputStyleClasses","AccountActivateForm","activationToken","submitError","setSubmitError","setPassword","passwordError","setPasswordError","passwordConfirm","setPasswordConfirm","passwordConfirmError","setPasswordConfirmError","passwordValidation","form","validity","valid","valueMissing","onSubmit","callActivateApi","Accept","ok","allImports","Icon","fill","stroke","clsx","IconMenu","IconClose","IconCaret","direction","rotate","IconBag","IconAccount","IconSearch","IconCheck","IconRemove","useRenderServerComponents","missingClass","formatText","typographicBase","isNewArrival","date","daysOld","isDiscounted","price","compareAtPrice","getExcerpt","resolveToFromType","customPrefixes","defaultPrefixes","pathParts","handle","routePrefix","blogHandle","parseItem","parseMenu","menu","getApiErrorMessage","translations","emailValidation","email","Button","baseButtonClasses","primary","secondary","inline","auto","full","styles","Grid","flow","gap","layout","layouts","products","gaps","flows","col","sizes","heading","lead","copy","narrow","wide","Input","minisearch","LogoutButton","logout","Section","divider","paddings","y","swimlane","all","dividers","none","top","bottom","both","displays","flex","grid","Skeleton","Text","colors","subtle","notice","contrast","fine","AccountAddressBook","addresses","defaultAddress","editingAddress","setEditingAddress","deletingAddress","setDeletingAddress","fullDefaultAddress","addressesWithoutDefault","defaultAddressIndex","findIndex","editAddress","Modal","AccountDeleteAddress","AccountAddressEdit","Address","bind","originalId","firstName","lastName","formatted","isNewAddress","saving","setSaving","address1","setAddress1","address2","setAddress2","setFirstName","setLastName","company","setCompany","setCountry","province","setProvince","city","setCity","zip","setZip","phone","setPhone","isDefaultAddress","setIsDefaultAddress","renderServerComponents","callUpdateAddressApi","AccountLoginForm","shopName","hasSubmitError","setHasSubmitError","showEmailField","setShowEmailField","setEmail","emailError","setEmailError","checkEmail","checkPassword","callLoginApi","resetForm","EmailField","ValidEmail","PasswordField","AccountCreateForm","newEmailError","newPasswordError","accountCreateResponse","callAccountCreateApi","addressId","deleteAddress","callDeleteAddressApi","alert","AccountDetailsEdit","_firstName","_lastName","_phone","_email","currentPasswordError","setCurrentPasswordError","setNewPasswordError","newPassword2Error","setNewPassword2Error","currentPassword","newPassword","newPassword2","accountUpdateResponse","callAccountUpdateApi","Password","AccountDetails","isEditing","setIsEditing","AccountOrderHistory","orders","Orders","EmptyOrders","order","OrderCard","AccountPasswordResetForm","resetToken","callPasswordResetApi","AccountRecoverForm","submitSuccess","setSubmitSuccess","callAccountRecoverApi","ArticleCard","publishedAt","legacyOrderId","split","pop","lineItems","orderNumber","Date","processedAt","toDateString","fulfillmentStatus","PLACEHOLDERS","getHeroPlaceholder","heros","hero","placeholder","byLine","getProductPlaceholder","ProductCard","cardLabel","cardData","priceV2","compareAtPriceV2","CompareAtPrice","currencyNarrowSymbol","withoutTrailingZerosAndCurrency","CartDetails","scrollRef","useScroll","CartEmpty","drawer","summary","CartLineItem","OrderSummary","CartCheckoutActions","checkoutUrl","cost","subtotalAmount","topProductsContainer","Loading","TopProducts","lineId","CartLineQuantityAdjust","Drawer","openFrom","offScreen","right","left","Transition","Fragment","Dialog","Title","useDrawer","openDefault","isOpen","setIsOpen","openDrawer","closeDrawer","FooterMenu","section","nav","Disclosure","subItem","CartDrawer","MenuDrawer","MenuMobileNav","Header","localeMatch","exec","isHome","isCartOpen","openCart","closeCart","isMenuOpen","openMenu","closeMenu","DesktopHeader","MobileHeader","useWindowScroll","CartBadge","dark","stopPropagation","PageHeader","blogPost","allCollections","ProductForm","setParams","URLSearchParams","isOutOfStock","isOnSale","matchedValue","replaceState","handleChange","ProductOptions","PAGINATION_SIZE","DEFAULT_GRID_IMG_LOAD_EAGER_COUNT","ATTR_LOADING_EAGER","getImageLoadingPriority","maxEagerLoadCount","ProductGallery","media","med","mediaProps","isFirst","isFourth","isFullWidth","mediaContentType","autoPlay","muted","loop","ProductGrid","nextButtonRef","initialProducts","hasNextPage","endCursor","pageInfo","setProducts","setCursor","nextPage","setNextPage","setPending","haveProducts","fetchProducts","postUrl","newProducts","handleIntersect","isIntersecting","observer","IntersectionObserver","rootMargin","nextButton","observe","unobserve","ProductDetail","learnMore","__html","asDropdown","OptionsDropdown","OptionsGrid","checked","listboxOpen","setListboxOpen","updateSelectedOption","Listbox","isSelected","active","FeaturedCollections","Hero","byline","cta","spread","spreadSecondary","SpreadMedia","CountrySelector","currentCountry","Intl","DisplayNames","of","newIsoCode","currentPath","redirectPath","substring","indexOf","Countries","selectedCountry","getClassName","countries","CustomFont","HeaderFallback","Box","EventsListener","CollectionCard","Footer","itemsCount","getFullYear","HEADER_MENU_HANDLE","FOOTER_MENU_HANDLE","SHOP_NAME_FALLBACK","Layout","HeaderWithMenu","FooterWithMenu","headerMenu","useLayoutQuery","footerMenu","headerMenuHandle","footerMenuHandle","shop","BLOG","CATALOG","MEDIA_FRAGMENT","PRODUCT_CARD_FRAGMENT","NotFound","FeaturedSection","NOT_FOUND_QUERY","featuredCollections","featuredProducts","ProductSwimlane","mockProducts","productCardsMarkup","ProductCards","RecommendedProducts","productId","RECOMMENDED_PRODUCTS_QUERY","mergedProducts","recommended","concat","additional","value2","originalProduct","splice","TOP_PRODUCTS_QUERY","NoResultRecommendations","SEARCH_NO_RESULTS_QUERY","pageBy","SearchPage","searchTerm","DefaultSeo","import","appEntry","relativeClientBuildPath","entrypointError","hydrogenMiddleware","getServerEntrypoint","devServer","webPolyfills","webApiPolyfill","entrypoint","encodeurl","encodeUrl","ENCODE_CHARS_REGEXP","UNMATCHED_SURROGATE_PAIR_REGEXP","UNMATCHED_SURROGATE_PAIR_REPLACE","matchHtmlRegExp","escapeHtml_1","escapeHtml","escape","lastIndex","parseurlModule","parseurl","parseurl_1","originalurl","parsed","fresh","fastparse","relative","depd_1","depd","containsNamespace","namespace","vals","ns","convertDataDescriptorToAccessor","createArgumentsString","arity","createStackString","getStack","callSiteLocation","file","deprecate","isignored","istraced","wrapfunction","wrapproperty","eehaslisteners","emitter","haslisteners","caller","callFile","callSite","depSite","seen","msg","defaultMessage","DeprecationError","formatColor","formatPlain","colm","funcName","formatLocation","typeName","timestamp","limit","prep","prepareObjectStackTrace","deprecatedfn","stackString","setprototypeof","setProtoOf","mixinProperties","codes","statuses","createMessageToStatusCodeMap","createStatusCodeList","getStatusCode","getStatusMessage","inherits_browserModule","superCtor","TempCtor","util","inheritsModule","toidentifier","toIdentifier","setPrototypeOf","inherits","require$$3","require$$4","createError","createHttpErrorConstructor","createIsHttpErrorFunction","populateConstructorExports","codeClass","HttpError","createClientErrorConstructor","toClassName","ClientError","nameFunc","createServerErrorConstructor","ServerError","func","exports","CodeError","h","ms","fmtLong","fmtShort","plural","createDebug","coerce","disable","enable","prevTime","selectColor","debug","self","formatter","logFn","namespaces","formatArgs","save","load","useColors","localstorage","lastC","tty","fd","createWritableStdioStream","tty_wrap","fs","net","srcModule","ReflectApply","ReflectOwnKeys","ProcessEmitWarning","warning","EventEmitter","eventsModule","events","defaultMaxListeners","checkListener","_getMaxListeners","that","doError","er","handler","arrayClone","_addListener","prepend","existing","onceWrapper","_onceWrap","wrapped","list","originalListener","spliceOne","_listeners","unwrap","evlistener","unwrapListeners","listenerCount","errorListener","resolver","eventTargetAgnosticAddListener","addErrorHandlerIfEventEmitter","wrapListener","ReadStream","Zlib","destroy_1","destroy","suppress","isFsReadStream","destroyReadStream","isZlibStream","destroyZlibStream","hasDestroy","isEventEmitter","onOpenClose","closeZlibStream","onDrainClearBinding","etag_1","etag","Stats","entitytag","entity","isStats","isstats","weak","stattag","stat","mtime","CACHE_CONTROL_NO_CACHE_REGEXP","fresh_1","reqHeaders","resHeaders","modifiedSince","noneMatch","etagStale","matches","parseTokenList","lastModified","modifiedStale","parseHttpDate","Mime","exts","fields","fallback","ext","mimeType","mime","mime_1","msAbs","isPlural","eeFirst","first","stuff","cleanups","ee","cleanup","thunk","arg1","onFinishedModule","onFinished","onFinished_1","isFinished","asyncHooks","tryRequireAsyncHooks","defer","attachListener","wrap","attachFinishedListener","eeMsg","eeSocket","finished","onFinish","onSocket","patchAssignSocket","attached","createListener","assignSocket","rangeParser_1","rangeParser","ranges","range","combineRanges","ordered","mapWithIndex","sortByRangeStart","combined","sortByRangeIndex","mapWithoutIndex","require$$5","require$$6","require$$7","require$$8","require$$9","require$$10","require$$11","parseRange","require$$12","require$$13","require$$14","require$$15","require$$16","extname","sep","BYTES_RANGE_REGEXP","MAX_MAXAGE","UP_PATH_REGEXP","sendModule","send_1","SendStream","normalizeList","hasListeners","createHttpError","doc","createHtmlDocument","clearHeaders","setHeaders","unmodifiedSince","ifRange","loc","collapseLeadingSlashes","root","containsDotFile","access","offset","bytes","contentRange","p","modified","getHeaderNames","serveStaticModule","serveStatic","serveStatic_1","fallthrough","redirect","onDirectory","createRedirectDirectoryListener","createNotFoundDirectoryListener","forwardError","originalUrl","charsetModule","preferredCharsets","simpleCharsetRegExp","parseAcceptCharset","accept","accepts","parseCharset","getCharsetPriority","accepted","priority","spec","specify","provided","isQuality","compareSpecs","getFullCharset","priorities","encodingModule","preferredEncodings","encoding","simpleEncodingRegExp","parseAcceptEncoding","hasIdentity","minQuality","parseEncoding","getEncodingPriority","getFullEncoding","languageModule","preferredLanguages","simpleLanguageRegExp","parseAcceptLanguage","parseLanguage","getLanguagePriority","getFullLanguage","mediaTypeModule","preferredMediaTypes","mediaType","simpleMediaTypeRegExp","parseAccept","splitMediaTypes","parseMediaType","subtype","kvps","splitParameters","splitKeyValuePair","getMediaTypePriority","getFullType","quoteCount","negotiatorModule","Negotiator","negotiator","available","mimeDb","db","EXTRACT_TYPE_REGEXP","TEXT_TYPE_REGEXP","extension","lookup","populateMaps","extensions","preference","from","Accepts","types_","mimes","extToMime","validMime","encodings_","encodings","charsets_","charsets","languages_","languages","base64Js","toByteArray","fromByteArray","revLookup","Arr","getLens","b64","validLen","placeHoldersLen","lens","_byteLength","tmp","curByte","tripletToBase64","num","encodeChunk","uint8","extraBytes","maxChunkLength","len2","ieee754","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","rt","base64","customInspectSymbol","Buffer","SlowBuffer","K_MAX_LENGTH","typedArraySupport","createBuffer","encodingOrOffset","allocUnsafe","fromString","fromArrayView","isInstance","fromArrayBuffer","valueOf","fromObject","assertSize","alloc","actual","fromArrayLike","arrayView","numberIsNaN","pos","mustMatch","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","thisStart","thisEnd","thisCopy","targetCopy","bidirectionalIndexOf","dir","arrayIndexOf","indexSize","arrLength","valLength","read","foundIndex","found","hexWrite","remaining","strLen","utf8Write","blitBuffer","asciiWrite","asciiToBytes","base64Write","ucs2Write","utf16leToBytes","firstByte","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","MAX_ARGUMENTS_LENGTH","codePoints","hexSliceLookupTable","newBuf","checkOffset","noAssert","mul","checkInt","min","maxBytes","sub","checkIEEE754","writeFloat","littleEndian","writeDouble","targetStart","INVALID_BASE64_RE","base64clean","units","leadSurrogate","byteArray","hi","lo","dst","alphabet","table","i16","copyProps","SafeBuffer","bytesModule","bytes_1","formatThousandsRegExp","formatDecimalsRegExp","parseRegExp","mag","thousandsSeparator","unitSeparator","decimalPlaces","fixedDecimals","results","floatValue","COMPRESSIBLE_TYPE_REGEXP","compressible_1","compressible","onHeaders_1","onHeaders","createWriteHead","prevWriteHead","fired","setWriteHeadHeaders","setHeadersFromArray","setHeadersFromObject","headerIndex","varyModule","vary","vary_1","append","FIELD_NAME_REGEXP","header","fld","compressionModule","compression","compression_1","shouldCompress","cacheControlNoTransformRegExp","threshold","ended","_end","_on","_write","toBuffer","chunkLength","nocompress","addListeners","shouldTransform","PARAM_REGEXP","TEXT_REGEXP","TOKEN_REGEXP","QESC_REGEXP","QUOTE_REGEXP","TYPE_REGEXP","qstring","getcontenttype","ContentType","safer","Safer","safer_1","BOMChar","bomHandling","PrependBOMWrapper","StripBOMWrapper","isEncoding","_normalizeEncoding","enc","retried","normalizeEncoding","nenc","string_decoder","StringDecoder","nb","utf16Text","utf16End","utf8FillLast","base64Text","base64End","simpleWrite","simpleEnd","utf8End","utf8Text","utf8CheckByte","byte","utf8CheckIncomplete","utf8CheckExtraBytes","internal","InternalCodec","codecOptions","iconv","InternalEncoderBase64","InternalEncoderCesu8","InternalDecoderCesu8","InternalEncoder","InternalDecoder","codec","completeQuads","bufIdx","charCode","acc","contBytes","accBytes","utf16","Utf16BECodec","Utf16BEEncoder","Utf16BEDecoder","buf2","Utf16Codec","Utf16Encoder","Utf16Decoder","detectEncoding","trail","defaultEncoding","asciiCharsLE","asciiCharsBE","_len","utf7","Utf7Codec","Utf7Encoder","Utf7Decoder","nonDirectChars","base64Regex","base64Chars","plusChar","minusChar","andChar","lastI","inBase64","base64Accum","b64str","canBeDecoded","Utf7IMAPCodec","Utf7IMAPEncoder","Utf7IMAPDecoder","base64AccumIdx","uChar","base64IMAPChars","sbcsCodec","SBCSCodec","asciiString","encodeBuf","SBCSEncoder","SBCSDecoder","decodeBuf","idx1","idx2","sbcsData","sbcsDataGenerated","dbcsCodec","DBCSCodec","UNASSIGNED","GB18030_CODE","SEQ_START","NODE_START","UNASSIGNED_NODE","DEF_CHAR","skipEncodeChars","thirdByteNodeIdx","thirdByteNode","fourthByteNodeIdx","fourthByteNode","secondByteNodeIdx","secondByteNode","DBCSEncoder","DBCSDecoder","addr","curAddr","writeTable","codeTrail","seq","uCode","high","dbcsCode","bucket","low","oldVal","nodeIdx","mbCode","seqObj","nextChar","resCode","subtable","findIdx","prevBuf","prevBufOffset","seqStart","curSeq","ptr","uCodeLead","dbcsData","modules","Transform","streams","IconvLiteEncoderStream","IconvLiteDecoderStream","conv","extendNode","nodeNativeEncodings","_offset","_length","_encoding","codecDef","nodeVer","nodeVerArr","unpipe_1","unpipe","hasPipeDataListeners","rawBody","getRawBody","ICONV_ENCODING_MESSAGE_REGEXP","getDecoder","global","readStream","halt","complete","sync","received","onAborted","onData","onEnd","invokeCallback","getBody","read_1","verify","contentstream","dump","inflate","paramRegExp","textRegExp","tokenRegExp","qescRegExp","quoteRegExp","subtypeNameRegExp","typeNameRegExp","typeRegExp","mediaTyper","splitType","typer","typeIsModule","typeofrequest","typeIs","typeis","hasbody","mimeMatch","tryNormalizeType","expected","actualParts","expectedParts","normalizeType","json_1","FIRST_CHAR_REGEXP","reviver","shouldParse","typeChecker","firstchar","createStrictSyntaxError","normalizeJsonSyntaxError","getCharset","partial","raw_1","text_1","defaultCharset","shams","sym","symObj","symVal","syms","origSymbol","hasSymbolSham","hasSymbols","ERROR_MESSAGE","toStr","funcType","implementation","bound","binder","boundLength","boundArgs","Empty","functionBind","$SyntaxError","$Function","$TypeError","getEvalledConstructor","expressionSyntax","$gOPD","throwTypeError","ThrowTypeError","getProto","needsEval","TypedArray","INTRINSICS","doEval","gen","LEGACY_ALIASES","hasOwn","$concat","$spliceApply","$replace","$strSlice","$exec","rePropName","reEscapeChar","stringToPath","last","quote","subString","getBaseIntrinsic","allowMissing","intrinsicName","alias","getIntrinsic","intrinsicBaseName","intrinsic","intrinsicRealName","skipFurtherCaching","isOwn","GetIntrinsic","$apply","$call","$reflectApply","$defineProperty","$max","originalFunction","applyBind","callBind","$indexOf","callBound","util_inspect","hasMap","mapSizeDescriptor","mapSize","mapForEach","hasSet","setSizeDescriptor","setSize","setForEach","hasWeakMap","weakMapHas","hasWeakSet","weakSetHas","hasWeakRef","weakRefDeref","booleanValueOf","objectToString","functionToString","$match","$slice","$toUpperCase","$toLowerCase","$test","$join","$arrSlice","$floor","bigIntValueOf","gOPS","symToString","hasShammedSymbols","toStringTag","isEnumerable","gPO","addNumericSeparator","sepRegex","int","intStr","dec","utilInspect","inspectCustom","inspectSymbol","isSymbol","objectInspect","inspect_","depth","customInspect","numericSeparator","inspectString","bigIntStr","maxDepth","indent","getIndent","inspect","noIndent","newOpts","isRegExp","nameOf","arrObjKeys","symString","markBoxed","isElement","wrapQuotes","xs","singleLineValues","indentedJoin","isMap","mapParts","collectionOf","isSet","setParts","isWeakMap","weakCollectionOf","isWeakSet","isWeakRef","isNumber","isBigInt","isBoolean","isString","isDate","ys","isPlainObject","protoTag","stringTag","constructorTag","defaultStyle","quoteChar","f","trailer","lowbyte","joinedEntries","baseIndent","lineJoiner","isArr","symMap","$WeakMap","$Map","$weakMapGet","$weakMapSet","$weakMapHas","$mapGet","$mapSet","$mapHas","listGetNode","listGet","objects","listSet","listHas","sideChannel","$wm","$m","$o","channel","percentTwenties","Format","formats","hexTable","compactQueue","compacted","arrayToObject","merge","mergeTarget","targetItem","strWithoutPlus","defaultEncoder","$0","compact","refs","isBuffer","combine","maybeMap","mapped","getSideChannel","arrayPrefixGenerators","pushToArray","valueOrArray","toISO","defaultFormat","defaults","isNonNullishPrimitive","sentinel","generateArrayPrefix","strictNullHandling","skipNulls","sort","allowDots","serializeDate","encodeValuesOnly","tmpSc","step","findFlag","keyValue","valuesArray","valuesJoined","objKeys","keyPrefix","valueSideChannel","normalizeStringifyOptions","stringify_1","arrayFormat","joined","interpretNumericEntities","numberStr","parseArrayValue","isoSentinel","charsetSentinel","parseValues","cleanStr","skipIndex","bracketEqualsPos","encodedVal","parseObject","chain","valuesParsed","leaf","cleanRoot","parseKeys","givenKey","brackets","child","segment","normalizeParseOptions","tempObj","urlencoded_1","urlencoded","parsers","extended","queryparse","extendedparser","simpleparser","parameterLimit","parser","paramCount","parameterCount","arrayLimit","bodyParser","createParserGetter","_urlencoded","loadParser","parserName","populateStatusesMap","DOUBLE_SPACE_REGEXP","NEWLINE_REGEXP","finalhandler_1","finalhandler","env","onerror","getErrorStatusCode","getResponseStatusCode","getErrorHeaders","getErrorMessage","getResourceName","connect","createServer","app","server","protohost","getProtohost","removed","slashAdded","logerror","layer","fqdnIndex","InMemoryCache","_store","requests","metadata","swr","age","cacheKeys","CookieSessionStorage","defineConfig","hydrogen_config","AdminRedirect","primaryDomain","Cart","Homepage","pageType","SeoForHomepage","HomepageContent","HOMEPAGE_CONTENT_QUERY","heroBanners","primaryHero","secondaryHero","tertiaryHero","HOMEPAGE_SEO_QUERY","robotsTxtData","sitemapUrl","Search","SEARCH_QUERY","noResults","decodeURI","queryShop","Allow","PAGINATE_SEARCH_QUERY","MAX_URLS","QUERY","shopSitemap","baseUrl","productsData","finalObject","collectionsData","pagesData","renderUrlTag","lastMod","changeFreq","Account","CUSTOMER_QUERY","customer","lastIndexOf","AuthenticatedAccount","CUSTOMER_UPDATE_MUTATION","Login","jsonBody","LOGIN_MUTATION","customerAccessTokenCreate","accessToken","customerUserErrors","AccountRecover","CUSTOMER_RECOVER_MUTATION","Register","CUSTOMER_CREATE_MUTATION","customerCreate","_request","availableCountries","COUNTRIES_QUERY","Collection","COLLECTION_QUERY","resourceId","PAGINATE_COLLECTION_QUERY","Collections","CollectionGrid","COLLECTIONS_QUERY","collections","BLOG_HANDLE","Post","ARTICLE_QUERY","articleHandle","articleByHandle","contentHtml","author","formattedDate","DateTimeFormat","year","month","day","Blog","JournalsGrid","BLOG_QUERY","articles","Page","PAGE_QUERY","Policy","privacyPolicy","shippingPolicy","termsOfService","refundPolicy","activePolicy","POLICIES_QUERY","Policies","subscriptionPolicy","policies","every","Product","PRODUCT_QUERY","descriptionHtml","AllProducts","AllProductsGrid","ALL_PRODUCTS_QUERY","PAGINATE_ALL_PRODUCTS_QUERY","CUSTOMER_ACTIVATE_MUTATION","updateAddress","DELETE_ADDRESS_MUTATION","UPDATE_ADDRESS_MUTATION","setDefaultAddress","UPDATE_DEFAULT_ADDRESS_MUTATION","CREATE_ADDRESS_MUTATION","defaultDataResponse","OrderDetails","ORDER_QUERY","orderId","firstDiscount","discountApplications","discountValue","__typename","discountPercentage","percentage","lineItem","discountedTotalPrice","subtotalPriceV2","totalTaxV2","totalPriceV2","shippingAddress","CUSTOMER_RESET_MUTATION","ActivateAccount","ResetPassword"],"mappings":"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,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,KAEpBA,EAAY,GAAQ,IACxB,GAAGA,KAAgBA,GAAc,CAAE,EAAC,EAE7B,IAAIC,IACV,SAAUA,EAAY,CAEnBA,EAAW,OAAY,SAEvBA,EAAW,OAAY,SAEvBA,EAAW,KAAU,OAErBA,EAAW,MAAW,QAEtBA,EAAW,IAAS,KACxB,GAAGA,KAAeA,GAAa,CAAE,EAAC,EAM3B,IAAIC,IACV,SAAUA,EAAc,CAErBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,MAEtBA,EAAa,IAAS,M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,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,KAAU,QAEvBA,EAAa,KAAU,QAEvBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ,KAErBA,EAAa,GAAQ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"}